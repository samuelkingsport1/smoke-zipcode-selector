(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(r){if(r.ep)return;r.ep=!0;const c=i(r);fetch(r.href,c)}})();function lo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var i=function l(){var r=!1;try{r=this instanceof l}catch{}return r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var r=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(i,l,r.get?r:{enumerable:!0,get:function(){return e[l]}})}),i}var lp={exports:{}},Iu={};var Py;function mE(){if(Py)return Iu;Py=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,r,c){var f=null;if(c!==void 0&&(f=""+c),r.key!==void 0&&(f=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:e,type:l,key:f,ref:r!==void 0?r:null,props:c}}return Iu.Fragment=n,Iu.jsx=i,Iu.jsxs=i,Iu}var By;function _E(){return By||(By=1,lp.exports=mE()),lp.exports}var O=_E(),up={exports:{}},me={};var zy;function yE(){if(zy)return me;zy=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function N(Y){return Y===null||typeof Y!="object"?null:(Y=D&&Y[D]||Y["@@iterator"],typeof Y=="function"?Y:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,rt={};function et(Y,K,ct){this.props=Y,this.context=K,this.refs=rt,this.updater=ct||P}et.prototype.isReactComponent={},et.prototype.setState=function(Y,K){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,K,"setState")},et.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function B(){}B.prototype=et.prototype;function X(Y,K,ct){this.props=Y,this.context=K,this.refs=rt,this.updater=ct||P}var V=X.prototype=new B;V.constructor=X,Z(V,et.prototype),V.isPureReactComponent=!0;var W=Array.isArray;function $(){}var tt={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function M(Y,K,ct){var pt=ct.ref;return{$$typeof:e,type:Y,key:K,ref:pt!==void 0?pt:null,props:ct}}function z(Y,K){return M(Y.type,K,Y.props)}function J(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function H(Y){var K={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ct){return K[ct]})}var nt=/\/+/g;function at(Y,K){return typeof Y=="object"&&Y!==null&&Y.key!=null?H(""+Y.key):K.toString(36)}function lt(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then($,$):(Y.status="pending",Y.then(function(K){Y.status==="pending"&&(Y.status="fulfilled",Y.value=K)},function(K){Y.status==="pending"&&(Y.status="rejected",Y.reason=K)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function R(Y,K,ct,pt,gt){var St=typeof Y;(St==="undefined"||St==="boolean")&&(Y=null);var Dt=!1;if(Y===null)Dt=!0;else switch(St){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(Y.$$typeof){case e:case n:Dt=!0;break;case E:return Dt=Y._init,R(Dt(Y._payload),K,ct,pt,gt)}}if(Dt)return gt=gt(Y),Dt=pt===""?"."+at(Y,0):pt,W(gt)?(ct="",Dt!=null&&(ct=Dt.replace(nt,"$&/")+"/"),R(gt,K,ct,"",function(Ot){return Ot})):gt!=null&&(J(gt)&&(gt=z(gt,ct+(gt.key==null||Y&&Y.key===gt.key?"":(""+gt.key).replace(nt,"$&/")+"/")+Dt)),K.push(gt)),1;Dt=0;var ht=pt===""?".":pt+":";if(W(Y))for(var It=0;It<Y.length;It++)pt=Y[It],St=ht+at(pt,It),Dt+=R(pt,K,ct,St,gt);else if(It=N(Y),typeof It=="function")for(Y=It.call(Y),It=0;!(pt=Y.next()).done;)pt=pt.value,St=ht+at(pt,It++),Dt+=R(pt,K,ct,St,gt);else if(St==="object"){if(typeof Y.then=="function")return R(lt(Y),K,ct,pt,gt);throw K=String(Y),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function U(Y,K,ct){if(Y==null)return Y;var pt=[],gt=0;return R(Y,pt,"","",function(St){return K.call(ct,St,gt++)}),pt}function F(Y){if(Y._status===-1){var K=Y._result;K=K(),K.then(function(ct){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ct)},function(ct){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ct)}),Y._status===-1&&(Y._status=0,Y._result=K)}if(Y._status===1)return Y._result.default;throw Y._result}var it=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Q={map:U,forEach:function(Y,K,ct){U(Y,function(){K.apply(this,arguments)},ct)},count:function(Y){var K=0;return U(Y,function(){K++}),K},toArray:function(Y){return U(Y,function(K){return K})||[]},only:function(Y){if(!J(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return me.Activity=x,me.Children=Q,me.Component=et,me.Fragment=i,me.Profiler=r,me.PureComponent=X,me.StrictMode=l,me.Suspense=y,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,me.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return tt.H.useMemoCache(Y)}},me.cache=function(Y){return function(){return Y.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(Y,K,ct){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var pt=Z({},Y.props),gt=Y.key;if(K!=null)for(St in K.key!==void 0&&(gt=""+K.key),K)!A.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(pt[St]=K[St]);var St=arguments.length-2;if(St===1)pt.children=ct;else if(1<St){for(var Dt=Array(St),ht=0;ht<St;ht++)Dt[ht]=arguments[ht+2];pt.children=Dt}return M(Y.type,gt,pt)},me.createContext=function(Y){return Y={$$typeof:f,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:c,_context:Y},Y},me.createElement=function(Y,K,ct){var pt,gt={},St=null;if(K!=null)for(pt in K.key!==void 0&&(St=""+K.key),K)A.call(K,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(gt[pt]=K[pt]);var Dt=arguments.length-2;if(Dt===1)gt.children=ct;else if(1<Dt){for(var ht=Array(Dt),It=0;It<Dt;It++)ht[It]=arguments[It+2];gt.children=ht}if(Y&&Y.defaultProps)for(pt in Dt=Y.defaultProps,Dt)gt[pt]===void 0&&(gt[pt]=Dt[pt]);return M(Y,St,gt)},me.createRef=function(){return{current:null}},me.forwardRef=function(Y){return{$$typeof:g,render:Y}},me.isValidElement=J,me.lazy=function(Y){return{$$typeof:E,_payload:{_status:-1,_result:Y},_init:F}},me.memo=function(Y,K){return{$$typeof:v,type:Y,compare:K===void 0?null:K}},me.startTransition=function(Y){var K=tt.T,ct={};tt.T=ct;try{var pt=Y(),gt=tt.S;gt!==null&&gt(ct,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then($,it)}catch(St){it(St)}finally{K!==null&&ct.types!==null&&(K.types=ct.types),tt.T=K}},me.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},me.use=function(Y){return tt.H.use(Y)},me.useActionState=function(Y,K,ct){return tt.H.useActionState(Y,K,ct)},me.useCallback=function(Y,K){return tt.H.useCallback(Y,K)},me.useContext=function(Y){return tt.H.useContext(Y)},me.useDebugValue=function(){},me.useDeferredValue=function(Y,K){return tt.H.useDeferredValue(Y,K)},me.useEffect=function(Y,K){return tt.H.useEffect(Y,K)},me.useEffectEvent=function(Y){return tt.H.useEffectEvent(Y)},me.useId=function(){return tt.H.useId()},me.useImperativeHandle=function(Y,K,ct){return tt.H.useImperativeHandle(Y,K,ct)},me.useInsertionEffect=function(Y,K){return tt.H.useInsertionEffect(Y,K)},me.useLayoutEffect=function(Y,K){return tt.H.useLayoutEffect(Y,K)},me.useMemo=function(Y,K){return tt.H.useMemo(Y,K)},me.useOptimistic=function(Y,K){return tt.H.useOptimistic(Y,K)},me.useReducer=function(Y,K,ct){return tt.H.useReducer(Y,K,ct)},me.useRef=function(Y){return tt.H.useRef(Y)},me.useState=function(Y){return tt.H.useState(Y)},me.useSyncExternalStore=function(Y,K,ct){return tt.H.useSyncExternalStore(Y,K,ct)},me.useTransition=function(){return tt.H.useTransition()},me.version="19.2.3",me}var Fy;function lg(){return Fy||(Fy=1,up.exports=yE()),up.exports}var Ut=lg();const ys=lo(Ut);var cp={exports:{}},Pu={},hp={exports:{}},fp={};var jy;function vE(){return jy||(jy=1,(function(e){function n(R,U){var F=R.length;R.push(U);t:for(;0<F;){var it=F-1>>>1,Q=R[it];if(0<r(Q,U))R[it]=U,R[F]=Q,F=it;else break t}}function i(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var U=R[0],F=R.pop();if(F!==U){R[0]=F;t:for(var it=0,Q=R.length,Y=Q>>>1;it<Y;){var K=2*(it+1)-1,ct=R[K],pt=K+1,gt=R[pt];if(0>r(ct,F))pt<Q&&0>r(gt,ct)?(R[it]=gt,R[pt]=F,it=pt):(R[it]=ct,R[K]=F,it=K);else if(pt<Q&&0>r(gt,F))R[it]=gt,R[pt]=F,it=pt;else break t}}return U}function r(R,U){var F=R.sortIndex-U.sortIndex;return F!==0?F:R.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();e.unstable_now=function(){return f.now()-g}}var y=[],v=[],E=1,x=null,D=3,N=!1,P=!1,Z=!1,rt=!1,et=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function V(R){for(var U=i(v);U!==null;){if(U.callback===null)l(v);else if(U.startTime<=R)l(v),U.sortIndex=U.expirationTime,n(y,U);else break;U=i(v)}}function W(R){if(Z=!1,V(R),!P)if(i(y)!==null)P=!0,$||($=!0,H());else{var U=i(v);U!==null&&lt(W,U.startTime-R)}}var $=!1,tt=-1,A=5,M=-1;function z(){return rt?!0:!(e.unstable_now()-M<A)}function J(){if(rt=!1,$){var R=e.unstable_now();M=R;var U=!0;try{t:{P=!1,Z&&(Z=!1,B(tt),tt=-1),N=!0;var F=D;try{e:{for(V(R),x=i(y);x!==null&&!(x.expirationTime>R&&z());){var it=x.callback;if(typeof it=="function"){x.callback=null,D=x.priorityLevel;var Q=it(x.expirationTime<=R);if(R=e.unstable_now(),typeof Q=="function"){x.callback=Q,V(R),U=!0;break e}x===i(y)&&l(y),V(R)}else l(y);x=i(y)}if(x!==null)U=!0;else{var Y=i(v);Y!==null&&lt(W,Y.startTime-R),U=!1}}break t}finally{x=null,D=F,N=!1}U=void 0}}finally{U?H():$=!1}}}var H;if(typeof X=="function")H=function(){X(J)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,at=nt.port2;nt.port1.onmessage=J,H=function(){at.postMessage(null)}}else H=function(){et(J,0)};function lt(R,U){tt=et(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_next=function(R){switch(D){case 1:case 2:case 3:var U=3;break;default:U=D}var F=D;D=U;try{return R()}finally{D=F}},e.unstable_requestPaint=function(){rt=!0},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=D;D=R;try{return U()}finally{D=F}},e.unstable_scheduleCallback=function(R,U,F){var it=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?it+F:it):F=it,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=F+Q,R={id:E++,callback:U,priorityLevel:R,startTime:F,expirationTime:Q,sortIndex:-1},F>it?(R.sortIndex=F,n(v,R),i(y)===null&&R===i(v)&&(Z?(B(tt),tt=-1):Z=!0,lt(W,F-it))):(R.sortIndex=Q,n(y,R),P||N||(P=!0,$||($=!0,H()))),R},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(R){var U=D;return function(){var F=D;D=U;try{return R.apply(this,arguments)}finally{D=F}}}})(fp)),fp}var Uy;function SE(){return Uy||(Uy=1,hp.exports=vE()),hp.exports}var dp={exports:{}},Ai={};var Yy;function xE(){if(Yy)return Ai;Yy=1;var e=lg();function n(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,v,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:y,containerInfo:v,implementation:E}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ai.createPortal=function(y,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return c(y,v,null,E)},Ai.flushSync=function(y){var v=f.T,E=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=v,l.p=E,l.d.f()}},Ai.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},Ai.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Ai.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var E=v.as,x=g(E,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,N=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:D,fetchPriority:N}):E==="script"&&l.d.X(y,{crossOrigin:x,integrity:D,fetchPriority:N,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ai.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=g(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},Ai.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,x=g(E,v.crossOrigin);l.d.L(y,E,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ai.preloadModule=function(y,v){if(typeof y=="string")if(v){var E=g(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},Ai.requestFormReset=function(y){l.d.r(y)},Ai.unstable_batchedUpdates=function(y,v){return y(v)},Ai.useFormState=function(y,v,E){return f.H.useFormState(y,v,E)},Ai.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ai.version="19.2.3",Ai}var Gy;function nS(){if(Gy)return dp.exports;Gy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),dp.exports=xE(),dp.exports}var qy;function EE(){if(qy)return Pu;qy=1;var e=SE(),n=lg(),i=nS();function l(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,h=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(h=a.return),t=a.return;while(t)}return a.tag===3?h:null}function f(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(l(188))}function v(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(l(188));return a!==t?null:t}for(var h=t,_=a;;){var T=h.return;if(T===null)break;var w=T.alternate;if(w===null){if(_=T.return,_!==null){h=_;continue}break}if(T.child===w.child){for(w=T.child;w;){if(w===h)return y(T),t;if(w===_)return y(T),a;w=w.sibling}throw Error(l(188))}if(h.return!==_.return)h=T,_=w;else{for(var G=!1,ut=T.child;ut;){if(ut===h){G=!0,h=T,_=w;break}if(ut===_){G=!0,_=T,h=w;break}ut=ut.sibling}if(!G){for(ut=w.child;ut;){if(ut===h){G=!0,h=w,_=T;break}if(ut===_){G=!0,_=w,h=T;break}ut=ut.sibling}if(!G)throw Error(l(189))}}if(h.alternate!==_)throw Error(l(190))}if(h.tag!==3)throw Error(l(188));return h.stateNode.current===h?t:a}function E(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=E(t),a!==null)return a;t=t.sibling}return null}var x=Object.assign,D=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),X=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===nt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case et:return"Profiler";case rt:return"StrictMode";case W:return"Suspense";case $:return"SuspenseList";case M:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case X:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case V:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tt:return a=t.displayName||null,a!==null?a:at(t.type)||"Memo";case A:a=t._payload,t=t._init;try{return at(t(a))}catch{}}return null}var lt=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},it=[],Q=-1;function Y(t){return{current:t}}function K(t){0>Q||(t.current=it[Q],it[Q]=null,Q--)}function ct(t,a){Q++,it[Q]=t.current,t.current=a}var pt=Y(null),gt=Y(null),St=Y(null),Dt=Y(null);function ht(t,a){switch(ct(St,a),ct(gt,t),ct(pt,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?ay(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=ay(a),t=sy(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(pt),ct(pt,t)}function It(){K(pt),K(gt),K(St)}function Ot(t){t.memoizedState!==null&&ct(Dt,t);var a=pt.current,h=sy(a,t.type);a!==h&&(ct(gt,t),ct(pt,h))}function At(t){gt.current===t&&(K(pt),K(gt)),Dt.current===t&&(K(Dt),Nu._currentValue=F)}var ft,Xt;function Zt(t){if(ft===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);ft=a&&a[1]||"",Xt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+Xt}var zt=!1;function jt(t,a){if(!t||zt)return"";zt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(a){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(kt){var Lt=kt}Reflect.construct(t,[],Bt)}else{try{Bt.call()}catch(kt){Lt=kt}t.call(Bt.prototype)}}else{try{throw Error()}catch(kt){Lt=kt}(Bt=t())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(kt){if(kt&&Lt&&typeof kt.stack=="string")return[kt.stack,Lt.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=_.DetermineComponentFrameRoot(),G=w[0],ut=w[1];if(G&&ut){var _t=G.split(`
`),wt=ut.split(`
`);for(T=_=0;_<_t.length&&!_t[_].includes("DetermineComponentFrameRoot");)_++;for(;T<wt.length&&!wt[T].includes("DetermineComponentFrameRoot");)T++;if(_===_t.length||T===wt.length)for(_=_t.length-1,T=wt.length-1;1<=_&&0<=T&&_t[_]!==wt[T];)T--;for(;1<=_&&0<=T;_--,T--)if(_t[_]!==wt[T]){if(_!==1||T!==1)do if(_--,T--,0>T||_t[_]!==wt[T]){var Nt=`
`+_t[_].replace(" at new "," at ");return t.displayName&&Nt.includes("<anonymous>")&&(Nt=Nt.replace("<anonymous>",t.displayName)),Nt}while(1<=_&&0<=T);break}}}finally{zt=!1,Error.prepareStackTrace=h}return(h=t?t.displayName||t.name:"")?Zt(h):""}function we(t,a){switch(t.tag){case 26:case 27:case 5:return Zt(t.type);case 16:return Zt("Lazy");case 13:return t.child!==a&&a!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return jt(t.type,!1);case 11:return jt(t.type.render,!1);case 1:return jt(t.type,!0);case 31:return Zt("Activity");default:return""}}function he(t){try{var a="",h=null;do a+=we(t,h),h=t,t=t.return;while(t);return a}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}var Mt=Object.prototype.hasOwnProperty,Je=e.unstable_scheduleCallback,ti=e.unstable_cancelCallback,gn=e.unstable_shouldYield,Ui=e.unstable_requestPaint,Ht=e.unstable_now,Tn=e.unstable_getCurrentPriorityLevel,Ie=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Jt=e.unstable_NormalPriority,Xr=e.unstable_LowPriority,_e=e.unstable_IdlePriority,ie=e.log,xi=e.unstable_setDisableYieldValue,vn=null,Nn=null;function $t(t){if(typeof ie=="function"&&xi(t),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(vn,t)}catch{}}var di=Math.clz32?Math.clz32:Ei,Pa=Math.log,fo=Math.LN2;function Ei(t){return t>>>=0,t===0?32:31-(Pa(t)/fo|0)|0}var hr=256,li=262144,ca=4194304;function Yi(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Es(t,a,h){var _=t.pendingLanes;if(_===0)return 0;var T=0,w=t.suspendedLanes,G=t.pingedLanes;t=t.warmLanes;var ut=_&134217727;return ut!==0?(_=ut&~w,_!==0?T=Yi(_):(G&=ut,G!==0?T=Yi(G):h||(h=ut&~t,h!==0&&(T=Yi(h))))):(ut=_&~w,ut!==0?T=Yi(ut):G!==0?T=Yi(G):h||(h=_&~t,h!==0&&(T=Yi(h)))),T===0?0:a!==0&&a!==T&&(a&w)===0&&(w=T&-T,h=a&-a,w>=h||w===32&&(h&4194048)!==0)?a:T}function ha(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Jr(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var t=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),t}function fa(t){for(var a=[],h=0;31>h;h++)a.push(t);return a}function Gi(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ba(t,a,h,_,T,w){var G=t.pendingLanes;t.pendingLanes=h,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=h,t.entangledLanes&=h,t.errorRecoveryDisabledLanes&=h,t.shellSuspendCounter=0;var ut=t.entanglements,_t=t.expirationTimes,wt=t.hiddenUpdates;for(h=G&~h;0<h;){var Nt=31-di(h),Bt=1<<Nt;ut[Nt]=0,_t[Nt]=-1;var Lt=wt[Nt];if(Lt!==null)for(wt[Nt]=null,Nt=0;Nt<Lt.length;Nt++){var kt=Lt[Nt];kt!==null&&(kt.lane&=-536870913)}h&=~Bt}_!==0&&po(t,_,0),w!==0&&T===0&&t.tag!==0&&(t.suspendedLanes|=w&~(G&~a))}function po(t,a,h){t.pendingLanes|=a,t.suspendedLanes&=~a;var _=31-di(a);t.entangledLanes|=a,t.entanglements[_]=t.entanglements[_]|1073741824|h&261930}function bs(t,a){var h=t.entangledLanes|=a;for(t=t.entanglements;h;){var _=31-di(h),T=1<<_;T&a|t[_]&a&&(t[_]|=a),h&=~T}}function go(t,a){var h=a&-a;return h=(h&42)!==0?1:Mn(h),(h&(t.suspendedLanes|a))!==0?0:h}function Mn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function da(){var t=U.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function mo(t,a){var h=U.p;try{return U.p=t,a()}finally{U.p=h}}var qi=Math.random().toString(36).slice(2),On="__reactFiber$"+qi,je="__reactProps$"+qi,fr="__reactContainer$"+qi,bi="__reactEvents$"+qi,Dr="__reactListeners$"+qi,Vr="__reactHandles$"+qi,Ts="__reactResources$"+qi,Ar="__reactMarker$"+qi;function Wr(t){delete t[On],delete t[je],delete t[bi],delete t[Dr],delete t[Vr]}function $e(t){var a=t[On];if(a)return a;for(var h=t.parentNode;h;){if(a=h[fr]||h[On]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(t=dy(t);t!==null;){if(h=t[On])return h;t=dy(t)}return a}t=h,h=t.parentNode}return null}function pa(t){if(t=t[On]||t[fr]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function kr(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(l(33))}function dr(t){var a=t[Ts];return a||(a=t[Ts]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function dn(t){t[Ar]=!0}var ws=new Set,Cs={};function Nr(t,a){Mr(t,a),Mr(t+"Capture",a)}function Mr(t,a){for(Cs[t]=a,t=0;t<a.length;t++)ws.add(a[t])}var ei=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Or={},za={};function Hi(t){return Mt.call(za,t)?!0:Mt.call(Or,t)?!1:ei.test(t)?za[t]=!0:(Or[t]=!0,!1)}function Se(t,a,h){if(Hi(a))if(h===null)t.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var _=a.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+h)}}function Ke(t,a,h){if(h===null)t.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+h)}}function Ti(t,a,h,_){if(_===null)t.removeAttribute(h);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(h);return}t.setAttributeNS(a,h,""+_)}}function Bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rr(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ls(t,a,h){var _=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var T=_.get,w=_.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return T.call(this)},set:function(G){h=""+G,w.call(this,G)}}),Object.defineProperty(t,a,{enumerable:_.enumerable}),{getValue:function(){return h},setValue:function(G){h=""+G},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function fe(t){if(!t._valueTracker){var a=Rr(t)?"checked":"value";t._valueTracker=Ls(t,a,""+t[a])}}function Pe(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var h=a.getValue(),_="";return t&&(_=Rr(t)?t.checked?"true":"false":t.value),t=_,t!==h?(a.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fa=/[\n"\\]/g;function Ue(t){return t.replace(Fa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _o(t,a,h,_,T,w,G,ut){t.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?t.type=G:t.removeAttribute("type"),a!=null?G==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Bn(a)):t.value!==""+Bn(a)&&(t.value=""+Bn(a)):G!=="submit"&&G!=="reset"||t.removeAttribute("value"),a!=null?pr(t,G,Bn(a)):h!=null?pr(t,G,Bn(h)):_!=null&&t.removeAttribute("value"),T==null&&w!=null&&(t.defaultChecked=!!w),T!=null&&(t.checked=T&&typeof T!="function"&&typeof T!="symbol"),ut!=null&&typeof ut!="function"&&typeof ut!="symbol"&&typeof ut!="boolean"?t.name=""+Bn(ut):t.removeAttribute("name")}function ja(t,a,h,_,T,w,G,ut){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.type=w),a!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){fe(t);return}h=h!=null?""+Bn(h):"",a=a!=null?""+Bn(a):h,ut||a===t.value||(t.value=a),t.defaultValue=a}_=_??T,_=typeof _!="function"&&typeof _!="symbol"&&!!_,t.checked=ut?t.checked:!!_,t.defaultChecked=!!_,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(t.name=G),fe(t)}function pr(t,a,h){a==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+h||(t.defaultValue=""+h)}function tn(t,a,h,_){if(t=t.options,a){a={};for(var T=0;T<h.length;T++)a["$"+h[T]]=!0;for(h=0;h<t.length;h++)T=a.hasOwnProperty("$"+t[h].value),t[h].selected!==T&&(t[h].selected=T),T&&_&&(t[h].defaultSelected=!0)}else{for(h=""+Bn(h),a=null,T=0;T<t.length;T++){if(t[T].value===h){t[T].selected=!0,_&&(t[T].defaultSelected=!0);return}a!==null||t[T].disabled||(a=t[T])}a!==null&&(a.selected=!0)}}function gr(t,a,h){if(a!=null&&(a=""+Bn(a),a!==t.value&&(t.value=a),h==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=h!=null?""+Bn(h):""}function Zi(t,a,h,_){if(a==null){if(_!=null){if(h!=null)throw Error(l(92));if(lt(_)){if(1<_.length)throw Error(l(93));_=_[0]}h=_}h==null&&(h=""),a=h}h=Bn(a),t.defaultValue=h,_=t.textContent,_===h&&_!==""&&_!==null&&(t.value=_),fe(t)}function Oi(t,a){if(a){var h=t.firstChild;if(h&&h===t.lastChild&&h.nodeType===3){h.nodeValue=a;return}}t.textContent=a}var yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qr(t,a,h){var _=a.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?_?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":_?t.setProperty(a,h):typeof h!="number"||h===0||yo.has(a)?a==="float"?t.cssFloat=h:t[a]=(""+h).trim():t[a]=h+"px"}function Ds(t,a,h){if(a!=null&&typeof a!="object")throw Error(l(62));if(t=t.style,h!=null){for(var _ in h)!h.hasOwnProperty(_)||a!=null&&a.hasOwnProperty(_)||(_.indexOf("--")===0?t.setProperty(_,""):_==="float"?t.cssFloat="":t[_]="");for(var T in a)_=a[T],a.hasOwnProperty(T)&&h[T]!==_&&Qr(t,T,_)}else for(var w in a)a.hasOwnProperty(w)&&Qr(t,w,a[w])}function Kr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return mr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var ni=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,se=null;function Ri(t){var a=pa(t);if(a&&(t=a.stateNode)){var h=t[je]||null;t:switch(t=a.stateNode,a.type){case"input":if(_o(t,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),a=h.name,h.type==="radio"&&a!=null){for(h=t;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ue(""+a)+'"][type="radio"]'),a=0;a<h.length;a++){var _=h[a];if(_!==t&&_.form===t.form){var T=_[je]||null;if(!T)throw Error(l(90));_o(_,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(a=0;a<h.length;a++)_=h[a],_.form===t.form&&Pe(_)}break t;case"textarea":gr(t,h.value,h.defaultValue);break t;case"select":a=h.value,a!=null&&tn(t,!!h.multiple,a,!1)}}}var Fe=!1;function ma(t,a,h){if(Fe)return t(a,h);Fe=!0;try{var _=t(a);return _}finally{if(Fe=!1,(_r!==null||se!==null)&&(Wc(),_r&&(a=_r,t=se,se=_r=null,Ri(a),t)))for(a=0;a<t.length;a++)Ri(t[a])}}function $r(t,a){var h=t.stateNode;if(h===null)return null;var _=h[je]||null;if(_===null)return null;h=_[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(t=t.type,_=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!_;break t;default:t=!1}if(t)return null;if(h&&typeof h!="function")throw Error(l(231,a,typeof h));return h}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Te=!1;if(wi)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Te=!1}var Ci=null,Ir=null,rn=null;function yr(){if(rn)return rn;var t,a=Ir,h=a.length,_,T="value"in Ci?Ci.value:Ci.textContent,w=T.length;for(t=0;t<h&&a[t]===T[t];t++);var G=h-t;for(_=1;_<=G&&a[h-_]===T[w-_];_++);return rn=T.slice(t,1<_?1-_:void 0)}function wn(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function _a(){return!0}function As(){return!1}function Yn(t){function a(h,_,T,w,G){this._reactName=h,this._targetInst=T,this.type=_,this.nativeEvent=w,this.target=G,this.currentTarget=null;for(var ut in t)t.hasOwnProperty(ut)&&(h=t[ut],this[ut]=h?h(w):w[ut]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?_a:As,this.isPropagationStopped=As,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),a}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=Yn(Xi),ta=x({},Xi,{view:0,detail:0}),de=Yn(ta),ya,gi,xn,Ji=x({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xn&&(xn&&t.type==="mousemove"?(ya=t.screenX-xn.screenX,gi=t.screenY-xn.screenY):gi=ya=0,xn=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:gi}}),Qo=Yn(Ji),Pr=x({},Ji,{dataTransfer:0}),Ko=Yn(Pr),ea=x({},ta,{relatedTarget:0}),vo=Yn(ea),Vi=x({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ns=Yn(Vi),Ql=x({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wi=Yn(Ql),Kl=x({},Xi,{data:0}),So=Yn(Kl),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vr(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=tl[t])?!!a[t]:!1}function ii(){return vr}var el=x({},ta,{key:function(t){if(t.key){var a=Br[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$o[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(t){return t.type==="keypress"?wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xo=Yn(el),$l=x({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=Yn($l),Os=x({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),Eo=Yn(Os),bo=x({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Li=Yn(bo),Ua=x({},Ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=Yn(Ua),Ya=x({},Xi,{newState:0,oldState:0}),Ga=Yn(Ya),mi=[9,13,27,32],qa=wi&&"CompositionEvent"in window,na=null;wi&&"documentMode"in document&&(na=document.documentMode);var To=wi&&"TextEvent"in window&&!na,Rs=wi&&(!qa||na&&8<na&&11>=na),Is=" ",nl=!1;function il(t,a){switch(t){case"keyup":return mi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function Ii(t,a){switch(t){case"compositionend":return wo(a);case"keypress":return a.which!==32?null:(nl=!0,Is);case"textInput":return t=a.data,t===Is&&nl?null:t;default:return null}}function Sa(t,a){if(va)return t==="compositionend"||!qa&&il(t,a)?(t=yr(),rn=Ir=Ci=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rs&&a.locale!=="ko"?null:a.data;default:return null}}var rl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!rl[t.type]:a==="textarea"}function Co(t,a,h,_){_r?se?se.push(_):se=[_]:_r=_,a=ih(a,"onChange"),0<a.length&&(h=new ks("onChange","change",null,h,_),t.push({event:h,listeners:a}))}var Ki=null,Ha=null;function Za(t){$_(t,0)}function Xa(t){var a=kr(t);if(Pe(a))return t}function Ja(t,a){if(t==="change")return a}var al=!1;if(wi){var $i;if(wi){var ia="oninput"in document;if(!ia){var Lo=document.createElement("div");Lo.setAttribute("oninput","return;"),ia=typeof Lo.oninput=="function"}$i=ia}else $i=!1;al=$i&&(!document.documentMode||9<document.documentMode)}function Va(){Ki&&(Ki.detachEvent("onpropertychange",sl),Ha=Ki=null)}function sl(t){if(t.propertyName==="value"&&Xa(Ha)){var a=[];Co(a,Ha,t,Un(t)),ma(Za,a)}}function tr(t,a,h){t==="focusin"?(Va(),Ki=a,Ha=h,Ki.attachEvent("onpropertychange",sl)):t==="focusout"&&Va()}function Do(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xa(Ha)}function xa(t,a){if(t==="click")return Xa(a)}function ol(t,a){if(t==="input"||t==="change")return Xa(a)}function er(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Gn=typeof Object.is=="function"?Object.is:er;function Ea(t,a){if(Gn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var h=Object.keys(t),_=Object.keys(a);if(h.length!==_.length)return!1;for(_=0;_<h.length;_++){var T=h[_];if(!Mt.call(a,T)||!Gn(t[T],a[T]))return!1}return!0}function Sr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wa(t,a){var h=Sr(t);t=0;for(var _;h;){if(h.nodeType===3){if(_=t+h.textContent.length,t<=a&&_>=a)return{node:h,offset:a-t};t=_}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Sr(h)}}function Qa(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Qa(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function qn(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=pi(t.document);a instanceof t.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)t=a.contentWindow;else break;a=pi(t.document)}return a}function zn(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var p=wi&&"documentMode"in document&&11>=document.documentMode,s=null,o=null,d=null,S=!1;function C(t,a,h){var _=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;S||s==null||s!==pi(_)||(_=s,"selectionStart"in _&&zn(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),d&&Ea(d,_)||(d=_,_=ih(o,"onSelect"),0<_.length&&(a=new ks("onSelect","select",null,a,h),t.push({event:a,listeners:_}),a.target=s)))}function I(t,a){var h={};return h[t.toLowerCase()]=a.toLowerCase(),h["Webkit"+t]="webkit"+a,h["Moz"+t]="moz"+a,h}var q={animationend:I("Animation","AnimationEnd"),animationiteration:I("Animation","AnimationIteration"),animationstart:I("Animation","AnimationStart"),transitionrun:I("Transition","TransitionRun"),transitionstart:I("Transition","TransitionStart"),transitioncancel:I("Transition","TransitionCancel"),transitionend:I("Transition","TransitionEnd")},ot={},dt={};wi&&(dt=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function yt(t){if(ot[t])return ot[t];if(!q[t])return t;var a=q[t],h;for(h in a)if(a.hasOwnProperty(h)&&h in dt)return ot[t]=a[h];return t}var bt=yt("animationend"),Ft=yt("animationiteration"),Gt=yt("animationstart"),Vt=yt("transitionrun"),ee=yt("transitionstart"),Ce=yt("transitioncancel"),ge=yt("transitionend"),Ye=new Map,an="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");an.push("scrollEnd");function We(t,a){Ye.set(t,a),Nr(a,[t])}var Pi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],ri=0,Ka=0;function ba(){for(var t=ri,a=Ka=ri=0;a<t;){var h=Hn[a];Hn[a++]=null;var _=Hn[a];Hn[a++]=null;var T=Hn[a];Hn[a++]=null;var w=Hn[a];if(Hn[a++]=null,_!==null&&T!==null){var G=_.pending;G===null?T.next=T:(T.next=G.next,G.next=T),_.pending=T}w!==0&&zr(h,T,w)}}function xr(t,a,h,_){Hn[ri++]=t,Hn[ri++]=a,Hn[ri++]=h,Hn[ri++]=_,Ka|=_,t.lanes|=_,t=t.alternate,t!==null&&(t.lanes|=_)}function Ps(t,a,h,_){return xr(t,a,h,_),ra(t)}function Bi(t,a){return xr(t,null,null,a),ra(t)}function zr(t,a,h){t.lanes|=h;var _=t.alternate;_!==null&&(_.lanes|=h);for(var T=!1,w=t.return;w!==null;)w.childLanes|=h,_=w.alternate,_!==null&&(_.childLanes|=h),w.tag===22&&(t=w.stateNode,t===null||t._visibility&1||(T=!0)),t=w,w=w.return;return t.tag===3?(w=t.stateNode,T&&a!==null&&(T=31-di(h),t=w.hiddenUpdates,_=t[T],_===null?t[T]=[a]:_.push(a),a.lane=h|536870912),w):null}function ra(t){if(50<Tu)throw Tu=0,Md=null,Error(l(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var $a={};function Nf(t,a,h,_){this.tag=t,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(t,a,h,_){return new Nf(t,a,h,_)}function ll(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fr(t,a){var h=t.alternate;return h===null?(h=Di(t.tag,a,t.key,t.mode),h.elementType=t.elementType,h.type=t.type,h.stateNode=t.stateNode,h.alternate=t,t.alternate=h):(h.pendingProps=a,h.type=t.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=t.flags&65011712,h.childLanes=t.childLanes,h.lanes=t.lanes,h.child=t.child,h.memoizedProps=t.memoizedProps,h.memoizedState=t.memoizedState,h.updateQueue=t.updateQueue,a=t.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=t.sibling,h.index=t.index,h.ref=t.ref,h.refCleanup=t.refCleanup,h}function tu(t,a){t.flags&=65011714;var h=t.alternate;return h===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=h.childLanes,t.lanes=h.lanes,t.child=h.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=h.memoizedProps,t.memoizedState=h.memoizedState,t.updateQueue=h.updateQueue,t.type=h.type,a=h.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Ao(t,a,h,_,T,w){var G=0;if(_=t,typeof t=="function")ll(t)&&(G=1);else if(typeof t=="string")G=iE(t,h,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case M:return t=Di(31,h,a,T),t.elementType=M,t.lanes=w,t;case Z:return ts(h.children,T,w,a);case rt:G=8,T|=24;break;case et:return t=Di(12,h,a,T|2),t.elementType=et,t.lanes=w,t;case W:return t=Di(13,h,a,T),t.elementType=W,t.lanes=w,t;case $:return t=Di(19,h,a,T),t.elementType=$,t.lanes=w,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:G=10;break t;case B:G=9;break t;case V:G=11;break t;case tt:G=14;break t;case A:G=16,_=null;break t}G=29,h=Error(l(130,t===null?"null":typeof t,"")),_=null}return a=Di(G,h,a,T),a.elementType=t,a.type=_,a.lanes=w,a}function ts(t,a,h,_){return t=Di(7,t,_,a),t.lanes=h,t}function ul(t,a,h){return t=Di(6,t,null,a),t.lanes=h,t}function eu(t){var a=Di(18,null,null,0);return a.stateNode=t,a}function nu(t,a,h){return a=Di(4,t.children!==null?t.children:[],t.key,a),a.lanes=h,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var u=new WeakMap;function m(t,a){if(typeof t=="object"&&t!==null){var h=u.get(t);return h!==void 0?h:(a={value:t,source:a,stack:he(a)},u.set(t,a),a)}return{value:t,source:a,stack:he(a)}}var b=[],k=0,j=null,st=0,mt=[],Et=0,Ct=null,Pt=1,qt="";function ne(t,a){b[k++]=st,b[k++]=j,j=t,st=a}function xe(t,a,h){mt[Et++]=Pt,mt[Et++]=qt,mt[Et++]=Ct,Ct=t;var _=Pt;t=qt;var T=32-di(_)-1;_&=~(1<<T),h+=1;var w=32-di(a)+T;if(30<w){var G=T-T%5;w=(_&(1<<G)-1).toString(32),_>>=G,T-=G,Pt=1<<32-di(a)+T|h<<T|_,qt=w+t}else Pt=1<<w|h<<T|_,qt=t}function ai(t){t.return!==null&&(ne(t,1),xe(t,1,0))}function Rn(t){for(;t===j;)j=b[--k],b[k]=null,st=b[--k],b[k]=null;for(;t===Ct;)Ct=mt[--Et],mt[Et]=null,qt=mt[--Et],mt[Et]=null,Pt=mt[--Et],mt[Et]=null}function zi(t,a){mt[Et++]=Pt,mt[Et++]=qt,mt[Et++]=Ct,Pt=a.id,qt=a.overflow,Ct=t}var Ge=null,qe=null,Le=!1,Ta=null,nr=!1,cl=Error(l(519));function wa(t){var a=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(m(a,t)),cl}function iu(t){var a=t.stateNode,h=t.type,_=t.memoizedProps;switch(a[On]=t,a[je]=_,h){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(h=0;h<Cu.length;h++)Ae(Cu[h],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":Ae("invalid",a),ja(a,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0);break;case"select":Ae("invalid",a);break;case"textarea":Ae("invalid",a),Zi(a,_.value,_.defaultValue,_.children)}h=_.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||a.textContent===""+h||_.suppressHydrationWarning===!0||iy(a.textContent,h)?(_.popover!=null&&(Ae("beforetoggle",a),Ae("toggle",a)),_.onScroll!=null&&Ae("scroll",a),_.onScrollEnd!=null&&Ae("scrollend",a),_.onClick!=null&&(a.onclick=ui),a=!0):a=!1,a||wa(t,!0)}function Ln(t){for(Ge=t.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:Ge=Ge.return}}function aa(t){if(t!==Ge)return!1;if(!Le)return Ln(t),Le=!0,!1;var a=t.tag,h;if((h=a!==3&&a!==27)&&((h=a===5)&&(h=t.type,h=!(h!=="form"&&h!=="button")||Xd(t.type,t.memoizedProps)),h=!h),h&&qe&&wa(t),Ln(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));qe=fy(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));qe=fy(t)}else a===27?(a=qe,Ws(t.type)?(t=Kd,Kd=null,qe=t):qe=a):qe=Ge?Ur(t.stateNode.nextSibling):null;return!0}function es(){qe=Ge=null,Le=!1}function ru(){var t=Ta;return t!==null&&(sr===null?sr=t:sr.push.apply(sr,t),Ta=null),t}function ko(t){Ta===null?Ta=[t]:Ta.push(t)}var No=Y(null),Ca=null,sa=null;function Bs(t,a,h){ct(No,a._currentValue),a._currentValue=h}function ns(t){t._currentValue=No.current,K(No)}function Mf(t,a,h){for(;t!==null;){var _=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,_!==null&&(_.childLanes|=a)):_!==null&&(_.childLanes&a)!==a&&(_.childLanes|=a),t===h)break;t=t.return}}function Of(t,a,h,_){var T=t.child;for(T!==null&&(T.return=t);T!==null;){var w=T.dependencies;if(w!==null){var G=T.child;w=w.firstContext;t:for(;w!==null;){var ut=w;w=T;for(var _t=0;_t<a.length;_t++)if(ut.context===a[_t]){w.lanes|=h,ut=w.alternate,ut!==null&&(ut.lanes|=h),Mf(w.return,h,t),_||(G=null);break t}w=ut.next}}else if(T.tag===18){if(G=T.return,G===null)throw Error(l(341));G.lanes|=h,w=G.alternate,w!==null&&(w.lanes|=h),Mf(G,h,t),G=null}else G=T.child;if(G!==null)G.return=T;else for(G=T;G!==null;){if(G===t){G=null;break}if(T=G.sibling,T!==null){T.return=G.return,G=T;break}G=G.return}T=G}}function hl(t,a,h,_){t=null;for(var T=a,w=!1;T!==null;){if(!w){if((T.flags&524288)!==0)w=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var G=T.alternate;if(G===null)throw Error(l(387));if(G=G.memoizedProps,G!==null){var ut=T.type;Gn(T.pendingProps.value,G.value)||(t!==null?t.push(ut):t=[ut])}}else if(T===Dt.current){if(G=T.alternate,G===null)throw Error(l(387));G.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(t!==null?t.push(Nu):t=[Nu])}T=T.return}t!==null&&Of(a,t,h,_),a.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mo(t){Ca=t,sa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _i(t){return Yg(Ca,t)}function bc(t,a){return Ca===null&&Mo(t),Yg(t,a)}function Yg(t,a){var h=a._currentValue;if(a={context:a,memoizedValue:h,next:null},sa===null){if(t===null)throw Error(l(308));sa=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else sa=sa.next=a;return h}var $x=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(h,_){t.push(_)}};this.abort=function(){a.aborted=!0,t.forEach(function(h){return h()})}},t1=e.unstable_scheduleCallback,e1=e.unstable_NormalPriority,Zn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new $x,data:new Map,refCount:0}}function au(t){t.refCount--,t.refCount===0&&t1(e1,function(){t.controller.abort()})}var su=null,If=0,fl=0,dl=null;function n1(t,a){if(su===null){var h=su=[];If=0,fl=zd(),dl={status:"pending",value:void 0,then:function(_){h.push(_)}}}return If++,a.then(Gg,Gg),a}function Gg(){if(--If===0&&su!==null){dl!==null&&(dl.status="fulfilled");var t=su;su=null,fl=0,dl=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function i1(t,a){var h=[],_={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return t.then(function(){_.status="fulfilled",_.value=a;for(var T=0;T<h.length;T++)(0,h[T])(a)},function(T){for(_.status="rejected",_.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),_}var qg=R.S;R.S=function(t,a){L_=Ht(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&n1(t,a),qg!==null&&qg(t,a)};var Oo=Y(null);function Pf(){var t=Oo.current;return t!==null?t:hn.pooledCache}function Tc(t,a){a===null?ct(Oo,Oo.current):ct(Oo,a.pool)}function Hg(){var t=Pf();return t===null?null:{parent:Zn._currentValue,pool:t}}var pl=Error(l(460)),Bf=Error(l(474)),wc=Error(l(542)),Cc={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xg(t,a,h){switch(h=t[h],h===void 0?t.push(a):h!==a&&(a.then(ui,ui),a=h),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Vg(t),t;default:if(typeof a.status=="string")a.then(ui,ui);else{if(t=hn,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=a,t.status="pending",t.then(function(_){if(a.status==="pending"){var T=a;T.status="fulfilled",T.value=_}},function(_){if(a.status==="pending"){var T=a;T.status="rejected",T.reason=_}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Vg(t),t}throw Io=a,pl}}function Ro(t){try{var a=t._init;return a(t._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Io=h,pl):h}}var Io=null;function Jg(){if(Io===null)throw Error(l(459));var t=Io;return Io=null,t}function Vg(t){if(t===pl||t===wc)throw Error(l(483))}var gl=null,ou=0;function Lc(t){var a=ou;return ou+=1,gl===null&&(gl=[]),Xg(gl,t,a)}function lu(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Dc(t,a){throw a.$$typeof===D?Error(l(525)):(t=Object.prototype.toString.call(a),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Wg(t){function a(xt,vt){if(t){var Tt=xt.deletions;Tt===null?(xt.deletions=[vt],xt.flags|=16):Tt.push(vt)}}function h(xt,vt){if(!t)return null;for(;vt!==null;)a(xt,vt),vt=vt.sibling;return null}function _(xt){for(var vt=new Map;xt!==null;)xt.key!==null?vt.set(xt.key,xt):vt.set(xt.index,xt),xt=xt.sibling;return vt}function T(xt,vt){return xt=Fr(xt,vt),xt.index=0,xt.sibling=null,xt}function w(xt,vt,Tt){return xt.index=Tt,t?(Tt=xt.alternate,Tt!==null?(Tt=Tt.index,Tt<vt?(xt.flags|=67108866,vt):Tt):(xt.flags|=67108866,vt)):(xt.flags|=1048576,vt)}function G(xt){return t&&xt.alternate===null&&(xt.flags|=67108866),xt}function ut(xt,vt,Tt,Rt){return vt===null||vt.tag!==6?(vt=ul(Tt,xt.mode,Rt),vt.return=xt,vt):(vt=T(vt,Tt),vt.return=xt,vt)}function _t(xt,vt,Tt,Rt){var re=Tt.type;return re===Z?Nt(xt,vt,Tt.props.children,Rt,Tt.key):vt!==null&&(vt.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===A&&Ro(re)===vt.type)?(vt=T(vt,Tt.props),lu(vt,Tt),vt.return=xt,vt):(vt=Ao(Tt.type,Tt.key,Tt.props,null,xt.mode,Rt),lu(vt,Tt),vt.return=xt,vt)}function wt(xt,vt,Tt,Rt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Tt.containerInfo||vt.stateNode.implementation!==Tt.implementation?(vt=nu(Tt,xt.mode,Rt),vt.return=xt,vt):(vt=T(vt,Tt.children||[]),vt.return=xt,vt)}function Nt(xt,vt,Tt,Rt,re){return vt===null||vt.tag!==7?(vt=ts(Tt,xt.mode,Rt,re),vt.return=xt,vt):(vt=T(vt,Tt),vt.return=xt,vt)}function Bt(xt,vt,Tt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=ul(""+vt,xt.mode,Tt),vt.return=xt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case N:return Tt=Ao(vt.type,vt.key,vt.props,null,xt.mode,Tt),lu(Tt,vt),Tt.return=xt,Tt;case P:return vt=nu(vt,xt.mode,Tt),vt.return=xt,vt;case A:return vt=Ro(vt),Bt(xt,vt,Tt)}if(lt(vt)||H(vt))return vt=ts(vt,xt.mode,Tt,null),vt.return=xt,vt;if(typeof vt.then=="function")return Bt(xt,Lc(vt),Tt);if(vt.$$typeof===X)return Bt(xt,bc(xt,vt),Tt);Dc(xt,vt)}return null}function Lt(xt,vt,Tt,Rt){var re=vt!==null?vt.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return re!==null?null:ut(xt,vt,""+Tt,Rt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case N:return Tt.key===re?_t(xt,vt,Tt,Rt):null;case P:return Tt.key===re?wt(xt,vt,Tt,Rt):null;case A:return Tt=Ro(Tt),Lt(xt,vt,Tt,Rt)}if(lt(Tt)||H(Tt))return re!==null?null:Nt(xt,vt,Tt,Rt,null);if(typeof Tt.then=="function")return Lt(xt,vt,Lc(Tt),Rt);if(Tt.$$typeof===X)return Lt(xt,vt,bc(xt,Tt),Rt);Dc(xt,Tt)}return null}function kt(xt,vt,Tt,Rt,re){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return xt=xt.get(Tt)||null,ut(vt,xt,""+Rt,re);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case N:return xt=xt.get(Rt.key===null?Tt:Rt.key)||null,_t(vt,xt,Rt,re);case P:return xt=xt.get(Rt.key===null?Tt:Rt.key)||null,wt(vt,xt,Rt,re);case A:return Rt=Ro(Rt),kt(xt,vt,Tt,Rt,re)}if(lt(Rt)||H(Rt))return xt=xt.get(Tt)||null,Nt(vt,xt,Rt,re,null);if(typeof Rt.then=="function")return kt(xt,vt,Tt,Lc(Rt),re);if(Rt.$$typeof===X)return kt(xt,vt,Tt,bc(vt,Rt),re);Dc(vt,Rt)}return null}function Wt(xt,vt,Tt,Rt){for(var re=null,He=null,te=vt,Ee=vt=0,Ne=null;te!==null&&Ee<Tt.length;Ee++){te.index>Ee?(Ne=te,te=null):Ne=te.sibling;var Ze=Lt(xt,te,Tt[Ee],Rt);if(Ze===null){te===null&&(te=Ne);break}t&&te&&Ze.alternate===null&&a(xt,te),vt=w(Ze,vt,Ee),He===null?re=Ze:He.sibling=Ze,He=Ze,te=Ne}if(Ee===Tt.length)return h(xt,te),Le&&ne(xt,Ee),re;if(te===null){for(;Ee<Tt.length;Ee++)te=Bt(xt,Tt[Ee],Rt),te!==null&&(vt=w(te,vt,Ee),He===null?re=te:He.sibling=te,He=te);return Le&&ne(xt,Ee),re}for(te=_(te);Ee<Tt.length;Ee++)Ne=kt(te,xt,Ee,Tt[Ee],Rt),Ne!==null&&(t&&Ne.alternate!==null&&te.delete(Ne.key===null?Ee:Ne.key),vt=w(Ne,vt,Ee),He===null?re=Ne:He.sibling=Ne,He=Ne);return t&&te.forEach(function(eo){return a(xt,eo)}),Le&&ne(xt,Ee),re}function oe(xt,vt,Tt,Rt){if(Tt==null)throw Error(l(151));for(var re=null,He=null,te=vt,Ee=vt=0,Ne=null,Ze=Tt.next();te!==null&&!Ze.done;Ee++,Ze=Tt.next()){te.index>Ee?(Ne=te,te=null):Ne=te.sibling;var eo=Lt(xt,te,Ze.value,Rt);if(eo===null){te===null&&(te=Ne);break}t&&te&&eo.alternate===null&&a(xt,te),vt=w(eo,vt,Ee),He===null?re=eo:He.sibling=eo,He=eo,te=Ne}if(Ze.done)return h(xt,te),Le&&ne(xt,Ee),re;if(te===null){for(;!Ze.done;Ee++,Ze=Tt.next())Ze=Bt(xt,Ze.value,Rt),Ze!==null&&(vt=w(Ze,vt,Ee),He===null?re=Ze:He.sibling=Ze,He=Ze);return Le&&ne(xt,Ee),re}for(te=_(te);!Ze.done;Ee++,Ze=Tt.next())Ze=kt(te,xt,Ee,Ze.value,Rt),Ze!==null&&(t&&Ze.alternate!==null&&te.delete(Ze.key===null?Ee:Ze.key),vt=w(Ze,vt,Ee),He===null?re=Ze:He.sibling=Ze,He=Ze);return t&&te.forEach(function(pE){return a(xt,pE)}),Le&&ne(xt,Ee),re}function ln(xt,vt,Tt,Rt){if(typeof Tt=="object"&&Tt!==null&&Tt.type===Z&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case N:t:{for(var re=Tt.key;vt!==null;){if(vt.key===re){if(re=Tt.type,re===Z){if(vt.tag===7){h(xt,vt.sibling),Rt=T(vt,Tt.props.children),Rt.return=xt,xt=Rt;break t}}else if(vt.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===A&&Ro(re)===vt.type){h(xt,vt.sibling),Rt=T(vt,Tt.props),lu(Rt,Tt),Rt.return=xt,xt=Rt;break t}h(xt,vt);break}else a(xt,vt);vt=vt.sibling}Tt.type===Z?(Rt=ts(Tt.props.children,xt.mode,Rt,Tt.key),Rt.return=xt,xt=Rt):(Rt=Ao(Tt.type,Tt.key,Tt.props,null,xt.mode,Rt),lu(Rt,Tt),Rt.return=xt,xt=Rt)}return G(xt);case P:t:{for(re=Tt.key;vt!==null;){if(vt.key===re)if(vt.tag===4&&vt.stateNode.containerInfo===Tt.containerInfo&&vt.stateNode.implementation===Tt.implementation){h(xt,vt.sibling),Rt=T(vt,Tt.children||[]),Rt.return=xt,xt=Rt;break t}else{h(xt,vt);break}else a(xt,vt);vt=vt.sibling}Rt=nu(Tt,xt.mode,Rt),Rt.return=xt,xt=Rt}return G(xt);case A:return Tt=Ro(Tt),ln(xt,vt,Tt,Rt)}if(lt(Tt))return Wt(xt,vt,Tt,Rt);if(H(Tt)){if(re=H(Tt),typeof re!="function")throw Error(l(150));return Tt=re.call(Tt),oe(xt,vt,Tt,Rt)}if(typeof Tt.then=="function")return ln(xt,vt,Lc(Tt),Rt);if(Tt.$$typeof===X)return ln(xt,vt,bc(xt,Tt),Rt);Dc(xt,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint"?(Tt=""+Tt,vt!==null&&vt.tag===6?(h(xt,vt.sibling),Rt=T(vt,Tt),Rt.return=xt,xt=Rt):(h(xt,vt),Rt=ul(Tt,xt.mode,Rt),Rt.return=xt,xt=Rt),G(xt)):h(xt,vt)}return function(xt,vt,Tt,Rt){try{ou=0;var re=ln(xt,vt,Tt,Rt);return gl=null,re}catch(te){if(te===pl||te===wc)throw te;var He=Di(29,te,null,xt.mode);return He.lanes=Rt,He.return=xt,He}}}var Po=Wg(!0),Qg=Wg(!1),zs=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,a,h){var _=t.updateQueue;if(_===null)return null;if(_=_.shared,(Qe&2)!==0){var T=_.pending;return T===null?a.next=a:(a.next=T.next,T.next=a),_.pending=a,a=ra(t),zr(t,null,h),a}return xr(t,_,a,h),ra(t)}function uu(t,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194048)!==0)){var _=a.lanes;_&=t.pendingLanes,h|=_,a.lanes=h,bs(t,h)}}function jf(t,a){var h=t.updateQueue,_=t.alternate;if(_!==null&&(_=_.updateQueue,h===_)){var T=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var G={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?T=w=G:w=w.next=G,h=h.next}while(h!==null);w===null?T=w=a:w=w.next=a}else T=w=a;h={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:w,shared:_.shared,callbacks:_.callbacks},t.updateQueue=h;return}t=h.lastBaseUpdate,t===null?h.firstBaseUpdate=a:t.next=a,h.lastBaseUpdate=a}var Uf=!1;function cu(){if(Uf){var t=dl;if(t!==null)throw t}}function hu(t,a,h,_){Uf=!1;var T=t.updateQueue;zs=!1;var w=T.firstBaseUpdate,G=T.lastBaseUpdate,ut=T.shared.pending;if(ut!==null){T.shared.pending=null;var _t=ut,wt=_t.next;_t.next=null,G===null?w=wt:G.next=wt,G=_t;var Nt=t.alternate;Nt!==null&&(Nt=Nt.updateQueue,ut=Nt.lastBaseUpdate,ut!==G&&(ut===null?Nt.firstBaseUpdate=wt:ut.next=wt,Nt.lastBaseUpdate=_t))}if(w!==null){var Bt=T.baseState;G=0,Nt=wt=_t=null,ut=w;do{var Lt=ut.lane&-536870913,kt=Lt!==ut.lane;if(kt?(ke&Lt)===Lt:(_&Lt)===Lt){Lt!==0&&Lt===fl&&(Uf=!0),Nt!==null&&(Nt=Nt.next={lane:0,tag:ut.tag,payload:ut.payload,callback:null,next:null});t:{var Wt=t,oe=ut;Lt=a;var ln=h;switch(oe.tag){case 1:if(Wt=oe.payload,typeof Wt=="function"){Bt=Wt.call(ln,Bt,Lt);break t}Bt=Wt;break t;case 3:Wt.flags=Wt.flags&-65537|128;case 0:if(Wt=oe.payload,Lt=typeof Wt=="function"?Wt.call(ln,Bt,Lt):Wt,Lt==null)break t;Bt=x({},Bt,Lt);break t;case 2:zs=!0}}Lt=ut.callback,Lt!==null&&(t.flags|=64,kt&&(t.flags|=8192),kt=T.callbacks,kt===null?T.callbacks=[Lt]:kt.push(Lt))}else kt={lane:Lt,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null},Nt===null?(wt=Nt=kt,_t=Bt):Nt=Nt.next=kt,G|=Lt;if(ut=ut.next,ut===null){if(ut=T.shared.pending,ut===null)break;kt=ut,ut=kt.next,kt.next=null,T.lastBaseUpdate=kt,T.shared.pending=null}}while(!0);Nt===null&&(_t=Bt),T.baseState=_t,T.firstBaseUpdate=wt,T.lastBaseUpdate=Nt,w===null&&(T.shared.lanes=0),Hs|=G,t.lanes=G,t.memoizedState=Bt}}function Kg(t,a){if(typeof t!="function")throw Error(l(191,t));t.call(a)}function $g(t,a){var h=t.callbacks;if(h!==null)for(t.callbacks=null,t=0;t<h.length;t++)Kg(h[t],a)}var ml=Y(null),Ac=Y(0);function tm(t,a){t=hs,ct(Ac,t),ct(ml,a),hs=t|a.baseLanes}function Yf(){ct(Ac,hs),ct(ml,ml.current)}function Gf(){hs=Ac.current,K(ml),K(Ac)}var Er=Y(null),jr=null;function Us(t){var a=t.alternate;ct(Fn,Fn.current&1),ct(Er,t),jr===null&&(a===null||ml.current!==null||a.memoizedState!==null)&&(jr=t)}function qf(t){ct(Fn,Fn.current),ct(Er,t),jr===null&&(jr=t)}function em(t){t.tag===22?(ct(Fn,Fn.current),ct(Er,t),jr===null&&(jr=t)):Ys()}function Ys(){ct(Fn,Fn.current),ct(Er,Er.current)}function br(t){K(Er),jr===t&&(jr=null),K(Fn)}var Fn=Y(0);function kc(t){for(var a=t;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Wd(h)||Qd(h)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var is=0,ve=null,sn=null,Xn=null,Nc=!1,_l=!1,Bo=!1,Mc=0,fu=0,yl=null,r1=0;function In(){throw Error(l(321))}function Hf(t,a){if(a===null)return!1;for(var h=0;h<a.length&&h<t.length;h++)if(!Gn(t[h],a[h]))return!1;return!0}function Zf(t,a,h,_,T,w){return is=w,ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=t===null||t.memoizedState===null?zm:od,Bo=!1,w=h(_,T),Bo=!1,_l&&(w=im(a,h,_,T)),nm(t),w}function nm(t){R.H=gu;var a=sn!==null&&sn.next!==null;if(is=0,Xn=sn=ve=null,Nc=!1,fu=0,yl=null,a)throw Error(l(300));t===null||Jn||(t=t.dependencies,t!==null&&Ec(t)&&(Jn=!0))}function im(t,a,h,_){ve=t;var T=0;do{if(_l&&(yl=null),fu=0,_l=!1,25<=T)throw Error(l(301));if(T+=1,Xn=sn=null,t.updateQueue!=null){var w=t.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}R.H=Fm,w=a(h,_)}while(_l);return w}function a1(){var t=R.H,a=t.useState()[0];return a=typeof a.then=="function"?du(a):a,t=t.useState()[0],(sn!==null?sn.memoizedState:null)!==t&&(ve.flags|=1024),a}function Xf(){var t=Mc!==0;return Mc=0,t}function Jf(t,a,h){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~h}function Vf(t){if(Nc){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Nc=!1}is=0,Xn=sn=ve=null,_l=!1,fu=Mc=0,yl=null}function Fi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?ve.memoizedState=Xn=t:Xn=Xn.next=t,Xn}function jn(){if(sn===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var a=Xn===null?ve.memoizedState:Xn.next;if(a!==null)Xn=a,sn=t;else{if(t===null)throw ve.alternate===null?Error(l(467)):Error(l(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},Xn===null?ve.memoizedState=Xn=t:Xn=Xn.next=t}return Xn}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(t){var a=fu;return fu+=1,yl===null&&(yl=[]),t=Xg(yl,t,a),a=ve,(Xn===null?a.memoizedState:Xn.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?zm:od),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return du(t);if(t.$$typeof===X)return _i(t)}throw Error(l(438,String(t)))}function Wf(t){var a=null,h=ve.updateQueue;if(h!==null&&(a=h.memoCache),a==null){var _=ve.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(a={data:_.data.map(function(T){return T.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),h===null&&(h=Oc(),ve.updateQueue=h),h.memoCache=a,h=a.data[a.index],h===void 0)for(h=a.data[a.index]=Array(t),_=0;_<t;_++)h[_]=z;return a.index++,h}function rs(t,a){return typeof a=="function"?a(t):a}function Ic(t){var a=jn();return Qf(a,sn,t)}function Qf(t,a,h){var _=t.queue;if(_===null)throw Error(l(311));_.lastRenderedReducer=h;var T=t.baseQueue,w=_.pending;if(w!==null){if(T!==null){var G=T.next;T.next=w.next,w.next=G}a.baseQueue=T=w,_.pending=null}if(w=t.baseState,T===null)t.memoizedState=w;else{a=T.next;var ut=G=null,_t=null,wt=a,Nt=!1;do{var Bt=wt.lane&-536870913;if(Bt!==wt.lane?(ke&Bt)===Bt:(is&Bt)===Bt){var Lt=wt.revertLane;if(Lt===0)_t!==null&&(_t=_t.next={lane:0,revertLane:0,gesture:null,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),Bt===fl&&(Nt=!0);else if((is&Lt)===Lt){wt=wt.next,Lt===fl&&(Nt=!0);continue}else Bt={lane:0,revertLane:wt.revertLane,gesture:null,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},_t===null?(ut=_t=Bt,G=w):_t=_t.next=Bt,ve.lanes|=Lt,Hs|=Lt;Bt=wt.action,Bo&&h(w,Bt),w=wt.hasEagerState?wt.eagerState:h(w,Bt)}else Lt={lane:Bt,revertLane:wt.revertLane,gesture:wt.gesture,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null},_t===null?(ut=_t=Lt,G=w):_t=_t.next=Lt,ve.lanes|=Bt,Hs|=Bt;wt=wt.next}while(wt!==null&&wt!==a);if(_t===null?G=w:_t.next=ut,!Gn(w,t.memoizedState)&&(Jn=!0,Nt&&(h=dl,h!==null)))throw h;t.memoizedState=w,t.baseState=G,t.baseQueue=_t,_.lastRenderedState=w}return T===null&&(_.lanes=0),[t.memoizedState,_.dispatch]}function Kf(t){var a=jn(),h=a.queue;if(h===null)throw Error(l(311));h.lastRenderedReducer=t;var _=h.dispatch,T=h.pending,w=a.memoizedState;if(T!==null){h.pending=null;var G=T=T.next;do w=t(w,G.action),G=G.next;while(G!==T);Gn(w,a.memoizedState)||(Jn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),h.lastRenderedState=w}return[w,_]}function rm(t,a,h){var _=ve,T=jn(),w=Le;if(w){if(h===void 0)throw Error(l(407));h=h()}else h=a();var G=!Gn((sn||T).memoizedState,h);if(G&&(T.memoizedState=h,Jn=!0),T=T.queue,ed(om.bind(null,_,T,t),[t]),T.getSnapshot!==a||G||Xn!==null&&Xn.memoizedState.tag&1){if(_.flags|=2048,vl(9,{destroy:void 0},sm.bind(null,_,T,h,a),null),hn===null)throw Error(l(349));w||(is&127)!==0||am(_,a,h)}return h}function am(t,a,h){t.flags|=16384,t={getSnapshot:a,value:h},a=ve.updateQueue,a===null?(a=Oc(),ve.updateQueue=a,a.stores=[t]):(h=a.stores,h===null?a.stores=[t]:h.push(t))}function sm(t,a,h,_){a.value=h,a.getSnapshot=_,lm(a)&&um(t)}function om(t,a,h){return h(function(){lm(a)&&um(t)})}function lm(t){var a=t.getSnapshot;t=t.value;try{var h=a();return!Gn(t,h)}catch{return!0}}function um(t){var a=Bi(t,2);a!==null&&or(a,t,2)}function $f(t){var a=Fi();if(typeof t=="function"){var h=t;if(t=h(),Bo){$t(!0);try{h()}finally{$t(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},a}function cm(t,a,h,_){return t.baseState=h,Qf(t,sn,typeof _=="function"?_:rs)}function s1(t,a,h,_,T){if(zc(t))throw Error(l(485));if(t=a.action,t!==null){var w={payload:T,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){w.listeners.push(G)}};R.T!==null?h(!0):w.isTransition=!1,_(w),h=a.pending,h===null?(w.next=a.pending=w,hm(a,w)):(w.next=h.next,a.pending=h.next=w)}}function hm(t,a){var h=a.action,_=a.payload,T=t.state;if(a.isTransition){var w=R.T,G={};R.T=G;try{var ut=h(T,_),_t=R.S;_t!==null&&_t(G,ut),fm(t,a,ut)}catch(wt){td(t,a,wt)}finally{w!==null&&G.types!==null&&(w.types=G.types),R.T=w}}else try{w=h(T,_),fm(t,a,w)}catch(wt){td(t,a,wt)}}function fm(t,a,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(_){dm(t,a,_)},function(_){return td(t,a,_)}):dm(t,a,h)}function dm(t,a,h){a.status="fulfilled",a.value=h,pm(a),t.state=h,a=t.pending,a!==null&&(h=a.next,h===a?t.pending=null:(h=h.next,a.next=h,hm(t,h)))}function td(t,a,h){var _=t.pending;if(t.pending=null,_!==null){_=_.next;do a.status="rejected",a.reason=h,pm(a),a=a.next;while(a!==_)}t.action=null}function pm(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function gm(t,a){return a}function mm(t,a){if(Le){var h=hn.formState;if(h!==null){t:{var _=ve;if(Le){if(qe){e:{for(var T=qe,w=nr;T.nodeType!==8;){if(!w){T=null;break e}if(T=Ur(T.nextSibling),T===null){T=null;break e}}w=T.data,T=w==="F!"||w==="F"?T:null}if(T){qe=Ur(T.nextSibling),_=T.data==="F!";break t}}wa(_)}_=!1}_&&(a=h[0])}}return h=Fi(),h.memoizedState=h.baseState=a,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:a},h.queue=_,h=Im.bind(null,ve,_),_.dispatch=h,_=$f(!1),w=sd.bind(null,ve,!1,_.queue),_=Fi(),T={state:a,dispatch:null,action:t,pending:null},_.queue=T,h=s1.bind(null,ve,T,w,h),T.dispatch=h,_.memoizedState=t,[a,h,!1]}function _m(t){var a=jn();return ym(a,sn,t)}function ym(t,a,h){if(a=Qf(t,a,gm)[0],t=Ic(rs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var _=du(a)}catch(G){throw G===pl?wc:G}else _=a;a=jn();var T=a.queue,w=T.dispatch;return h!==a.memoizedState&&(ve.flags|=2048,vl(9,{destroy:void 0},o1.bind(null,T,h),null)),[_,w,t]}function o1(t,a){t.action=a}function vm(t){var a=jn(),h=sn;if(h!==null)return ym(a,h,t);jn(),a=a.memoizedState,h=jn();var _=h.queue.dispatch;return h.memoizedState=t,[a,_,!1]}function vl(t,a,h,_){return t={tag:t,create:h,deps:_,inst:a,next:null},a=ve.updateQueue,a===null&&(a=Oc(),ve.updateQueue=a),h=a.lastEffect,h===null?a.lastEffect=t.next=t:(_=h.next,h.next=t,t.next=_,a.lastEffect=t),t}function Sm(){return jn().memoizedState}function Pc(t,a,h,_){var T=Fi();ve.flags|=t,T.memoizedState=vl(1|a,{destroy:void 0},h,_===void 0?null:_)}function Bc(t,a,h,_){var T=jn();_=_===void 0?null:_;var w=T.memoizedState.inst;sn!==null&&_!==null&&Hf(_,sn.memoizedState.deps)?T.memoizedState=vl(a,w,h,_):(ve.flags|=t,T.memoizedState=vl(1|a,w,h,_))}function xm(t,a){Pc(8390656,8,t,a)}function ed(t,a){Bc(2048,8,t,a)}function l1(t){ve.flags|=4;var a=ve.updateQueue;if(a===null)a=Oc(),ve.updateQueue=a,a.events=[t];else{var h=a.events;h===null?a.events=[t]:h.push(t)}}function Em(t){var a=jn().memoizedState;return l1({ref:a,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}function bm(t,a){return Bc(4,2,t,a)}function Tm(t,a){return Bc(4,4,t,a)}function wm(t,a){if(typeof a=="function"){t=t();var h=a(t);return function(){typeof h=="function"?h():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Cm(t,a,h){h=h!=null?h.concat([t]):null,Bc(4,4,wm.bind(null,a,t),h)}function nd(){}function Lm(t,a){var h=jn();a=a===void 0?null:a;var _=h.memoizedState;return a!==null&&Hf(a,_[1])?_[0]:(h.memoizedState=[t,a],t)}function Dm(t,a){var h=jn();a=a===void 0?null:a;var _=h.memoizedState;if(a!==null&&Hf(a,_[1]))return _[0];if(_=t(),Bo){$t(!0);try{t()}finally{$t(!1)}}return h.memoizedState=[_,a],_}function id(t,a,h){return h===void 0||(is&1073741824)!==0&&(ke&261930)===0?t.memoizedState=a:(t.memoizedState=h,t=A_(),ve.lanes|=t,Hs|=t,h)}function Am(t,a,h,_){return Gn(h,a)?h:ml.current!==null?(t=id(t,h,_),Gn(t,a)||(Jn=!0),t):(is&42)===0||(is&1073741824)!==0&&(ke&261930)===0?(Jn=!0,t.memoizedState=h):(t=A_(),ve.lanes|=t,Hs|=t,a)}function km(t,a,h,_,T){var w=U.p;U.p=w!==0&&8>w?w:8;var G=R.T,ut={};R.T=ut,sd(t,!1,a,h);try{var _t=T(),wt=R.S;if(wt!==null&&wt(ut,_t),_t!==null&&typeof _t=="object"&&typeof _t.then=="function"){var Nt=i1(_t,_);pu(t,a,Nt,Cr(t))}else pu(t,a,_,Cr(t))}catch(Bt){pu(t,a,{then:function(){},status:"rejected",reason:Bt},Cr())}finally{U.p=w,G!==null&&ut.types!==null&&(G.types=ut.types),R.T=G}}function u1(){}function rd(t,a,h,_){if(t.tag!==5)throw Error(l(476));var T=Nm(t).queue;km(t,T,a,F,h===null?u1:function(){return Mm(t),h(_)})}function Nm(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:F},next:null};var h={};return a.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:h},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Mm(t){var a=Nm(t);a.next===null&&(a=t.alternate.memoizedState),pu(t,a.next.queue,{},Cr())}function ad(){return _i(Nu)}function Om(){return jn().memoizedState}function Rm(){return jn().memoizedState}function c1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var h=Cr();t=Fs(h);var _=js(a,t,h);_!==null&&(or(_,a,h),uu(_,a,h)),a={cache:Rf()},t.payload=a;return}a=a.return}}function h1(t,a,h){var _=Cr();h={lane:_,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},zc(t)?Pm(a,h):(h=Ps(t,a,h,_),h!==null&&(or(h,t,_),Bm(h,a,_)))}function Im(t,a,h){var _=Cr();pu(t,a,h,_)}function pu(t,a,h,_){var T={lane:_,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(zc(t))Pm(a,T);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var G=a.lastRenderedState,ut=w(G,h);if(T.hasEagerState=!0,T.eagerState=ut,Gn(ut,G))return xr(t,a,T,0),hn===null&&ba(),!1}catch{}if(h=Ps(t,a,T,_),h!==null)return or(h,t,_),Bm(h,a,_),!0}return!1}function sd(t,a,h,_){if(_={lane:2,revertLane:zd(),gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(a)throw Error(l(479))}else a=Ps(t,h,_,2),a!==null&&or(a,t,2)}function zc(t){var a=t.alternate;return t===ve||a!==null&&a===ve}function Pm(t,a){_l=Nc=!0;var h=t.pending;h===null?a.next=a:(a.next=h.next,h.next=a),t.pending=a}function Bm(t,a,h){if((h&4194048)!==0){var _=a.lanes;_&=t.pendingLanes,h|=_,a.lanes=h,bs(t,h)}}var gu={readContext:_i,use:Rc,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In};gu.useEffectEvent=In;var zm={readContext:_i,use:Rc,useCallback:function(t,a){return Fi().memoizedState=[t,a===void 0?null:a],t},useContext:_i,useEffect:xm,useImperativeHandle:function(t,a,h){h=h!=null?h.concat([t]):null,Pc(4194308,4,wm.bind(null,a,t),h)},useLayoutEffect:function(t,a){return Pc(4194308,4,t,a)},useInsertionEffect:function(t,a){Pc(4,2,t,a)},useMemo:function(t,a){var h=Fi();a=a===void 0?null:a;var _=t();if(Bo){$t(!0);try{t()}finally{$t(!1)}}return h.memoizedState=[_,a],_},useReducer:function(t,a,h){var _=Fi();if(h!==void 0){var T=h(a);if(Bo){$t(!0);try{h(a)}finally{$t(!1)}}}else T=a;return _.memoizedState=_.baseState=T,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:T},_.queue=t,t=t.dispatch=h1.bind(null,ve,t),[_.memoizedState,t]},useRef:function(t){var a=Fi();return t={current:t},a.memoizedState=t},useState:function(t){t=$f(t);var a=t.queue,h=Im.bind(null,ve,a);return a.dispatch=h,[t.memoizedState,h]},useDebugValue:nd,useDeferredValue:function(t,a){var h=Fi();return id(h,t,a)},useTransition:function(){var t=$f(!1);return t=km.bind(null,ve,t.queue,!0,!1),Fi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,h){var _=ve,T=Fi();if(Le){if(h===void 0)throw Error(l(407));h=h()}else{if(h=a(),hn===null)throw Error(l(349));(ke&127)!==0||am(_,a,h)}T.memoizedState=h;var w={value:h,getSnapshot:a};return T.queue=w,xm(om.bind(null,_,w,t),[t]),_.flags|=2048,vl(9,{destroy:void 0},sm.bind(null,_,w,h,a),null),h},useId:function(){var t=Fi(),a=hn.identifierPrefix;if(Le){var h=qt,_=Pt;h=(_&~(1<<32-di(_)-1)).toString(32)+h,a="_"+a+"R_"+h,h=Mc++,0<h&&(a+="H"+h.toString(32)),a+="_"}else h=r1++,a="_"+a+"r_"+h.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:ad,useFormState:mm,useActionState:mm,useOptimistic:function(t){var a=Fi();a.memoizedState=a.baseState=t;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=h,a=sd.bind(null,ve,!0,h),h.dispatch=a,[t,a]},useMemoCache:Wf,useCacheRefresh:function(){return Fi().memoizedState=c1.bind(null,ve)},useEffectEvent:function(t){var a=Fi(),h={impl:t};return a.memoizedState=h,function(){if((Qe&2)!==0)throw Error(l(440));return h.impl.apply(void 0,arguments)}}},od={readContext:_i,use:Rc,useCallback:Lm,useContext:_i,useEffect:ed,useImperativeHandle:Cm,useInsertionEffect:bm,useLayoutEffect:Tm,useMemo:Dm,useReducer:Ic,useRef:Sm,useState:function(){return Ic(rs)},useDebugValue:nd,useDeferredValue:function(t,a){var h=jn();return Am(h,sn.memoizedState,t,a)},useTransition:function(){var t=Ic(rs)[0],a=jn().memoizedState;return[typeof t=="boolean"?t:du(t),a]},useSyncExternalStore:rm,useId:Om,useHostTransitionStatus:ad,useFormState:_m,useActionState:_m,useOptimistic:function(t,a){var h=jn();return cm(h,sn,t,a)},useMemoCache:Wf,useCacheRefresh:Rm};od.useEffectEvent=Em;var Fm={readContext:_i,use:Rc,useCallback:Lm,useContext:_i,useEffect:ed,useImperativeHandle:Cm,useInsertionEffect:bm,useLayoutEffect:Tm,useMemo:Dm,useReducer:Kf,useRef:Sm,useState:function(){return Kf(rs)},useDebugValue:nd,useDeferredValue:function(t,a){var h=jn();return sn===null?id(h,t,a):Am(h,sn.memoizedState,t,a)},useTransition:function(){var t=Kf(rs)[0],a=jn().memoizedState;return[typeof t=="boolean"?t:du(t),a]},useSyncExternalStore:rm,useId:Om,useHostTransitionStatus:ad,useFormState:vm,useActionState:vm,useOptimistic:function(t,a){var h=jn();return sn!==null?cm(h,sn,t,a):(h.baseState=t,[t,h.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Rm};Fm.useEffectEvent=Em;function ld(t,a,h,_){a=t.memoizedState,h=h(_,a),h=h==null?a:x({},a,h),t.memoizedState=h,t.lanes===0&&(t.updateQueue.baseState=h)}var ud={enqueueSetState:function(t,a,h){t=t._reactInternals;var _=Cr(),T=Fs(_);T.payload=a,h!=null&&(T.callback=h),a=js(t,T,_),a!==null&&(or(a,t,_),uu(a,t,_))},enqueueReplaceState:function(t,a,h){t=t._reactInternals;var _=Cr(),T=Fs(_);T.tag=1,T.payload=a,h!=null&&(T.callback=h),a=js(t,T,_),a!==null&&(or(a,t,_),uu(a,t,_))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var h=Cr(),_=Fs(h);_.tag=2,a!=null&&(_.callback=a),a=js(t,_,h),a!==null&&(or(a,t,h),uu(a,t,h))}};function jm(t,a,h,_,T,w,G){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(_,w,G):a.prototype&&a.prototype.isPureReactComponent?!Ea(h,_)||!Ea(T,w):!0}function Um(t,a,h,_){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,_),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,_),a.state!==t&&ud.enqueueReplaceState(a,a.state,null)}function zo(t,a){var h=a;if("ref"in a){h={};for(var _ in a)_!=="ref"&&(h[_]=a[_])}if(t=t.defaultProps){h===a&&(h=x({},h));for(var T in t)h[T]===void 0&&(h[T]=t[T])}return h}function Ym(t){Pi(t)}function Gm(t){console.error(t)}function qm(t){Pi(t)}function Fc(t,a){try{var h=t.onUncaughtError;h(a.value,{componentStack:a.stack})}catch(_){setTimeout(function(){throw _})}}function Hm(t,a,h){try{var _=t.onCaughtError;_(h.value,{componentStack:h.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function cd(t,a,h){return h=Fs(h),h.tag=3,h.payload={element:null},h.callback=function(){Fc(t,a)},h}function Zm(t){return t=Fs(t),t.tag=3,t}function Xm(t,a,h,_){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var w=_.value;t.payload=function(){return T(w)},t.callback=function(){Hm(a,h,_)}}var G=h.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(t.callback=function(){Hm(a,h,_),typeof T!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var ut=_.stack;this.componentDidCatch(_.value,{componentStack:ut!==null?ut:""})})}function f1(t,a,h,_,T){if(h.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(a=h.alternate,a!==null&&hl(a,h,T,!0),h=Er.current,h!==null){switch(h.tag){case 31:case 13:return jr===null?Qc():h.alternate===null&&Pn===0&&(Pn=3),h.flags&=-257,h.flags|=65536,h.lanes=T,_===Cc?h.flags|=16384:(a=h.updateQueue,a===null?h.updateQueue=new Set([_]):a.add(_),Id(t,_,T)),!1;case 22:return h.flags|=65536,_===Cc?h.flags|=16384:(a=h.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([_])},h.updateQueue=a):(h=a.retryQueue,h===null?a.retryQueue=new Set([_]):h.add(_)),Id(t,_,T)),!1}throw Error(l(435,h.tag))}return Id(t,_,T),Qc(),!1}if(Le)return a=Er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=T,_!==cl&&(t=Error(l(422),{cause:_}),ko(m(t,h)))):(_!==cl&&(a=Error(l(423),{cause:_}),ko(m(a,h))),t=t.current.alternate,t.flags|=65536,T&=-T,t.lanes|=T,_=m(_,h),T=cd(t.stateNode,_,T),jf(t,T),Pn!==4&&(Pn=2)),!1;var w=Error(l(520),{cause:_});if(w=m(w,h),bu===null?bu=[w]:bu.push(w),Pn!==4&&(Pn=2),a===null)return!0;_=m(_,h),h=a;do{switch(h.tag){case 3:return h.flags|=65536,t=T&-T,h.lanes|=t,t=cd(h.stateNode,_,t),jf(h,t),!1;case 1:if(a=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zs===null||!Zs.has(w))))return h.flags|=65536,T&=-T,h.lanes|=T,T=Zm(T),Xm(T,t,h,_),jf(h,T),!1}h=h.return}while(h!==null);return!1}var hd=Error(l(461)),Jn=!1;function yi(t,a,h,_){a.child=t===null?Qg(a,null,h,_):Po(a,t.child,h,_)}function Jm(t,a,h,_,T){h=h.render;var w=a.ref;if("ref"in _){var G={};for(var ut in _)ut!=="ref"&&(G[ut]=_[ut])}else G=_;return Mo(a),_=Zf(t,a,h,G,w,T),ut=Xf(),t!==null&&!Jn?(Jf(t,a,T),as(t,a,T)):(Le&&ut&&ai(a),a.flags|=1,yi(t,a,_,T),a.child)}function Vm(t,a,h,_,T){if(t===null){var w=h.type;return typeof w=="function"&&!ll(w)&&w.defaultProps===void 0&&h.compare===null?(a.tag=15,a.type=w,Wm(t,a,w,_,T)):(t=Ao(h.type,null,_,a,a.mode,T),t.ref=a.ref,t.return=a,a.child=t)}if(w=t.child,!vd(t,T)){var G=w.memoizedProps;if(h=h.compare,h=h!==null?h:Ea,h(G,_)&&t.ref===a.ref)return as(t,a,T)}return a.flags|=1,t=Fr(w,_),t.ref=a.ref,t.return=a,a.child=t}function Wm(t,a,h,_,T){if(t!==null){var w=t.memoizedProps;if(Ea(w,_)&&t.ref===a.ref)if(Jn=!1,a.pendingProps=_=w,vd(t,T))(t.flags&131072)!==0&&(Jn=!0);else return a.lanes=t.lanes,as(t,a,T)}return fd(t,a,h,_,T)}function Qm(t,a,h,_){var T=_.children,w=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|h:h,t!==null){for(_=a.child=t.child,T=0;_!==null;)T=T|_.lanes|_.childLanes,_=_.sibling;_=T&~w}else _=0,a.child=null;return Km(t,a,w,h,_)}if((h&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(a,w!==null?w.cachePool:null),w!==null?tm(a,w):Yf(),em(a);else return _=a.lanes=536870912,Km(t,a,w!==null?w.baseLanes|h:h,h,_)}else w!==null?(Tc(a,w.cachePool),tm(a,w),Ys(),a.memoizedState=null):(t!==null&&Tc(a,null),Yf(),Ys());return yi(t,a,T,h),a.child}function mu(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Km(t,a,h,_,T){var w=Pf();return w=w===null?null:{parent:Zn._currentValue,pool:w},a.memoizedState={baseLanes:h,cachePool:w},t!==null&&Tc(a,null),Yf(),em(a),t!==null&&hl(t,a,_,!0),a.childLanes=T,null}function jc(t,a){return a=Yc({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function $m(t,a,h){return Po(a,t.child,null,h),t=jc(a,a.pendingProps),t.flags|=2,br(a),a.memoizedState=null,t}function d1(t,a,h){var _=a.pendingProps,T=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Le){if(_.mode==="hidden")return t=jc(a,_),a.lanes=536870912,mu(null,t);if(qf(a),(t=qe)?(t=hy(t,nr),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ct!==null?{id:Pt,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},h=eu(t),h.return=a,a.child=h,Ge=a,qe=null)):t=null,t===null)throw wa(a);return a.lanes=536870912,null}return jc(a,_)}var w=t.memoizedState;if(w!==null){var G=w.dehydrated;if(qf(a),T)if(a.flags&256)a.flags&=-257,a=$m(t,a,h);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(l(558));else if(Jn||hl(t,a,h,!1),T=(h&t.childLanes)!==0,Jn||T){if(_=hn,_!==null&&(G=go(_,h),G!==0&&G!==w.retryLane))throw w.retryLane=G,Bi(t,G),or(_,t,G),hd;Qc(),a=$m(t,a,h)}else t=w.treeContext,qe=Ur(G.nextSibling),Ge=a,Le=!0,Ta=null,nr=!1,t!==null&&zi(a,t),a=jc(a,_),a.flags|=4096;return a}return t=Fr(t.child,{mode:_.mode,children:_.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Uc(t,a){var h=a.ref;if(h===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(l(284));(t===null||t.ref!==h)&&(a.flags|=4194816)}}function fd(t,a,h,_,T){return Mo(a),h=Zf(t,a,h,_,void 0,T),_=Xf(),t!==null&&!Jn?(Jf(t,a,T),as(t,a,T)):(Le&&_&&ai(a),a.flags|=1,yi(t,a,h,T),a.child)}function t_(t,a,h,_,T,w){return Mo(a),a.updateQueue=null,h=im(a,_,h,T),nm(t),_=Xf(),t!==null&&!Jn?(Jf(t,a,w),as(t,a,w)):(Le&&_&&ai(a),a.flags|=1,yi(t,a,h,w),a.child)}function e_(t,a,h,_,T){if(Mo(a),a.stateNode===null){var w=$a,G=h.contextType;typeof G=="object"&&G!==null&&(w=_i(G)),w=new h(_,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ud,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=_,w.state=a.memoizedState,w.refs={},zf(a),G=h.contextType,w.context=typeof G=="object"&&G!==null?_i(G):$a,w.state=a.memoizedState,G=h.getDerivedStateFromProps,typeof G=="function"&&(ld(a,h,G,_),w.state=a.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(G=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),G!==w.state&&ud.enqueueReplaceState(w,w.state,null),hu(a,_,w,T),cu(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),_=!0}else if(t===null){w=a.stateNode;var ut=a.memoizedProps,_t=zo(h,ut);w.props=_t;var wt=w.context,Nt=h.contextType;G=$a,typeof Nt=="object"&&Nt!==null&&(G=_i(Nt));var Bt=h.getDerivedStateFromProps;Nt=typeof Bt=="function"||typeof w.getSnapshotBeforeUpdate=="function",ut=a.pendingProps!==ut,Nt||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(ut||wt!==G)&&Um(a,w,_,G),zs=!1;var Lt=a.memoizedState;w.state=Lt,hu(a,_,w,T),cu(),wt=a.memoizedState,ut||Lt!==wt||zs?(typeof Bt=="function"&&(ld(a,h,Bt,_),wt=a.memoizedState),(_t=zs||jm(a,h,_t,_,Lt,wt,G))?(Nt||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=_,a.memoizedState=wt),w.props=_,w.state=wt,w.context=G,_=_t):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),_=!1)}else{w=a.stateNode,Ff(t,a),G=a.memoizedProps,Nt=zo(h,G),w.props=Nt,Bt=a.pendingProps,Lt=w.context,wt=h.contextType,_t=$a,typeof wt=="object"&&wt!==null&&(_t=_i(wt)),ut=h.getDerivedStateFromProps,(wt=typeof ut=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G!==Bt||Lt!==_t)&&Um(a,w,_,_t),zs=!1,Lt=a.memoizedState,w.state=Lt,hu(a,_,w,T),cu();var kt=a.memoizedState;G!==Bt||Lt!==kt||zs||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof ut=="function"&&(ld(a,h,ut,_),kt=a.memoizedState),(Nt=zs||jm(a,h,Nt,_,Lt,kt,_t)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(wt||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(_,kt,_t),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(_,kt,_t)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||G===t.memoizedProps&&Lt===t.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===t.memoizedProps&&Lt===t.memoizedState||(a.flags|=1024),a.memoizedProps=_,a.memoizedState=kt),w.props=_,w.state=kt,w.context=_t,_=Nt):(typeof w.componentDidUpdate!="function"||G===t.memoizedProps&&Lt===t.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===t.memoizedProps&&Lt===t.memoizedState||(a.flags|=1024),_=!1)}return w=_,Uc(t,a),_=(a.flags&128)!==0,w||_?(w=a.stateNode,h=_&&typeof h.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,t!==null&&_?(a.child=Po(a,t.child,null,T),a.child=Po(a,null,h,T)):yi(t,a,h,T),a.memoizedState=w.state,t=a.child):t=as(t,a,T),t}function n_(t,a,h,_){return es(),a.flags|=256,yi(t,a,h,_),a.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Hg()}}function gd(t,a,h){return t=t!==null?t.childLanes&~h:0,a&&(t|=wr),t}function i_(t,a,h){var _=a.pendingProps,T=!1,w=(a.flags&128)!==0,G;if((G=w)||(G=t!==null&&t.memoizedState===null?!1:(Fn.current&2)!==0),G&&(T=!0,a.flags&=-129),G=(a.flags&32)!==0,a.flags&=-33,t===null){if(Le){if(T?Us(a):Ys(),(t=qe)?(t=hy(t,nr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ct!==null?{id:Pt,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},h=eu(t),h.return=a,a.child=h,Ge=a,qe=null)):t=null,t===null)throw wa(a);return Qd(t)?a.lanes=32:a.lanes=536870912,null}var ut=_.children;return _=_.fallback,T?(Ys(),T=a.mode,ut=Yc({mode:"hidden",children:ut},T),_=ts(_,T,h,null),ut.return=a,_.return=a,ut.sibling=_,a.child=ut,_=a.child,_.memoizedState=pd(h),_.childLanes=gd(t,G,h),a.memoizedState=dd,mu(null,_)):(Us(a),md(a,ut))}var _t=t.memoizedState;if(_t!==null&&(ut=_t.dehydrated,ut!==null)){if(w)a.flags&256?(Us(a),a.flags&=-257,a=_d(t,a,h)):a.memoizedState!==null?(Ys(),a.child=t.child,a.flags|=128,a=null):(Ys(),ut=_.fallback,T=a.mode,_=Yc({mode:"visible",children:_.children},T),ut=ts(ut,T,h,null),ut.flags|=2,_.return=a,ut.return=a,_.sibling=ut,a.child=_,Po(a,t.child,null,h),_=a.child,_.memoizedState=pd(h),_.childLanes=gd(t,G,h),a.memoizedState=dd,a=mu(null,_));else if(Us(a),Qd(ut)){if(G=ut.nextSibling&&ut.nextSibling.dataset,G)var wt=G.dgst;G=wt,_=Error(l(419)),_.stack="",_.digest=G,ko({value:_,source:null,stack:null}),a=_d(t,a,h)}else if(Jn||hl(t,a,h,!1),G=(h&t.childLanes)!==0,Jn||G){if(G=hn,G!==null&&(_=go(G,h),_!==0&&_!==_t.retryLane))throw _t.retryLane=_,Bi(t,_),or(G,t,_),hd;Wd(ut)||Qc(),a=_d(t,a,h)}else Wd(ut)?(a.flags|=192,a.child=t.child,a=null):(t=_t.treeContext,qe=Ur(ut.nextSibling),Ge=a,Le=!0,Ta=null,nr=!1,t!==null&&zi(a,t),a=md(a,_.children),a.flags|=4096);return a}return T?(Ys(),ut=_.fallback,T=a.mode,_t=t.child,wt=_t.sibling,_=Fr(_t,{mode:"hidden",children:_.children}),_.subtreeFlags=_t.subtreeFlags&65011712,wt!==null?ut=Fr(wt,ut):(ut=ts(ut,T,h,null),ut.flags|=2),ut.return=a,_.return=a,_.sibling=ut,a.child=_,mu(null,_),_=a.child,ut=t.child.memoizedState,ut===null?ut=pd(h):(T=ut.cachePool,T!==null?(_t=Zn._currentValue,T=T.parent!==_t?{parent:_t,pool:_t}:T):T=Hg(),ut={baseLanes:ut.baseLanes|h,cachePool:T}),_.memoizedState=ut,_.childLanes=gd(t,G,h),a.memoizedState=dd,mu(t.child,_)):(Us(a),h=t.child,t=h.sibling,h=Fr(h,{mode:"visible",children:_.children}),h.return=a,h.sibling=null,t!==null&&(G=a.deletions,G===null?(a.deletions=[t],a.flags|=16):G.push(t)),a.child=h,a.memoizedState=null,h)}function md(t,a){return a=Yc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Yc(t,a){return t=Di(22,t,null,a),t.lanes=0,t}function _d(t,a,h){return Po(a,t.child,null,h),t=md(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function r_(t,a,h){t.lanes|=a;var _=t.alternate;_!==null&&(_.lanes|=a),Mf(t.return,a,h)}function yd(t,a,h,_,T,w){var G=t.memoizedState;G===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:_,tail:h,tailMode:T,treeForkCount:w}:(G.isBackwards=a,G.rendering=null,G.renderingStartTime=0,G.last=_,G.tail=h,G.tailMode=T,G.treeForkCount=w)}function a_(t,a,h){var _=a.pendingProps,T=_.revealOrder,w=_.tail;_=_.children;var G=Fn.current,ut=(G&2)!==0;if(ut?(G=G&1|2,a.flags|=128):G&=1,ct(Fn,G),yi(t,a,_,h),_=Le?st:0,!ut&&t!==null&&(t.flags&128)!==0)t:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r_(t,h,a);else if(t.tag===19)r_(t,h,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break t;for(;t.sibling===null;){if(t.return===null||t.return===a)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(T){case"forwards":for(h=a.child,T=null;h!==null;)t=h.alternate,t!==null&&kc(t)===null&&(T=h),h=h.sibling;h=T,h===null?(T=a.child,a.child=null):(T=h.sibling,h.sibling=null),yd(a,!1,T,h,w,_);break;case"backwards":case"unstable_legacy-backwards":for(h=null,T=a.child,a.child=null;T!==null;){if(t=T.alternate,t!==null&&kc(t)===null){a.child=T;break}t=T.sibling,T.sibling=h,h=T,T=t}yd(a,!0,h,null,w,_);break;case"together":yd(a,!1,null,null,void 0,_);break;default:a.memoizedState=null}return a.child}function as(t,a,h){if(t!==null&&(a.dependencies=t.dependencies),Hs|=a.lanes,(h&a.childLanes)===0)if(t!==null){if(hl(t,a,h,!1),(h&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(l(153));if(a.child!==null){for(t=a.child,h=Fr(t,t.pendingProps),a.child=h,h.return=a;t.sibling!==null;)t=t.sibling,h=h.sibling=Fr(t,t.pendingProps),h.return=a;h.sibling=null}return a.child}function vd(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function p1(t,a,h){switch(a.tag){case 3:ht(a,a.stateNode.containerInfo),Bs(a,Zn,t.memoizedState.cache),es();break;case 27:case 5:Ot(a);break;case 4:ht(a,a.stateNode.containerInfo);break;case 10:Bs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,qf(a),null;break;case 13:var _=a.memoizedState;if(_!==null)return _.dehydrated!==null?(Us(a),a.flags|=128,null):(h&a.child.childLanes)!==0?i_(t,a,h):(Us(a),t=as(t,a,h),t!==null?t.sibling:null);Us(a);break;case 19:var T=(t.flags&128)!==0;if(_=(h&a.childLanes)!==0,_||(hl(t,a,h,!1),_=(h&a.childLanes)!==0),T){if(_)return a_(t,a,h);a.flags|=128}if(T=a.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ct(Fn,Fn.current),_)break;return null;case 22:return a.lanes=0,Qm(t,a,h,a.pendingProps);case 24:Bs(a,Zn,t.memoizedState.cache)}return as(t,a,h)}function s_(t,a,h){if(t!==null)if(t.memoizedProps!==a.pendingProps)Jn=!0;else{if(!vd(t,h)&&(a.flags&128)===0)return Jn=!1,p1(t,a,h);Jn=(t.flags&131072)!==0}else Jn=!1,Le&&(a.flags&1048576)!==0&&xe(a,st,a.index);switch(a.lanes=0,a.tag){case 16:t:{var _=a.pendingProps;if(t=Ro(a.elementType),a.type=t,typeof t=="function")ll(t)?(_=zo(t,_),a.tag=1,a=e_(null,a,t,_,h)):(a.tag=0,a=fd(null,a,t,_,h));else{if(t!=null){var T=t.$$typeof;if(T===V){a.tag=11,a=Jm(null,a,t,_,h);break t}else if(T===tt){a.tag=14,a=Vm(null,a,t,_,h);break t}}throw a=at(t)||t,Error(l(306,a,""))}}return a;case 0:return fd(t,a,a.type,a.pendingProps,h);case 1:return _=a.type,T=zo(_,a.pendingProps),e_(t,a,_,T,h);case 3:t:{if(ht(a,a.stateNode.containerInfo),t===null)throw Error(l(387));_=a.pendingProps;var w=a.memoizedState;T=w.element,Ff(t,a),hu(a,_,null,h);var G=a.memoizedState;if(_=G.cache,Bs(a,Zn,_),_!==w.cache&&Of(a,[Zn],h,!0),cu(),_=G.element,w.isDehydrated)if(w={element:_,isDehydrated:!1,cache:G.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=n_(t,a,_,h);break t}else if(_!==T){T=m(Error(l(424)),a),ko(T),a=n_(t,a,_,h);break t}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,qe=Ur(t.firstChild),Ge=a,Le=!0,Ta=null,nr=!0,h=Qg(a,null,_,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(es(),_===T){a=as(t,a,h);break t}yi(t,a,_,h)}a=a.child}return a;case 26:return Uc(t,a),t===null?(h=_y(a.type,null,a.pendingProps,null))?a.memoizedState=h:Le||(h=a.type,t=a.pendingProps,_=rh(St.current).createElement(h),_[On]=a,_[je]=t,vi(_,h,t),dn(_),a.stateNode=_):a.memoizedState=_y(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ot(a),t===null&&Le&&(_=a.stateNode=py(a.type,a.pendingProps,St.current),Ge=a,nr=!0,T=qe,Ws(a.type)?(Kd=T,qe=Ur(_.firstChild)):qe=T),yi(t,a,a.pendingProps.children,h),Uc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Le&&((T=_=qe)&&(_=q1(_,a.type,a.pendingProps,nr),_!==null?(a.stateNode=_,Ge=a,qe=Ur(_.firstChild),nr=!1,T=!0):T=!1),T||wa(a)),Ot(a),T=a.type,w=a.pendingProps,G=t!==null?t.memoizedProps:null,_=w.children,Xd(T,w)?_=null:G!==null&&Xd(T,G)&&(a.flags|=32),a.memoizedState!==null&&(T=Zf(t,a,a1,null,null,h),Nu._currentValue=T),Uc(t,a),yi(t,a,_,h),a.child;case 6:return t===null&&Le&&((t=h=qe)&&(h=H1(h,a.pendingProps,nr),h!==null?(a.stateNode=h,Ge=a,qe=null,t=!0):t=!1),t||wa(a)),null;case 13:return i_(t,a,h);case 4:return ht(a,a.stateNode.containerInfo),_=a.pendingProps,t===null?a.child=Po(a,null,_,h):yi(t,a,_,h),a.child;case 11:return Jm(t,a,a.type,a.pendingProps,h);case 7:return yi(t,a,a.pendingProps,h),a.child;case 8:return yi(t,a,a.pendingProps.children,h),a.child;case 12:return yi(t,a,a.pendingProps.children,h),a.child;case 10:return _=a.pendingProps,Bs(a,a.type,_.value),yi(t,a,_.children,h),a.child;case 9:return T=a.type._context,_=a.pendingProps.children,Mo(a),T=_i(T),_=_(T),a.flags|=1,yi(t,a,_,h),a.child;case 14:return Vm(t,a,a.type,a.pendingProps,h);case 15:return Wm(t,a,a.type,a.pendingProps,h);case 19:return a_(t,a,h);case 31:return d1(t,a,h);case 22:return Qm(t,a,h,a.pendingProps);case 24:return Mo(a),_=_i(Zn),t===null?(T=Pf(),T===null&&(T=hn,w=Rf(),T.pooledCache=w,w.refCount++,w!==null&&(T.pooledCacheLanes|=h),T=w),a.memoizedState={parent:_,cache:T},zf(a),Bs(a,Zn,T)):((t.lanes&h)!==0&&(Ff(t,a),hu(a,null,null,h),cu()),T=t.memoizedState,w=a.memoizedState,T.parent!==_?(T={parent:_,cache:_},a.memoizedState=T,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=T),Bs(a,Zn,_)):(_=w.cache,Bs(a,Zn,_),_!==T.cache&&Of(a,[Zn],h,!0))),yi(t,a,a.pendingProps.children,h),a.child;case 29:throw a.pendingProps}throw Error(l(156,a.tag))}function ss(t){t.flags|=4}function Sd(t,a,h,_,T){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(T&335544128)===T)if(t.stateNode.complete)t.flags|=8192;else if(O_())t.flags|=8192;else throw Io=Cc,Bf}else t.flags&=-16777217}function o_(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ey(a))if(O_())t.flags|=8192;else throw Io=Cc,Bf}function Gc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Yt():536870912,t.lanes|=a,bl|=a)}function _u(t,a){if(!Le)switch(t.tailMode){case"hidden":a=t.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?t.tail=null:h.sibling=null;break;case"collapsed":h=t.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:_.sibling=null}}function mn(t){var a=t.alternate!==null&&t.alternate.child===t.child,h=0,_=0;if(a)for(var T=t.child;T!==null;)h|=T.lanes|T.childLanes,_|=T.subtreeFlags&65011712,_|=T.flags&65011712,T.return=t,T=T.sibling;else for(T=t.child;T!==null;)h|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=t,T=T.sibling;return t.subtreeFlags|=_,t.childLanes=h,a}function g1(t,a,h){var _=a.pendingProps;switch(Rn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(a),null;case 1:return mn(a),null;case 3:return h=a.stateNode,_=null,t!==null&&(_=t.memoizedState.cache),a.memoizedState.cache!==_&&(a.flags|=2048),ns(Zn),It(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(t===null||t.child===null)&&(aa(a)?ss(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ru())),mn(a),null;case 26:var T=a.type,w=a.memoizedState;return t===null?(ss(a),w!==null?(mn(a),o_(a,w)):(mn(a),Sd(a,T,null,_,h))):w?w!==t.memoizedState?(ss(a),mn(a),o_(a,w)):(mn(a),a.flags&=-16777217):(t=t.memoizedProps,t!==_&&ss(a),mn(a),Sd(a,T,t,_,h)),null;case 27:if(At(a),h=St.current,T=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==_&&ss(a);else{if(!_){if(a.stateNode===null)throw Error(l(166));return mn(a),null}t=pt.current,aa(a)?iu(a):(t=py(T,_,h),a.stateNode=t,ss(a))}return mn(a),null;case 5:if(At(a),T=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==_&&ss(a);else{if(!_){if(a.stateNode===null)throw Error(l(166));return mn(a),null}if(w=pt.current,aa(a))iu(a);else{var G=rh(St.current);switch(w){case 1:w=G.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:w=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":w=G.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":w=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":w=G.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof _.is=="string"?G.createElement("select",{is:_.is}):G.createElement("select"),_.multiple?w.multiple=!0:_.size&&(w.size=_.size);break;default:w=typeof _.is=="string"?G.createElement(T,{is:_.is}):G.createElement(T)}}w[On]=a,w[je]=_;t:for(G=a.child;G!==null;){if(G.tag===5||G.tag===6)w.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===a)break t;for(;G.sibling===null;){if(G.return===null||G.return===a)break t;G=G.return}G.sibling.return=G.return,G=G.sibling}a.stateNode=w;t:switch(vi(w,T,_),T){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break t;case"img":_=!0;break t;default:_=!1}_&&ss(a)}}return mn(a),Sd(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,h),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==_&&ss(a);else{if(typeof _!="string"&&a.stateNode===null)throw Error(l(166));if(t=St.current,aa(a)){if(t=a.stateNode,h=a.memoizedProps,_=null,T=Ge,T!==null)switch(T.tag){case 27:case 5:_=T.memoizedProps}t[On]=a,t=!!(t.nodeValue===h||_!==null&&_.suppressHydrationWarning===!0||iy(t.nodeValue,h)),t||wa(a,!0)}else t=rh(t).createTextNode(_),t[On]=a,a.stateNode=t}return mn(a),null;case 31:if(h=a.memoizedState,t===null||t.memoizedState!==null){if(_=aa(a),h!==null){if(t===null){if(!_)throw Error(l(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[On]=a}else es(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mn(a),t=!1}else h=ru(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),t=!0;if(!t)return a.flags&256?(br(a),a):(br(a),null);if((a.flags&128)!==0)throw Error(l(558))}return mn(a),null;case 13:if(_=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(T=aa(a),_!==null&&_.dehydrated!==null){if(t===null){if(!T)throw Error(l(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(l(317));T[On]=a}else es(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mn(a),T=!1}else T=ru(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=T),T=!0;if(!T)return a.flags&256?(br(a),a):(br(a),null)}return br(a),(a.flags&128)!==0?(a.lanes=h,a):(h=_!==null,t=t!==null&&t.memoizedState!==null,h&&(_=a.child,T=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(T=_.alternate.memoizedState.cachePool.pool),w=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(w=_.memoizedState.cachePool.pool),w!==T&&(_.flags|=2048)),h!==t&&h&&(a.child.flags|=8192),Gc(a,a.updateQueue),mn(a),null);case 4:return It(),t===null&&Yd(a.stateNode.containerInfo),mn(a),null;case 10:return ns(a.type),mn(a),null;case 19:if(K(Fn),_=a.memoizedState,_===null)return mn(a),null;if(T=(a.flags&128)!==0,w=_.rendering,w===null)if(T)_u(_,!1);else{if(Pn!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(w=kc(t),w!==null){for(a.flags|=128,_u(_,!1),t=w.updateQueue,a.updateQueue=t,Gc(a,t),a.subtreeFlags=0,t=h,h=a.child;h!==null;)tu(h,t),h=h.sibling;return ct(Fn,Fn.current&1|2),Le&&ne(a,_.treeForkCount),a.child}t=t.sibling}_.tail!==null&&Ht()>Jc&&(a.flags|=128,T=!0,_u(_,!1),a.lanes=4194304)}else{if(!T)if(t=kc(w),t!==null){if(a.flags|=128,T=!0,t=t.updateQueue,a.updateQueue=t,Gc(a,t),_u(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Le)return mn(a),null}else 2*Ht()-_.renderingStartTime>Jc&&h!==536870912&&(a.flags|=128,T=!0,_u(_,!1),a.lanes=4194304);_.isBackwards?(w.sibling=a.child,a.child=w):(t=_.last,t!==null?t.sibling=w:a.child=w,_.last=w)}return _.tail!==null?(t=_.tail,_.rendering=t,_.tail=t.sibling,_.renderingStartTime=Ht(),t.sibling=null,h=Fn.current,ct(Fn,T?h&1|2:h&1),Le&&ne(a,_.treeForkCount),t):(mn(a),null);case 22:case 23:return br(a),Gf(),_=a.memoizedState!==null,t!==null?t.memoizedState!==null!==_&&(a.flags|=8192):_&&(a.flags|=8192),_?(h&536870912)!==0&&(a.flags&128)===0&&(mn(a),a.subtreeFlags&6&&(a.flags|=8192)):mn(a),h=a.updateQueue,h!==null&&Gc(a,h.retryQueue),h=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(h=t.memoizedState.cachePool.pool),_=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(_=a.memoizedState.cachePool.pool),_!==h&&(a.flags|=2048),t!==null&&K(Oo),null;case 24:return h=null,t!==null&&(h=t.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ns(Zn),mn(a),null;case 25:return null;case 30:return null}throw Error(l(156,a.tag))}function m1(t,a){switch(Rn(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ns(Zn),It(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return At(a),null;case 31:if(a.memoizedState!==null){if(br(a),a.alternate===null)throw Error(l(340));es()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(br(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(l(340));es()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return K(Fn),null;case 4:return It(),null;case 10:return ns(a.type),null;case 22:case 23:return br(a),Gf(),t!==null&&K(Oo),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ns(Zn),null;case 25:return null;default:return null}}function l_(t,a){switch(Rn(a),a.tag){case 3:ns(Zn),It();break;case 26:case 27:case 5:At(a);break;case 4:It();break;case 31:a.memoizedState!==null&&br(a);break;case 13:br(a);break;case 19:K(Fn);break;case 10:ns(a.type);break;case 22:case 23:br(a),Gf(),t!==null&&K(Oo);break;case 24:ns(Zn)}}function yu(t,a){try{var h=a.updateQueue,_=h!==null?h.lastEffect:null;if(_!==null){var T=_.next;h=T;do{if((h.tag&t)===t){_=void 0;var w=h.create,G=h.inst;_=w(),G.destroy=_}h=h.next}while(h!==T)}}catch(ut){nn(a,a.return,ut)}}function Gs(t,a,h){try{var _=a.updateQueue,T=_!==null?_.lastEffect:null;if(T!==null){var w=T.next;_=w;do{if((_.tag&t)===t){var G=_.inst,ut=G.destroy;if(ut!==void 0){G.destroy=void 0,T=a;var _t=h,wt=ut;try{wt()}catch(Nt){nn(T,_t,Nt)}}}_=_.next}while(_!==w)}}catch(Nt){nn(a,a.return,Nt)}}function u_(t){var a=t.updateQueue;if(a!==null){var h=t.stateNode;try{$g(a,h)}catch(_){nn(t,t.return,_)}}}function c_(t,a,h){h.props=zo(t.type,t.memoizedProps),h.state=t.memoizedState;try{h.componentWillUnmount()}catch(_){nn(t,a,_)}}function vu(t,a){try{var h=t.ref;if(h!==null){switch(t.tag){case 26:case 27:case 5:var _=t.stateNode;break;case 30:_=t.stateNode;break;default:_=t.stateNode}typeof h=="function"?t.refCleanup=h(_):h.current=_}}catch(T){nn(t,a,T)}}function La(t,a){var h=t.ref,_=t.refCleanup;if(h!==null)if(typeof _=="function")try{_()}catch(T){nn(t,a,T)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){nn(t,a,T)}else h.current=null}function h_(t){var a=t.type,h=t.memoizedProps,_=t.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":h.autoFocus&&_.focus();break t;case"img":h.src?_.src=h.src:h.srcSet&&(_.srcset=h.srcSet)}}catch(T){nn(t,t.return,T)}}function xd(t,a,h){try{var _=t.stateNode;z1(_,t.type,h,a),_[je]=a}catch(T){nn(t,t.return,T)}}function f_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function Ed(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||f_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,a,h){var _=t.tag;if(_===5||_===6)t=t.stateNode,a?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(t,a):(a=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,a.appendChild(t),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=ui));else if(_!==4&&(_===27&&Ws(t.type)&&(h=t.stateNode,a=null),t=t.child,t!==null))for(bd(t,a,h),t=t.sibling;t!==null;)bd(t,a,h),t=t.sibling}function qc(t,a,h){var _=t.tag;if(_===5||_===6)t=t.stateNode,a?h.insertBefore(t,a):h.appendChild(t);else if(_!==4&&(_===27&&Ws(t.type)&&(h=t.stateNode),t=t.child,t!==null))for(qc(t,a,h),t=t.sibling;t!==null;)qc(t,a,h),t=t.sibling}function d_(t){var a=t.stateNode,h=t.memoizedProps;try{for(var _=t.type,T=a.attributes;T.length;)a.removeAttributeNode(T[0]);vi(a,_,h),a[On]=t,a[je]=h}catch(w){nn(t,t.return,w)}}var os=!1,Vn=!1,Td=!1,p_=typeof WeakSet=="function"?WeakSet:Set,ci=null;function _1(t,a){if(t=t.containerInfo,Hd=hh,t=qn(t),zn(t)){if("selectionStart"in t)var h={start:t.selectionStart,end:t.selectionEnd};else t:{h=(h=t.ownerDocument)&&h.defaultView||window;var _=h.getSelection&&h.getSelection();if(_&&_.rangeCount!==0){h=_.anchorNode;var T=_.anchorOffset,w=_.focusNode;_=_.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break t}var G=0,ut=-1,_t=-1,wt=0,Nt=0,Bt=t,Lt=null;e:for(;;){for(var kt;Bt!==h||T!==0&&Bt.nodeType!==3||(ut=G+T),Bt!==w||_!==0&&Bt.nodeType!==3||(_t=G+_),Bt.nodeType===3&&(G+=Bt.nodeValue.length),(kt=Bt.firstChild)!==null;)Lt=Bt,Bt=kt;for(;;){if(Bt===t)break e;if(Lt===h&&++wt===T&&(ut=G),Lt===w&&++Nt===_&&(_t=G),(kt=Bt.nextSibling)!==null)break;Bt=Lt,Lt=Bt.parentNode}Bt=kt}h=ut===-1||_t===-1?null:{start:ut,end:_t}}else h=null}h=h||{start:0,end:0}}else h=null;for(Zd={focusedElem:t,selectionRange:h},hh=!1,ci=a;ci!==null;)if(a=ci,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,ci=t;else for(;ci!==null;){switch(a=ci,w=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(h=0;h<t.length;h++)T=t[h],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&w!==null){t=void 0,h=a,T=w.memoizedProps,w=w.memoizedState,_=h.stateNode;try{var Wt=zo(h.type,T);t=_.getSnapshotBeforeUpdate(Wt,w),_.__reactInternalSnapshotBeforeUpdate=t}catch(oe){nn(h,h.return,oe)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,h=t.nodeType,h===9)Vd(t);else if(h===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=a.sibling,t!==null){t.return=a.return,ci=t;break}ci=a.return}}function g_(t,a,h){var _=h.flags;switch(h.tag){case 0:case 11:case 15:us(t,h),_&4&&yu(5,h);break;case 1:if(us(t,h),_&4)if(t=h.stateNode,a===null)try{t.componentDidMount()}catch(G){nn(h,h.return,G)}else{var T=zo(h.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(T,a,t.__reactInternalSnapshotBeforeUpdate)}catch(G){nn(h,h.return,G)}}_&64&&u_(h),_&512&&vu(h,h.return);break;case 3:if(us(t,h),_&64&&(t=h.updateQueue,t!==null)){if(a=null,h.child!==null)switch(h.child.tag){case 27:case 5:a=h.child.stateNode;break;case 1:a=h.child.stateNode}try{$g(t,a)}catch(G){nn(h,h.return,G)}}break;case 27:a===null&&_&4&&d_(h);case 26:case 5:us(t,h),a===null&&_&4&&h_(h),_&512&&vu(h,h.return);break;case 12:us(t,h);break;case 31:us(t,h),_&4&&y_(t,h);break;case 13:us(t,h),_&4&&v_(t,h),_&64&&(t=h.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(h=C1.bind(null,h),Z1(t,h))));break;case 22:if(_=h.memoizedState!==null||os,!_){a=a!==null&&a.memoizedState!==null||Vn,T=os;var w=Vn;os=_,(Vn=a)&&!w?cs(t,h,(h.subtreeFlags&8772)!==0):us(t,h),os=T,Vn=w}break;case 30:break;default:us(t,h)}}function m_(t){var a=t.alternate;a!==null&&(t.alternate=null,m_(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Wr(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var En=null,ir=!1;function ls(t,a,h){for(h=h.child;h!==null;)__(t,a,h),h=h.sibling}function __(t,a,h){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(vn,h)}catch{}switch(h.tag){case 26:Vn||La(h,a),ls(t,a,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Vn||La(h,a);var _=En,T=ir;Ws(h.type)&&(En=h.stateNode,ir=!1),ls(t,a,h),Du(h.stateNode),En=_,ir=T;break;case 5:Vn||La(h,a);case 6:if(_=En,T=ir,En=null,ls(t,a,h),En=_,ir=T,En!==null)if(ir)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(h.stateNode)}catch(w){nn(h,a,w)}else try{En.removeChild(h.stateNode)}catch(w){nn(h,a,w)}break;case 18:En!==null&&(ir?(t=En,uy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,h.stateNode),Nl(t)):uy(En,h.stateNode));break;case 4:_=En,T=ir,En=h.stateNode.containerInfo,ir=!0,ls(t,a,h),En=_,ir=T;break;case 0:case 11:case 14:case 15:Gs(2,h,a),Vn||Gs(4,h,a),ls(t,a,h);break;case 1:Vn||(La(h,a),_=h.stateNode,typeof _.componentWillUnmount=="function"&&c_(h,a,_)),ls(t,a,h);break;case 21:ls(t,a,h);break;case 22:Vn=(_=Vn)||h.memoizedState!==null,ls(t,a,h),Vn=_;break;default:ls(t,a,h)}}function y_(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Nl(t)}catch(h){nn(a,a.return,h)}}}function v_(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(h){nn(a,a.return,h)}}function y1(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new p_),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new p_),a;default:throw Error(l(435,t.tag))}}function Hc(t,a){var h=y1(t);a.forEach(function(_){if(!h.has(_)){h.add(_);var T=L1.bind(null,t,_);_.then(T,T)}})}function rr(t,a){var h=a.deletions;if(h!==null)for(var _=0;_<h.length;_++){var T=h[_],w=t,G=a,ut=G;t:for(;ut!==null;){switch(ut.tag){case 27:if(Ws(ut.type)){En=ut.stateNode,ir=!1;break t}break;case 5:En=ut.stateNode,ir=!1;break t;case 3:case 4:En=ut.stateNode.containerInfo,ir=!0;break t}ut=ut.return}if(En===null)throw Error(l(160));__(w,G,T),En=null,ir=!1,w=T.alternate,w!==null&&(w.return=null),T.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)S_(a,t),a=a.sibling}var oa=null;function S_(t,a){var h=t.alternate,_=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rr(a,t),ar(t),_&4&&(Gs(3,t,t.return),yu(3,t),Gs(5,t,t.return));break;case 1:rr(a,t),ar(t),_&512&&(Vn||h===null||La(h,h.return)),_&64&&os&&(t=t.updateQueue,t!==null&&(_=t.callbacks,_!==null&&(h=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=h===null?_:h.concat(_))));break;case 26:var T=oa;if(rr(a,t),ar(t),_&512&&(Vn||h===null||La(h,h.return)),_&4){var w=h!==null?h.memoizedState:null;if(_=t.memoizedState,h===null)if(_===null)if(t.stateNode===null){t:{_=t.type,h=t.memoizedProps,T=T.ownerDocument||T;e:switch(_){case"title":w=T.getElementsByTagName("title")[0],(!w||w[Ar]||w[On]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=T.createElement(_),T.head.insertBefore(w,T.querySelector("head > title"))),vi(w,_,h),w[On]=t,dn(w),_=w;break t;case"link":var G=Sy("link","href",T).get(_+(h.href||""));if(G){for(var ut=0;ut<G.length;ut++)if(w=G[ut],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){G.splice(ut,1);break e}}w=T.createElement(_),vi(w,_,h),T.head.appendChild(w);break;case"meta":if(G=Sy("meta","content",T).get(_+(h.content||""))){for(ut=0;ut<G.length;ut++)if(w=G[ut],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){G.splice(ut,1);break e}}w=T.createElement(_),vi(w,_,h),T.head.appendChild(w);break;default:throw Error(l(468,_))}w[On]=t,dn(w),_=w}t.stateNode=_}else xy(T,t.type,t.stateNode);else t.stateNode=vy(T,_,t.memoizedProps);else w!==_?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,_===null?xy(T,t.type,t.stateNode):vy(T,_,t.memoizedProps)):_===null&&t.stateNode!==null&&xd(t,t.memoizedProps,h.memoizedProps)}break;case 27:rr(a,t),ar(t),_&512&&(Vn||h===null||La(h,h.return)),h!==null&&_&4&&xd(t,t.memoizedProps,h.memoizedProps);break;case 5:if(rr(a,t),ar(t),_&512&&(Vn||h===null||La(h,h.return)),t.flags&32){T=t.stateNode;try{Oi(T,"")}catch(Wt){nn(t,t.return,Wt)}}_&4&&t.stateNode!=null&&(T=t.memoizedProps,xd(t,T,h!==null?h.memoizedProps:T)),_&1024&&(Td=!0);break;case 6:if(rr(a,t),ar(t),_&4){if(t.stateNode===null)throw Error(l(162));_=t.memoizedProps,h=t.stateNode;try{h.nodeValue=_}catch(Wt){nn(t,t.return,Wt)}}break;case 3:if(oh=null,T=oa,oa=ah(a.containerInfo),rr(a,t),oa=T,ar(t),_&4&&h!==null&&h.memoizedState.isDehydrated)try{Nl(a.containerInfo)}catch(Wt){nn(t,t.return,Wt)}Td&&(Td=!1,x_(t));break;case 4:_=oa,oa=ah(t.stateNode.containerInfo),rr(a,t),ar(t),oa=_;break;case 12:rr(a,t),ar(t);break;case 31:rr(a,t),ar(t),_&4&&(_=t.updateQueue,_!==null&&(t.updateQueue=null,Hc(t,_)));break;case 13:rr(a,t),ar(t),t.child.flags&8192&&t.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Xc=Ht()),_&4&&(_=t.updateQueue,_!==null&&(t.updateQueue=null,Hc(t,_)));break;case 22:T=t.memoizedState!==null;var _t=h!==null&&h.memoizedState!==null,wt=os,Nt=Vn;if(os=wt||T,Vn=Nt||_t,rr(a,t),Vn=Nt,os=wt,ar(t),_&8192)t:for(a=t.stateNode,a._visibility=T?a._visibility&-2:a._visibility|1,T&&(h===null||_t||os||Vn||Fo(t)),h=null,a=t;;){if(a.tag===5||a.tag===26){if(h===null){_t=h=a;try{if(w=_t.stateNode,T)G=w.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ut=_t.stateNode;var Bt=_t.memoizedProps.style,Lt=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;ut.style.display=Lt==null||typeof Lt=="boolean"?"":(""+Lt).trim()}}catch(Wt){nn(_t,_t.return,Wt)}}}else if(a.tag===6){if(h===null){_t=a;try{_t.stateNode.nodeValue=T?"":_t.memoizedProps}catch(Wt){nn(_t,_t.return,Wt)}}}else if(a.tag===18){if(h===null){_t=a;try{var kt=_t.stateNode;T?cy(kt,!0):cy(_t.stateNode,!1)}catch(Wt){nn(_t,_t.return,Wt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;h===a&&(h=null),a=a.return}h===a&&(h=null),a.sibling.return=a.return,a=a.sibling}_&4&&(_=t.updateQueue,_!==null&&(h=_.retryQueue,h!==null&&(_.retryQueue=null,Hc(t,h))));break;case 19:rr(a,t),ar(t),_&4&&(_=t.updateQueue,_!==null&&(t.updateQueue=null,Hc(t,_)));break;case 30:break;case 21:break;default:rr(a,t),ar(t)}}function ar(t){var a=t.flags;if(a&2){try{for(var h,_=t.return;_!==null;){if(f_(_)){h=_;break}_=_.return}if(h==null)throw Error(l(160));switch(h.tag){case 27:var T=h.stateNode,w=Ed(t);qc(t,w,T);break;case 5:var G=h.stateNode;h.flags&32&&(Oi(G,""),h.flags&=-33);var ut=Ed(t);qc(t,ut,G);break;case 3:case 4:var _t=h.stateNode.containerInfo,wt=Ed(t);bd(t,wt,_t);break;default:throw Error(l(161))}}catch(Nt){nn(t,t.return,Nt)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function x_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;x_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function us(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)g_(t,a.alternate,a),a=a.sibling}function Fo(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Gs(4,a,a.return),Fo(a);break;case 1:La(a,a.return);var h=a.stateNode;typeof h.componentWillUnmount=="function"&&c_(a,a.return,h),Fo(a);break;case 27:Du(a.stateNode);case 26:case 5:La(a,a.return),Fo(a);break;case 22:a.memoizedState===null&&Fo(a);break;case 30:Fo(a);break;default:Fo(a)}t=t.sibling}}function cs(t,a,h){for(h=h&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var _=a.alternate,T=t,w=a,G=w.flags;switch(w.tag){case 0:case 11:case 15:cs(T,w,h),yu(4,w);break;case 1:if(cs(T,w,h),_=w,T=_.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(wt){nn(_,_.return,wt)}if(_=w,T=_.updateQueue,T!==null){var ut=_.stateNode;try{var _t=T.shared.hiddenCallbacks;if(_t!==null)for(T.shared.hiddenCallbacks=null,T=0;T<_t.length;T++)Kg(_t[T],ut)}catch(wt){nn(_,_.return,wt)}}h&&G&64&&u_(w),vu(w,w.return);break;case 27:d_(w);case 26:case 5:cs(T,w,h),h&&_===null&&G&4&&h_(w),vu(w,w.return);break;case 12:cs(T,w,h);break;case 31:cs(T,w,h),h&&G&4&&y_(T,w);break;case 13:cs(T,w,h),h&&G&4&&v_(T,w);break;case 22:w.memoizedState===null&&cs(T,w,h),vu(w,w.return);break;case 30:break;default:cs(T,w,h)}a=a.sibling}}function wd(t,a){var h=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(h=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==h&&(t!=null&&t.refCount++,h!=null&&au(h))}function Cd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&au(t))}function la(t,a,h,_){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)E_(t,a,h,_),a=a.sibling}function E_(t,a,h,_){var T=a.flags;switch(a.tag){case 0:case 11:case 15:la(t,a,h,_),T&2048&&yu(9,a);break;case 1:la(t,a,h,_);break;case 3:la(t,a,h,_),T&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&au(t)));break;case 12:if(T&2048){la(t,a,h,_),t=a.stateNode;try{var w=a.memoizedProps,G=w.id,ut=w.onPostCommit;typeof ut=="function"&&ut(G,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_t){nn(a,a.return,_t)}}else la(t,a,h,_);break;case 31:la(t,a,h,_);break;case 13:la(t,a,h,_);break;case 23:break;case 22:w=a.stateNode,G=a.alternate,a.memoizedState!==null?w._visibility&2?la(t,a,h,_):Su(t,a):w._visibility&2?la(t,a,h,_):(w._visibility|=2,Sl(t,a,h,_,(a.subtreeFlags&10256)!==0||!1)),T&2048&&wd(G,a);break;case 24:la(t,a,h,_),T&2048&&Cd(a.alternate,a);break;default:la(t,a,h,_)}}function Sl(t,a,h,_,T){for(T=T&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=t,G=a,ut=h,_t=_,wt=G.flags;switch(G.tag){case 0:case 11:case 15:Sl(w,G,ut,_t,T),yu(8,G);break;case 23:break;case 22:var Nt=G.stateNode;G.memoizedState!==null?Nt._visibility&2?Sl(w,G,ut,_t,T):Su(w,G):(Nt._visibility|=2,Sl(w,G,ut,_t,T)),T&&wt&2048&&wd(G.alternate,G);break;case 24:Sl(w,G,ut,_t,T),T&&wt&2048&&Cd(G.alternate,G);break;default:Sl(w,G,ut,_t,T)}a=a.sibling}}function Su(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var h=t,_=a,T=_.flags;switch(_.tag){case 22:Su(h,_),T&2048&&wd(_.alternate,_);break;case 24:Su(h,_),T&2048&&Cd(_.alternate,_);break;default:Su(h,_)}a=a.sibling}}var xu=8192;function xl(t,a,h){if(t.subtreeFlags&xu)for(t=t.child;t!==null;)b_(t,a,h),t=t.sibling}function b_(t,a,h){switch(t.tag){case 26:xl(t,a,h),t.flags&xu&&t.memoizedState!==null&&rE(h,oa,t.memoizedState,t.memoizedProps);break;case 5:xl(t,a,h);break;case 3:case 4:var _=oa;oa=ah(t.stateNode.containerInfo),xl(t,a,h),oa=_;break;case 22:t.memoizedState===null&&(_=t.alternate,_!==null&&_.memoizedState!==null?(_=xu,xu=16777216,xl(t,a,h),xu=_):xl(t,a,h));break;default:xl(t,a,h)}}function T_(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Eu(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var _=a[h];ci=_,C_(_,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)w_(t),t=t.sibling}function w_(t){switch(t.tag){case 0:case 11:case 15:Eu(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:Eu(t);break;case 12:Eu(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Zc(t)):Eu(t);break;default:Eu(t)}}function Zc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var _=a[h];ci=_,C_(_,t)}T_(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Gs(8,a,a.return),Zc(a);break;case 22:h=a.stateNode,h._visibility&2&&(h._visibility&=-3,Zc(a));break;default:Zc(a)}t=t.sibling}}function C_(t,a){for(;ci!==null;){var h=ci;switch(h.tag){case 0:case 11:case 15:Gs(8,h,a);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var _=h.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:au(h.memoizedState.cache)}if(_=h.child,_!==null)_.return=h,ci=_;else t:for(h=t;ci!==null;){_=ci;var T=_.sibling,w=_.return;if(m_(_),_===h){ci=null;break t}if(T!==null){T.return=w,ci=T;break t}ci=w}}}var v1={getCacheForType:function(t){var a=_i(Zn),h=a.data.get(t);return h===void 0&&(h=t(),a.data.set(t,h)),h},cacheSignal:function(){return _i(Zn).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,hn=null,De=null,ke=0,en=0,Tr=null,qs=!1,El=!1,Ld=!1,hs=0,Pn=0,Hs=0,jo=0,Dd=0,wr=0,bl=0,bu=null,sr=null,Ad=!1,Xc=0,L_=0,Jc=1/0,Vc=null,Zs=null,si=0,Xs=null,Tl=null,fs=0,kd=0,Nd=null,D_=null,Tu=0,Md=null;function Cr(){return(Qe&2)!==0&&ke!==0?ke&-ke:R.T!==null?zd():da()}function A_(){if(wr===0)if((ke&536870912)===0||Le){var t=li;li<<=1,(li&3932160)===0&&(li=262144),wr=t}else wr=536870912;return t=Er.current,t!==null&&(t.flags|=32),wr}function or(t,a,h){(t===hn&&(en===2||en===9)||t.cancelPendingCommit!==null)&&(wl(t,0),Js(t,ke,wr,!1)),Gi(t,h),((Qe&2)===0||t!==hn)&&(t===hn&&((Qe&2)===0&&(jo|=h),Pn===4&&Js(t,ke,wr,!1)),Da(t))}function k_(t,a,h){if((Qe&6)!==0)throw Error(l(327));var _=!h&&(a&127)===0&&(a&t.expiredLanes)===0||ha(t,a),T=_?b1(t,a):Rd(t,a,!0),w=_;do{if(T===0){El&&!_&&Js(t,a,0,!1);break}else{if(h=t.current.alternate,w&&!x1(h)){T=Rd(t,a,!1),w=!1;continue}if(T===2){if(w=a,t.errorRecoveryDisabledLanes&w)var G=0;else G=t.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){a=G;t:{var ut=t;T=bu;var _t=ut.current.memoizedState.isDehydrated;if(_t&&(wl(ut,G).flags|=256),G=Rd(ut,G,!1),G!==2){if(Ld&&!_t){ut.errorRecoveryDisabledLanes|=w,jo|=w,T=4;break t}w=sr,sr=T,w!==null&&(sr===null?sr=w:sr.push.apply(sr,w))}T=G}if(w=!1,T!==2)continue}}if(T===1){wl(t,0),Js(t,a,0,!0);break}t:{switch(_=t,w=T,w){case 0:case 1:throw Error(l(345));case 4:if((a&4194048)!==a)break;case 6:Js(_,a,wr,!qs);break t;case 2:sr=null;break;case 3:case 5:break;default:throw Error(l(329))}if((a&62914560)===a&&(T=Xc+300-Ht(),10<T)){if(Js(_,a,wr,!qs),Es(_,0,!0)!==0)break t;fs=a,_.timeoutHandle=oy(N_.bind(null,_,h,sr,Vc,Ad,a,wr,jo,bl,qs,w,"Throttled",-0,0),T);break t}N_(_,h,sr,Vc,Ad,a,wr,jo,bl,qs,w,null,-0,0)}}break}while(!0);Da(t)}function N_(t,a,h,_,T,w,G,ut,_t,wt,Nt,Bt,Lt,kt){if(t.timeoutHandle=-1,Bt=a.subtreeFlags,Bt&8192||(Bt&16785408)===16785408){Bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},b_(a,w,Bt);var Wt=(w&62914560)===w?Xc-Ht():(w&4194048)===w?L_-Ht():0;if(Wt=aE(Bt,Wt),Wt!==null){fs=w,t.cancelPendingCommit=Wt(F_.bind(null,t,a,w,h,_,T,G,ut,_t,Nt,Bt,null,Lt,kt)),Js(t,w,G,!wt);return}}F_(t,a,w,h,_,T,G,ut,_t)}function x1(t){for(var a=t;;){var h=a.tag;if((h===0||h===11||h===15)&&a.flags&16384&&(h=a.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var _=0;_<h.length;_++){var T=h[_],w=T.getSnapshot;T=T.value;try{if(!Gn(w(),T))return!1}catch{return!1}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(t,a,h,_){a&=~Dd,a&=~jo,t.suspendedLanes|=a,t.pingedLanes&=~a,_&&(t.warmLanes|=a),_=t.expirationTimes;for(var T=a;0<T;){var w=31-di(T),G=1<<w;_[w]=-1,T&=~G}h!==0&&po(t,h,a)}function Wc(){return(Qe&6)===0?(wu(0),!1):!0}function Od(){if(De!==null){if(en===0)var t=De.return;else t=De,sa=Ca=null,Vf(t),gl=null,ou=0,t=De;for(;t!==null;)l_(t.alternate,t),t=t.return;De=null}}function wl(t,a){var h=t.timeoutHandle;h!==-1&&(t.timeoutHandle=-1,U1(h)),h=t.cancelPendingCommit,h!==null&&(t.cancelPendingCommit=null,h()),fs=0,Od(),hn=t,De=h=Fr(t.current,null),ke=a,en=0,Tr=null,qs=!1,El=ha(t,a),Ld=!1,bl=wr=Dd=jo=Hs=Pn=0,sr=bu=null,Ad=!1,(a&8)!==0&&(a|=a&32);var _=t.entangledLanes;if(_!==0)for(t=t.entanglements,_&=a;0<_;){var T=31-di(_),w=1<<T;a|=t[T],_&=~w}return hs=a,ba(),h}function M_(t,a){ve=null,R.H=gu,a===pl||a===wc?(a=Jg(),en=3):a===Bf?(a=Jg(),en=4):en=a===hd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tr=a,De===null&&(Pn=1,Fc(t,m(a,t.current)))}function O_(){var t=Er.current;return t===null?!0:(ke&4194048)===ke?jr===null:(ke&62914560)===ke||(ke&536870912)!==0?t===jr:!1}function R_(){var t=R.H;return R.H=gu,t===null?gu:t}function I_(){var t=R.A;return R.A=v1,t}function Qc(){Pn=4,qs||(ke&4194048)!==ke&&Er.current!==null||(El=!0),(Hs&134217727)===0&&(jo&134217727)===0||hn===null||Js(hn,ke,wr,!1)}function Rd(t,a,h){var _=Qe;Qe|=2;var T=R_(),w=I_();(hn!==t||ke!==a)&&(Vc=null,wl(t,a)),a=!1;var G=Pn;t:do try{if(en!==0&&De!==null){var ut=De,_t=Tr;switch(en){case 8:Od(),G=6;break t;case 3:case 2:case 9:case 6:Er.current===null&&(a=!0);var wt=en;if(en=0,Tr=null,Cl(t,ut,_t,wt),h&&El){G=0;break t}break;default:wt=en,en=0,Tr=null,Cl(t,ut,_t,wt)}}E1(),G=Pn;break}catch(Nt){M_(t,Nt)}while(!0);return a&&t.shellSuspendCounter++,sa=Ca=null,Qe=_,R.H=T,R.A=w,De===null&&(hn=null,ke=0,ba()),G}function E1(){for(;De!==null;)P_(De)}function b1(t,a){var h=Qe;Qe|=2;var _=R_(),T=I_();hn!==t||ke!==a?(Vc=null,Jc=Ht()+500,wl(t,a)):El=ha(t,a);t:do try{if(en!==0&&De!==null){a=De;var w=Tr;e:switch(en){case 1:en=0,Tr=null,Cl(t,a,w,1);break;case 2:case 9:if(Zg(w)){en=0,Tr=null,B_(a);break}a=function(){en!==2&&en!==9||hn!==t||(en=7),Da(t)},w.then(a,a);break t;case 3:en=7;break t;case 4:en=5;break t;case 7:Zg(w)?(en=0,Tr=null,B_(a)):(en=0,Tr=null,Cl(t,a,w,7));break;case 5:var G=null;switch(De.tag){case 26:G=De.memoizedState;case 5:case 27:var ut=De;if(G?Ey(G):ut.stateNode.complete){en=0,Tr=null;var _t=ut.sibling;if(_t!==null)De=_t;else{var wt=ut.return;wt!==null?(De=wt,Kc(wt)):De=null}break e}}en=0,Tr=null,Cl(t,a,w,5);break;case 6:en=0,Tr=null,Cl(t,a,w,6);break;case 8:Od(),Pn=6;break t;default:throw Error(l(462))}}T1();break}catch(Nt){M_(t,Nt)}while(!0);return sa=Ca=null,R.H=_,R.A=T,Qe=h,De!==null?0:(hn=null,ke=0,ba(),Pn)}function T1(){for(;De!==null&&!gn();)P_(De)}function P_(t){var a=s_(t.alternate,t,hs);t.memoizedProps=t.pendingProps,a===null?Kc(t):De=a}function B_(t){var a=t,h=a.alternate;switch(a.tag){case 15:case 0:a=t_(h,a,a.pendingProps,a.type,void 0,ke);break;case 11:a=t_(h,a,a.pendingProps,a.type.render,a.ref,ke);break;case 5:Vf(a);default:l_(h,a),a=De=tu(a,hs),a=s_(h,a,hs)}t.memoizedProps=t.pendingProps,a===null?Kc(t):De=a}function Cl(t,a,h,_){sa=Ca=null,Vf(a),gl=null,ou=0;var T=a.return;try{if(f1(t,T,a,h,ke)){Pn=1,Fc(t,m(h,t.current)),De=null;return}}catch(w){if(T!==null)throw De=T,w;Pn=1,Fc(t,m(h,t.current)),De=null;return}a.flags&32768?(Le||_===1?t=!0:El||(ke&536870912)!==0?t=!1:(qs=t=!0,(_===2||_===9||_===3||_===6)&&(_=Er.current,_!==null&&_.tag===13&&(_.flags|=16384))),z_(a,t)):Kc(a)}function Kc(t){var a=t;do{if((a.flags&32768)!==0){z_(a,qs);return}t=a.return;var h=g1(a.alternate,a,hs);if(h!==null){De=h;return}if(a=a.sibling,a!==null){De=a;return}De=a=t}while(a!==null);Pn===0&&(Pn=5)}function z_(t,a){do{var h=m1(t.alternate,t);if(h!==null){h.flags&=32767,De=h;return}if(h=t.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!a&&(t=t.sibling,t!==null)){De=t;return}De=t=h}while(t!==null);Pn=6,De=null}function F_(t,a,h,_,T,w,G,ut,_t){t.cancelPendingCommit=null;do $c();while(si!==0);if((Qe&6)!==0)throw Error(l(327));if(a!==null){if(a===t.current)throw Error(l(177));if(w=a.lanes|a.childLanes,w|=Ka,Ba(t,h,w,G,ut,_t),t===hn&&(De=hn=null,ke=0),Tl=a,Xs=t,fs=h,kd=w,Nd=T,D_=_,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D1(Jt,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),_=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||_){_=R.T,R.T=null,T=U.p,U.p=2,G=Qe,Qe|=4;try{_1(t,a,h)}finally{Qe=G,U.p=T,R.T=_}}si=1,j_(),U_(),Y_()}}function j_(){if(si===1){si=0;var t=Xs,a=Tl,h=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||h){h=R.T,R.T=null;var _=U.p;U.p=2;var T=Qe;Qe|=4;try{S_(a,t);var w=Zd,G=qn(t.containerInfo),ut=w.focusedElem,_t=w.selectionRange;if(G!==ut&&ut&&ut.ownerDocument&&Qa(ut.ownerDocument.documentElement,ut)){if(_t!==null&&zn(ut)){var wt=_t.start,Nt=_t.end;if(Nt===void 0&&(Nt=wt),"selectionStart"in ut)ut.selectionStart=wt,ut.selectionEnd=Math.min(Nt,ut.value.length);else{var Bt=ut.ownerDocument||document,Lt=Bt&&Bt.defaultView||window;if(Lt.getSelection){var kt=Lt.getSelection(),Wt=ut.textContent.length,oe=Math.min(_t.start,Wt),ln=_t.end===void 0?oe:Math.min(_t.end,Wt);!kt.extend&&oe>ln&&(G=ln,ln=oe,oe=G);var xt=Wa(ut,oe),vt=Wa(ut,ln);if(xt&&vt&&(kt.rangeCount!==1||kt.anchorNode!==xt.node||kt.anchorOffset!==xt.offset||kt.focusNode!==vt.node||kt.focusOffset!==vt.offset)){var Tt=Bt.createRange();Tt.setStart(xt.node,xt.offset),kt.removeAllRanges(),oe>ln?(kt.addRange(Tt),kt.extend(vt.node,vt.offset)):(Tt.setEnd(vt.node,vt.offset),kt.addRange(Tt))}}}}for(Bt=[],kt=ut;kt=kt.parentNode;)kt.nodeType===1&&Bt.push({element:kt,left:kt.scrollLeft,top:kt.scrollTop});for(typeof ut.focus=="function"&&ut.focus(),ut=0;ut<Bt.length;ut++){var Rt=Bt[ut];Rt.element.scrollLeft=Rt.left,Rt.element.scrollTop=Rt.top}}hh=!!Hd,Zd=Hd=null}finally{Qe=T,U.p=_,R.T=h}}t.current=a,si=2}}function U_(){if(si===2){si=0;var t=Xs,a=Tl,h=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||h){h=R.T,R.T=null;var _=U.p;U.p=2;var T=Qe;Qe|=4;try{g_(t,a.alternate,a)}finally{Qe=T,U.p=_,R.T=h}}si=3}}function Y_(){if(si===4||si===3){si=0,Ui();var t=Xs,a=Tl,h=fs,_=D_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?si=5:(si=0,Tl=Xs=null,G_(t,t.pendingLanes));var T=t.pendingLanes;if(T===0&&(Zs=null),Kt(h),a=a.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(vn,a,void 0,(a.current.flags&128)===128)}catch{}if(_!==null){a=R.T,T=U.p,U.p=2,R.T=null;try{for(var w=t.onRecoverableError,G=0;G<_.length;G++){var ut=_[G];w(ut.value,{componentStack:ut.stack})}}finally{R.T=a,U.p=T}}(fs&3)!==0&&$c(),Da(t),T=t.pendingLanes,(h&261930)!==0&&(T&42)!==0?t===Md?Tu++:(Tu=0,Md=t):Tu=0,wu(0)}}function G_(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,au(a)))}function $c(){return j_(),U_(),Y_(),q_()}function q_(){if(si!==5)return!1;var t=Xs,a=kd;kd=0;var h=Kt(fs),_=R.T,T=U.p;try{U.p=32>h?32:h,R.T=null,h=Nd,Nd=null;var w=Xs,G=fs;if(si=0,Tl=Xs=null,fs=0,(Qe&6)!==0)throw Error(l(331));var ut=Qe;if(Qe|=4,w_(w.current),E_(w,w.current,G,h),Qe=ut,wu(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(vn,w)}catch{}return!0}finally{U.p=T,R.T=_,G_(t,a)}}function H_(t,a,h){a=m(h,a),a=cd(t.stateNode,a,2),t=js(t,a,2),t!==null&&(Gi(t,2),Da(t))}function nn(t,a,h){if(t.tag===3)H_(t,t,h);else for(;a!==null;){if(a.tag===3){H_(a,t,h);break}else if(a.tag===1){var _=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Zs===null||!Zs.has(_))){t=m(h,t),h=Zm(2),_=js(a,h,2),_!==null&&(Xm(h,_,a,t),Gi(_,2),Da(_));break}}a=a.return}}function Id(t,a,h){var _=t.pingCache;if(_===null){_=t.pingCache=new S1;var T=new Set;_.set(a,T)}else T=_.get(a),T===void 0&&(T=new Set,_.set(a,T));T.has(h)||(Ld=!0,T.add(h),t=w1.bind(null,t,a,h),a.then(t,t))}function w1(t,a,h){var _=t.pingCache;_!==null&&_.delete(a),t.pingedLanes|=t.suspendedLanes&h,t.warmLanes&=~h,hn===t&&(ke&h)===h&&(Pn===4||Pn===3&&(ke&62914560)===ke&&300>Ht()-Xc?(Qe&2)===0&&wl(t,0):Dd|=h,bl===ke&&(bl=0)),Da(t)}function Z_(t,a){a===0&&(a=Yt()),t=Bi(t,a),t!==null&&(Gi(t,a),Da(t))}function C1(t){var a=t.memoizedState,h=0;a!==null&&(h=a.retryLane),Z_(t,h)}function L1(t,a){var h=0;switch(t.tag){case 31:case 13:var _=t.stateNode,T=t.memoizedState;T!==null&&(h=T.retryLane);break;case 19:_=t.stateNode;break;case 22:_=t.stateNode._retryCache;break;default:throw Error(l(314))}_!==null&&_.delete(a),Z_(t,h)}function D1(t,a){return Je(t,a)}var th=null,Ll=null,Pd=!1,eh=!1,Bd=!1,Vs=0;function Da(t){t!==Ll&&t.next===null&&(Ll===null?th=Ll=t:Ll=Ll.next=t),eh=!0,Pd||(Pd=!0,k1())}function wu(t,a){if(!Bd&&eh){Bd=!0;do for(var h=!1,_=th;_!==null;){if(t!==0){var T=_.pendingLanes;if(T===0)var w=0;else{var G=_.suspendedLanes,ut=_.pingedLanes;w=(1<<31-di(42|t)+1)-1,w&=T&~(G&~ut),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,W_(_,w))}else w=ke,w=Es(_,_===hn?w:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(w&3)===0||ha(_,w)||(h=!0,W_(_,w));_=_.next}while(h);Bd=!1}}function A1(){X_()}function X_(){eh=Pd=!1;var t=0;Vs!==0&&j1()&&(t=Vs);for(var a=Ht(),h=null,_=th;_!==null;){var T=_.next,w=J_(_,a);w===0?(_.next=null,h===null?th=T:h.next=T,T===null&&(Ll=h)):(h=_,(t!==0||(w&3)!==0)&&(eh=!0)),_=T}si!==0&&si!==5||wu(t),Vs!==0&&(Vs=0)}function J_(t,a){for(var h=t.suspendedLanes,_=t.pingedLanes,T=t.expirationTimes,w=t.pendingLanes&-62914561;0<w;){var G=31-di(w),ut=1<<G,_t=T[G];_t===-1?((ut&h)===0||(ut&_)!==0)&&(T[G]=Jr(ut,a)):_t<=a&&(t.expiredLanes|=ut),w&=~ut}if(a=hn,h=ke,h=Es(t,t===a?h:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),_=t.callbackNode,h===0||t===a&&(en===2||en===9)||t.cancelPendingCommit!==null)return _!==null&&_!==null&&ti(_),t.callbackNode=null,t.callbackPriority=0;if((h&3)===0||ha(t,h)){if(a=h&-h,a===t.callbackPriority)return a;switch(_!==null&&ti(_),Kt(h)){case 2:case 8:h=yn;break;case 32:h=Jt;break;case 268435456:h=_e;break;default:h=Jt}return _=V_.bind(null,t),h=Je(h,_),t.callbackPriority=a,t.callbackNode=h,a}return _!==null&&_!==null&&ti(_),t.callbackPriority=2,t.callbackNode=null,2}function V_(t,a){if(si!==0&&si!==5)return t.callbackNode=null,t.callbackPriority=0,null;var h=t.callbackNode;if($c()&&t.callbackNode!==h)return null;var _=ke;return _=Es(t,t===hn?_:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),_===0?null:(k_(t,_,a),J_(t,Ht()),t.callbackNode!=null&&t.callbackNode===h?V_.bind(null,t):null)}function W_(t,a){if($c())return null;k_(t,a,!0)}function k1(){Y1(function(){(Qe&6)!==0?Je(Ie,A1):X_()})}function zd(){if(Vs===0){var t=fl;t===0&&(t=hr,hr<<=1,(hr&261888)===0&&(hr=256)),Vs=t}return Vs}function Q_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function K_(t,a){var h=a.ownerDocument.createElement("input");return h.name=a.name,h.value=a.value,t.id&&h.setAttribute("form",t.id),a.parentNode.insertBefore(h,a),t=new FormData(t),h.parentNode.removeChild(h),t}function N1(t,a,h,_,T){if(a==="submit"&&h&&h.stateNode===T){var w=Q_((T[je]||null).action),G=_.submitter;G&&(a=(a=G[je]||null)?Q_(a.formAction):G.getAttribute("formAction"),a!==null&&(w=a,G=null));var ut=new ks("action","action",null,_,T);t.push({event:ut,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Vs!==0){var _t=G?K_(T,G):new FormData(T);rd(h,{pending:!0,data:_t,method:T.method,action:w},null,_t)}}else typeof w=="function"&&(ut.preventDefault(),_t=G?K_(T,G):new FormData(T),rd(h,{pending:!0,data:_t,method:T.method,action:w},w,_t))},currentTarget:T}]})}}for(var Fd=0;Fd<an.length;Fd++){var jd=an[Fd],M1=jd.toLowerCase(),O1=jd[0].toUpperCase()+jd.slice(1);We(M1,"on"+O1)}We(bt,"onAnimationEnd"),We(Ft,"onAnimationIteration"),We(Gt,"onAnimationStart"),We("dblclick","onDoubleClick"),We("focusin","onFocus"),We("focusout","onBlur"),We(Vt,"onTransitionRun"),We(ee,"onTransitionStart"),We(Ce,"onTransitionCancel"),We(ge,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function $_(t,a){a=(a&4)!==0;for(var h=0;h<t.length;h++){var _=t[h],T=_.event;_=_.listeners;t:{var w=void 0;if(a)for(var G=_.length-1;0<=G;G--){var ut=_[G],_t=ut.instance,wt=ut.currentTarget;if(ut=ut.listener,_t!==w&&T.isPropagationStopped())break t;w=ut,T.currentTarget=wt;try{w(T)}catch(Nt){Pi(Nt)}T.currentTarget=null,w=_t}else for(G=0;G<_.length;G++){if(ut=_[G],_t=ut.instance,wt=ut.currentTarget,ut=ut.listener,_t!==w&&T.isPropagationStopped())break t;w=ut,T.currentTarget=wt;try{w(T)}catch(Nt){Pi(Nt)}T.currentTarget=null,w=_t}}}}function Ae(t,a){var h=a[bi];h===void 0&&(h=a[bi]=new Set);var _=t+"__bubble";h.has(_)||(ty(a,t,2,!1),h.add(_))}function Ud(t,a,h){var _=0;a&&(_|=4),ty(h,t,_,a)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[nh]){t[nh]=!0,ws.forEach(function(h){h!=="selectionchange"&&(R1.has(h)||Ud(h,!1,t),Ud(h,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[nh]||(a[nh]=!0,Ud("selectionchange",!1,a))}}function ty(t,a,h,_){switch(Ay(a)){case 2:var T=lE;break;case 8:T=uE;break;default:T=ip}h=T.bind(null,a,h,t),T=void 0,!Te||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(T=!0),_?T!==void 0?t.addEventListener(a,h,{capture:!0,passive:T}):t.addEventListener(a,h,!0):T!==void 0?t.addEventListener(a,h,{passive:T}):t.addEventListener(a,h,!1)}function Gd(t,a,h,_,T){var w=_;if((a&1)===0&&(a&2)===0&&_!==null)t:for(;;){if(_===null)return;var G=_.tag;if(G===3||G===4){var ut=_.stateNode.containerInfo;if(ut===T)break;if(G===4)for(G=_.return;G!==null;){var _t=G.tag;if((_t===3||_t===4)&&G.stateNode.containerInfo===T)return;G=G.return}for(;ut!==null;){if(G=$e(ut),G===null)return;if(_t=G.tag,_t===5||_t===6||_t===26||_t===27){_=w=G;continue t}ut=ut.parentNode}}_=_.return}ma(function(){var wt=w,Nt=Un(h),Bt=[];t:{var Lt=Ye.get(t);if(Lt!==void 0){var kt=ks,Wt=t;switch(t){case"keypress":if(wn(h)===0)break t;case"keydown":case"keyup":kt=xo;break;case"focusin":Wt="focus",kt=vo;break;case"focusout":Wt="blur",kt=vo;break;case"beforeblur":case"afterblur":kt=vo;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Eo;break;case bt:case Ft:case Gt:kt=Ns;break;case ge:kt=Li;break;case"scroll":case"scrollend":kt=de;break;case"wheel":kt=Cn;break;case"copy":case"cut":case"paste":kt=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=Ms;break;case"toggle":case"beforetoggle":kt=Ga}var oe=(a&4)!==0,ln=!oe&&(t==="scroll"||t==="scrollend"),xt=oe?Lt!==null?Lt+"Capture":null:Lt;oe=[];for(var vt=wt,Tt;vt!==null;){var Rt=vt;if(Tt=Rt.stateNode,Rt=Rt.tag,Rt!==5&&Rt!==26&&Rt!==27||Tt===null||xt===null||(Rt=$r(vt,xt),Rt!=null&&oe.push(Lu(vt,Rt,Tt))),ln)break;vt=vt.return}0<oe.length&&(Lt=new kt(Lt,Wt,null,h,Nt),Bt.push({event:Lt,listeners:oe}))}}if((a&7)===0){t:{if(Lt=t==="mouseover"||t==="pointerover",kt=t==="mouseout"||t==="pointerout",Lt&&h!==ni&&(Wt=h.relatedTarget||h.fromElement)&&($e(Wt)||Wt[fr]))break t;if((kt||Lt)&&(Lt=Nt.window===Nt?Nt:(Lt=Nt.ownerDocument)?Lt.defaultView||Lt.parentWindow:window,kt?(Wt=h.relatedTarget||h.toElement,kt=wt,Wt=Wt?$e(Wt):null,Wt!==null&&(ln=c(Wt),oe=Wt.tag,Wt!==ln||oe!==5&&oe!==27&&oe!==6)&&(Wt=null)):(kt=null,Wt=wt),kt!==Wt)){if(oe=Qo,Rt="onMouseLeave",xt="onMouseEnter",vt="mouse",(t==="pointerout"||t==="pointerover")&&(oe=Ms,Rt="onPointerLeave",xt="onPointerEnter",vt="pointer"),ln=kt==null?Lt:kr(kt),Tt=Wt==null?Lt:kr(Wt),Lt=new oe(Rt,vt+"leave",kt,h,Nt),Lt.target=ln,Lt.relatedTarget=Tt,Rt=null,$e(Nt)===wt&&(oe=new oe(xt,vt+"enter",Wt,h,Nt),oe.target=Tt,oe.relatedTarget=ln,Rt=oe),ln=Rt,kt&&Wt)e:{for(oe=I1,xt=kt,vt=Wt,Tt=0,Rt=xt;Rt;Rt=oe(Rt))Tt++;Rt=0;for(var re=vt;re;re=oe(re))Rt++;for(;0<Tt-Rt;)xt=oe(xt),Tt--;for(;0<Rt-Tt;)vt=oe(vt),Rt--;for(;Tt--;){if(xt===vt||vt!==null&&xt===vt.alternate){oe=xt;break e}xt=oe(xt),vt=oe(vt)}oe=null}else oe=null;kt!==null&&ey(Bt,Lt,kt,oe,!1),Wt!==null&&ln!==null&&ey(Bt,ln,Wt,oe,!0)}}t:{if(Lt=wt?kr(wt):window,kt=Lt.nodeName&&Lt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Lt.type==="file")var He=Ja;else if(Qi(Lt))if(al)He=ol;else{He=Do;var te=tr}else kt=Lt.nodeName,!kt||kt.toLowerCase()!=="input"||Lt.type!=="checkbox"&&Lt.type!=="radio"?wt&&Kr(wt.elementType)&&(He=Ja):He=xa;if(He&&(He=He(t,wt))){Co(Bt,He,h,Nt);break t}te&&te(t,Lt,wt),t==="focusout"&&wt&&Lt.type==="number"&&wt.memoizedProps.value!=null&&pr(Lt,"number",Lt.value)}switch(te=wt?kr(wt):window,t){case"focusin":(Qi(te)||te.contentEditable==="true")&&(s=te,o=wt,d=null);break;case"focusout":d=o=s=null;break;case"mousedown":S=!0;break;case"contextmenu":case"mouseup":case"dragend":S=!1,C(Bt,h,Nt);break;case"selectionchange":if(p)break;case"keydown":case"keyup":C(Bt,h,Nt)}var Ee;if(qa)t:{switch(t){case"compositionstart":var Ne="onCompositionStart";break t;case"compositionend":Ne="onCompositionEnd";break t;case"compositionupdate":Ne="onCompositionUpdate";break t}Ne=void 0}else va?il(t,h)&&(Ne="onCompositionEnd"):t==="keydown"&&h.keyCode===229&&(Ne="onCompositionStart");Ne&&(Rs&&h.locale!=="ko"&&(va||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&va&&(Ee=yr()):(Ci=Nt,Ir="value"in Ci?Ci.value:Ci.textContent,va=!0)),te=ih(wt,Ne),0<te.length&&(Ne=new So(Ne,t,null,h,Nt),Bt.push({event:Ne,listeners:te}),Ee?Ne.data=Ee:(Ee=wo(h),Ee!==null&&(Ne.data=Ee)))),(Ee=To?Ii(t,h):Sa(t,h))&&(Ne=ih(wt,"onBeforeInput"),0<Ne.length&&(te=new So("onBeforeInput","beforeinput",null,h,Nt),Bt.push({event:te,listeners:Ne}),te.data=Ee)),N1(Bt,t,wt,h,Nt)}$_(Bt,a)})}function Lu(t,a,h){return{instance:t,listener:a,currentTarget:h}}function ih(t,a){for(var h=a+"Capture",_=[];t!==null;){var T=t,w=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||w===null||(T=$r(t,h),T!=null&&_.unshift(Lu(t,T,w)),T=$r(t,a),T!=null&&_.push(Lu(t,T,w))),t.tag===3)return _;t=t.return}return[]}function I1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,a,h,_,T){for(var w=a._reactName,G=[];h!==null&&h!==_;){var ut=h,_t=ut.alternate,wt=ut.stateNode;if(ut=ut.tag,_t!==null&&_t===_)break;ut!==5&&ut!==26&&ut!==27||wt===null||(_t=wt,T?(wt=$r(h,w),wt!=null&&G.unshift(Lu(h,wt,_t))):T||(wt=$r(h,w),wt!=null&&G.push(Lu(h,wt,_t)))),h=h.return}G.length!==0&&t.push({event:a,listeners:G})}var P1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace(P1,`
`).replace(B1,"")}function iy(t,a){return a=ny(a),ny(t)===a}function on(t,a,h,_,T,w){switch(h){case"children":typeof _=="string"?a==="body"||a==="textarea"&&_===""||Oi(t,_):(typeof _=="number"||typeof _=="bigint")&&a!=="body"&&Oi(t,""+_);break;case"className":Ke(t,"class",_);break;case"tabIndex":Ke(t,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Ke(t,h,_);break;case"style":Ds(t,_,w);break;case"data":if(a!=="object"){Ke(t,"data",_);break}case"src":case"href":if(_===""&&(a!=="a"||h!=="href")){t.removeAttribute(h);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){t.removeAttribute(h);break}_=ga(""+_),t.setAttribute(h,_);break;case"action":case"formAction":if(typeof _=="function"){t.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(a!=="input"&&on(t,a,"name",T.name,T,null),on(t,a,"formEncType",T.formEncType,T,null),on(t,a,"formMethod",T.formMethod,T,null),on(t,a,"formTarget",T.formTarget,T,null)):(on(t,a,"encType",T.encType,T,null),on(t,a,"method",T.method,T,null),on(t,a,"target",T.target,T,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){t.removeAttribute(h);break}_=ga(""+_),t.setAttribute(h,_);break;case"onClick":_!=null&&(t.onclick=ui);break;case"onScroll":_!=null&&Ae("scroll",t);break;case"onScrollEnd":_!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(l(61));if(h=_.__html,h!=null){if(T.children!=null)throw Error(l(60));t.innerHTML=h}}break;case"multiple":t.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":t.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){t.removeAttribute("xlink:href");break}h=ga(""+_),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?t.setAttribute(h,""+_):t.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?t.setAttribute(h,""):t.removeAttribute(h);break;case"capture":case"download":_===!0?t.setAttribute(h,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?t.setAttribute(h,_):t.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?t.setAttribute(h,_):t.removeAttribute(h);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?t.removeAttribute(h):t.setAttribute(h,_);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Se(t,"popover",_);break;case"xlinkActuate":Ti(t,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":Ti(t,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":Ti(t,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":Ti(t,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":Ti(t,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":Ti(t,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":Ti(t,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":Ti(t,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":Ti(t,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":Se(t,"is",_);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Ve.get(h)||h,Se(t,h,_))}}function qd(t,a,h,_,T,w){switch(h){case"style":Ds(t,_,w);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(l(61));if(h=_.__html,h!=null){if(T.children!=null)throw Error(l(60));t.innerHTML=h}}break;case"children":typeof _=="string"?Oi(t,_):(typeof _=="number"||typeof _=="bigint")&&Oi(t,""+_);break;case"onScroll":_!=null&&Ae("scroll",t);break;case"onScrollEnd":_!=null&&Ae("scrollend",t);break;case"onClick":_!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),a=h.slice(2,T?h.length-7:void 0),w=t[je]||null,w=w!=null?w[h]:null,typeof w=="function"&&t.removeEventListener(a,w,T),typeof _=="function")){typeof w!="function"&&w!==null&&(h in t?t[h]=null:t.hasAttribute(h)&&t.removeAttribute(h)),t.addEventListener(a,_,T);break t}h in t?t[h]=_:_===!0?t.setAttribute(h,""):Se(t,h,_)}}}function vi(t,a,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var _=!1,T=!1,w;for(w in h)if(h.hasOwnProperty(w)){var G=h[w];if(G!=null)switch(w){case"src":_=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:on(t,a,w,G,h,null)}}T&&on(t,a,"srcSet",h.srcSet,h,null),_&&on(t,a,"src",h.src,h,null);return;case"input":Ae("invalid",t);var ut=w=G=T=null,_t=null,wt=null;for(_ in h)if(h.hasOwnProperty(_)){var Nt=h[_];if(Nt!=null)switch(_){case"name":T=Nt;break;case"type":G=Nt;break;case"checked":_t=Nt;break;case"defaultChecked":wt=Nt;break;case"value":w=Nt;break;case"defaultValue":ut=Nt;break;case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(l(137,a));break;default:on(t,a,_,Nt,h,null)}}ja(t,w,ut,_t,wt,G,T,!1);return;case"select":Ae("invalid",t),_=G=w=null;for(T in h)if(h.hasOwnProperty(T)&&(ut=h[T],ut!=null))switch(T){case"value":w=ut;break;case"defaultValue":G=ut;break;case"multiple":_=ut;default:on(t,a,T,ut,h,null)}a=w,h=G,t.multiple=!!_,a!=null?tn(t,!!_,a,!1):h!=null&&tn(t,!!_,h,!0);return;case"textarea":Ae("invalid",t),w=T=_=null;for(G in h)if(h.hasOwnProperty(G)&&(ut=h[G],ut!=null))switch(G){case"value":_=ut;break;case"defaultValue":T=ut;break;case"children":w=ut;break;case"dangerouslySetInnerHTML":if(ut!=null)throw Error(l(91));break;default:on(t,a,G,ut,h,null)}Zi(t,_,T,w);return;case"option":for(_t in h)h.hasOwnProperty(_t)&&(_=h[_t],_!=null)&&(_t==="selected"?t.selected=_&&typeof _!="function"&&typeof _!="symbol":on(t,a,_t,_,h,null));return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(_=0;_<Cu.length;_++)Ae(Cu[_],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(wt in h)if(h.hasOwnProperty(wt)&&(_=h[wt],_!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:on(t,a,wt,_,h,null)}return;default:if(Kr(a)){for(Nt in h)h.hasOwnProperty(Nt)&&(_=h[Nt],_!==void 0&&qd(t,a,Nt,_,h,void 0));return}}for(ut in h)h.hasOwnProperty(ut)&&(_=h[ut],_!=null&&on(t,a,ut,_,h,null))}function z1(t,a,h,_){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,w=null,G=null,ut=null,_t=null,wt=null,Nt=null;for(kt in h){var Bt=h[kt];if(h.hasOwnProperty(kt)&&Bt!=null)switch(kt){case"checked":break;case"value":break;case"defaultValue":_t=Bt;default:_.hasOwnProperty(kt)||on(t,a,kt,null,_,Bt)}}for(var Lt in _){var kt=_[Lt];if(Bt=h[Lt],_.hasOwnProperty(Lt)&&(kt!=null||Bt!=null))switch(Lt){case"type":w=kt;break;case"name":T=kt;break;case"checked":wt=kt;break;case"defaultChecked":Nt=kt;break;case"value":G=kt;break;case"defaultValue":ut=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(l(137,a));break;default:kt!==Bt&&on(t,a,Lt,kt,_,Bt)}}_o(t,G,ut,_t,wt,Nt,w,T);return;case"select":kt=G=ut=Lt=null;for(w in h)if(_t=h[w],h.hasOwnProperty(w)&&_t!=null)switch(w){case"value":break;case"multiple":kt=_t;default:_.hasOwnProperty(w)||on(t,a,w,null,_,_t)}for(T in _)if(w=_[T],_t=h[T],_.hasOwnProperty(T)&&(w!=null||_t!=null))switch(T){case"value":Lt=w;break;case"defaultValue":ut=w;break;case"multiple":G=w;default:w!==_t&&on(t,a,T,w,_,_t)}a=ut,h=G,_=kt,Lt!=null?tn(t,!!h,Lt,!1):!!_!=!!h&&(a!=null?tn(t,!!h,a,!0):tn(t,!!h,h?[]:"",!1));return;case"textarea":kt=Lt=null;for(ut in h)if(T=h[ut],h.hasOwnProperty(ut)&&T!=null&&!_.hasOwnProperty(ut))switch(ut){case"value":break;case"children":break;default:on(t,a,ut,null,_,T)}for(G in _)if(T=_[G],w=h[G],_.hasOwnProperty(G)&&(T!=null||w!=null))switch(G){case"value":Lt=T;break;case"defaultValue":kt=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:T!==w&&on(t,a,G,T,_,w)}gr(t,Lt,kt);return;case"option":for(var Wt in h)Lt=h[Wt],h.hasOwnProperty(Wt)&&Lt!=null&&!_.hasOwnProperty(Wt)&&(Wt==="selected"?t.selected=!1:on(t,a,Wt,null,_,Lt));for(_t in _)Lt=_[_t],kt=h[_t],_.hasOwnProperty(_t)&&Lt!==kt&&(Lt!=null||kt!=null)&&(_t==="selected"?t.selected=Lt&&typeof Lt!="function"&&typeof Lt!="symbol":on(t,a,_t,Lt,_,kt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in h)Lt=h[oe],h.hasOwnProperty(oe)&&Lt!=null&&!_.hasOwnProperty(oe)&&on(t,a,oe,null,_,Lt);for(wt in _)if(Lt=_[wt],kt=h[wt],_.hasOwnProperty(wt)&&Lt!==kt&&(Lt!=null||kt!=null))switch(wt){case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(l(137,a));break;default:on(t,a,wt,Lt,_,kt)}return;default:if(Kr(a)){for(var ln in h)Lt=h[ln],h.hasOwnProperty(ln)&&Lt!==void 0&&!_.hasOwnProperty(ln)&&qd(t,a,ln,void 0,_,Lt);for(Nt in _)Lt=_[Nt],kt=h[Nt],!_.hasOwnProperty(Nt)||Lt===kt||Lt===void 0&&kt===void 0||qd(t,a,Nt,Lt,_,kt);return}}for(var xt in h)Lt=h[xt],h.hasOwnProperty(xt)&&Lt!=null&&!_.hasOwnProperty(xt)&&on(t,a,xt,null,_,Lt);for(Bt in _)Lt=_[Bt],kt=h[Bt],!_.hasOwnProperty(Bt)||Lt===kt||Lt==null&&kt==null||on(t,a,Bt,Lt,_,kt)}function ry(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,h=performance.getEntriesByType("resource"),_=0;_<h.length;_++){var T=h[_],w=T.transferSize,G=T.initiatorType,ut=T.duration;if(w&&ut&&ry(G)){for(G=0,ut=T.responseEnd,_+=1;_<h.length;_++){var _t=h[_],wt=_t.startTime;if(wt>ut)break;var Nt=_t.transferSize,Bt=_t.initiatorType;Nt&&ry(Bt)&&(_t=_t.responseEnd,G+=Nt*(_t<ut?1:(ut-wt)/(_t-wt)))}if(--_,a+=8*(w+G)/(T.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,Zd=null;function rh(t){return t.nodeType===9?t:t.ownerDocument}function ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Xd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jd=null;function j1(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(G1)}:oy;function G1(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function uy(t,a){var h=a,_=0;do{var T=h.nextSibling;if(t.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"||h==="/&"){if(_===0){t.removeChild(T),Nl(a);return}_--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")_++;else if(h==="html")Du(t.ownerDocument.documentElement);else if(h==="head"){h=t.ownerDocument.head,Du(h);for(var w=h.firstChild;w;){var G=w.nextSibling,ut=w.nodeName;w[Ar]||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=G}}else h==="body"&&Du(t.ownerDocument.body);h=T}while(h);Nl(a)}function cy(t,a){var h=t;t=0;do{var _=h.nextSibling;if(h.nodeType===1?a?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(a?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(t===0)break;t--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||t++;h=_}while(h)}function Vd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var h=a;switch(a=a.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Vd(h),Wr(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}t.removeChild(h)}}function q1(t,a,h,_){for(;t.nodeType===1;){var T=h;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!_&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(_){if(!t[Ar])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(w=t.getAttribute("rel"),w==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(w!==T.rel||t.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||t.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||t.getAttribute("title")!==(T.title==null?null:T.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(w=t.getAttribute("src"),(w!==(T.src==null?null:T.src)||t.getAttribute("type")!==(T.type==null?null:T.type)||t.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&w&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var w=T.name==null?null:""+T.name;if(T.type==="hidden"&&t.getAttribute("name")===w)return t}else return t;if(t=Ur(t.nextSibling),t===null)break}return null}function H1(t,a,h){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!h||(t=Ur(t.nextSibling),t===null))return null;return t}function hy(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ur(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Z1(t,a){var h=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||h.readyState!=="loading")a();else{var _=function(){a(),h.removeEventListener("DOMContentLoaded",_)};h.addEventListener("DOMContentLoaded",_),t._reactRetry=_}}function Ur(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Kd=null;function fy(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var h=t.data;if(h==="/$"||h==="/&"){if(a===0)return Ur(t.nextSibling);a--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||a++}t=t.nextSibling}return null}function dy(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var h=t.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(a===0)return t;a--}else h!=="/$"&&h!=="/&"||a++}t=t.previousSibling}return null}function py(t,a,h){switch(a=rh(h),t){case"html":if(t=a.documentElement,!t)throw Error(l(452));return t;case"head":if(t=a.head,!t)throw Error(l(453));return t;case"body":if(t=a.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Du(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Wr(t)}var Yr=new Map,gy=new Set;function ah(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=U.d;U.d={f:X1,r:J1,D:V1,C:W1,L:Q1,m:K1,X:tE,S:$1,M:eE};function X1(){var t=ds.f(),a=Wc();return t||a}function J1(t){var a=pa(t);a!==null&&a.tag===5&&a.type==="form"?Mm(a):ds.r(t)}var Dl=typeof document>"u"?null:document;function my(t,a,h){var _=Dl;if(_&&typeof a=="string"&&a){var T=Ue(a);T='link[rel="'+t+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),gy.has(T)||(gy.add(T),t={rel:t,crossOrigin:h,href:a},_.querySelector(T)===null&&(a=_.createElement("link"),vi(a,"link",t),dn(a),_.head.appendChild(a)))}}function V1(t){ds.D(t),my("dns-prefetch",t,null)}function W1(t,a){ds.C(t,a),my("preconnect",t,a)}function Q1(t,a,h){ds.L(t,a,h);var _=Dl;if(_&&t&&a){var T='link[rel="preload"][as="'+Ue(a)+'"]';a==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+Ue(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+Ue(h.imageSizes)+'"]')):T+='[href="'+Ue(t)+'"]';var w=T;switch(a){case"style":w=Al(t);break;case"script":w=kl(t)}Yr.has(w)||(t=x({rel:"preload",href:a==="image"&&h&&h.imageSrcSet?void 0:t,as:a},h),Yr.set(w,t),_.querySelector(T)!==null||a==="style"&&_.querySelector(Au(w))||a==="script"&&_.querySelector(ku(w))||(a=_.createElement("link"),vi(a,"link",t),dn(a),_.head.appendChild(a)))}}function K1(t,a){ds.m(t,a);var h=Dl;if(h&&t){var _=a&&typeof a.as=="string"?a.as:"script",T='link[rel="modulepreload"][as="'+Ue(_)+'"][href="'+Ue(t)+'"]',w=T;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=kl(t)}if(!Yr.has(w)&&(t=x({rel:"modulepreload",href:t},a),Yr.set(w,t),h.querySelector(T)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ku(w)))return}_=h.createElement("link"),vi(_,"link",t),dn(_),h.head.appendChild(_)}}}function $1(t,a,h){ds.S(t,a,h);var _=Dl;if(_&&t){var T=dr(_).hoistableStyles,w=Al(t);a=a||"default";var G=T.get(w);if(!G){var ut={loading:0,preload:null};if(G=_.querySelector(Au(w)))ut.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":a},h),(h=Yr.get(w))&&$d(t,h);var _t=G=_.createElement("link");dn(_t),vi(_t,"link",t),_t._p=new Promise(function(wt,Nt){_t.onload=wt,_t.onerror=Nt}),_t.addEventListener("load",function(){ut.loading|=1}),_t.addEventListener("error",function(){ut.loading|=2}),ut.loading|=4,sh(G,a,_)}G={type:"stylesheet",instance:G,count:1,state:ut},T.set(w,G)}}}function tE(t,a){ds.X(t,a);var h=Dl;if(h&&t){var _=dr(h).hoistableScripts,T=kl(t),w=_.get(T);w||(w=h.querySelector(ku(T)),w||(t=x({src:t,async:!0},a),(a=Yr.get(T))&&tp(t,a),w=h.createElement("script"),dn(w),vi(w,"link",t),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},_.set(T,w))}}function eE(t,a){ds.M(t,a);var h=Dl;if(h&&t){var _=dr(h).hoistableScripts,T=kl(t),w=_.get(T);w||(w=h.querySelector(ku(T)),w||(t=x({src:t,async:!0,type:"module"},a),(a=Yr.get(T))&&tp(t,a),w=h.createElement("script"),dn(w),vi(w,"link",t),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},_.set(T,w))}}function _y(t,a,h,_){var T=(T=St.current)?ah(T):null;if(!T)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(a=Al(h.href),h=dr(T).hoistableStyles,_=h.get(a),_||(_={type:"style",instance:null,count:0,state:null},h.set(a,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){t=Al(h.href);var w=dr(T).hoistableStyles,G=w.get(t);if(G||(T=T.ownerDocument||T,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(t,G),(w=T.querySelector(Au(t)))&&!w._p&&(G.instance=w,G.state.loading=5),Yr.has(t)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Yr.set(t,h),w||nE(T,t,h,G.state))),a&&_===null)throw Error(l(528,""));return G}if(a&&_!==null)throw Error(l(529,""));return null;case"script":return a=h.async,h=h.src,typeof h=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=kl(h),h=dr(T).hoistableScripts,_=h.get(a),_||(_={type:"script",instance:null,count:0,state:null},h.set(a,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Al(t){return'href="'+Ue(t)+'"'}function Au(t){return'link[rel="stylesheet"]['+t+"]"}function yy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function nE(t,a,h,_){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?_.loading=1:(a=t.createElement("link"),_.preload=a,a.addEventListener("load",function(){return _.loading|=1}),a.addEventListener("error",function(){return _.loading|=2}),vi(a,"link",h),dn(a),t.head.appendChild(a))}function kl(t){return'[src="'+Ue(t)+'"]'}function ku(t){return"script[async]"+t}function vy(t,a,h){if(a.count++,a.instance===null)switch(a.type){case"style":var _=t.querySelector('style[data-href~="'+Ue(h.href)+'"]');if(_)return a.instance=_,dn(_),_;var T=x({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return _=(t.ownerDocument||t).createElement("style"),dn(_),vi(_,"style",T),sh(_,h.precedence,t),a.instance=_;case"stylesheet":T=Al(h.href);var w=t.querySelector(Au(T));if(w)return a.state.loading|=4,a.instance=w,dn(w),w;_=yy(h),(T=Yr.get(T))&&$d(_,T),w=(t.ownerDocument||t).createElement("link"),dn(w);var G=w;return G._p=new Promise(function(ut,_t){G.onload=ut,G.onerror=_t}),vi(w,"link",_),a.state.loading|=4,sh(w,h.precedence,t),a.instance=w;case"script":return w=kl(h.src),(T=t.querySelector(ku(w)))?(a.instance=T,dn(T),T):(_=h,(T=Yr.get(w))&&(_=x({},h),tp(_,T)),t=t.ownerDocument||t,T=t.createElement("script"),dn(T),vi(T,"link",_),t.head.appendChild(T),a.instance=T);case"void":return null;default:throw Error(l(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(_=a.instance,a.state.loading|=4,sh(_,h.precedence,t));return a.instance}function sh(t,a,h){for(var _=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=_.length?_[_.length-1]:null,w=T,G=0;G<_.length;G++){var ut=_[G];if(ut.dataset.precedence===a)w=ut;else if(w!==T)break}w?w.parentNode.insertBefore(t,w.nextSibling):(a=h.nodeType===9?h.head:h,a.insertBefore(t,a.firstChild))}function $d(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function tp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var oh=null;function Sy(t,a,h){if(oh===null){var _=new Map,T=oh=new Map;T.set(h,_)}else T=oh,_=T.get(h),_||(_=new Map,T.set(h,_));if(_.has(t))return _;for(_.set(t,null),h=h.getElementsByTagName(t),T=0;T<h.length;T++){var w=h[T];if(!(w[Ar]||w[On]||t==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var G=w.getAttribute(a)||"";G=t+G;var ut=_.get(G);ut?ut.push(w):_.set(G,[w])}}return _}function xy(t,a,h){t=t.ownerDocument||t,t.head.insertBefore(h,a==="title"?t.querySelector("head > title"):null)}function iE(t,a,h){if(h===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rE(t,a,h,_){if(h.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=Al(_.href),w=a.querySelector(Au(T));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=lh.bind(t),a.then(t,t)),h.state.loading|=4,h.instance=w,dn(w);return}w=a.ownerDocument||a,_=yy(_),(T=Yr.get(T))&&$d(_,T),w=w.createElement("link"),dn(w);var G=w;G._p=new Promise(function(ut,_t){G.onload=ut,G.onerror=_t}),vi(w,"link",_),h.instance=w}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(h,a),(a=h.state.preload)&&(h.state.loading&3)===0&&(t.count++,h=lh.bind(t),a.addEventListener("load",h),a.addEventListener("error",h))}}var ep=0;function aE(t,a){return t.stylesheets&&t.count===0&&ch(t,t.stylesheets),0<t.count||0<t.imgCount?function(h){var _=setTimeout(function(){if(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend){var w=t.unsuspend;t.unsuspend=null,w()}},6e4+a);0<t.imgBytes&&ep===0&&(ep=62500*F1());var T=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ch(t,t.stylesheets),t.unsuspend)){var w=t.unsuspend;t.unsuspend=null,w()}},(t.imgBytes>ep?50:800)+a);return t.unsuspend=h,function(){t.unsuspend=null,clearTimeout(_),clearTimeout(T)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uh=null;function ch(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uh=new Map,a.forEach(sE,t),uh=null,lh.call(t))}function sE(t,a){if(!(a.state.loading&4)){var h=uh.get(t);if(h)var _=h.get(null);else{h=new Map,uh.set(t,h);for(var T=t.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<T.length;w++){var G=T[w];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(h.set(G.dataset.precedence,G),_=G)}_&&h.set(null,_)}T=a.instance,G=T.getAttribute("data-precedence"),w=h.get(G)||_,w===_&&h.set(null,T),h.set(G,T),this.count++,_=lh.bind(this),T.addEventListener("load",_),T.addEventListener("error",_),w?w.parentNode.insertBefore(T,w.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(T,t.firstChild)),a.state.loading|=4}}var Nu={$$typeof:X,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function oE(t,a,h,_,T,w,G,ut,_t){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=_,this.onUncaughtError=T,this.onCaughtError=w,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_t,this.incompleteTransitions=new Map}function by(t,a,h,_,T,w,G,ut,_t,wt,Nt,Bt){return t=new oE(t,a,h,G,_t,wt,Nt,Bt,ut),a=1,w===!0&&(a|=24),w=Di(3,null,null,a),t.current=w,w.stateNode=t,a=Rf(),a.refCount++,t.pooledCache=a,a.refCount++,w.memoizedState={element:_,isDehydrated:h,cache:a},zf(w),t}function Ty(t){return t?(t=$a,t):$a}function wy(t,a,h,_,T,w){T=Ty(T),_.context===null?_.context=T:_.pendingContext=T,_=Fs(a),_.payload={element:h},w=w===void 0?null:w,w!==null&&(_.callback=w),h=js(t,_,a),h!==null&&(or(h,t,a),uu(h,t,a))}function Cy(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var h=t.retryLane;t.retryLane=h!==0&&h<a?h:a}}function np(t,a){Cy(t,a),(t=t.alternate)&&Cy(t,a)}function Ly(t){if(t.tag===13||t.tag===31){var a=Bi(t,67108864);a!==null&&or(a,t,67108864),np(t,67108864)}}function Dy(t){if(t.tag===13||t.tag===31){var a=Cr();a=Mn(a);var h=Bi(t,a);h!==null&&or(h,t,a),np(t,a)}}var hh=!0;function lE(t,a,h,_){var T=R.T;R.T=null;var w=U.p;try{U.p=2,ip(t,a,h,_)}finally{U.p=w,R.T=T}}function uE(t,a,h,_){var T=R.T;R.T=null;var w=U.p;try{U.p=8,ip(t,a,h,_)}finally{U.p=w,R.T=T}}function ip(t,a,h,_){if(hh){var T=rp(_);if(T===null)Gd(t,a,_,fh,h),ky(t,_);else if(hE(T,t,a,h,_))_.stopPropagation();else if(ky(t,_),a&4&&-1<cE.indexOf(t)){for(;T!==null;){var w=pa(T);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var G=Yi(w.pendingLanes);if(G!==0){var ut=w;for(ut.pendingLanes|=2,ut.entangledLanes|=2;G;){var _t=1<<31-di(G);ut.entanglements[1]|=_t,G&=~_t}Da(w),(Qe&6)===0&&(Jc=Ht()+500,wu(0))}}break;case 31:case 13:ut=Bi(w,2),ut!==null&&or(ut,w,2),Wc(),np(w,2)}if(w=rp(_),w===null&&Gd(t,a,_,fh,h),w===T)break;T=w}T!==null&&_.stopPropagation()}else Gd(t,a,_,null,h)}}function rp(t){return t=Un(t),ap(t)}var fh=null;function ap(t){if(fh=null,t=$e(t),t!==null){var a=c(t);if(a===null)t=null;else{var h=a.tag;if(h===13){if(t=f(a),t!==null)return t;t=null}else if(h===31){if(t=g(a),t!==null)return t;t=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return fh=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case Ie:return 2;case yn:return 8;case Jt:case Xr:return 32;case _e:return 268435456;default:return 32}default:return 32}}var sp=!1,Qs=null,Ks=null,$s=null,Mu=new Map,Ou=new Map,to=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ky(t,a){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Mu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(a.pointerId)}}function Ru(t,a,h,_,T,w){return t===null||t.nativeEvent!==w?(t={blockedOn:a,domEventName:h,eventSystemFlags:_,nativeEvent:w,targetContainers:[T]},a!==null&&(a=pa(a),a!==null&&Ly(a)),t):(t.eventSystemFlags|=_,a=t.targetContainers,T!==null&&a.indexOf(T)===-1&&a.push(T),t)}function hE(t,a,h,_,T){switch(a){case"focusin":return Qs=Ru(Qs,t,a,h,_,T),!0;case"dragenter":return Ks=Ru(Ks,t,a,h,_,T),!0;case"mouseover":return $s=Ru($s,t,a,h,_,T),!0;case"pointerover":var w=T.pointerId;return Mu.set(w,Ru(Mu.get(w)||null,t,a,h,_,T)),!0;case"gotpointercapture":return w=T.pointerId,Ou.set(w,Ru(Ou.get(w)||null,t,a,h,_,T)),!0}return!1}function Ny(t){var a=$e(t.target);if(a!==null){var h=c(a);if(h!==null){if(a=h.tag,a===13){if(a=f(h),a!==null){t.blockedOn=a,mo(t.priority,function(){Dy(h)});return}}else if(a===31){if(a=g(h),a!==null){t.blockedOn=a,mo(t.priority,function(){Dy(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){t.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dh(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var h=rp(t.nativeEvent);if(h===null){h=t.nativeEvent;var _=new h.constructor(h.type,h);ni=_,h.target.dispatchEvent(_),ni=null}else return a=pa(h),a!==null&&Ly(a),t.blockedOn=h,!1;a.shift()}return!0}function My(t,a,h){dh(t)&&h.delete(a)}function fE(){sp=!1,Qs!==null&&dh(Qs)&&(Qs=null),Ks!==null&&dh(Ks)&&(Ks=null),$s!==null&&dh($s)&&($s=null),Mu.forEach(My),Ou.forEach(My)}function ph(t,a){t.blockedOn===a&&(t.blockedOn=null,sp||(sp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fE)))}var gh=null;function Oy(t){gh!==t&&(gh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){gh===t&&(gh=null);for(var a=0;a<t.length;a+=3){var h=t[a],_=t[a+1],T=t[a+2];if(typeof _!="function"){if(ap(_||h)===null)continue;break}var w=pa(h);w!==null&&(t.splice(a,3),a-=3,rd(w,{pending:!0,data:T,method:h.method,action:_},_,T))}}))}function Nl(t){function a(_t){return ph(_t,t)}Qs!==null&&ph(Qs,t),Ks!==null&&ph(Ks,t),$s!==null&&ph($s,t),Mu.forEach(a),Ou.forEach(a);for(var h=0;h<to.length;h++){var _=to[h];_.blockedOn===t&&(_.blockedOn=null)}for(;0<to.length&&(h=to[0],h.blockedOn===null);)Ny(h),h.blockedOn===null&&to.shift();if(h=(t.ownerDocument||t).$$reactFormReplay,h!=null)for(_=0;_<h.length;_+=3){var T=h[_],w=h[_+1],G=T[je]||null;if(typeof w=="function")G||Oy(h);else if(G){var ut=null;if(w&&w.hasAttribute("formAction")){if(T=w,G=w[je]||null)ut=G.formAction;else if(ap(T)!==null)continue}else ut=G.action;typeof ut=="function"?h[_+1]=ut:(h.splice(_,3),_-=3),Oy(h)}}}function Ry(){function t(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(G){return T=G})},focusReset:"manual",scroll:"manual"})}function a(){T!==null&&(T(),T=null),_||setTimeout(h,20)}function h(){if(!_&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var _=!1,T=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(h,100),function(){_=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),T!==null&&(T(),T=null)}}}function op(t){this._internalRoot=t}mh.prototype.render=op.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(l(409));var h=a.current,_=Cr();wy(h,_,t,a,null,null)},mh.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;wy(t.current,2,null,t,null,null),Wc(),a[fr]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var a=da();t={blockedOn:null,target:t,priority:a};for(var h=0;h<to.length&&a!==0&&a<to[h].priority;h++);to.splice(h,0,t),h===0&&Ny(t)}};var Iy=n.version;if(Iy!=="19.2.3")throw Error(l(527,Iy,"19.2.3"));U.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(a),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var dE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{vn=_h.inject(dE),Nn=_h}catch{}}return Pu.createRoot=function(t,a){if(!r(t))throw Error(l(299));var h=!1,_="",T=Ym,w=Gm,G=qm;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onUncaughtError!==void 0&&(T=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(G=a.onRecoverableError)),a=by(t,1,!1,null,null,h,_,null,T,w,G,Ry),t[fr]=a.current,Yd(t),new op(a)},Pu.hydrateRoot=function(t,a,h){if(!r(t))throw Error(l(299));var _=!1,T="",w=Ym,G=Gm,ut=qm,_t=null;return h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(ut=h.onRecoverableError),h.formState!==void 0&&(_t=h.formState)),a=by(t,1,!0,a,h??null,_,T,_t,w,G,ut,Ry),a.context=Ty(null),h=a.current,_=Cr(),_=Mn(_),T=Fs(_),T.callback=null,js(h,T,_),h=_,a.current.lanes=h,Gi(a,h),Da(a),t[fr]=a.current,Yd(t),new mh(a)},Pu.version="19.2.3",Pu}var Hy;function bE(){if(Hy)return cp.exports;Hy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),cp.exports=EE(),cp.exports}var TE=bE();const wE=[{id:"smoke",label:" Smoke / AQI",color:"#888"},{id:"winter",label:" Winter Storm",color:"#00BFFF"},{id:"heat",label:" Heatwave",color:"#FF4500"},{id:"flood",label:" Flood / Hurricane",color:"#0000FF"},{id:"flu",label:" Respiratory Illness",color:"#32CD32"},{id:"technical",label:" Tech / Architecture",color:"#6610f2"}],CE=({activeTab:e,onTabChange:n})=>O.jsx("div",{style:{display:"flex",gap:"5px",padding:"10px",backgroundColor:"#f8f9fa",borderBottom:"1px solid #ddd",overflowX:"auto",position:"relative",zIndex:1100,flexShrink:0},children:wE.map(i=>O.jsx("button",{onClick:()=>n(i.id),style:{padding:"8px 16px",border:"none",borderRadius:"20px",backgroundColor:e===i.id?i.color:"#e9ecef",color:e===i.id?"white":"#495057",cursor:"pointer",fontWeight:"bold",whiteSpace:"nowrap",transition:"all 0.2s ease",boxShadow:e===i.id?"0 2px 4px rgba(0,0,0,0.2)":"none"},children:i.label},i.id))});var Ih={exports:{}};var LE=Ih.exports,Zy;function DE(){return Zy||(Zy=1,(function(e,n){((i,l)=>{e.exports=l()})(LE,function i(){var l=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:{},r,c=!l.document&&!!l.postMessage,f=l.IS_PAPA_WORKER||!1,g={},y=0,v={};function E(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(M){var z=W(M);z.chunkSize=parseInt(z.chunkSize),M.step||M.chunk||(z.chunkSize=null),this._handle=new Z(z),(this._handle.streamer=this)._config=z}).call(this,A),this.parseChunk=function(M,z){var J=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<J){let nt=this._config.newline;nt||(H=this._config.quoteChar||'"',nt=this._handle.guessLineEndings(M,H)),M=[...M.split(nt).slice(J)].join(nt)}this.isFirstChunk&&tt(this._config.beforeFirstChunk)&&(H=this._config.beforeFirstChunk(M))!==void 0&&(M=H),this.isFirstChunk=!1,this._halted=!1;var J=this._partialLine+M,H=(this._partialLine="",this._handle.parse(J,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(M=H.meta.cursor,J=(this._finished||(this._partialLine=J.substring(M-this._baseIndex),this._baseIndex=M),H&&H.data&&(this._rowCount+=H.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),f)l.postMessage({results:H,workerId:v.WORKER_ID,finished:J});else if(tt(this._config.chunk)&&!z){if(this._config.chunk(H,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=H=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(H.data),this._completeResults.errors=this._completeResults.errors.concat(H.errors),this._completeResults.meta=H.meta),this._completed||!J||!tt(this._config.complete)||H&&H.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),J||H&&H.meta.paused||this._nextChunk(),H}this._halted=!0},this._sendError=function(M){tt(this._config.error)?this._config.error(M):f&&this._config.error&&l.postMessage({workerId:v.WORKER_ID,error:M,finished:!1})}}function x(A){var M;(A=A||{}).chunkSize||(A.chunkSize=v.RemoteChunkSize),E.call(this,A),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),c||(M.onload=$(this._chunkLoaded,this),M.onerror=$(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var z,J=this._config.downloadRequestHeaders;for(z in J)M.setRequestHeader(z,J[z])}var H;this._config.chunkSize&&(H=this._start+this._config.chunkSize-1,M.setRequestHeader("Range","bytes="+this._start+"-"+H));try{M.send(this._config.downloadRequestBody)}catch(nt){this._chunkError(nt.message)}c&&M.status===0&&this._chunkError()}},this._chunkLoaded=function(){M.readyState===4&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize||M.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(M),this.parseChunk(M.responseText)))},this._chunkError=function(z){z=M.statusText||z,this._sendError(new Error(z))}}function D(A){(A=A||{}).chunkSize||(A.chunkSize=v.LocalChunkSize),E.call(this,A);var M,z,J=typeof FileReader<"u";this.stream=function(H){this._input=H,z=H.slice||H.webkitSlice||H.mozSlice,J?((M=new FileReader).onload=$(this._chunkLoaded,this),M.onerror=$(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var H=this._input,nt=(this._config.chunkSize&&(nt=Math.min(this._start+this._config.chunkSize,this._input.size),H=z.call(H,this._start,nt)),M.readAsText(H,this._config.encoding));J||this._chunkLoaded({target:{result:nt}})},this._chunkLoaded=function(H){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(H.target.result)},this._chunkError=function(){this._sendError(M.error)}}function N(A){var M;E.call(this,A=A||{}),this.stream=function(z){return M=z,this._nextChunk()},this._nextChunk=function(){var z,J;if(!this._finished)return z=this._config.chunkSize,M=z?(J=M.substring(0,z),M.substring(z)):(J=M,""),this._finished=!M,this.parseChunk(J)}}function P(A){E.call(this,A=A||{});var M=[],z=!0,J=!1;this.pause=function(){E.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){E.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(H){this._input=H,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){J&&M.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):z=!0},this._streamData=$(function(H){try{M.push(typeof H=="string"?H:H.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(nt){this._streamError(nt)}},this),this._streamError=$(function(H){this._streamCleanUp(),this._sendError(H)},this),this._streamEnd=$(function(){this._streamCleanUp(),J=!0,this._streamData("")},this),this._streamCleanUp=$(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Z(A){var M,z,J,H,nt=Math.pow(2,53),at=-nt,lt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,R=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,F=0,it=0,Q=!1,Y=!1,K=[],ct={data:[],errors:[],meta:{}};function pt(ht){return A.skipEmptyLines==="greedy"?ht.join("").trim()==="":ht.length===1&&ht[0].length===0}function gt(){if(ct&&J&&(Dt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),J=!1),A.skipEmptyLines&&(ct.data=ct.data.filter(function(ft){return!pt(ft)})),St()){let ft=function(Xt,Zt){tt(A.transformHeader)&&(Xt=A.transformHeader(Xt,Zt)),K.push(Xt)};var At=ft;if(ct)if(Array.isArray(ct.data[0])){for(var ht=0;St()&&ht<ct.data.length;ht++)ct.data[ht].forEach(ft);ct.data.splice(0,1)}else ct.data.forEach(ft)}function It(ft,Xt){for(var Zt=A.header?{}:[],zt=0;zt<ft.length;zt++){var jt=zt,we=ft[zt],we=((he,Mt)=>(Je=>(A.dynamicTypingFunction&&A.dynamicTyping[Je]===void 0&&(A.dynamicTyping[Je]=A.dynamicTypingFunction(Je)),(A.dynamicTyping[Je]||A.dynamicTyping)===!0))(he)?Mt==="true"||Mt==="TRUE"||Mt!=="false"&&Mt!=="FALSE"&&((Je=>{if(lt.test(Je)&&(Je=parseFloat(Je),at<Je&&Je<nt))return 1})(Mt)?parseFloat(Mt):R.test(Mt)?new Date(Mt):Mt===""?null:Mt):Mt)(jt=A.header?zt>=K.length?"__parsed_extra":K[zt]:jt,we=A.transform?A.transform(we,jt):we);jt==="__parsed_extra"?(Zt[jt]=Zt[jt]||[],Zt[jt].push(we)):Zt[jt]=we}return A.header&&(zt>K.length?Dt("FieldMismatch","TooManyFields","Too many fields: expected "+K.length+" fields but parsed "+zt,it+Xt):zt<K.length&&Dt("FieldMismatch","TooFewFields","Too few fields: expected "+K.length+" fields but parsed "+zt,it+Xt)),Zt}var Ot;ct&&(A.header||A.dynamicTyping||A.transform)&&(Ot=1,!ct.data.length||Array.isArray(ct.data[0])?(ct.data=ct.data.map(It),Ot=ct.data.length):ct.data=It(ct.data,0),A.header&&ct.meta&&(ct.meta.fields=K),it+=Ot)}function St(){return A.header&&K.length===0}function Dt(ht,It,Ot,At){ht={type:ht,code:It,message:Ot},At!==void 0&&(ht.row=At),ct.errors.push(ht)}tt(A.step)&&(H=A.step,A.step=function(ht){ct=ht,St()?gt():(gt(),ct.data.length!==0&&(F+=ht.data.length,A.preview&&F>A.preview?z.abort():(ct.data=ct.data[0],H(ct,U))))}),this.parse=function(ht,It,Ot){var At=A.quoteChar||'"',At=(A.newline||(A.newline=this.guessLineEndings(ht,At)),J=!1,A.delimiter?tt(A.delimiter)&&(A.delimiter=A.delimiter(ht),ct.meta.delimiter=A.delimiter):((At=((ft,Xt,Zt,zt,jt)=>{var we,he,Mt,Je;jt=jt||[",","	","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var ti=0;ti<jt.length;ti++){for(var gn,Ui=jt[ti],Ht=0,Tn=0,Ie=0,yn=(Mt=void 0,new et({comments:zt,delimiter:Ui,newline:Xt,preview:10}).parse(ft)),Jt=0;Jt<yn.data.length;Jt++)Zt&&pt(yn.data[Jt])?Ie++:(gn=yn.data[Jt].length,Tn+=gn,Mt===void 0?Mt=gn:0<gn&&(Ht+=Math.abs(gn-Mt),Mt=gn));0<yn.data.length&&(Tn/=yn.data.length-Ie),(he===void 0||Ht<=he)&&(Je===void 0||Je<Tn)&&1.99<Tn&&(he=Ht,we=Ui,Je=Tn)}return{successful:!!(A.delimiter=we),bestDelimiter:we}})(ht,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=At.bestDelimiter:(J=!0,A.delimiter=v.DefaultDelimiter),ct.meta.delimiter=A.delimiter),W(A));return A.preview&&A.header&&At.preview++,M=ht,z=new et(At),ct=z.parse(M,It,Ot),gt(),Q?{meta:{paused:!0}}:ct||{meta:{paused:!1}}},this.paused=function(){return Q},this.pause=function(){Q=!0,z.abort(),M=tt(A.chunk)?"":M.substring(z.getCharIndex())},this.resume=function(){U.streamer._halted?(Q=!1,U.streamer.parseChunk(M,!0)):setTimeout(U.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,z.abort(),ct.meta.aborted=!0,tt(A.complete)&&A.complete(ct),M=""},this.guessLineEndings=function(ft,At){ft=ft.substring(0,1048576);var At=new RegExp(rt(At)+"([^]*?)"+rt(At),"gm"),Ot=(ft=ft.replace(At,"")).split("\r"),At=ft.split(`
`),ft=1<At.length&&At[0].length<Ot[0].length;if(Ot.length===1||ft)return`
`;for(var Xt=0,Zt=0;Zt<Ot.length;Zt++)Ot[Zt][0]===`
`&&Xt++;return Xt>=Ot.length/2?`\r
`:"\r"}}function rt(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function et(A){var M=(A=A||{}).delimiter,z=A.newline,J=A.comments,H=A.step,nt=A.preview,at=A.fastMode,lt=null,R=!1,U=A.quoteChar==null?'"':A.quoteChar,F=U;if(A.escapeChar!==void 0&&(F=A.escapeChar),(typeof M!="string"||-1<v.BAD_DELIMITERS.indexOf(M))&&(M=","),J===M)throw new Error("Comment character same as delimiter");J===!0?J="#":(typeof J!="string"||-1<v.BAD_DELIMITERS.indexOf(J))&&(J=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var it=0,Q=!1;this.parse=function(Y,K,ct){if(typeof Y!="string")throw new Error("Input must be a string");var pt=Y.length,gt=M.length,St=z.length,Dt=J.length,ht=tt(H),It=[],Ot=[],At=[],ft=it=0;if(!Y)return Ht();if(at||at!==!1&&Y.indexOf(U)===-1){for(var Xt=Y.split(z),Zt=0;Zt<Xt.length;Zt++){if(At=Xt[Zt],it+=At.length,Zt!==Xt.length-1)it+=z.length;else if(ct)return Ht();if(!J||At.substring(0,Dt)!==J){if(ht){if(It=[],Je(At.split(M)),Tn(),Q)return Ht()}else Je(At.split(M));if(nt&&nt<=Zt)return It=It.slice(0,nt),Ht(!0)}}return Ht()}for(var zt=Y.indexOf(M,it),jt=Y.indexOf(z,it),we=new RegExp(rt(F)+rt(U),"g"),he=Y.indexOf(U,it);;)if(Y[it]===U)for(he=it,it++;;){if((he=Y.indexOf(U,he+1))===-1)return ct||Ot.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:It.length,index:it}),gn();if(he===pt-1)return gn(Y.substring(it,he).replace(we,U));if(U===F&&Y[he+1]===F)he++;else if(U===F||he===0||Y[he-1]!==F){zt!==-1&&zt<he+1&&(zt=Y.indexOf(M,he+1));var Mt=ti((jt=jt!==-1&&jt<he+1?Y.indexOf(z,he+1):jt)===-1?zt:Math.min(zt,jt));if(Y.substr(he+1+Mt,gt)===M){At.push(Y.substring(it,he).replace(we,U)),Y[it=he+1+Mt+gt]!==U&&(he=Y.indexOf(U,it)),zt=Y.indexOf(M,it),jt=Y.indexOf(z,it);break}if(Mt=ti(jt),Y.substring(he+1+Mt,he+1+Mt+St)===z){if(At.push(Y.substring(it,he).replace(we,U)),Ui(he+1+Mt+St),zt=Y.indexOf(M,it),he=Y.indexOf(U,it),ht&&(Tn(),Q))return Ht();if(nt&&It.length>=nt)return Ht(!0);break}Ot.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:It.length,index:it}),he++}}else if(J&&At.length===0&&Y.substring(it,it+Dt)===J){if(jt===-1)return Ht();it=jt+St,jt=Y.indexOf(z,it),zt=Y.indexOf(M,it)}else if(zt!==-1&&(zt<jt||jt===-1))At.push(Y.substring(it,zt)),it=zt+gt,zt=Y.indexOf(M,it);else{if(jt===-1)break;if(At.push(Y.substring(it,jt)),Ui(jt+St),ht&&(Tn(),Q))return Ht();if(nt&&It.length>=nt)return Ht(!0)}return gn();function Je(Ie){It.push(Ie),ft=it}function ti(Ie){var yn=0;return yn=Ie!==-1&&(Ie=Y.substring(he+1,Ie))&&Ie.trim()===""?Ie.length:yn}function gn(Ie){return ct||(Ie===void 0&&(Ie=Y.substring(it)),At.push(Ie),it=pt,Je(At),ht&&Tn()),Ht()}function Ui(Ie){it=Ie,Je(At),At=[],jt=Y.indexOf(z,it)}function Ht(Ie){if(A.header&&!K&&It.length&&!R){var yn=It[0],Jt=Object.create(null),Xr=new Set(yn);let _e=!1;for(let ie=0;ie<yn.length;ie++){let xi=yn[ie];if(Jt[xi=tt(A.transformHeader)?A.transformHeader(xi,ie):xi]){let vn,Nn=Jt[xi];for(;vn=xi+"_"+Nn,Nn++,Xr.has(vn););Xr.add(vn),yn[ie]=vn,Jt[xi]++,_e=!0,(lt=lt===null?{}:lt)[vn]=xi}else Jt[xi]=1,yn[ie]=xi;Xr.add(xi)}_e&&console.warn("Duplicate headers found and renamed."),R=!0}return{data:It,errors:Ot,meta:{delimiter:M,linebreak:z,aborted:Q,truncated:!!Ie,cursor:ft+(K||0),renamedHeaders:lt}}}function Tn(){H(Ht()),It=[],Ot=[]}},this.abort=function(){Q=!0},this.getCharIndex=function(){return it}}function B(A){var M=A.data,z=g[M.workerId],J=!1;if(M.error)z.userError(M.error,M.file);else if(M.results&&M.results.data){var H={abort:function(){J=!0,X(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(tt(z.userStep)){for(var nt=0;nt<M.results.data.length&&(z.userStep({data:M.results.data[nt],errors:M.results.errors,meta:M.results.meta},H),!J);nt++);delete M.results}else tt(z.userChunk)&&(z.userChunk(M.results,H,M.file),delete M.results)}M.finished&&!J&&X(M.workerId,M.results)}function X(A,M){var z=g[A];tt(z.userComplete)&&z.userComplete(M),z.terminate(),delete g[A]}function V(){throw new Error("Not implemented.")}function W(A){if(typeof A!="object"||A===null)return A;var M,z=Array.isArray(A)?[]:{};for(M in A)z[M]=W(A[M]);return z}function $(A,M){return function(){A.apply(M,arguments)}}function tt(A){return typeof A=="function"}return v.parse=function(A,M){var z=(M=M||{}).dynamicTyping||!1;if(tt(z)&&(M.dynamicTypingFunction=z,z={}),M.dynamicTyping=z,M.transform=!!tt(M.transform)&&M.transform,!M.worker||!v.WORKERS_SUPPORTED)return z=null,v.NODE_STREAM_INPUT,typeof A=="string"?(A=(J=>J.charCodeAt(0)!==65279?J:J.slice(1))(A),z=new(M.download?x:N)(M)):A.readable===!0&&tt(A.read)&&tt(A.on)?z=new P(M):(l.File&&A instanceof File||A instanceof Object)&&(z=new D(M)),z.stream(A);(z=(()=>{var J;return!!v.WORKERS_SUPPORTED&&(J=(()=>{var H=l.URL||l.webkitURL||null,nt=i.toString();return v.BLOB_URL||(v.BLOB_URL=H.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",nt,")();"],{type:"text/javascript"})))})(),(J=new l.Worker(J)).onmessage=B,J.id=y++,g[J.id]=J)})()).userStep=M.step,z.userChunk=M.chunk,z.userComplete=M.complete,z.userError=M.error,M.step=tt(M.step),M.chunk=tt(M.chunk),M.complete=tt(M.complete),M.error=tt(M.error),delete M.worker,z.postMessage({input:A,config:M,workerId:z.id})},v.unparse=function(A,M){var z=!1,J=!0,H=",",nt=`\r
`,at='"',lt=at+at,R=!1,U=null,F=!1,it=((()=>{if(typeof M=="object"){if(typeof M.delimiter!="string"||v.BAD_DELIMITERS.filter(function(K){return M.delimiter.indexOf(K)!==-1}).length||(H=M.delimiter),typeof M.quotes!="boolean"&&typeof M.quotes!="function"&&!Array.isArray(M.quotes)||(z=M.quotes),typeof M.skipEmptyLines!="boolean"&&typeof M.skipEmptyLines!="string"||(R=M.skipEmptyLines),typeof M.newline=="string"&&(nt=M.newline),typeof M.quoteChar=="string"&&(at=M.quoteChar),typeof M.header=="boolean"&&(J=M.header),Array.isArray(M.columns)){if(M.columns.length===0)throw new Error("Option columns is empty");U=M.columns}M.escapeChar!==void 0&&(lt=M.escapeChar+at),M.escapeFormulae instanceof RegExp?F=M.escapeFormulae:typeof M.escapeFormulae=="boolean"&&M.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(rt(at),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return Q(null,A,R);if(typeof A[0]=="object")return Q(U||Object.keys(A[0]),A,R)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||U),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),Q(A.fields||[],A.data||[],R);throw new Error("Unable to serialize unrecognized input");function Q(K,ct,pt){var gt="",St=(typeof K=="string"&&(K=JSON.parse(K)),typeof ct=="string"&&(ct=JSON.parse(ct)),Array.isArray(K)&&0<K.length),Dt=!Array.isArray(ct[0]);if(St&&J){for(var ht=0;ht<K.length;ht++)0<ht&&(gt+=H),gt+=Y(K[ht],ht);0<ct.length&&(gt+=nt)}for(var It=0;It<ct.length;It++){var Ot=(St?K:ct[It]).length,At=!1,ft=St?Object.keys(ct[It]).length===0:ct[It].length===0;if(pt&&!St&&(At=pt==="greedy"?ct[It].join("").trim()==="":ct[It].length===1&&ct[It][0].length===0),pt==="greedy"&&St){for(var Xt=[],Zt=0;Zt<Ot;Zt++){var zt=Dt?K[Zt]:Zt;Xt.push(ct[It][zt])}At=Xt.join("").trim()===""}if(!At){for(var jt=0;jt<Ot;jt++){0<jt&&!ft&&(gt+=H);var we=St&&Dt?K[jt]:jt;gt+=Y(ct[It][we],jt)}It<ct.length-1&&(!pt||0<Ot&&!ft)&&(gt+=nt)}}return gt}function Y(K,ct){var pt,gt;return K==null?"":K.constructor===Date?JSON.stringify(K).slice(1,25):(gt=!1,F&&typeof K=="string"&&F.test(K)&&(K="'"+K,gt=!0),pt=K.toString().replace(it,lt),(gt=gt||z===!0||typeof z=="function"&&z(K,ct)||Array.isArray(z)&&z[ct]||((St,Dt)=>{for(var ht=0;ht<Dt.length;ht++)if(-1<St.indexOf(Dt[ht]))return!0;return!1})(pt,v.BAD_DELIMITERS)||-1<pt.indexOf(H)||pt.charAt(0)===" "||pt.charAt(pt.length-1)===" ")?at+pt+at:pt)}},v.RECORD_SEP="",v.UNIT_SEP="",v.BYTE_ORDER_MARK="\uFEFF",v.BAD_DELIMITERS=["\r",`
`,'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!c&&!!l.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=et,v.ParserHandle=Z,v.NetworkStreamer=x,v.FileStreamer=D,v.StringStreamer=N,v.ReadableStreamStreamer=P,l.jQuery&&((r=l.jQuery).fn.parse=function(A){var M=A.config||{},z=[];return this.each(function(nt){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&l.FileReader)||!this.files||this.files.length===0)return!0;for(var at=0;at<this.files.length;at++)z.push({file:this.files[at],inputElem:this,instanceConfig:r.extend({},M)})}),J(),this;function J(){if(z.length===0)tt(A.complete)&&A.complete();else{var nt,at,lt,R,U=z[0];if(tt(A.before)){var F=A.before(U.file,U.inputElem);if(typeof F=="object"){if(F.action==="abort")return nt="AbortError",at=U.file,lt=U.inputElem,R=F.reason,void(tt(A.error)&&A.error({name:nt},at,lt,R));if(F.action==="skip")return void H();typeof F.config=="object"&&(U.instanceConfig=r.extend(U.instanceConfig,F.config))}else if(F==="skip")return void H()}var it=U.instanceConfig.complete;U.instanceConfig.complete=function(Q){tt(it)&&it(Q,U.file,U.inputElem),H()},v.parse(U.file,U.instanceConfig)}}function H(){z.splice(0,1),J()}}),f&&(l.onmessage=function(A){A=A.data,v.WORKER_ID===void 0&&A&&(v.WORKER_ID=A.workerId),typeof A.input=="string"?l.postMessage({workerId:v.WORKER_ID,results:v.parse(A.input,A.config),finished:!0}):(l.File&&A.input instanceof File||A.input instanceof Object)&&(A=v.parse(A.input,A.config))&&l.postMessage({workerId:v.WORKER_ID,results:A,finished:!0})}),(x.prototype=Object.create(E.prototype)).constructor=x,(D.prototype=Object.create(E.prototype)).constructor=D,(N.prototype=Object.create(N.prototype)).constructor=N,(P.prototype=Object.create(E.prototype)).constructor=P,v})})(Ih)),Ih.exports}var AE=DE();const uf=lo(AE);var Wn=63710088e-1,cf={centimeters:Wn*100,centimetres:Wn*100,degrees:360/(2*Math.PI),feet:Wn*3.28084,inches:Wn*39.37,kilometers:Wn/1e3,kilometres:Wn/1e3,meters:Wn,metres:Wn,miles:Wn/1609.344,millimeters:Wn*1e3,millimetres:Wn*1e3,nauticalmiles:Wn/1852,radians:1,yards:Wn*1.0936},Hh={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function bn(e,n,i={}){const l={type:"Feature"};return(i.id===0||i.id)&&(l.id=i.id),i.bbox&&(l.bbox=i.bbox),l.properties=n||{},l.geometry=e,l}function iS(e,n,i={}){switch(e){case"Point":return ue(n).geometry;case"LineString":return be(n).geometry;case"Polygon":return le(n).geometry;case"MultiPoint":return mc(n).geometry;case"MultiLineString":return uo(n).geometry;case"MultiPolygon":return ur(n).geometry;default:throw new Error(e+" is invalid")}}function ue(e,n,i={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Kn(e[0])||!Kn(e[1]))throw new Error("coordinates must contain numbers");return bn({type:"Point",coordinates:e},n,i)}function rS(e,n,i={}){return Qt(e.map(l=>ue(l,n)),i)}function le(e,n,i={}){for(const r of e){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let c=0;c<r[r.length-1].length;c++)if(r[r.length-1][c]!==r[0][c])throw new Error("First and last Position are not equivalent.")}return bn({type:"Polygon",coordinates:e},n,i)}function aS(e,n,i={}){return Qt(e.map(l=>le(l,n)),i)}function be(e,n,i={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return bn({type:"LineString",coordinates:e},n,i)}function sS(e,n,i={}){return Qt(e.map(l=>be(l,n)),i)}function Qt(e,n={}){const i={type:"FeatureCollection"};return n.id&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.features=e,i}function uo(e,n,i={}){return bn({type:"MultiLineString",coordinates:e},n,i)}function mc(e,n,i={}){return bn({type:"MultiPoint",coordinates:e},n,i)}function ur(e,n,i={}){return bn({type:"MultiPolygon",coordinates:e},n,i)}function ug(e,n,i={}){return bn({type:"GeometryCollection",geometries:e},n,i)}function oS(e,n=0){if(n&&!(n>=0))throw new Error("precision must be a positive number");const i=Math.pow(10,n||0);return Math.round(e*i)/i}function _c(e,n="kilometers"){const i=cf[n];if(!i)throw new Error(n+" units is invalid");return e*i}function Jl(e,n="kilometers"){const i=cf[n];if(!i)throw new Error(n+" units is invalid");return e/i}function cg(e,n){return Oa(Jl(e,n))}function Ul(e){let n=e%360;return n<0&&(n+=360),n}function lS(e){return e=e%360,e>180?e-360:e<-180?e+360:e}function Oa(e){return e%(2*Math.PI)*180/Math.PI}function Qn(e){return e%360*Math.PI/180}function Xo(e,n="kilometers",i="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return _c(Jl(e,n),i)}function hg(e,n="meters",i="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const l=Hh[n];if(!l)throw new Error("invalid original units");const r=Hh[i];if(!r)throw new Error("invalid final units");return e/l*r}function Kn(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function ze(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function oc(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(n=>{if(!Kn(n))throw new Error("bbox must only contain numbers")})}function uS(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}const kE=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Hh,azimuthToBearing:lS,bearingToAzimuth:Ul,convertArea:hg,convertLength:Xo,degreesToRadians:Qn,earthRadius:Wn,factors:cf,feature:bn,featureCollection:Qt,geometry:iS,geometryCollection:ug,isNumber:Kn,isObject:ze,lengthToDegrees:cg,lengthToRadians:Jl,lineString:be,lineStrings:sS,multiLineString:uo,multiPoint:mc,multiPolygon:ur,point:ue,points:rS,polygon:le,polygons:aS,radiansToDegrees:Oa,radiansToLength:_c,round:oS,validateBBox:oc,validateId:uS},Symbol.toStringTag,{value:"Module"}));function Be(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ce(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function fg(e){if(e.length>1&&Kn(e[0])&&Kn(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return fg(e[0]);throw new Error("coordinates must only contain numbers")}function cS(e,n,i){if(!n||!i)throw new Error("type and name required");if(!e||e.type!==n)throw new Error("Invalid input to "+i+": must be a "+n+", given "+e.type)}function lc(e,n,i){if(!e)throw new Error("No feature passed");if(!i)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!e.geometry||e.geometry.type!==n)throw new Error("Invalid input to "+i+": must be a "+n+", given "+e.geometry.type)}function xs(e,n,i){if(!e)throw new Error("No featureCollection passed");if(!i)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+i+", FeatureCollection required");for(const l of e.features){if(!l||l.type!=="Feature"||!l.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!l.geometry||l.geometry.type!==n)throw new Error("Invalid input to "+i+": must be a "+n+", given "+l.geometry.type)}}function cn(e){return e.type==="Feature"?e.geometry:e}function cr(e,n){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}const NE=Object.freeze(Object.defineProperty({__proto__:null,collectionOf:xs,containsNumber:fg,featureOf:lc,geojsonType:cS,getCoord:Be,getCoords:ce,getGeom:cn,getType:cr},Symbol.toStringTag,{value:"Module"}));function ao(e,n,i={}){if(i.final===!0)return ME(e,n);const l=Be(e),r=Be(n),c=Qn(l[0]),f=Qn(r[0]),g=Qn(l[1]),y=Qn(r[1]),v=Math.sin(f-c)*Math.cos(y),E=Math.cos(g)*Math.sin(y)-Math.sin(g)*Math.cos(y)*Math.cos(f-c);return Oa(Math.atan2(v,E))}function ME(e,n){let i=ao(n,e);return i=(i+180)%360,i}function so(e,n,i,l={}){const r=Be(e),c=Qn(r[0]),f=Qn(r[1]),g=Qn(i),y=Jl(n,l.units),v=Math.asin(Math.sin(f)*Math.cos(y)+Math.cos(f)*Math.sin(y)*Math.cos(g)),E=c+Math.atan2(Math.sin(g)*Math.sin(y)*Math.cos(f),Math.cos(y)-Math.sin(f)*Math.sin(v)),x=Oa(E),D=Oa(v);return r[2]!==void 0?ue([x,D,r[2]],l.properties):ue([x,D],l.properties)}function fn(e,n,i={}){var l=Be(e),r=Be(n),c=Qn(r[1]-l[1]),f=Qn(r[0]-l[0]),g=Qn(l[1]),y=Qn(r[1]),v=Math.pow(Math.sin(c/2),2)+Math.pow(Math.sin(f/2),2)*Math.cos(g)*Math.cos(y);return _c(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),i.units)}function OE(e,n,i={}){const r=cn(e).coordinates;let c=0;for(let f=0;f<r.length&&!(n>=c&&f===r.length-1);f++)if(c>=n){const g=n-c;if(g){const y=ao(r[f],r[f-1])-180;return so(r[f],g,y,i)}else return ue(r[f])}else c+=fn(r[f],r[f+1],i);return ue(r[r.length-1])}function Jo(e,n,i={}){let l;return i.final?l=Xy(Be(n),Be(e)):l=Xy(Be(e),Be(n)),l>180?-(360-l):l}function Xy(e,n){const i=Qn(e[1]),l=Qn(n[1]);let r=Qn(n[0]-e[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);const c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),f=Math.atan2(r,c);return(Oa(f)+360)%360}function RE(e,n,i,l={}){if(!ze(l))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!n)throw new Error("midPoint is required");if(!i)throw new Error("endPoint is required");const r=e,c=n,f=i,g=Ul(l.mercator!==!0?ao(c,r):Jo(c,r));let y=Ul(l.mercator!==!0?ao(c,f):Jo(c,f));y<g&&(y=y+360);const v=y-g;return l.explementary===!0?360-v:v}function _n(e,n,i){if(e!==null)for(var l,r,c,f,g,y,v,E=0,x=0,D,N=e.type,P=N==="FeatureCollection",Z=N==="Feature",rt=P?e.features.length:1,et=0;et<rt;et++){v=P?e.features[et].geometry:Z?e.geometry:e,D=v?v.type==="GeometryCollection":!1,g=D?v.geometries.length:1;for(var B=0;B<g;B++){var X=0,V=0;if(f=D?v.geometries[B]:v,f!==null){y=f.coordinates;var W=f.type;switch(E=i&&(W==="Polygon"||W==="MultiPolygon")?1:0,W){case null:break;case"Point":if(n(y,x,et,X,V)===!1)return!1;x++,X++;break;case"LineString":case"MultiPoint":for(l=0;l<y.length;l++){if(n(y[l],x,et,X,V)===!1)return!1;x++,W==="MultiPoint"&&X++}W==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(l=0;l<y.length;l++){for(r=0;r<y[l].length-E;r++){if(n(y[l][r],x,et,X,V)===!1)return!1;x++}W==="MultiLineString"&&X++,W==="Polygon"&&V++}W==="Polygon"&&X++;break;case"MultiPolygon":for(l=0;l<y.length;l++){for(V=0,r=0;r<y[l].length;r++){for(c=0;c<y[l][r].length-E;c++){if(n(y[l][r][c],x,et,X,V)===!1)return!1;x++}V++}X++}break;case"GeometryCollection":for(l=0;l<f.geometries.length;l++)if(_n(f.geometries[l],n,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function dg(e,n,i,l){var r=i;return _n(e,function(c,f,g,y,v){f===0&&i===void 0?r=c:r=n(r,c,f,g,y,v)},l),r}function pg(e,n){var i;switch(e.type){case"FeatureCollection":for(i=0;i<e.features.length&&n(e.features[i].properties,i)!==!1;i++);break;case"Feature":n(e.properties,0);break}}function hS(e,n,i){var l=i;return pg(e,function(r,c){c===0&&i===void 0?l=r:l=n(l,r,c)}),l}function Oe(e,n){if(e.type==="Feature")n(e,0);else if(e.type==="FeatureCollection")for(var i=0;i<e.features.length&&n(e.features[i],i)!==!1;i++);}function gg(e,n,i){var l=i;return Oe(e,function(r,c){c===0&&i===void 0?l=r:l=n(l,r,c)}),l}function uc(e){var n=[];return _n(e,function(i){n.push(i)}),n}function Si(e,n){var i,l,r,c,f,g,y,v,E,x,D=0,N=e.type==="FeatureCollection",P=e.type==="Feature",Z=N?e.features.length:1;for(i=0;i<Z;i++){for(g=N?e.features[i].geometry:P?e.geometry:e,v=N?e.features[i].properties:P?e.properties:{},E=N?e.features[i].bbox:P?e.bbox:void 0,x=N?e.features[i].id:P?e.id:void 0,y=g?g.type==="GeometryCollection":!1,f=y?g.geometries.length:1,r=0;r<f;r++){if(c=y?g.geometries[r]:g,c===null){if(n(null,D,v,E,x)===!1)return!1;continue}switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(n(c,D,v,E,x)===!1)return!1;break}case"GeometryCollection":{for(l=0;l<c.geometries.length;l++)if(n(c.geometries[l],D,v,E,x)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}D++}}function mg(e,n,i){var l=i;return Si(e,function(r,c,f,g,y){c===0&&i===void 0?l=r:l=n(l,r,c,f,g,y)}),l}function $n(e,n){Si(e,function(i,l,r,c,f){var g=i===null?null:i.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return n(bn(i,r,{bbox:c,id:f}),l,0)===!1?!1:void 0}var y;switch(g){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var v=0;v<i.coordinates.length;v++){var E=i.coordinates[v],x={type:y,coordinates:E};if(n(bn(x,r),l,v)===!1)return!1}})}function fS(e,n,i){var l=i;return $n(e,function(r,c,f){c===0&&f===0&&i===void 0?l=r:l=n(l,r,c,f)}),l}function gs(e,n){$n(e,function(i,l,r){var c=0;if(i.geometry){var f=i.geometry.type;if(!(f==="Point"||f==="MultiPoint")){var g,y=0,v=0,E=0;if(_n(i,function(x,D,N,P,Z){if(g===void 0||l>y||P>v||Z>E){g=x,y=l,v=P,E=Z,c=0;return}var rt=be([g,x],i.properties);if(n(rt,l,r,Z,c)===!1)return!1;c++,g=x})===!1)return!1}}})}function _g(e,n,i){var l=i,r=!1;return gs(e,function(c,f,g,y,v){r===!1&&i===void 0?l=c:l=n(l,c,f,g,y,v),r=!0}),l}function yg(e,n){if(!e)throw new Error("geojson is required");$n(e,function(i,l,r){if(i.geometry!==null){var c=i.geometry.type,f=i.geometry.coordinates;switch(c){case"LineString":if(n(i,l,r,0,0)===!1)return!1;break;case"Polygon":for(var g=0;g<f.length;g++)if(n(be(f[g],i.properties),l,r,g)===!1)return!1;break}}})}function vg(e,n,i){var l=i;return yg(e,function(r,c,f,g){c===0&&i===void 0?l=r:l=n(l,r,c,f,g)}),l}function dS(e,n){if(n=n||{},!ze(n))throw new Error("options is invalid");var i=n.featureIndex||0,l=n.multiFeatureIndex||0,r=n.geometryIndex||0,c=n.segmentIndex||0,f=n.properties,g;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),f=f||e.features[i].properties,g=e.features[i].geometry;break;case"Feature":f=f||e.properties,g=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=e;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":case"MultiPoint":return null;case"LineString":return c<0&&(c=y.length+c-1),be([y[c],y[c+1]],f,n);case"Polygon":return r<0&&(r=y.length+r),c<0&&(c=y[r].length+c-1),be([y[r][c],y[r][c+1]],f,n);case"MultiLineString":return l<0&&(l=y.length+l),c<0&&(c=y[l].length+c-1),be([y[l][c],y[l][c+1]],f,n);case"MultiPolygon":return l<0&&(l=y.length+l),r<0&&(r=y[l].length+r),c<0&&(c=y[l][r].length-c-1),be([y[l][r][c],y[l][r][c+1]],f,n)}throw new Error("geojson is invalid")}function pS(e,n){if(n=n||{},!ze(n))throw new Error("options is invalid");var i=n.featureIndex||0,l=n.multiFeatureIndex||0,r=n.geometryIndex||0,c=n.coordIndex||0,f=n.properties,g;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),f=f||e.features[i].properties,g=e.features[i].geometry;break;case"Feature":f=f||e.properties,g=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=e;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":return ue(y,f,n);case"MultiPoint":return l<0&&(l=y.length+l),ue(y[l],f,n);case"LineString":return c<0&&(c=y.length+c),ue(y[c],f,n);case"Polygon":return r<0&&(r=y.length+r),c<0&&(c=y[r].length+c),ue(y[r][c],f,n);case"MultiLineString":return l<0&&(l=y.length+l),c<0&&(c=y[l].length+c),ue(y[l][c],f,n);case"MultiPolygon":return l<0&&(l=y.length+l),r<0&&(r=y[l].length+r),c<0&&(c=y[l][r].length-c),ue(y[l][r][c],f,n)}throw new Error("geojson is invalid")}const IE=Object.freeze(Object.defineProperty({__proto__:null,coordAll:uc,coordEach:_n,coordReduce:dg,featureEach:Oe,featureReduce:gg,findPoint:pS,findSegment:dS,flattenEach:$n,flattenReduce:fS,geomEach:Si,geomReduce:mg,lineEach:yg,lineReduce:vg,propEach:pg,propReduce:hS,segmentEach:gs,segmentReduce:_g},Symbol.toStringTag,{value:"Module"}));function yc(e){return mg(e,(n,i)=>n+PE(i),0)}function PE(e){let n=0,i;switch(e.type){case"Polygon":return Jy(e.coordinates);case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)n+=Jy(e.coordinates[i]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Jy(e){let n=0;if(e&&e.length>0){n+=Math.abs(Vy(e[0]));for(let i=1;i<e.length;i++)n-=Math.abs(Vy(e[i]))}return n}var BE=Wn*Wn/2,pp=Math.PI/180;function Vy(e){const n=e.length-1;if(n<=2)return 0;let i=0,l=0;for(;l<n;){const r=e[l],c=e[l+1===n?0:l+1],f=e[l+2>=n?(l+2)%n:l+2],g=r[0]*pp,y=c[1]*pp,v=f[0]*pp;i+=(v-g)*Math.sin(y),l++}return i*BE}function Re(e,n={}){if(e.bbox!=null&&n.recompute!==!0)return e.bbox;const i=[1/0,1/0,-1/0,-1/0];return _n(e,l=>{i[0]>l[0]&&(i[0]=l[0]),i[1]>l[1]&&(i[1]=l[1]),i[2]<l[0]&&(i[2]=l[0]),i[3]<l[1]&&(i[3]=l[1])}),i}function zE(e,n,i){var l=e.length,r=Il(e[0],n),c=[],f,g,y;let v,E;for(i||(i=[]),f=1;f<l;f++){for(v=e[f-1],E=e[f],g=y=Il(E,n);;)if(r|g){if(r&g)break;r?(v=Yp(v,E,r,n),r=Il(v,n)):(E=Yp(v,E,g,n),g=Il(E,n))}else{c.push(v),g!==y?(c.push(E),f<l-1&&(i.push(c),c=[])):f===l-1&&c.push(E);break}r=y}return c.length&&i.push(c),i}function FE(e,n){var i,l,r,c,f,g,y;for(l=1;l<=8;l*=2){for(i=[],r=e[e.length-1],c=!(Il(r,n)&l),f=0;f<e.length;f++)g=e[f],y=!(Il(g,n)&l),y!==c&&i.push(Yp(r,g,l,n)),y&&i.push(g),r=g,c=y;if(e=i,!e.length)break}return i}function Yp(e,n,i,l){return i&8?[e[0]+(n[0]-e[0])*(l[3]-e[1])/(n[1]-e[1]),l[3]]:i&4?[e[0]+(n[0]-e[0])*(l[1]-e[1])/(n[1]-e[1]),l[1]]:i&2?[l[2],e[1]+(n[1]-e[1])*(l[2]-e[0])/(n[0]-e[0])]:i&1?[l[0],e[1]+(n[1]-e[1])*(l[0]-e[0])/(n[0]-e[0])]:null}function Il(e,n){var i=0;return e[0]<n[0]?i|=1:e[0]>n[2]&&(i|=2),e[1]<n[1]?i|=4:e[1]>n[3]&&(i|=8),i}function jE(e,n){const i=cn(e),l=i.type,r=e.type==="Feature"?e.properties:{};let c=i.coordinates;switch(l){case"LineString":case"MultiLineString":{const f=[];return l==="LineString"&&(c=[c]),c.forEach(g=>{zE(g,n,f)}),f.length===1?be(f[0],r):uo(f,r)}case"Polygon":return le(Wy(c,n),r);case"MultiPolygon":return ur(c.map(f=>Wy(f,n)),r);default:throw new Error("geometry "+l+" not supported")}}function Wy(e,n){const i=[];for(const l of e){const r=FE(l,n);r.length>0&&((r[0][0]!==r[r.length-1][0]||r[0][1]!==r[r.length-1][1])&&r.push(r[0]),r.length>=4&&i.push(r))}return i}function vc(e,n={}){const i=Number(e[0]),l=Number(e[1]),r=Number(e[2]),c=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const f=[i,l];return le([[f,[r,l],[r,c],[i,c],f]],n.properties,{bbox:e,id:n.id})}var UE=class{constructor(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(let n=0;n<this.length;n++)this.points[n].z=this.points[n].z||0;for(let n=0;n<this.length-1;n++){const i=this.points[n],l=this.points[n+1];this.centers.push({x:(i.x+l.x)/2,y:(i.y+l.y)/2,z:(i.z+l.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(let n=0;n<this.centers.length-1;n++){const i=this.points[n+1].x-(this.centers[n].x+this.centers[n+1].x)/2,l=this.points[n+1].y-(this.centers[n].y+this.centers[n+1].y)/2,r=this.points[n+1].z-(this.centers[n].y+this.centers[n+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n].x+i),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n].y+l),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n].z+r)},{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n+1].x+i),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n+1].y+l),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n+1].z+r)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}cacheSteps(e){const n=[];let i=this.pos(0);n.push(0);for(let l=0;l<this.duration;l+=10){const r=this.pos(l);Math.sqrt((r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y)+(r.z-i.z)*(r.z-i.z))>e&&(n.push(l),i=r)}return n}vector(e){const n=this.pos(e+10),i=this.pos(e-10);return{angle:180*Math.atan2(n.y-i.y,n.x-i.x)/3.14,speed:Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))}}pos(e){let n=e-this.delay;n<0&&(n=0),n>this.duration&&(n=this.duration-1);const i=n/this.duration;if(i>=1)return this.points[this.length-1];const l=Math.floor((this.points.length-1)*i),r=(this.length-1)*i-l;return YE(r,this.points[l],this.controls[l][1],this.controls[l+1][0],this.points[l+1])}};function YE(e,n,i,l,r){const c=GE(e);return{x:r.x*c[0]+l.x*c[1]+i.x*c[2]+n.x*c[3],y:r.y*c[0]+l.y*c[1]+i.y*c[2]+n.y*c[3],z:r.z*c[0]+l.z*c[1]+i.z*c[2]+n.z*c[3]}}function GE(e){const n=e*e;return[n*e,3*n*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}function qE(e,n={}){const i=n.resolution||1e4,l=n.sharpness||.85,r=[],c=cn(e).coordinates.map(v=>({x:v[0],y:v[1]})),f=new UE({duration:i,points:c,sharpness:l}),g=v=>{var E=f.pos(v);Math.floor(v/100)%2===0&&r.push([E.x,E.y])};for(var y=0;y<f.duration;y+=10)g(y);return g(f.duration),be(r,n.properties)}function Zh(e){const n=ce(e);let i=0,l=1,r,c;for(;l<n.length;)r=c||n[0],c=n[l],i+=(c[0]-r[0])*(c[1]+r[1]),l++;return i>0}function HE(e){const n=cn(e).coordinates;if(n[0].length<=4)return!1;let i=!1;const l=n[0].length-1;for(let r=0;r<l;r++){const c=n[0][(r+2)%l][0]-n[0][(r+1)%l][0],f=n[0][(r+2)%l][1]-n[0][(r+1)%l][1],g=n[0][r][0]-n[0][(r+1)%l][0],y=n[0][r][1]-n[0][(r+1)%l][1],v=c*y-f*g;if(r===0)i=v>0;else if(i!==v>0)return!0}return!1}const _s=11102230246251565e-32,ki=134217729,ZE=(3+8*_s)*_s;function gp(e,n,i,l,r){let c,f,g,y,v=n[0],E=l[0],x=0,D=0;E>v==E>-v?(c=v,v=n[++x]):(c=E,E=l[++D]);let N=0;if(x<e&&D<i)for(E>v==E>-v?(f=v+c,g=c-(f-v),v=n[++x]):(f=E+c,g=c-(f-E),E=l[++D]),c=f,g!==0&&(r[N++]=g);x<e&&D<i;)E>v==E>-v?(f=c+v,y=f-c,g=c-(f-y)+(v-y),v=n[++x]):(f=c+E,y=f-c,g=c-(f-y)+(E-y),E=l[++D]),c=f,g!==0&&(r[N++]=g);for(;x<e;)f=c+v,y=f-c,g=c-(f-y)+(v-y),v=n[++x],c=f,g!==0&&(r[N++]=g);for(;D<i;)f=c+E,y=f-c,g=c-(f-y)+(E-y),E=l[++D],c=f,g!==0&&(r[N++]=g);return(c!==0||N===0)&&(r[N++]=c),N}function XE(e,n){let i=n[0];for(let l=1;l<e;l++)i+=n[l];return i}function Sc(e){return new Float64Array(e)}const JE=(3+16*_s)*_s,VE=(2+12*_s)*_s,WE=(9+64*_s)*_s*_s,Ml=Sc(4),Qy=Sc(8),Ky=Sc(12),$y=Sc(16),ji=Sc(4);function QE(e,n,i,l,r,c,f){let g,y,v,E,x,D,N,P,Z,rt,et,B,X,V,W,$,tt,A;const M=e-r,z=i-r,J=n-c,H=l-c;V=M*H,D=ki*M,N=D-(D-M),P=M-N,D=ki*H,Z=D-(D-H),rt=H-Z,W=P*rt-(V-N*Z-P*Z-N*rt),$=J*z,D=ki*J,N=D-(D-J),P=J-N,D=ki*z,Z=D-(D-z),rt=z-Z,tt=P*rt-($-N*Z-P*Z-N*rt),et=W-tt,x=W-et,Ml[0]=W-(et+x)+(x-tt),B=V+et,x=B-V,X=V-(B-x)+(et-x),et=X-$,x=X-et,Ml[1]=X-(et+x)+(x-$),A=B+et,x=A-B,Ml[2]=B-(A-x)+(et-x),Ml[3]=A;let nt=XE(4,Ml),at=VE*f;if(nt>=at||-nt>=at||(x=e-M,g=e-(M+x)+(x-r),x=i-z,v=i-(z+x)+(x-r),x=n-J,y=n-(J+x)+(x-c),x=l-H,E=l-(H+x)+(x-c),g===0&&y===0&&v===0&&E===0)||(at=WE*f+ZE*Math.abs(nt),nt+=M*E+H*g-(J*v+z*y),nt>=at||-nt>=at))return nt;V=g*H,D=ki*g,N=D-(D-g),P=g-N,D=ki*H,Z=D-(D-H),rt=H-Z,W=P*rt-(V-N*Z-P*Z-N*rt),$=y*z,D=ki*y,N=D-(D-y),P=y-N,D=ki*z,Z=D-(D-z),rt=z-Z,tt=P*rt-($-N*Z-P*Z-N*rt),et=W-tt,x=W-et,ji[0]=W-(et+x)+(x-tt),B=V+et,x=B-V,X=V-(B-x)+(et-x),et=X-$,x=X-et,ji[1]=X-(et+x)+(x-$),A=B+et,x=A-B,ji[2]=B-(A-x)+(et-x),ji[3]=A;const lt=gp(4,Ml,4,ji,Qy);V=M*E,D=ki*M,N=D-(D-M),P=M-N,D=ki*E,Z=D-(D-E),rt=E-Z,W=P*rt-(V-N*Z-P*Z-N*rt),$=J*v,D=ki*J,N=D-(D-J),P=J-N,D=ki*v,Z=D-(D-v),rt=v-Z,tt=P*rt-($-N*Z-P*Z-N*rt),et=W-tt,x=W-et,ji[0]=W-(et+x)+(x-tt),B=V+et,x=B-V,X=V-(B-x)+(et-x),et=X-$,x=X-et,ji[1]=X-(et+x)+(x-$),A=B+et,x=A-B,ji[2]=B-(A-x)+(et-x),ji[3]=A;const R=gp(lt,Qy,4,ji,Ky);V=g*E,D=ki*g,N=D-(D-g),P=g-N,D=ki*E,Z=D-(D-E),rt=E-Z,W=P*rt-(V-N*Z-P*Z-N*rt),$=y*v,D=ki*y,N=D-(D-y),P=y-N,D=ki*v,Z=D-(D-v),rt=v-Z,tt=P*rt-($-N*Z-P*Z-N*rt),et=W-tt,x=W-et,ji[0]=W-(et+x)+(x-tt),B=V+et,x=B-V,X=V-(B-x)+(et-x),et=X-$,x=X-et,ji[1]=X-(et+x)+(x-$),A=B+et,x=A-B,ji[2]=B-(A-x)+(et-x),ji[3]=A;const U=gp(R,Ky,4,ji,$y);return $y[U-1]}function KE(e,n,i,l,r,c){const f=(n-c)*(i-r),g=(e-r)*(l-c),y=f-g,v=Math.abs(f+g);return Math.abs(y)>=JE*v?y:-QE(e,n,i,l,r,c,v)}function $E(e,n){var i,l,r=0,c,f,g,y,v,E,x,D=e[0],N=e[1],P=n.length;for(i=0;i<P;i++){l=0;var Z=n[i],rt=Z.length-1;if(E=Z[0],E[0]!==Z[rt][0]&&E[1]!==Z[rt][1])throw new Error("First and last coordinates in a ring must be the same");for(f=E[0]-D,g=E[1]-N,l;l<rt;l++){if(x=Z[l+1],y=x[0]-D,v=x[1]-N,g===0&&v===0){if(y<=0&&f>=0||f<=0&&y>=0)return 0}else if(v>=0&&g<=0||v<=0&&g>=0){if(c=KE(f,y,g,v,0,0),c===0)return 0;(c>0&&v>0&&g<=0||c<0&&v<=0&&g>0)&&r++}E=x,g=v,f=y}}return r%2!==0}function ae(e,n,i={}){if(!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");const l=Be(e),r=cn(n),c=r.type,f=n.bbox;let g=r.coordinates;if(f&&tb(l,f)===!1)return!1;c==="Polygon"&&(g=[g]);let y=!1;for(var v=0;v<g.length;++v){const E=$E(l,g[v]);if(E===0)return!i.ignoreBoundary;E&&(y=!0)}return y}function tb(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}function pe(e,n,i={}){const l=Be(e),r=ce(n);for(let c=0;c<r.length-1;c++){let f=!1;if(i.ignoreEndVertices&&(c===0&&(f="start"),c===r.length-2&&(f="end"),c===0&&c+1===r.length-1&&(f="both")),eb(r[c],r[c+1],l,f,typeof i.epsilon>"u"?null:i.epsilon))return!0}return!1}function eb(e,n,i,l,r){const c=i[0],f=i[1],g=e[0],y=e[1],v=n[0],E=n[1],x=i[0]-g,D=i[1]-y,N=v-g,P=E-y,Z=x*P-D*N;if(r!==null){if(Math.abs(Z)>r)return!1}else if(Z!==0)return!1;if(Math.abs(N)===Math.abs(P)&&Math.abs(N)===0)return l?!1:i[0]===e[0]&&i[1]===e[1];if(l){if(l==="start")return Math.abs(N)>=Math.abs(P)?N>0?g<c&&c<=v:v<=c&&c<g:P>0?y<f&&f<=E:E<=f&&f<y;if(l==="end")return Math.abs(N)>=Math.abs(P)?N>0?g<=c&&c<v:v<c&&c<=g:P>0?y<=f&&f<E:E<f&&f<=y;if(l==="both")return Math.abs(N)>=Math.abs(P)?N>0?g<c&&c<v:v<c&&c<g:P>0?y<f&&f<E:E<f&&f<y}else return Math.abs(N)>=Math.abs(P)?N>0?g<=c&&c<=v:v<=c&&c<=g:P>0?y<=f&&f<=E:E<=f&&f<=y;return!1}function nb(e,n,i,l,r){gS(e,n,i||0,l||e.length-1,r||ib)}function gS(e,n,i,l,r){for(;l>i;){if(l-i>600){var c=l-i+1,f=n-i+1,g=Math.log(c),y=.5*Math.exp(2*g/3),v=.5*Math.sqrt(g*y*(c-y)/c)*(f-c/2<0?-1:1),E=Math.max(i,Math.floor(n-f*y/c+v)),x=Math.min(l,Math.floor(n+(c-f)*y/c+v));gS(e,n,E,x,r)}var D=e[n],N=i,P=l;for(Bu(e,i,n),r(e[l],D)>0&&Bu(e,i,l);N<P;){for(Bu(e,N,P),N++,P--;r(e[N],D)<0;)N++;for(;r(e[P],D)>0;)P--}r(e[i],D)===0?Bu(e,i,P):(P++,Bu(e,P,l)),P<=n&&(i=P+1),n<=P&&(l=P-1)}}function Bu(e,n,i){var l=e[n];e[n]=e[i],e[i]=l}function ib(e,n){return e<n?-1:e>n?1:0}let hf=class{constructor(n=9){this._maxEntries=Math.max(4,n),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(n){let i=this.data;const l=[];if(!vh(n,i))return l;const r=this.toBBox,c=[];for(;i;){for(let f=0;f<i.children.length;f++){const g=i.children[f],y=i.leaf?r(g):g;vh(n,y)&&(i.leaf?l.push(g):_p(n,y)?this._all(g,l):c.push(g))}i=c.pop()}return l}collides(n){let i=this.data;if(!vh(n,i))return!1;const l=[];for(;i;){for(let r=0;r<i.children.length;r++){const c=i.children[r],f=i.leaf?this.toBBox(c):c;if(vh(n,f)){if(i.leaf||_p(n,f))return!0;l.push(c)}}i=l.pop()}return!1}load(n){if(!(n&&n.length))return this;if(n.length<this._minEntries){for(let l=0;l<n.length;l++)this.insert(n[l]);return this}let i=this._build(n.slice(),0,n.length-1,0);if(!this.data.children.length)this.data=i;else if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const l=this.data;this.data=i,i=l}this._insert(i,this.data.height-i.height-1,!0)}return this}insert(n){return n&&this._insert(n,this.data.height-1),this}clear(){return this.data=Rl([]),this}remove(n,i){if(!n)return this;let l=this.data;const r=this.toBBox(n),c=[],f=[];let g,y,v;for(;l||c.length;){if(l||(l=c.pop(),y=c[c.length-1],g=f.pop(),v=!0),l.leaf){const E=rb(n,l.children,i);if(E!==-1)return l.children.splice(E,1),c.push(l),this._condense(c),this}!v&&!l.leaf&&_p(l,r)?(c.push(l),f.push(g),g=0,y=l,l=l.children[0]):y?(g++,l=y.children[g],v=!1):l=null}return this}toBBox(n){return n}compareMinX(n,i){return n.minX-i.minX}compareMinY(n,i){return n.minY-i.minY}toJSON(){return this.data}fromJSON(n){return this.data=n,this}_all(n,i){const l=[];for(;n;)n.leaf?i.push(...n.children):l.push(...n.children),n=l.pop();return i}_build(n,i,l,r){const c=l-i+1;let f=this._maxEntries,g;if(c<=f)return g=Rl(n.slice(i,l+1)),Ol(g,this.toBBox),g;r||(r=Math.ceil(Math.log(c)/Math.log(f)),f=Math.ceil(c/Math.pow(f,r-1))),g=Rl([]),g.leaf=!1,g.height=r;const y=Math.ceil(c/f),v=y*Math.ceil(Math.sqrt(f));tv(n,i,l,v,this.compareMinX);for(let E=i;E<=l;E+=v){const x=Math.min(E+v-1,l);tv(n,E,x,y,this.compareMinY);for(let D=E;D<=x;D+=y){const N=Math.min(D+y-1,x);g.children.push(this._build(n,D,N,r-1))}}return Ol(g,this.toBBox),g}_chooseSubtree(n,i,l,r){for(;r.push(i),!(i.leaf||r.length-1===l);){let c=1/0,f=1/0,g;for(let y=0;y<i.children.length;y++){const v=i.children[y],E=mp(v),x=ob(n,v)-E;x<f?(f=x,c=E<c?E:c,g=v):x===f&&E<c&&(c=E,g=v)}i=g||i.children[0]}return i}_insert(n,i,l){const r=l?n:this.toBBox(n),c=[],f=this._chooseSubtree(r,this.data,i,c);for(f.children.push(n),Ju(f,r);i>=0&&c[i].children.length>this._maxEntries;)this._split(c,i),i--;this._adjustParentBBoxes(r,c,i)}_split(n,i){const l=n[i],r=l.children.length,c=this._minEntries;this._chooseSplitAxis(l,c,r);const f=this._chooseSplitIndex(l,c,r),g=Rl(l.children.splice(f,l.children.length-f));g.height=l.height,g.leaf=l.leaf,Ol(l,this.toBBox),Ol(g,this.toBBox),i?n[i-1].children.push(g):this._splitRoot(l,g)}_splitRoot(n,i){this.data=Rl([n,i]),this.data.height=n.height+1,this.data.leaf=!1,Ol(this.data,this.toBBox)}_chooseSplitIndex(n,i,l){let r,c=1/0,f=1/0;for(let g=i;g<=l-i;g++){const y=Xu(n,0,g,this.toBBox),v=Xu(n,g,l,this.toBBox),E=lb(y,v),x=mp(y)+mp(v);E<c?(c=E,r=g,f=x<f?x:f):E===c&&x<f&&(f=x,r=g)}return r||l-i}_chooseSplitAxis(n,i,l){const r=n.leaf?this.compareMinX:ab,c=n.leaf?this.compareMinY:sb,f=this._allDistMargin(n,i,l,r),g=this._allDistMargin(n,i,l,c);f<g&&n.children.sort(r)}_allDistMargin(n,i,l,r){n.children.sort(r);const c=this.toBBox,f=Xu(n,0,i,c),g=Xu(n,l-i,l,c);let y=yh(f)+yh(g);for(let v=i;v<l-i;v++){const E=n.children[v];Ju(f,n.leaf?c(E):E),y+=yh(f)}for(let v=l-i-1;v>=i;v--){const E=n.children[v];Ju(g,n.leaf?c(E):E),y+=yh(g)}return y}_adjustParentBBoxes(n,i,l){for(let r=l;r>=0;r--)Ju(i[r],n)}_condense(n){for(let i=n.length-1,l;i>=0;i--)n[i].children.length===0?i>0?(l=n[i-1].children,l.splice(l.indexOf(n[i]),1)):this.clear():Ol(n[i],this.toBBox)}};function rb(e,n,i){if(!i)return n.indexOf(e);for(let l=0;l<n.length;l++)if(i(e,n[l]))return l;return-1}function Ol(e,n){Xu(e,0,e.children.length,n,e)}function Xu(e,n,i,l,r){r||(r=Rl(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let c=n;c<i;c++){const f=e.children[c];Ju(r,e.leaf?l(f):f)}return r}function Ju(e,n){return e.minX=Math.min(e.minX,n.minX),e.minY=Math.min(e.minY,n.minY),e.maxX=Math.max(e.maxX,n.maxX),e.maxY=Math.max(e.maxY,n.maxY),e}function ab(e,n){return e.minX-n.minX}function sb(e,n){return e.minY-n.minY}function mp(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function yh(e){return e.maxX-e.minX+(e.maxY-e.minY)}function ob(e,n){return(Math.max(n.maxX,e.maxX)-Math.min(n.minX,e.minX))*(Math.max(n.maxY,e.maxY)-Math.min(n.minY,e.minY))}function lb(e,n){const i=Math.max(e.minX,n.minX),l=Math.max(e.minY,n.minY),r=Math.min(e.maxX,n.maxX),c=Math.min(e.maxY,n.maxY);return Math.max(0,r-i)*Math.max(0,c-l)}function _p(e,n){return e.minX<=n.minX&&e.minY<=n.minY&&n.maxX<=e.maxX&&n.maxY<=e.maxY}function vh(e,n){return n.minX<=e.maxX&&n.minY<=e.maxY&&n.maxX>=e.minX&&n.maxY>=e.minY}function Rl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function tv(e,n,i,l,r){const c=[n,i];for(;c.length;){if(i=c.pop(),n=c.pop(),i-n<=l)continue;const f=n+Math.ceil((i-n)/l/2)*l;nb(e,f,n,i,r),c.push(n,f,f,i)}}function yp(e){var n;if(e.bbox)n=e.bbox;else if(Array.isArray(e)&&e.length===4)n=e;else if(Array.isArray(e)&&e.length===6)n=[e[0],e[1],e[3],e[4]];else if(e.type==="Feature")n=Re(e);else if(e.type==="FeatureCollection")n=Re(e);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}}var ub=class{constructor(e=9){this.tree=new hf(e),this.tree.toBBox=yp}insert(e){if(e.type!=="Feature")throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:Re(e),this.tree.insert(e),this}load(e){var n=[];return Array.isArray(e)?e.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Re(i),n.push(i)}):Oe(e,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Re(i),n.push(i)}),this.tree.load(n),this}remove(e,n){if(e.type!=="Feature")throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:Re(e),this.tree.remove(e,n),this}clear(){return this.tree.clear(),this}search(e){var n=this.tree.search(yp(e));return Qt(n)}collides(e){return this.tree.collides(yp(e))}all(){const e=this.tree.all();return Qt(e)}toJSON(){return this.tree.toJSON()}fromJSON(e){return this.tree.fromJSON(e),this}};function ff(e){return new ub(e)}function mS(e,n){if(n=n??{},!ze(n))throw new Error("options is invalid");var i=n.precision,l=n.coordinates,r=n.mutate;if(i=i==null||isNaN(i)?6:i,l=l==null||isNaN(l)?3:l,!e)throw new Error("<geojson> is required");if(typeof i!="number")throw new Error("<precision> must be a number");if(typeof l!="number")throw new Error("<coordinates> must be a number");(r===!1||r===void 0)&&(e=JSON.parse(JSON.stringify(e)));var c=Math.pow(10,i);return _n(e,function(f){cb(f,c,l)}),e}function cb(e,n,i){e.length>i&&e.splice(i,e.length);for(var l=0;l<e.length;l++)e[l]=Math.round(e[l]*n)/n;return e}function cc(e){if(!e)throw new Error("geojson is required");const n=[];return $n(e,i=>{hb(i,n)}),Qt(n)}function hb(e,n){let i=[];const l=e.geometry;if(l!==null){switch(l.type){case"Polygon":i=ce(l);break;case"LineString":i=[ce(l)]}i.forEach(r=>{fb(r,e.properties).forEach(f=>{f.id=n.length,n.push(f)})})}}function fb(e,n){const i=[];return e.reduce((l,r)=>{const c=be([l,r],n);return c.bbox=db(l,r),i.push(c),r}),i}function db(e,n){const i=e[0],l=e[1],r=n[0],c=n[1],f=i<r?i:r,g=l<c?l:c,y=i>r?i:r,v=l>c?l:c;return[f,g,y,v]}let _S=class{constructor(n=[],i=pb){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:l}=this,r=i[n];for(;n>0;){const c=n-1>>1,f=i[c];if(l(r,f)>=0)break;i[n]=f,n=c}i[n]=r}_down(n){const{data:i,compare:l}=this,r=this.length>>1,c=i[n];for(;n<r;){let f=(n<<1)+1,g=i[f];const y=f+1;if(y<this.length&&l(i[y],g)<0&&(f=y,g=i[y]),l(g,c)>=0)break;i[n]=g,n=f}i[n]=c}};function pb(e,n){return e<n?-1:e>n?1:0}function yS(e,n){return e.p.x>n.p.x?1:e.p.x<n.p.x?-1:e.p.y!==n.p.y?e.p.y>n.p.y?1:-1:1}function gb(e,n){return e.rightSweepEvent.p.x>n.rightSweepEvent.p.x?1:e.rightSweepEvent.p.x<n.rightSweepEvent.p.x?-1:e.rightSweepEvent.p.y!==n.rightSweepEvent.p.y?e.rightSweepEvent.p.y<n.rightSweepEvent.p.y?1:-1:1}class ev{constructor(n,i,l,r){this.p={x:n[0],y:n[1]},this.featureId=i,this.ringId=l,this.eventId=r,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(n){return this.p.x===n.p.x&&this.p.y===n.p.y}}function mb(e,n){if(e.type==="FeatureCollection"){const i=e.features;for(let l=0;l<i.length;l++)nv(i[l],n)}else nv(e,n)}let Sh=0,xh=0,Eh=0;function nv(e,n){const i=e.type==="Feature"?e.geometry:e;let l=i.coordinates;(i.type==="Polygon"||i.type==="MultiLineString")&&(l=[l]),i.type==="LineString"&&(l=[[l]]);for(let r=0;r<l.length;r++)for(let c=0;c<l[r].length;c++){let f=l[r][c][0],g=null;xh=xh+1;for(let y=0;y<l[r][c].length-1;y++){g=l[r][c][y+1];const v=new ev(f,Sh,xh,Eh),E=new ev(g,Sh,xh,Eh+1);v.otherEvent=E,E.otherEvent=v,yS(v,E)>0?(E.isLeftEndpoint=!0,v.isLeftEndpoint=!1):(v.isLeftEndpoint=!0,E.isLeftEndpoint=!1),n.push(v),n.push(E),f=g,Eh=Eh+1}}Sh=Sh+1}let _b=class{constructor(n){this.leftSweepEvent=n,this.rightSweepEvent=n.otherEvent}};function yb(e,n){if(e===null||n===null||e.leftSweepEvent.ringId===n.leftSweepEvent.ringId&&(e.rightSweepEvent.isSamePoint(n.leftSweepEvent)||e.rightSweepEvent.isSamePoint(n.leftSweepEvent)||e.rightSweepEvent.isSamePoint(n.rightSweepEvent)||e.leftSweepEvent.isSamePoint(n.leftSweepEvent)||e.leftSweepEvent.isSamePoint(n.rightSweepEvent)))return!1;const i=e.leftSweepEvent.p.x,l=e.leftSweepEvent.p.y,r=e.rightSweepEvent.p.x,c=e.rightSweepEvent.p.y,f=n.leftSweepEvent.p.x,g=n.leftSweepEvent.p.y,y=n.rightSweepEvent.p.x,v=n.rightSweepEvent.p.y,E=(v-g)*(r-i)-(y-f)*(c-l),x=(y-f)*(l-g)-(v-g)*(i-f),D=(r-i)*(l-g)-(c-l)*(i-f);if(E===0)return!1;const N=x/E,P=D/E;if(N>=0&&N<=1&&P>=0&&P<=1){const Z=i+N*(r-i),rt=l+N*(c-l);return[Z,rt]}return!1}function vb(e,n){n=n||!1;const i=[],l=new _S([],gb);for(;e.length;){const r=e.pop();if(r.isLeftEndpoint){const c=new _b(r);for(let f=0;f<l.data.length;f++){const g=l.data[f];if(n&&g.leftSweepEvent.featureId===r.featureId)continue;const y=yb(c,g);y!==!1&&i.push(y)}l.push(c)}else r.isLeftEndpoint===!1&&l.pop()}return i}function Sb(e,n){const i=new _S([],yS);return mb(e,i),vb(i,n)}var xb=Sb;function Ra(e,n,i={}){const{removeDuplicates:l=!0,ignoreSelfIntersections:r=!0}=i;let c=[];e.type==="FeatureCollection"?c=c.concat(e.features):e.type==="Feature"?c.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&c.push(bn(e)),n.type==="FeatureCollection"?c=c.concat(n.features):n.type==="Feature"?c.push(n):(n.type==="LineString"||n.type==="Polygon"||n.type==="MultiLineString"||n.type==="MultiPolygon")&&c.push(bn(n));const f=xb(Qt(c),r);let g=[];if(l){const y={};f.forEach(v=>{const E=v.join(",");y[E]||(y[E]=!0,g.push(v))})}else g=f;return Qt(g.map(y=>ue(y)))}var Eb=Object.defineProperty,bb=Object.defineProperties,Tb=Object.getOwnPropertyDescriptors,iv=Object.getOwnPropertySymbols,wb=Object.prototype.hasOwnProperty,Cb=Object.prototype.propertyIsEnumerable,rv=(e,n,i)=>n in e?Eb(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Lb=(e,n)=>{for(var i in n||(n={}))wb.call(n,i)&&rv(e,i,n[i]);if(iv)for(var i of iv(n))Cb.call(n,i)&&rv(e,i,n[i]);return e},Db=(e,n)=>bb(e,Tb(n));function ms(e,n,i={}){if(!e||!n)throw new Error("lines and inputPoint are required arguments");const l=Be(n);let r=ue([1/0,1/0],{lineStringIndex:-1,segmentIndex:-1,totalDistance:-1,lineDistance:-1,segmentDistance:-1,pointDistance:1/0,multiFeatureIndex:-1,index:-1,location:-1,dist:1/0}),c=0,f=0,g=-1;return $n(e,function(y,v,E){g!==E&&(g=E,f=0);const x=ce(y),D=x.length-2;for(let N=0;N<x.length-1;N++){const P=ue(x[N]),Z=Be(P),rt=ue(x[N+1]),et=Be(rt),B=fn(P,rt,i);let X,V;et[0]===l[0]&&et[1]===l[1]?[X,V]=[et,!0]:Z[0]===l[0]&&Z[1]===l[1]?[X,V]=[Z,!1]:[X,V]=Nb(Z,et,l);const W=fn(n,X,i);if(W<r.properties.pointDistance){const $=fn(P,X,i);r=ue(X,{lineStringIndex:E,segmentIndex:V&&N+1<=D?N+1:N,totalDistance:c+$,lineDistance:f+$,segmentDistance:$,pointDistance:W,multiFeatureIndex:-1,index:-1,location:-1,dist:1/0}),r.properties=Db(Lb({},r.properties),{multiFeatureIndex:r.properties.lineStringIndex,index:r.properties.segmentIndex,location:r.properties.totalDistance,dist:r.properties.pointDistance})}c+=B,f+=B}}),r}function Uo(e,n){const[i,l,r]=e,[c,f,g]=n;return i*c+l*f+r*g}function zu(e,n){const[i,l,r]=e,[c,f,g]=n;return[l*g-r*f,r*c-i*g,i*f-l*c]}function Ab(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function av(e){const n=Ab(e);return[e[0]/n,e[1]/n,e[2]/n]}function vp(e){const n=Qn(e[1]),i=Qn(e[0]);return[Math.cos(n)*Math.cos(i),Math.cos(n)*Math.sin(i),Math.sin(n)]}function kb(e){const[n,i,l]=e,r=Math.min(Math.max(l,-1),1),c=Oa(Math.asin(r));return[Oa(Math.atan2(i,n)),c]}function Nb(e,n,i){const l=vp(e),r=vp(n),c=vp(i),f=zu(l,r);if(f[0]===0&&f[1]===0&&f[2]===0)return Uo(l,r)>0?[[...n],!0]:[[...i],!1];const g=zu(f,c);if(g[0]===0&&g[1]===0&&g[2]===0)return[[...n],!0];const y=zu(g,f),v=av(y),E=[-v[0],-v[1],-v[2]],x=Uo(c,v)>Uo(c,E)?v:E,D=av(f),N=Uo(zu(l,x),D),P=Uo(zu(x,r),D);return N>=0&&P>=0?[kb(x),!1]:Uo(l,c)>Uo(r,c)?[[...e],!1]:[[...n],!0]}function Sg(e,n){if(!e)throw new Error("line is required");if(!n)throw new Error("splitter is required");const i=cr(e),l=cr(n);if(i!=="LineString")throw new Error("line must be LineString");if(l==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(l==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var r=mS(n,{precision:7});switch(e.type!=="Feature"&&(e=bn(e)),l){case"Point":return Gp(e,r);case"MultiPoint":return sv(e,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return sv(e,Ra(e,r,{ignoreSelfIntersections:!0}))}}function sv(e,n){var i=[],l=ff();return $n(n,function(r){if(i.forEach(function(g,y){g.id=y}),!i.length)i=Gp(e,r).features,l.load(Qt(i));else{var c=l.search(r);if(c.features.length){var f=vS(r,c);i=i.filter(function(g){return g.id!==f.id}),l.remove(f),Oe(Gp(f,r),function(g){i.push(g),l.insert(g)})}}}),Qt(i)}function Gp(e,n){var i=[],l=ce(e)[0],r=ce(e)[e.geometry.coordinates.length-1];if(Sp(l,Be(n))||Sp(r,Be(n)))return Qt([e]);var c=ff(),f=cc(e);c.load(f);var g=c.search(n);if(!g.features.length)return Qt([e]);var y=vS(n,g),v=[l],E=gg(f,function(x,D,N){var P=ce(D)[1],Z=Be(n);return N===y.id?(x.push(Z),i.push(be(x)),Sp(Z,P)?[Z]:[Z,P]):(x.push(P),x)},v);return E.length>1&&i.push(be(E)),Qt(i)}function vS(e,n){if(!n.features.length)throw new Error("lines must contain features");if(n.features.length===1)return n.features[0];var i,l=1/0;return Oe(n,function(r){var c=ms(r,e),f=c.properties.dist;f<l&&(i=r,l=f)}),i}function Sp(e,n){return e[0]===n[0]&&e[1]===n[1]}function Mb(e,n){const i=cn(e),l=cn(n),r=i.type,c=l.type,f=i.coordinates,g=l.coordinates;switch(r){case"Point":if(c==="Point")return Eg(f,g);throw new Error("feature2 "+c+" geometry not supported");case"MultiPoint":switch(c){case"Point":return Ib(i,l);case"MultiPoint":return Pb(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"Point":return pe(l,i,{ignoreEndVertices:!0});case"LineString":return Fb(i,l);case"MultiPoint":return Bb(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Point":return ae(l,i,{ignoreBoundary:!0});case"LineString":return Ub(i,l);case"Polygon":return xg(i,l);case"MultiPoint":return zb(i,l);case"MultiPolygon":return Rb(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPolygon":if(c==="Polygon")return Ob(i,l);throw new Error("feature2 "+c+" geometry not supported");default:throw new Error("feature1 "+r+" geometry not supported")}}function Ob(e,n){return e.coordinates.some(i=>xg({type:"Polygon",coordinates:i},n))}function Rb(e,n){return n.coordinates.every(i=>xg(e,{type:"Polygon",coordinates:i}))}function Ib(e,n){let i,l=!1;for(i=0;i<e.coordinates.length;i++)if(Eg(e.coordinates[i],n.coordinates)){l=!0;break}return l}function Pb(e,n){for(const i of n.coordinates){let l=!1;for(const r of e.coordinates)if(Eg(i,r)){l=!0;break}if(!l)return!1}return!0}function Bb(e,n){let i=!1;for(const l of n.coordinates)if(pe(l,e,{ignoreEndVertices:!0})&&(i=!0),!pe(l,e))return!1;return!!i}function zb(e,n){for(const i of n.coordinates)if(!ae(i,e,{ignoreBoundary:!0}))return!1;return!0}function Fb(e,n){let i=!1;for(const l of n.coordinates)if(pe({type:"Point",coordinates:l},e,{ignoreEndVertices:!0})&&(i=!0),!pe({type:"Point",coordinates:l},e,{ignoreEndVertices:!1}))return!1;return i}function jb(e,n){const i=e.coordinates,l=[];for(let r=0;r<i.length-1;r++){const c=be([i[r],i[r+1]]),f=Sg(c,bn(n));f.features.length===0?l.push(c):l.push(...f.features)}return Qt(l)}function Ub(e,n){const i=Re(e),l=Re(n);if(!SS(i,l))return!1;for(const f of n.coordinates)if(!ae(f,e))return!1;let r=!1;const c=jb(n,e);for(const f of c.features){const g=Yb(f.geometry.coordinates[0],f.geometry.coordinates[1]);if(!ae(g,e))return!1;!r&&ae(g,e,{ignoreBoundary:!0})&&(r=!0)}return r}function xg(e,n){if(e.type==="Feature"&&e.geometry===null||n.type==="Feature"&&n.geometry===null)return!1;const i=Re(e),l=Re(n);if(!SS(i,l))return!1;const r=cn(n).coordinates;for(const c of r)for(const f of c)if(!ae(f,e))return!1;return!0}function SS(e,n){return!(e[0]>n[0]||e[2]<n[2]||e[1]>n[1]||e[3]<n[3])}function Eg(e,n){return e[0]===n[0]&&e[1]===n[1]}function Yb(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2]}function Yl(e,n={}){const i=cn(e);switch(!n.properties&&e.type==="Feature"&&(n.properties=e.properties),i.type){case"Polygon":return Gb(i,n);case"MultiPolygon":return qb(i,n);default:throw new Error("invalid poly")}}function Gb(e,n={}){const l=cn(e).coordinates,r=n.properties?n.properties:e.type==="Feature"?e.properties:{};return xS(l,r)}function qb(e,n={}){const l=cn(e).coordinates,r=n.properties?n.properties:e.type==="Feature"?e.properties:{},c=[];return l.forEach(f=>{c.push(xS(f,r))}),Qt(c)}function xS(e,n){return e.length>1?uo(e,n):be(e[0],n)}var Hb=Object.defineProperty,Vl=(e,n)=>Hb(e,"name",{value:n,configurable:!0}),ES=class{constructor(n){this.direction=!1,this.compareProperties=!0;var i,l,r;this.precision=10**-((i=n?.precision)!=null?i:17),this.direction=(l=n?.direction)!=null?l:!1,this.compareProperties=(r=n?.compareProperties)!=null?r:!0}compare(n,i){if(n.type!==i.type||!Vu(n,i))return!1;switch(n.type){case"Point":return this.compareCoord(n.coordinates,i.coordinates);case"LineString":return this.compareLine(n.coordinates,i.coordinates);case"Polygon":return this.comparePolygon(n,i);case"GeometryCollection":return this.compareGeometryCollection(n,i);case"Feature":return this.compareFeature(n,i);case"FeatureCollection":return this.compareFeatureCollection(n,i);default:if(n.type.startsWith("Multi")){const l=qp(n),r=qp(i);return l.every(c=>r.some(f=>this.compare(c,f)))}}return!1}compareCoord(n,i){return n.length===i.length&&n.every((l,r)=>Math.abs(l-i[r])<this.precision)}compareLine(n,i,l=0,r=!1){if(!Vu(n,i))return!1;const c=n;let f=i;if(r&&!this.compareCoord(c[0],f[0])){const y=this.fixStartIndex(f,c);if(y)f=y;else return!1}const g=this.compareCoord(c[l],f[l]);return this.direction||g?this.comparePath(c,f):this.compareCoord(c[l],f[f.length-(1+l)])?this.comparePath(c.slice().reverse(),f):!1}fixStartIndex(n,i){let l,r=-1;for(let c=0;c<n.length;c++)if(this.compareCoord(n[c],i[0])){r=c;break}return r>=0&&(l=[].concat(n.slice(r,n.length),n.slice(1,r+1))),l}comparePath(n,i){return n.every((l,r)=>this.compareCoord(l,i[r]))}comparePolygon(n,i){if(this.compareLine(n.coordinates[0],i.coordinates[0],1,!0)){const l=n.coordinates.slice(1,n.coordinates.length),r=i.coordinates.slice(1,i.coordinates.length);return l.every(c=>r.some(f=>this.compareLine(c,f,1,!0)))}return!1}compareGeometryCollection(n,i){return Vu(n.geometries,i.geometries)&&this.compareBBox(n,i)&&n.geometries.every((l,r)=>this.compare(l,i.geometries[r]))}compareFeature(n,i){return n.id===i.id&&(this.compareProperties?Tg(n.properties,i.properties):!0)&&this.compareBBox(n,i)&&this.compare(n.geometry,i.geometry)}compareFeatureCollection(n,i){return Vu(n.features,i.features)&&this.compareBBox(n,i)&&n.features.every((l,r)=>this.compare(l,i.features[r]))}compareBBox(n,i){return!n.bbox&&!i.bbox||(n.bbox&&i.bbox?this.compareCoord(n.bbox,i.bbox):!1)}};Vl(ES,"GeojsonEquality");var Zb=ES;function Vu(e,n){return e.coordinates?e.coordinates.length===n.coordinates.length:e.length===n.length}Vl(Vu,"sameLength");function qp(e){return e.coordinates.map(n=>({type:e.type.replace("Multi",""),coordinates:n}))}Vl(qp,"explode");function bg(e,n,i){return new Zb(i).compare(e,n)}Vl(bg,"geojsonEquality");function Tg(e,n){if(e===null&&n===null)return!0;if(e===null||n===null)return!1;const i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(var r of i){const c=e[r],f=n[r],g=ov(c)&&ov(f);if(g&&!Tg(c,f)||!g&&c!==f)return!1}return!0}Vl(Tg,"equal");var ov=Vl(e=>e!=null&&typeof e=="object","isObject");function Vo(e,n={}){var i=typeof n=="object"?n.mutate:n;if(!e)throw new Error("geojson is required");var l=cr(e),r=[];switch(l){case"LineString":r=xp(e,l);break;case"MultiLineString":case"Polygon":ce(e).forEach(function(f){r.push(xp(f,l))});break;case"MultiPolygon":ce(e).forEach(function(f){var g=[];f.forEach(function(y){g.push(xp(y,l))}),r.push(g)});break;case"Point":return e;case"MultiPoint":var c={};ce(e).forEach(function(f){var g=f.join("-");Object.prototype.hasOwnProperty.call(c,g)||(r.push(f),c[g]=!0)});break;default:throw new Error(l+" geometry not supported")}return e.coordinates?i===!0?(e.coordinates=r,e):{type:l,coordinates:r}:i===!0?(e.geometry.coordinates=r,e):bn({type:l,coordinates:r},e.properties,{bbox:e.bbox,id:e.id})}function xp(e,n){const i=ce(e);if(i.length===2&&!lv(i[0],i[1]))return i;const l=[];let r=0,c=1,f=2;for(l.push(i[r]);f<i.length;)pe(i[c],be([i[r],i[f]]))?c=f:(l.push(i[c]),r=c,c++,f=c),f++;if(l.push(i[c]),n==="Polygon"||n==="MultiPolygon"){if(pe(l[0],be([l[1],l[l.length-2]]))&&(l.shift(),l.pop(),l.push(l[0])),l.length<4)throw new Error("invalid polygon, fewer than 4 points");if(!lv(l[0],l[l.length-1]))throw new Error("invalid polygon, first and last points not equal")}return l}function lv(e,n){return e[0]===n[0]&&e[1]===n[1]}function Wu(e,n,i={}){let l=i.precision;if(l=l==null||isNaN(l)?6:l,typeof l!="number"||!(l>=0))throw new Error("precision must be a positive number");const r=cn(e).type,c=cn(n).type;return r!==c?!1:bg(Vo(e),Vo(n),{precision:l})}function bS(e,n){var i=cn(e),l=cn(n),r=i.type,c=l.type;switch(r){case"MultiPoint":switch(c){case"LineString":return uv(i,l);case"Polygon":return hv(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"MultiPoint":return uv(l,i);case"LineString":return Xb(i,l);case"Polygon":return cv(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"MultiPoint":return hv(l,i);case"LineString":return cv(l,i);default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function uv(e,n){for(var i=!1,l=!1,r=e.coordinates.length,c=0;c<r&&!i&&!l;){for(var f=0;f<n.coordinates.length-1;f++){var g=!0;(f===0||f===n.coordinates.length-2)&&(g=!1),Jb(n.coordinates[f],n.coordinates[f+1],e.coordinates[c],g)?i=!0:l=!0}c++}return i&&l}function Xb(e,n){const i=Ra(e,n);if(i.features.length===0)return!1;for(const l of i.features)if(!Wu(l.geometry,ue(e.coordinates[0]))&&!Wu(l.geometry,ue(e.coordinates[e.coordinates.length-1]))&&!Wu(l.geometry,ue(n.coordinates[0]))&&!Wu(l.geometry,ue(n.coordinates[n.coordinates.length-1])))return!0;return!1}function cv(e,n){const i=Yl(n);return Ra(e,i).features.length>0}function hv(e,n){var i=!1,l=!1,r=e.coordinates.length;for(let c=0;c<r&&(!i||!l);c++)ae(ue(e.coordinates[c]),n)?i=!0:l=!0;return l&&i}function Jb(e,n,i,l){var r=i[0]-e[0],c=i[1]-e[1],f=n[0]-e[0],g=n[1]-e[1],y=r*g-c*f;return y!==0?!1:l?Math.abs(f)>=Math.abs(g)?f>0?e[0]<=i[0]&&i[0]<=n[0]:n[0]<=i[0]&&i[0]<=e[0]:g>0?e[1]<=i[1]&&i[1]<=n[1]:n[1]<=i[1]&&i[1]<=e[1]:Math.abs(f)>=Math.abs(g)?f>0?e[0]<i[0]&&i[0]<n[0]:n[0]<i[0]&&i[0]<e[0]:g>0?e[1]<i[1]&&i[1]<n[1]:n[1]<i[1]&&i[1]<e[1]}function wg(e,n,{ignoreSelfIntersections:i=!0}={ignoreSelfIntersections:!0}){let l=!0;return $n(e,r=>{$n(n,c=>{if(l===!1)return!1;l=Vb(r.geometry,c.geometry,i)})}),l}function Vb(e,n,i){switch(e.type){case"Point":switch(n.type){case"Point":return!$b(e.coordinates,n.coordinates);case"LineString":return!fv(n,e);case"Polygon":return!ae(e,n)}break;case"LineString":switch(n.type){case"Point":return!fv(e,n);case"LineString":return!Wb(e,n,i);case"Polygon":return!dv(n,e,i)}break;case"Polygon":switch(n.type){case"Point":return!ae(n,e);case"LineString":return!dv(e,n,i);case"Polygon":return!Qb(n,e,i)}}return!1}function fv(e,n){for(let i=0;i<e.coordinates.length-1;i++)if(Kb(e.coordinates[i],e.coordinates[i+1],n.coordinates))return!0;return!1}function Wb(e,n,i){return Ra(e,n,{ignoreSelfIntersections:i}).features.length>0}function dv(e,n,i){for(const r of n.coordinates)if(ae(r,e))return!0;return Ra(n,Yl(e),{ignoreSelfIntersections:i}).features.length>0}function Qb(e,n,i){for(const r of e.coordinates[0])if(ae(r,n))return!0;for(const r of n.coordinates[0])if(ae(r,e))return!0;return Ra(Yl(e),Yl(n),{ignoreSelfIntersections:i}).features.length>0}function Kb(e,n,i){const l=i[0]-e[0],r=i[1]-e[1],c=n[0]-e[0],f=n[1]-e[1];return l*f-r*c!==0?!1:Math.abs(c)>=Math.abs(f)?c>0?e[0]<=i[0]&&i[0]<=n[0]:n[0]<=i[0]&&i[0]<=e[0]:f>0?e[1]<=i[1]&&i[1]<=n[1]:n[1]<=i[1]&&i[1]<=e[1]}function $b(e,n){return e[0]===n[0]&&e[1]===n[1]}function TS(e,n,{ignoreSelfIntersections:i=!0}={}){let l=!1;return $n(e,r=>{$n(n,c=>{if(l===!0)return!0;l=!wg(r.geometry,c.geometry,{ignoreSelfIntersections:i})})}),l}var Ep,pv;function tT(){return pv||(pv=1,Ep=function e(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var l,r,c;if(Array.isArray(n)){if(l=n.length,l!=i.length)return!1;for(r=l;r--!==0;)if(!e(n[r],i[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(c=Object.keys(n),l=c.length,l!==Object.keys(i).length)return!1;for(r=l;r--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[r]))return!1;for(r=l;r--!==0;){var f=c[r];if(!e(n[f],i[f]))return!1}return!0}return n!==n&&i!==i}),Ep}var eT=tT();const Ho=lo(eT);function wS(e,n,i={}){if(i=i||{},!ze(i))throw new Error("options is invalid");var l=i.tolerance||0,r=[],c=ff();const f=cc(e);c.load(f);var g;let y=[];return gs(n,function(v){var E=!1;v&&(Oe(c.search(v),function(x){if(E===!1){var D=ce(v).sort(),N=ce(x).sort();if(Ho(D,N))E=!0,g?g=bp(g,v)||g:g=v;else if(l===0?pe(D[0],x)&&pe(D[1],x):ms(x,D[0]).properties.dist<=l&&ms(x,D[1]).properties.dist<=l)E=!0,g?g=bp(g,v)||g:g=v;else if(l===0?pe(N[0],v)&&pe(N[1],v):ms(v,N[0]).properties.dist<=l&&ms(v,N[1]).properties.dist<=l)if(g){const P=bp(g,x);P?g=P:y.push(x)}else g=x}}),E===!1&&g&&(r.push(g),y.length&&(r=r.concat(y),y=[]),g=void 0))}),g&&r.push(g),Qt(r)}function bp(e,n){var i=ce(n),l=ce(e),r=l[0],c=l[l.length-1],f=e.geometry.coordinates;if(Ho(i[0],r))f.unshift(i[1]);else if(Ho(i[0],c))f.push(i[1]);else if(Ho(i[1],r))f.unshift(i[0]);else if(Ho(i[1],c))f.push(i[0]);else return;return e}function nT(e,n){const i=cn(e),l=cn(n),r=i.type,c=l.type;if(r==="MultiPoint"&&c!=="MultiPoint"||(r==="LineString"||r==="MultiLineString")&&c!=="LineString"&&c!=="MultiLineString"||(r==="Polygon"||r==="MultiPolygon")&&c!=="Polygon"&&c!=="MultiPolygon")throw new Error("features must be of the same type");if(r==="Point")throw new Error("Point geometry not supported");if(bg(e,n,{precision:6}))return!1;let f=0;switch(r){case"MultiPoint":for(var g=0;g<i.coordinates.length;g++)for(var y=0;y<l.coordinates.length;y++){var v=i.coordinates[g],E=l.coordinates[y];if(v[0]===E[0]&&v[1]===E[1])return!0}return!1;case"LineString":case"MultiLineString":gs(e,x=>{gs(n,D=>{wS(x,D).features.length&&f++})});break;case"Polygon":case"MultiPolygon":gs(e,x=>{gs(n,D=>{Ra(x,D).features.length&&f++})});break}return f>0}function iT(e,n){if(!e)throw new Error("line1 is required");if(!n)throw new Error("line2 is required");var i=gv(e,"line1");if(i!=="LineString")throw new Error("line1 must be a LineString");var l=gv(n,"line2");if(l!=="LineString")throw new Error("line2 must be a LineString");for(var r=cc(Vo(e)).features,c=cc(Vo(n)).features,f=0;f<r.length;f++){var g=r[f].geometry.coordinates;if(!c[f])break;var y=c[f].geometry.coordinates;if(!rT(g,y))return!1}return!0}function rT(e,n){var i=Ul(Jo(e[0],e[1])),l=Ul(Jo(n[0],n[1]));return i===l||(l-i)%180===0}function gv(e,n){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+n)}function aT(e,n){var i=cn(e),l=cn(n),r=i.type,c=l.type;switch(r){case"Point":switch(c){case"LineString":return Ni(i,l);case"MultiLineString":for(var f=!1,g=0;g<l.coordinates.length;g++)Ni(i,{coordinates:l.coordinates[g]})&&(f=!0);return f;case"Polygon":for(var y=0;y<l.coordinates.length;y++)if(pe(i,{type:"LineString",coordinates:l.coordinates[y]}))return!0;return!1;case"MultiPolygon":for(var y=0;y<l.coordinates.length;y++)for(var g=0;g<l.coordinates[y].length;g++)if(pe(i,{type:"LineString",coordinates:l.coordinates[y][g]}))return!0;return!1;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPoint":switch(c){case"LineString":for(var f=!1,y=0;y<i.coordinates.length;y++)if(f||Ni({coordinates:i.coordinates[y]},l)&&(f=!0),pe({type:"Point",coordinates:i.coordinates[y]},l,{ignoreEndVertices:!0}))return!1;return f;case"MultiLineString":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||Ni({coordinates:i.coordinates[y]},{coordinates:l.coordinates[g]})&&(f=!0),pe({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[g]},{ignoreEndVertices:!0}))return!1;return f;case"Polygon":for(var f=!1,y=0;y<i.coordinates.length;y++)if(f||pe({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[y]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||pe({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[g][0]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[y]},{type:"Polygon",coordinates:l.coordinates[g]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"Point":return Ni(l,i);case"MultiPoint":for(var f=!1,y=0;y<l.coordinates.length;y++)if(f||Ni({coordinates:l.coordinates[y]},i)&&(f=!0),pe({type:"Point",coordinates:l.coordinates[y]},i,{ignoreEndVertices:!0}))return!1;return f;case"LineString":var v=!1;if(Ni({coordinates:i.coordinates[0]},l)&&(v=!0),Ni({coordinates:i.coordinates[i.coordinates.length-1]},l)&&(v=!0),v===!1)return!1;for(var y=0;y<i.coordinates.length;y++)if(pe({type:"Point",coordinates:i.coordinates[y]},l,{ignoreEndVertices:!0}))return!1;return v;case"MultiLineString":for(var v=!1,y=0;y<l.coordinates.length;y++){Ni({coordinates:i.coordinates[0]},{coordinates:l.coordinates[y]})&&(v=!0),Ni({coordinates:i.coordinates[i.coordinates.length-1]},{coordinates:l.coordinates[y]})&&(v=!0);for(var g=0;g<i.coordinates[y].length;g++)if(pe({type:"Point",coordinates:i.coordinates[g]},{type:"LineString",coordinates:l.coordinates[y]},{ignoreEndVertices:!0}))return!1}return v;case"Polygon":for(var f=!1,y=0;y<i.coordinates.length;y++)if(f||pe({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[y]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<i.coordinates.length;y++){for(var g=0;g<l.coordinates.length;g++)f||pe({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[g][0]})&&(f=!0);if(ae({type:"Point",coordinates:i.coordinates[y]},l,{ignoreBoundary:!0}))return!1}return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiLineString":switch(c){case"Point":for(var y=0;y<i.coordinates.length;y++)if(Ni(l,{coordinates:i.coordinates[y]}))return!0;return!1;case"MultiPoint":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||Ni({coordinates:l.coordinates[g]},{coordinates:i.coordinates[g]})&&(f=!0),pe({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[g]},{ignoreEndVertices:!0}))return!1;return f;case"LineString":for(var v=!1,y=0;y<i.coordinates.length;y++){Ni({coordinates:i.coordinates[y][0]},l)&&(v=!0),Ni({coordinates:i.coordinates[y][i.coordinates[y].length-1]},l)&&(v=!0);for(var g=0;g<l.coordinates.length;g++)if(pe({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[y]},{ignoreEndVertices:!0}))return!1}return v;case"MultiLineString":for(var v=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++){Ni({coordinates:i.coordinates[y][0]},{coordinates:l.coordinates[g]})&&(v=!0),Ni({coordinates:i.coordinates[y][i.coordinates[y].length-1]},{coordinates:l.coordinates[g]})&&(v=!0);for(var E=0;E<i.coordinates[y].length;E++)if(pe({type:"Point",coordinates:i.coordinates[y][E]},{type:"LineString",coordinates:l.coordinates[g]},{ignoreEndVertices:!0}))return!1}return v;case"Polygon":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<i.coordinates.length;g++)if(f||pe({type:"Point",coordinates:i.coordinates[y][g]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[y][g]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<l.coordinates[0].length;y++)for(var g=0;g<i.coordinates.length;g++)for(var E=0;E<i.coordinates[g].length;E++)if(f||pe({type:"Point",coordinates:i.coordinates[g][E]},{type:"LineString",coordinates:l.coordinates[0][y]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[g][E]},{type:"Polygon",coordinates:[l.coordinates[0][y]]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Point":for(var y=0;y<i.coordinates.length;y++)if(pe(l,{type:"LineString",coordinates:i.coordinates[y]}))return!0;return!1;case"MultiPoint":for(var f=!1,y=0;y<l.coordinates.length;y++)if(f||pe({type:"Point",coordinates:l.coordinates[y]},{type:"LineString",coordinates:i.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:l.coordinates[y]},i,{ignoreBoundary:!0}))return!1;return f;case"LineString":for(var f=!1,y=0;y<l.coordinates.length;y++)if(f||pe({type:"Point",coordinates:l.coordinates[y]},{type:"LineString",coordinates:i.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:l.coordinates[y]},i,{ignoreBoundary:!0}))return!1;return f;case"MultiLineString":for(var f=!1,y=0;y<l.coordinates.length;y++)for(var g=0;g<l.coordinates[y].length;g++)if(f||pe({type:"Point",coordinates:l.coordinates[y][g]},{type:"LineString",coordinates:i.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:l.coordinates[y][g]},i,{ignoreBoundary:!0}))return!1;return f;case"Polygon":for(var f=!1,y=0;y<i.coordinates[0].length;y++)if(f||pe({type:"Point",coordinates:i.coordinates[0][y]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[0][y]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<l.coordinates[0].length;y++)for(var g=0;g<i.coordinates[0].length;g++)if(f||pe({type:"Point",coordinates:i.coordinates[0][g]},{type:"LineString",coordinates:l.coordinates[0][y]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[0][g]},{type:"Polygon",coordinates:l.coordinates[0][y]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPolygon":switch(c){case"Point":for(var y=0;y<i.coordinates[0].length;y++)if(pe(l,{type:"LineString",coordinates:i.coordinates[0][y]}))return!0;return!1;case"MultiPoint":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||pe({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[0][y]})&&(f=!0),ae({type:"Point",coordinates:l.coordinates[g]},{type:"Polygon",coordinates:i.coordinates[0][y]},{ignoreBoundary:!0}))return!1;return f;case"LineString":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||pe({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[0][y]})&&(f=!0),ae({type:"Point",coordinates:l.coordinates[g]},{type:"Polygon",coordinates:i.coordinates[0][y]},{ignoreBoundary:!0}))return!1;return f;case"MultiLineString":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)for(var E=0;E<l.coordinates[g].length;E++)if(f||pe({type:"Point",coordinates:l.coordinates[g][E]},{type:"LineString",coordinates:i.coordinates[y][0]})&&(f=!0),ae({type:"Point",coordinates:l.coordinates[g][E]},{type:"Polygon",coordinates:[i.coordinates[y][0]]},{ignoreBoundary:!0}))return!1;return f;case"Polygon":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<i.coordinates[0][y].length;g++)if(f||pe({type:"Point",coordinates:i.coordinates[0][y][g]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[0][y][g]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<l.coordinates[0].length;g++)for(var E=0;E<i.coordinates[0].length;E++)if(f||pe({type:"Point",coordinates:i.coordinates[0][y][E]},{type:"LineString",coordinates:l.coordinates[0][g]})&&(f=!0),ae({type:"Point",coordinates:i.coordinates[0][y][E]},{type:"Polygon",coordinates:l.coordinates[0][g]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function Ni(e,n){return!!(mv(n.coordinates[0],e.coordinates)||mv(n.coordinates[n.coordinates.length-1],e.coordinates))}function mv(e,n){return e[0]===n[0]&&e[1]===n[1]}function sT(e){if(!e.type)return!1;const n=cn(e),i=n.type,l=n.coordinates;switch(i){case"Point":return l.length>1;case"MultiPoint":for(var r=0;r<l.length;r++)if(l[r].length<2)return!1;return!0;case"LineString":if(l.length<2)return!1;for(var r=0;r<l.length;r++)if(l[r].length<2)return!1;return!0;case"MultiLineString":if(l.length<2)return!1;for(var r=0;r<l.length;r++)if(l[r].length<2)return!1;return!0;case"Polygon":for(var r=0;r<n.coordinates.length;r++)if(l[r].length<4||!_v(l[r])||yv(l[r])||r>0&&Ra(le([l[0]]),le([l[r]])).features.length>1)return!1;return!0;case"MultiPolygon":for(var r=0;r<n.coordinates.length;r++)for(var c=n.coordinates[r],f=0;f<c.length;f++)if(c[f].length<4||!_v(c[f])||yv(c[f])||f===0&&!oT(c,n.coordinates,r)||f>0&&Ra(le([c[0]]),le([c[f]])).features.length>1)return!1;return!0;default:return!1}}function _v(e){return e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]}function yv(e){for(var n=0;n<e.length-1;n++)for(var i=e[n],l=n+1;l<e.length-2;l++){var r=[e[l],e[l+1]];if(pe(i,be(r)))return!0}return!1}function oT(e,n,i){for(var l=le(e),r=i+1;r<n.length;r++)if(!wg(l,le(n[r]))&&bS(l,be(n[r][0])))return!1;return!0}function CS(e,n){var i=cn(e),l=cn(n),r=i.type,c=l.type;switch(r){case"Point":switch(c){case"MultiPoint":return lT(i,l);case"LineString":return pe(i,l,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return ae(i,l,{ignoreBoundary:!0});default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPoint":switch(c){case"MultiPoint":return uT(i,l);case"LineString":return cT(i,l);case"Polygon":case"MultiPolygon":return hT(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"LineString":return fT(i,l);case"Polygon":case"MultiPolygon":return pT(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Polygon":case"MultiPolygon":return gT(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function lT(e,n){var i,l=!1;for(i=0;i<n.coordinates.length;i++)if(DS(n.coordinates[i],e.coordinates)){l=!0;break}return l}function uT(e,n){for(var i=0;i<e.coordinates.length;i++){for(var l=!1,r=0;r<n.coordinates.length;r++)DS(e.coordinates[i],n.coordinates[r])&&(l=!0);if(!l)return!1}return!0}function cT(e,n){for(var i=!1,l=0;l<e.coordinates.length;l++){if(!pe(e.coordinates[l],n))return!1;i||(i=pe(e.coordinates[l],n,{ignoreEndVertices:!0}))}return i}function hT(e,n){for(var i=!0,l=!1,r=0;r<e.coordinates.length;r++){if(l=ae(e.coordinates[r],n),!l){i=!1;break}l=ae(e.coordinates[r],n,{ignoreBoundary:!0})}return i&&l}function fT(e,n){for(var i=0;i<e.coordinates.length;i++)if(!pe(e.coordinates[i],n))return!1;return!0}function dT(e,n){const i=e.coordinates,l=[];for(let r=0;r<i.length-1;r++){const c=be([i[r],i[r+1]]),f=Sg(c,bn(n));f.features.length===0?l.push(c):l.push(...f.features)}return Qt(l)}function pT(e,n){const i=Re(n),l=Re(e);if(!LS(i,l))return!1;for(const f of e.coordinates)if(!ae(f,n))return!1;let r=!1;const c=dT(e,n);for(const f of c.features){const g=mT(f.geometry.coordinates[0],f.geometry.coordinates[1]);if(!ae(g,n))return!1;!r&&ae(g,n,{ignoreBoundary:!0})&&(r=!0)}return r}function gT(e,n){var i=Re(e),l=Re(n);if(!LS(l,i))return!1;for(var r=0;r<e.coordinates[0].length;r++)if(!ae(e.coordinates[0][r],n))return!1;return!0}function LS(e,n){return!(e[0]>n[0]||e[2]<n[2]||e[1]>n[1]||e[3]<n[3])}function DS(e,n){return e[0]===n[0]&&e[1]===n[1]}function mT(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2]}function df(e,n={}){const i=Re(e),l=(i[0]+i[2])/2,r=(i[1]+i[3])/2;return ue([l,r],n.properties,n)}var Ph={exports:{}},_T=Ph.exports,vv;function yT(){return vv||(vv=1,(function(e,n){(function(i,l){e.exports=l()})(_T,(function(){function i(p,s){(s==null||s>p.length)&&(s=p.length);for(var o=0,d=Array(s);o<s;o++)d[o]=p[o];return d}function l(p,s,o){return s=E(s),(function(d,S){if(S&&(typeof S=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C})(d)})(p,D()?Reflect.construct(s,o||[],E(p).constructor):s.apply(p,o))}function r(p,s){if(!(p instanceof s))throw new TypeError("Cannot call a class as a function")}function c(p,s,o){if(D())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,s);var S=new(p.bind.apply(p,d));return o&&N(S,o.prototype),S}function f(p,s){for(var o=0;o<s.length;o++){var d=s[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,rt(d.key),d)}}function g(p,s,o){return s&&f(p.prototype,s),o&&f(p,o),Object.defineProperty(p,"prototype",{writable:!1}),p}function y(p,s){var o=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!o){if(Array.isArray(p)||(o=et(p))||s){o&&(p=o);var d=0,S=function(){};return{s:S,n:function(){return d>=p.length?{done:!0}:{done:!1,value:p[d++]}},e:function(ot){throw ot},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,I=!0,q=!1;return{s:function(){o=o.call(p)},n:function(){var ot=o.next();return I=ot.done,ot},e:function(ot){q=!0,C=ot},f:function(){try{I||o.return==null||o.return()}finally{if(q)throw C}}}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(p,s,o){var d=(function(C,I){for(;!{}.hasOwnProperty.call(C,I)&&(C=E(C))!==null;);return C})(p,s);if(d){var S=Object.getOwnPropertyDescriptor(d,s);return S.get?S.get.call(arguments.length<3?p:o):S.value}},v.apply(null,arguments)}function E(p){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},E(p)}function x(p,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(s&&s.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),s&&N(p,s)}function D(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(D=function(){return!!p})()}function N(p,s){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,d){return o.__proto__=d,o},N(p,s)}function P(p,s,o,d){var S=v(E(1&d?p.prototype:p),s,o);return 2&d&&typeof S=="function"?function(C){return S.apply(o,C)}:S}function Z(p){return(function(s){if(Array.isArray(s))return i(s)})(p)||(function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)})(p)||et(p)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function rt(p){var s=(function(o,d){if(typeof o!="object"||!o)return o;var S=o[Symbol.toPrimitive];if(S!==void 0){var C=S.call(o,d);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)})(p,"string");return typeof s=="symbol"?s:s+""}function et(p,s){if(p){if(typeof p=="string")return i(p,s);var o={}.toString.call(p).slice(8,-1);return o==="Object"&&p.constructor&&(o=p.constructor.name),o==="Map"||o==="Set"?Array.from(p):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(p,s):void 0}}function B(p){var s=typeof Map=="function"?new Map:void 0;return B=function(o){if(o===null||!(function(S){try{return Function.toString.call(S).indexOf("[native code]")!==-1}catch{return typeof S=="function"}})(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(o))return s.get(o);s.set(o,d)}function d(){return c(o,arguments,E(this).constructor)}return d.prototype=Object.create(o.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),N(d,o)},B(p)}var X=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(s){this._quadrantSegments=s,this._quadrantSegments===0&&(this._joinStyle=p.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=p.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),s<=0&&(this._quadrantSegments=1),this._joinStyle!==p.JOIN_ROUND&&(this._quadrantSegments=p.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(s){this._joinStyle=s}},{key:"setSimplifyFactor",value:function(s){this._simplifyFactor=s<0?0:s}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(s){this._endCapStyle=s}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(s){this._mitreLimit=s}},{key:"setSingleSided",value:function(s){this._isSingleSided=s}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=p.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=p.CAP_ROUND,this._joinStyle=p.JOIN_ROUND,this._mitreLimit=p.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=p.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var s=arguments[0];this.setQuadrantSegments(s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.setQuadrantSegments(o),this.setEndCapStyle(d)}else if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],q=arguments[3];this.setQuadrantSegments(S),this.setEndCapStyle(C),this.setJoinStyle(I),this.setMitreLimit(q)}}}},{key:"bufferDistanceError",value:function(s){var o=Math.PI/2/s;return 1-Math.cos(o/2)}}])})();X.CAP_ROUND=1,X.CAP_FLAT=2,X.CAP_SQUARE=3,X.JOIN_ROUND=1,X.JOIN_MITRE=2,X.JOIN_BEVEL=3,X.DEFAULT_QUADRANT_SEGMENTS=8,X.DEFAULT_MITRE_LIMIT=5,X.DEFAULT_SIMPLIFY_FACTOR=.01;var V=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({Exception:s})[0],d}return x(s,p),g(s,[{key:"toString",value:function(){return this.message}}])})(B(Error)),W=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({IllegalArgumentException:s})[0],d}return x(s,p),g(s)})(V),$=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p){}}])})();function tt(){}function A(){}function M(){}var z,J,H,nt,at,lt,R,U,F=(function(){return g((function p(){r(this,p)}),null,[{key:"equalsWithTolerance",value:function(p,s,o){return Math.abs(p-s)<=o}}])})(),it=(function(){return g((function p(s,o){r(this,p),this.low=o||0,this.high=s||0}),null,[{key:"toBinaryString",value:function(p){var s,o="";for(s=2147483648;s>0;s>>>=1)o+=(p.high&s)===s?"1":"0";for(s=2147483648;s>0;s>>>=1)o+=(p.low&s)===s?"1":"0";return o}}])})();function Q(){}function Y(){}Q.NaN=NaN,Q.isNaN=function(p){return Number.isNaN(p)},Q.isInfinite=function(p){return!Number.isFinite(p)},Q.MAX_VALUE=Number.MAX_VALUE,Q.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Q.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(lt=2146435072,R=new Float64Array(1),U=new Int32Array(R.buffer),Q.doubleToLongBits=function(p){R[0]=p;var s=0|U[0],o=0|U[1];return(o&lt)===lt&&1048575&o&&s!==0&&(s=0,o=2146959360),new it(o,s)},Q.longBitsToDouble=function(p){return U[0]=p.low,U[1]=p.high,R[0]}):(z=1023,J=Math.log2,H=Math.floor,nt=Math.pow,at=(function(){for(var p=53;p>0;p--){var s=nt(2,p)-1;if(H(J(s))+1===p)return s}return 0})(),Q.doubleToLongBits=function(p){var s,o,d,S,C,I,q,ot,dt;if(p<0||1/p===Number.NEGATIVE_INFINITY?(I=1<<31,p=-p):I=0,p===0)return new it(ot=I,dt=0);if(p===1/0)return new it(ot=2146435072|I,dt=0);if(p!=p)return new it(ot=2146959360,dt=0);if(S=0,dt=0,(s=H(p))>1)if(s<=at)(S=H(J(s)))<=20?(dt=0,ot=s<<20-S&1048575):(dt=s%(o=nt(2,d=S-20))<<32-d,ot=s/o&1048575);else for(d=s,dt=0;(d=H(o=d/2))!==0;)S++,dt>>>=1,dt|=(1&ot)<<31,ot>>>=1,o!==d&&(ot|=524288);if(q=S+z,C=s===0,s=p-s,S<52&&s!==0)for(d=0;;){if((o=2*s)>=1?(s=o-1,C?(q--,C=!1):(d<<=1,d|=1,S++)):(s=o,C?--q==0&&(S++,C=!1):(d<<=1,S++)),S===20)ot|=d,d=0;else if(S===52){dt|=d;break}if(o===1){S<20?ot|=d<<20-S:S<52&&(dt|=d<<52-S);break}}return ot|=q<<20,new it(ot|=I,dt)},Q.longBitsToDouble=function(p){var s,o,d,S,C=p.high,I=p.low,q=C&1<<31?-1:1;for(d=((2146435072&C)>>20)-z,S=0,o=1<<19,s=1;s<=20;s++)C&o&&(S+=nt(2,-s)),o>>>=1;for(o=1<<31,s=21;s<=52;s++)I&o&&(S+=nt(2,-s)),o>>>=1;if(d===-1023){if(S===0)return 0*q;d=-1022}else{if(d===1024)return S===0?q/0:NaN;S+=1}return q*S*nt(2,d)});var K=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({RuntimeException:s})[0],d}return x(s,p),g(s)})(V),ct=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,null,[{key:"constructor_",value:function(){if(arguments.length===0)K.constructor_.call(this);else if(arguments.length===1){var o=arguments[0];K.constructor_.call(this,o)}}}])})(K),pt=(function(){function p(){r(this,p)}return g(p,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)p.shouldNeverReachHere(null);else if(arguments.length===1){var s=arguments[0];throw new ct("Should never reach here"+(s!==null?": "+s:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var s=arguments[0];p.isTrue(s,null)}else if(arguments.length===2){var o=arguments[1];if(!arguments[0])throw o===null?new ct:new ct(o)}}},{key:"equals",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];p.equals(s,o,null)}else if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2];if(!S.equals(d))throw new ct("Expected "+d+" but encountered "+S+(C!==null?": "+C:""))}}}])})(),gt=new ArrayBuffer(8),St=new Float64Array(gt),Dt=new Int32Array(gt),ht=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getM",value:function(){return Q.NaN}},{key:"setOrdinate",value:function(s,o){switch(s){case p.X:this.x=o;break;case p.Y:this.y=o;break;case p.Z:this.setZ(o);break;default:throw new W("Invalid ordinate index: "+s)}}},{key:"equals2D",value:function(){if(arguments.length===1){var s=arguments[0];return this.x===s.x&&this.y===s.y}if(arguments.length===2){var o=arguments[0],d=arguments[1];return!!F.equalsWithTolerance(this.x,o.x,d)&&!!F.equalsWithTolerance(this.y,o.y,d)}}},{key:"setM",value:function(s){throw new W("Invalid ordinate index: "+p.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(s){switch(s){case p.X:return this.x;case p.Y:return this.y;case p.Z:return this.getZ()}throw new W("Invalid ordinate index: "+s)}},{key:"equals3D",value:function(s){return this.x===s.x&&this.y===s.y&&(this.getZ()===s.getZ()||Q.isNaN(this.getZ())&&Q.isNaN(s.getZ()))}},{key:"equals",value:function(s){return s instanceof p&&this.equals2D(s)}},{key:"equalInZ",value:function(s,o){return F.equalsWithTolerance(this.getZ(),s.getZ(),o)}},{key:"setX",value:function(s){this.x=s}},{key:"compareTo",value:function(s){var o=s;return this.x<o.x?-1:this.x>o.x?1:this.y<o.y?-1:this.y>o.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(s){this.z=s}},{key:"clone",value:function(){try{return null}catch(s){if(s instanceof CloneNotSupportedException)return pt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw s}}},{key:"copy",value:function(){return new p(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(s){var o=this.x-s.x,d=this.y-s.y,S=this.getZ()-s.getZ();return Math.sqrt(o*o+d*d+S*S)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(s){this.y=s}},{key:"distance",value:function(s){var o=this.x-s.x,d=this.y-s.y;return Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var s=17;return s=37*(s=37*s+p.hashCode(this.x))+p.hashCode(this.y)}},{key:"setCoordinate",value:function(s){this.x=s.x,this.y=s.y,this.z=s.getZ()}},{key:"interfaces_",get:function(){return[tt,A,M]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)p.constructor_.call(this,0,0);else if(arguments.length===1){var s=arguments[0];p.constructor_.call(this,s.x,s.y,s.getZ())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];p.constructor_.call(this,o,d,p.NULL_ORDINATE)}else if(arguments.length===3){var S=arguments[0],C=arguments[1],I=arguments[2];this.x=S,this.y=C,this.z=I}}},{key:"hashCode",value:function(s){return St[0]=s,Dt[0]^Dt[1]}}])})(),It=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"compare",value:function(s,o){var d=p.compare(s.x,o.x);if(d!==0)return d;var S=p.compare(s.y,o.y);return S!==0?S:this._dimensionsToTest<=2?0:p.compare(s.getZ(),o.getZ())}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)p.constructor_.call(this,2);else if(arguments.length===1){var s=arguments[0];if(s!==2&&s!==3)throw new W("only 2 or 3 dimensions may be specified");this._dimensionsToTest=s}}},{key:"compare",value:function(s,o){return s<o?-1:s>o?1:Q.isNaN(s)?Q.isNaN(o)?0:-1:Q.isNaN(o)?1:0}}])})();ht.DimensionalComparator=It,ht.NULL_ORDINATE=Q.NaN,ht.X=0,ht.Y=1,ht.Z=2,ht.M=3;var Ot=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(s){if(!(s instanceof p))return!1;var o=s;return this.isNull()?o.isNull():this._maxx===o.getMaxX()&&this._maxy===o.getMaxY()&&this._minx===o.getMinX()&&this._miny===o.getMinY()}},{key:"intersection",value:function(s){if(this.isNull()||s.isNull()||!this.intersects(s))return new p;var o=this._minx>s._minx?this._minx:s._minx,d=this._miny>s._miny?this._miny:s._miny;return new p(o,this._maxx<s._maxx?this._maxx:s._maxx,d,this._maxy<s._maxy?this._maxy:s._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof ht){var s=arguments[0];return this.covers(s.x,s.y)}if(arguments[0]instanceof p){var o=arguments[0];return!this.isNull()&&!o.isNull()&&o.getMinX()>=this._minx&&o.getMaxX()<=this._maxx&&o.getMinY()>=this._miny&&o.getMaxY()<=this._maxy}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];return!this.isNull()&&d>=this._minx&&d<=this._maxx&&S>=this._miny&&S<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return!this.isNull()&&!s.isNull()&&!(s._minx>this._maxx||s._maxx<this._minx||s._miny>this._maxy||s._maxy<this._miny)}if(arguments[0]instanceof ht){var o=arguments[0];return this.intersects(o.x,o.y)}}else if(arguments.length===2){if(arguments[0]instanceof ht&&arguments[1]instanceof ht){var d=arguments[0],S=arguments[1];return!this.isNull()&&!((d.x<S.x?d.x:S.x)>this._maxx)&&!((d.x>S.x?d.x:S.x)<this._minx)&&!((d.y<S.y?d.y:S.y)>this._maxy)&&!((d.y>S.y?d.y:S.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var C=arguments[0],I=arguments[1];return!this.isNull()&&!(C>this._maxx||C<this._minx||I>this._maxy||I<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var s=this.getWidth(),o=this.getHeight();return Math.sqrt(s*s+o*o)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof ht){var s=arguments[0];this.expandToInclude(s.x,s.y)}else if(arguments[0]instanceof p){var o=arguments[0];if(o.isNull())return null;this.isNull()?(this._minx=o.getMinX(),this._maxx=o.getMaxX(),this._miny=o.getMinY(),this._maxy=o.getMaxY()):(o._minx<this._minx&&(this._minx=o._minx),o._maxx>this._maxx&&(this._maxx=o._maxx),o._miny<this._miny&&(this._miny=o._miny),o._maxy>this._maxy&&(this._maxy=o._maxy))}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.isNull()?(this._minx=d,this._maxx=d,this._miny=S,this._maxy=S):(d<this._minx&&(this._minx=d),d>this._maxx&&(this._maxx=d),S<this._miny&&(this._miny=S),S>this._maxy&&(this._maxy=S))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var s=this.getWidth(),o=this.getHeight();return s<o?s:o}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(s){var o=s;return this.isNull()?o.isNull()?0:-1:o.isNull()?1:this._minx<o._minx?-1:this._minx>o._minx?1:this._miny<o._miny?-1:this._miny>o._miny?1:this._maxx<o._maxx?-1:this._maxx>o._maxx?1:this._maxy<o._maxy?-1:this._maxy>o._maxy?1:0}},{key:"translate",value:function(s,o){if(this.isNull())return null;this.init(this.getMinX()+s,this.getMaxX()+s,this.getMinY()+o,this.getMaxY()+o)}},{key:"copy",value:function(){return new p(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(s){return!(!this.isNull()&&!s.isNull())||s._minx>this._maxx||s._maxx<this._minx||s._miny>this._maxy||s._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var s=this.getWidth(),o=this.getHeight();return s>o?s:o}},{key:"expandBy",value:function(){if(arguments.length===1){var s=arguments[0];this.expandBy(s,s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];if(this.isNull())return null;this._minx-=o,this._maxx+=o,this._miny-=d,this._maxy+=d,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.covers(s)}if(arguments[0]instanceof ht){var o=arguments[0];return this.covers(o)}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];return this.covers(d,S)}}},{key:"centre",value:function(){return this.isNull()?null:new ht((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof ht){var s=arguments[0];this.init(s.x,s.x,s.y,s.y)}else if(arguments[0]instanceof p){var o=arguments[0];this._minx=o._minx,this._maxx=o._maxx,this._miny=o._miny,this._maxy=o._maxy}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.init(d.x,S.x,d.y,S.y)}else if(arguments.length===4){var C=arguments[0],I=arguments[1],q=arguments[2],ot=arguments[3];C<I?(this._minx=C,this._maxx=I):(this._minx=I,this._maxx=C),q<ot?(this._miny=q,this._maxy=ot):(this._miny=ot,this._maxy=q)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(s){if(this.intersects(s))return 0;var o=0;this._maxx<s._minx?o=s._minx-this._maxx:this._minx>s._maxx&&(o=this._minx-s._maxx);var d=0;return this._maxy<s._miny?d=s._miny-this._maxy:this._miny>s._maxy&&(d=this._miny-s._maxy),o===0?d:d===0?o:Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var s=17;return s=37*(s=37*(s=37*(s=37*s+ht.hashCode(this._minx))+ht.hashCode(this._maxx))+ht.hashCode(this._miny))+ht.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[tt,M]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof ht){var s=arguments[0];this.init(s.x,s.x,s.y,s.y)}else if(arguments[0]instanceof p){var o=arguments[0];this.init(o)}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.init(d.x,S.x,d.y,S.y)}else if(arguments.length===4){var C=arguments[0],I=arguments[1],q=arguments[2],ot=arguments[3];this.init(C,I,q,ot)}}},{key:"intersects",value:function(){if(arguments.length===3){var s=arguments[0],o=arguments[1],d=arguments[2];return d.x>=(s.x<o.x?s.x:o.x)&&d.x<=(s.x>o.x?s.x:o.x)&&d.y>=(s.y<o.y?s.y:o.y)&&d.y<=(s.y>o.y?s.y:o.y)}if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],q=arguments[3],ot=Math.min(I.x,q.x),dt=Math.max(I.x,q.x),yt=Math.min(S.x,C.x),bt=Math.max(S.x,C.x);return!(yt>dt)&&!(bt<ot)&&(ot=Math.min(I.y,q.y),dt=Math.max(I.y,q.y),yt=Math.min(S.y,C.y),bt=Math.max(S.y,C.y),!(yt>dt)&&!(bt<ot))}}}])})(),At=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===p.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(s){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(s){return this===s||this.equalsExact(s,0)}},{key:"geometryChanged",value:function(){this.apply(p.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(s){return s!==null&&this.norm().equalsExact(s.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var s;if(arguments.length===1){var o=arguments[0];return s=o,this.getTypeCode()!==s.getTypeCode()?this.getTypeCode()-s.getTypeCode():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(o)}if(arguments.length===2){var d=arguments[0],S=arguments[1];return s=d,this.getTypeCode()!==s.getTypeCode()?this.getTypeCode()-s.getTypeCode():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(d,S)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(s){if(s.getTypeCode()===p.TYPECODE_GEOMETRYCOLLECTION)throw new W("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(s,o,d){return d===0?s.equals(o):s.distance(o)<=d}},{key:"norm",value:function(){var s=this.copy();return s.normalize(),s}},{key:"reverse",value:function(){var s=this.reverseInternal();return this.envelope!=null&&(s.envelope=this.envelope.copy()),s.setSRID(this.getSRID()),s}},{key:"copy",value:function(){var s=this.copyInternal();return s.envelope=this._envelope==null?null:this._envelope.copy(),s._SRID=this._SRID,s._userData=this._userData,s}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Ot(this._envelope)}},{key:"setSRID",value:function(s){this._SRID=s}},{key:"setUserData",value:function(s){this._userData=s}},{key:"compare",value:function(s,o){for(var d=s.iterator(),S=o.iterator();d.hasNext()&&S.hasNext();){var C=d.next(),I=S.next(),q=C.compareTo(I);if(q!==0)return q}return d.hasNext()?1:S.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(s){return this.getClass()===s.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===p.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===p.TYPECODE_MULTIPOINT||this.getTypeCode()===p.TYPECODE_MULTILINESTRING||this.getTypeCode()===p.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[A,tt,M]}},{key:"getClass",value:function(){return p}}],[{key:"hasNonEmptyElements",value:function(s){for(var o=0;o<s.length;o++)if(!s[o].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(s){for(var o=0;o<s.length;o++)if(s[o]===null)return!0;return!1}}])})();At.constructor_=function(p){p&&(this._envelope=null,this._userData=null,this._factory=p,this._SRID=p.getSRID())},At.TYPECODE_POINT=0,At.TYPECODE_MULTIPOINT=1,At.TYPECODE_LINESTRING=2,At.TYPECODE_LINEARRING=3,At.TYPECODE_MULTILINESTRING=4,At.TYPECODE_POLYGON=5,At.TYPECODE_MULTIPOLYGON=6,At.TYPECODE_GEOMETRYCOLLECTION=7,At.TYPENAME_POINT="Point",At.TYPENAME_MULTIPOINT="MultiPoint",At.TYPENAME_LINESTRING="LineString",At.TYPENAME_LINEARRING="LinearRing",At.TYPENAME_MULTILINESTRING="MultiLineString",At.TYPENAME_POLYGON="Polygon",At.TYPENAME_MULTIPOLYGON="MultiPolygon",At.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",At.geometryChangedFilter={get interfaces_(){return[$]},filter:function(p){p.geometryChangedAction()}};var ft=(function(){function p(){r(this,p)}return g(p,null,[{key:"toLocationSymbol",value:function(s){switch(s){case p.EXTERIOR:return"e";case p.BOUNDARY:return"b";case p.INTERIOR:return"i";case p.NONE:return"-"}throw new W("Unknown location value: "+s)}}])})();ft.INTERIOR=0,ft.BOUNDARY=1,ft.EXTERIOR=2,ft.NONE=-1;var Xt=(function(){return g((function p(){r(this,p)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),Zt=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({NoSuchElementException:s})[0],d}return x(s,p),g(s)})(V),zt=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({UnsupportedOperationException:s})[0],d}return x(s,p),g(s)})(V),jt=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s,[{key:"contains",value:function(){}}])})(Xt),we=(function(p){function s(o){var d;return r(this,s),(d=l(this,s)).map=new Map,o instanceof Xt&&d.addAll(o),d}return x(s,p),g(s,[{key:"contains",value:function(o){var d=o.hashCode?o.hashCode():o;return!!this.map.has(d)}},{key:"add",value:function(o){var d=o.hashCode?o.hashCode():o;return!this.map.has(d)&&!!this.map.set(d,o)}},{key:"addAll",value:function(o){var d,S=y(o);try{for(S.s();!(d=S.n()).done;){var C=d.value;this.add(C)}}catch(I){S.e(I)}finally{S.f()}return!0}},{key:"remove",value:function(){throw new zt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new he(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(jt),he=(function(){return g((function p(s){r(this,p),this.iterator=s.values();var o=this.iterator.next(),d=o.done,S=o.value;this.done=d,this.value=S}),[{key:"next",value:function(){if(this.done)throw new Zt;var p=this.value,s=this.iterator.next(),o=s.done,d=s.value;return this.done=o,this.value=d,p}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new zt}}])})(),Mt=(function(){function p(){r(this,p)}return g(p,null,[{key:"opposite",value:function(s){return s===p.LEFT?p.RIGHT:s===p.RIGHT?p.LEFT:s}}])})();Mt.ON=0,Mt.LEFT=1,Mt.RIGHT=2;var Je=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({EmptyStackException:s})[0],d}return x(s,p),g(s)})(V),ti=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({IndexOutOfBoundsException:s})[0],d}return x(s,p),g(s)})(V),gn=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(Xt),Ui=(function(p){function s(){var o;return r(this,s),(o=l(this,s)).array=[],o}return x(s,p),g(s,[{key:"add",value:function(o){return this.array.push(o),!0}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new ti;return this.array[o]}},{key:"push",value:function(o){return this.array.push(o),o}},{key:"pop",value:function(){if(this.array.length===0)throw new Je;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Je;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(o){return this.array.indexOf(o)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(gn);function Ht(p,s){return p.interfaces_&&p.interfaces_.indexOf(s)>-1}var Tn=(function(){return g((function p(s){r(this,p),this.str=s}),[{key:"append",value:function(p){this.str+=p}},{key:"setCharAt",value:function(p,s){this.str=this.str.substr(0,p)+s+this.str.substr(p+1)}},{key:"toString",value:function(){return this.str}}])})(),Ie=(function(){function p(s){r(this,p),this.value=s}return g(p,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(s){return this.value<s?-1:this.value>s?1:0}}],[{key:"compare",value:function(s,o){return s<o?-1:s>o?1:0}},{key:"isNan",value:function(s){return Number.isNaN(s)}},{key:"valueOf",value:function(s){return new p(s)}}])})(),yn=(function(){return g((function p(){r(this,p)}),null,[{key:"isWhitespace",value:function(p){return p<=32&&p>=0||p===127}},{key:"toUpperCase",value:function(p){return p.toUpperCase()}}])})(),Jt=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"le",value:function(s){return this._hi<s._hi||this._hi===s._hi&&this._lo<=s._lo}},{key:"extractSignificantDigits",value:function(s,o){var d=this.abs(),S=p.magnitude(d._hi),C=p.TEN.pow(S);(d=d.divide(C)).gt(p.TEN)?(d=d.divide(p.TEN),S+=1):d.lt(p.ONE)&&(d=d.multiply(p.TEN),S-=1);for(var I=S+1,q=new Tn,ot=p.MAX_PRINT_DIGITS-1,dt=0;dt<=ot;dt++){s&&dt===I&&q.append(".");var yt=Math.trunc(d._hi);if(yt<0)break;var bt=!1,Ft=0;yt>9?(bt=!0,Ft="9"):Ft="0"+yt,q.append(Ft),d=d.subtract(p.valueOf(yt)).multiply(p.TEN),bt&&d.selfAdd(p.TEN);var Gt=!0,Vt=p.magnitude(d._hi);if(Vt<0&&Math.abs(Vt)>=ot-dt&&(Gt=!1),!Gt)break}return o[0]=S,q.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return this.add(s.negate())}if(typeof arguments[0]=="number"){var o=arguments[0];return this.add(-o)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof p){var s=arguments[0];return this._hi===s._hi&&this._lo===s._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return this.isNaN()?this:this.selfAdd(-s._hi,-s._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.isNaN()?this:this.selfAdd(-o,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(s){return this.le(s)?this:s}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.selfDivide(s._hi,s._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfDivide(o,0)}}else if(arguments.length===2){var d,S,C,I,q=arguments[0],ot=arguments[1],dt=null,yt=null,bt=null,Ft=null;return C=this._hi/q,Ft=(dt=(bt=p.SPLIT*C)-(dt=bt-C))*(yt=(Ft=p.SPLIT*q)-(yt=Ft-q))-(I=C*q)+dt*(S=q-yt)+(d=C-dt)*yt+d*S,Ft=C+(bt=(this._hi-I-Ft+this._lo-C*ot)/q),this._hi=Ft,this._lo=C-Ft+bt,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof p){var s,o,d,S,C=arguments[0],I=null,q=null,ot=null,dt=null;return s=(d=this._hi/C._hi)-(I=(ot=p.SPLIT*d)-(I=ot-d)),dt=I*(q=(dt=p.SPLIT*C._hi)-(q=dt-C._hi))-(S=d*C._hi)+I*(o=C._hi-q)+s*q+s*o,new p(dt=d+(ot=(this._hi-S-dt+this._lo-d*C._lo)/C._hi),d-dt+ot)}if(typeof arguments[0]=="number"){var yt=arguments[0];return Q.isNaN(yt)?p.createNaN():p.copy(this).selfDivide(yt,0)}}},{key:"ge",value:function(s){return this._hi>s._hi||this._hi===s._hi&&this._lo>=s._lo}},{key:"pow",value:function(s){if(s===0)return p.valueOf(1);var o=new p(this),d=p.valueOf(1),S=Math.abs(s);if(S>1)for(;S>0;)S%2==1&&d.selfMultiply(o),(S/=2)>0&&(o=o.sqr());else d=o;return s<0?d.reciprocal():d}},{key:"ceil",value:function(){if(this.isNaN())return p.NaN;var s=Math.ceil(this._hi),o=0;return s===this._hi&&(o=Math.ceil(this._lo)),new p(s,o)}},{key:"compareTo",value:function(s){var o=s;return this._hi<o._hi?-1:this._hi>o._hi?1:this._lo<o._lo?-1:this._lo>o._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return this.init(s),this}if(typeof arguments[0]=="number"){var o=arguments[0];return this.init(o),this}}},{key:"max",value:function(s){return this.ge(s)?this:s}},{key:"sqrt",value:function(){if(this.isZero())return p.valueOf(0);if(this.isNegative())return p.NaN;var s=1/Math.sqrt(this._hi),o=this._hi*s,d=p.valueOf(o),S=this.subtract(d.sqr())._hi*(.5*s);return d.add(S)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.selfAdd(s._hi,s._lo)}if(typeof arguments[0]=="number"){var o,d,S,C,I,q=arguments[0],ot=null;return ot=(S=this._hi+q)-(C=S-this._hi),d=(I=(ot=q-C+(this._hi-ot))+this._lo)+(S-(o=S+I)),this._hi=o+d,this._lo=d+(o-this._hi),this}}else if(arguments.length===2){var dt,yt,bt,Ft,Gt=arguments[0],Vt=arguments[1],ee=null,Ce=null,ge=null;bt=this._hi+Gt,yt=this._lo+Vt,Ce=bt-(ge=bt-this._hi),ee=yt-(Ft=yt-this._lo);var Ye=(dt=bt+(ge=(Ce=Gt-ge+(this._hi-Ce))+yt))+(ge=(ee=Vt-Ft+(this._lo-ee))+(ge+(bt-dt))),an=ge+(dt-Ye);return this._hi=Ye,this._lo=an,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.selfMultiply(s._hi,s._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfMultiply(o,0)}}else if(arguments.length===2){var d,S,C=arguments[0],I=arguments[1],q=null,ot=null,dt=null,yt=null;q=(dt=p.SPLIT*this._hi)-this._hi,yt=p.SPLIT*C,q=dt-q,d=this._hi-q,ot=yt-C;var bt=(dt=this._hi*C)+(yt=q*(ot=yt-ot)-dt+q*(S=C-ot)+d*ot+d*S+(this._hi*I+this._lo*C)),Ft=yt+(q=dt-bt);return this._hi=bt,this._lo=Ft,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return p.NaN;var s=Math.floor(this._hi),o=0;return s===this._hi&&(o=Math.floor(this._lo)),new p(s,o)}},{key:"negate",value:function(){return this.isNaN()?this:new p(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(s){if(s instanceof CloneNotSupportedException)return null;throw s}}},{key:"multiply",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return s.isNaN()?p.createNaN():p.copy(this).selfMultiply(s)}if(typeof arguments[0]=="number"){var o=arguments[0];return Q.isNaN(o)?p.createNaN():p.copy(this).selfMultiply(o,0)}}},{key:"isNaN",value:function(){return Q.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var s=p.magnitude(this._hi);return s>=-3&&s<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var s=this.getSpecialNumberString();if(s!==null)return s;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!0,o),S=o[0]+1,C=d;if(d.charAt(0)===".")C="0"+d;else if(S<0)C="0."+p.stringOfChar("0",-S)+d;else if(d.indexOf(".")===-1){var I=S-d.length;C=d+p.stringOfChar("0",I)+".0"}return this.isNegative()?"-"+C:C}},{key:"reciprocal",value:function(){var s,o,d,S,C=null,I=null,q=null,ot=null;s=(d=1/this._hi)-(C=(q=p.SPLIT*d)-(C=q-d)),I=(ot=p.SPLIT*this._hi)-this._hi;var dt=d+(q=(1-(S=d*this._hi)-(ot=C*(I=ot-I)-S+C*(o=this._hi-I)+s*I+s*o)-d*this._lo)/this._hi);return new p(dt,d-dt+q)}},{key:"toSciNotation",value:function(){if(this.isZero())return p.SCI_NOT_ZERO;var s=this.getSpecialNumberString();if(s!==null)return s;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!1,o),S=p.SCI_NOT_EXPONENT_CHAR+o[0];if(d.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+d);var C="";d.length>1&&(C=d.substring(1));var I=d.charAt(0)+"."+C;return this.isNegative()?"-"+I+S:I+S}},{key:"abs",value:function(){return this.isNaN()?p.NaN:this.isNegative()?this.negate():new p(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(s){return this._hi<s._hi||this._hi===s._hi&&this._lo<s._lo}},{key:"add",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return p.copy(this).selfAdd(s)}if(typeof arguments[0]=="number"){var o=arguments[0];return p.copy(this).selfAdd(o)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var s=arguments[0];this._hi=s,this._lo=0}else if(arguments[0]instanceof p){var o=arguments[0];this._hi=o._hi,this._lo=o._lo}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this._hi=d,this._lo=S}}},{key:"gt",value:function(s){return this._hi>s._hi||this._hi===s._hi&&this._lo>s._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?p.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[M,tt,A]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var s=arguments[0];this.init(s)}else if(arguments[0]instanceof p){var o=arguments[0];this.init(o)}else if(typeof arguments[0]=="string"){var d=arguments[0];p.constructor_.call(this,p.parse(d))}}else if(arguments.length===2){var S=arguments[0],C=arguments[1];this.init(S,C)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1],d=arguments[2],S=arguments[3];return p.determinant(p.valueOf(s),p.valueOf(o),p.valueOf(d),p.valueOf(S))}if(arguments[3]instanceof p&&arguments[2]instanceof p&&arguments[0]instanceof p&&arguments[1]instanceof p){var C=arguments[1],I=arguments[2],q=arguments[3];return arguments[0].multiply(q).selfSubtract(C.multiply(I))}}},{key:"sqr",value:function(s){return p.valueOf(s).selfMultiply(s)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var s=arguments[0];return p.parse(s)}if(typeof arguments[0]=="number")return new p(arguments[0])}},{key:"sqrt",value:function(s){return p.valueOf(s).sqrt()}},{key:"parse",value:function(s){for(var o=0,d=s.length;yn.isWhitespace(s.charAt(o));)o++;var S=!1;if(o<d){var C=s.charAt(o);C!=="-"&&C!=="+"||(o++,C==="-"&&(S=!0))}for(var I=new p,q=0,ot=0,dt=0,yt=!1;!(o>=d);){var bt=s.charAt(o);if(o++,yn.isDigit(bt)){var Ft=bt-"0";I.selfMultiply(p.TEN),I.selfAdd(Ft),q++}else{if(bt!=="."){if(bt==="e"||bt==="E"){var Gt=s.substring(o);try{dt=Ie.parseInt(Gt)}catch(Ye){throw Ye instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Gt+" in string "+s):Ye}break}throw new NumberFormatException("Unexpected character '"+bt+"' at position "+o+" in string "+s)}ot=q,yt=!0}}var Vt=I;yt||(ot=q);var ee=q-ot-dt;if(ee===0)Vt=I;else if(ee>0){var Ce=p.TEN.pow(ee);Vt=I.divide(Ce)}else if(ee<0){var ge=p.TEN.pow(-ee);Vt=I.multiply(ge)}return S?Vt.negate():Vt}},{key:"createNaN",value:function(){return new p(Q.NaN,Q.NaN)}},{key:"copy",value:function(s){return new p(s)}},{key:"magnitude",value:function(s){var o=Math.abs(s),d=Math.log(o)/Math.log(10),S=Math.trunc(Math.floor(d));return 10*Math.pow(10,S)<=o&&(S+=1),S}},{key:"stringOfChar",value:function(s,o){for(var d=new Tn,S=0;S<o;S++)d.append(s);return d.toString()}}])})();Jt.PI=new Jt(3.141592653589793,12246467991473532e-32),Jt.TWO_PI=new Jt(6.283185307179586,24492935982947064e-32),Jt.PI_2=new Jt(1.5707963267948966,6123233995736766e-32),Jt.E=new Jt(2.718281828459045,14456468917292502e-32),Jt.NaN=new Jt(Q.NaN,Q.NaN),Jt.EPS=123259516440783e-46,Jt.SPLIT=134217729,Jt.MAX_PRINT_DIGITS=32,Jt.TEN=Jt.valueOf(10),Jt.ONE=Jt.valueOf(1),Jt.SCI_NOT_EXPONENT_CHAR="E",Jt.SCI_NOT_ZERO="0.0E0";var Xr=(function(){function p(){r(this,p)}return g(p,null,[{key:"orientationIndex",value:function(s,o,d){var S=p.orientationIndexFilter(s,o,d);if(S<=1)return S;var C=Jt.valueOf(o.x).selfAdd(-s.x),I=Jt.valueOf(o.y).selfAdd(-s.y),q=Jt.valueOf(d.x).selfAdd(-o.x),ot=Jt.valueOf(d.y).selfAdd(-o.y);return C.selfMultiply(ot).selfSubtract(I.selfMultiply(q)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Jt&&arguments[2]instanceof Jt&&arguments[0]instanceof Jt&&arguments[1]instanceof Jt){var s=arguments[1],o=arguments[2],d=arguments[3];return arguments[0].multiply(d).selfSubtract(s.multiply(o)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var S=arguments[0],C=arguments[1],I=arguments[2],q=arguments[3],ot=Jt.valueOf(S),dt=Jt.valueOf(C),yt=Jt.valueOf(I),bt=Jt.valueOf(q);return ot.multiply(bt).selfSubtract(dt.multiply(yt)).signum()}}},{key:"intersection",value:function(s,o,d,S){var C=new Jt(s.y).selfSubtract(o.y),I=new Jt(o.x).selfSubtract(s.x),q=new Jt(s.x).selfMultiply(o.y).selfSubtract(new Jt(o.x).selfMultiply(s.y)),ot=new Jt(d.y).selfSubtract(S.y),dt=new Jt(S.x).selfSubtract(d.x),yt=new Jt(d.x).selfMultiply(S.y).selfSubtract(new Jt(S.x).selfMultiply(d.y)),bt=I.multiply(yt).selfSubtract(dt.multiply(q)),Ft=ot.multiply(q).selfSubtract(C.multiply(yt)),Gt=C.multiply(dt).selfSubtract(ot.multiply(I)),Vt=bt.selfDivide(Gt).doubleValue(),ee=Ft.selfDivide(Gt).doubleValue();return Q.isNaN(Vt)||Q.isInfinite(Vt)||Q.isNaN(ee)||Q.isInfinite(ee)?null:new ht(Vt,ee)}},{key:"orientationIndexFilter",value:function(s,o,d){var S=null,C=(s.x-d.x)*(o.y-d.y),I=(s.y-d.y)*(o.x-d.x),q=C-I;if(C>0){if(I<=0)return p.signum(q);S=C+I}else{if(!(C<0)||I>=0)return p.signum(q);S=-C-I}var ot=p.DP_SAFE_EPSILON*S;return q>=ot||-q>=ot?p.signum(q):2}},{key:"signum",value:function(s){return s>0?1:s<0?-1:0}}])})();Xr.DP_SAFE_EPSILON=1e-15;var _e=(function(){return g((function p(){r(this,p)}),[{key:"getM",value:function(p){if(this.hasM()){var s=this.getDimension()-this.getMeasures();return this.getOrdinate(p,s)}return Q.NaN}},{key:"setOrdinate",value:function(p,s,o){}},{key:"getZ",value:function(p){return this.hasZ()?this.getOrdinate(p,2):Q.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(p,s){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(p){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(p){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(p){}},{key:"copy",value:function(){}},{key:"getY",value:function(p){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[A]}}])})();_e.X=0,_e.Y=1,_e.Z=2,_e.M=3;var ie=(function(){function p(){r(this,p)}return g(p,null,[{key:"index",value:function(s,o,d){return Xr.orientationIndex(s,o,d)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var s=arguments[0],o=s.length-1;if(o<3)throw new W("Ring has fewer than 4 points, so orientation cannot be determined");for(var d=s[0],S=0,C=1;C<=o;C++){var I=s[C];I.y>d.y&&(d=I,S=C)}var q=S;do(q-=1)<0&&(q=o);while(s[q].equals2D(d)&&q!==S);var ot=S;do ot=(ot+1)%o;while(s[ot].equals2D(d)&&ot!==S);var dt=s[q],yt=s[ot];if(dt.equals2D(d)||yt.equals2D(d)||dt.equals2D(yt))return!1;var bt=p.index(dt,d,yt);return bt===0?dt.x>yt.x:bt>0}if(Ht(arguments[0],_e)){var Ft=arguments[0],Gt=Ft.size()-1;if(Gt<3)throw new W("Ring has fewer than 4 points, so orientation cannot be determined");for(var Vt=Ft.getCoordinate(0),ee=0,Ce=1;Ce<=Gt;Ce++){var ge=Ft.getCoordinate(Ce);ge.y>Vt.y&&(Vt=ge,ee=Ce)}var Ye=null,an=ee;do(an-=1)<0&&(an=Gt),Ye=Ft.getCoordinate(an);while(Ye.equals2D(Vt)&&an!==ee);var We=null,Pi=ee;do Pi=(Pi+1)%Gt,We=Ft.getCoordinate(Pi);while(We.equals2D(Vt)&&Pi!==ee);if(Ye.equals2D(Vt)||We.equals2D(Vt)||Ye.equals2D(We))return!1;var Hn=p.index(Ye,Vt,We);return Hn===0?Ye.x>We.x:Hn>0}}}])})();ie.CLOCKWISE=-1,ie.RIGHT=ie.CLOCKWISE,ie.COUNTERCLOCKWISE=1,ie.LEFT=ie.COUNTERCLOCKWISE,ie.COLLINEAR=0,ie.STRAIGHT=ie.COLLINEAR;var xi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(p,s){var o=this.getRightmostSideOfSegment(p,s);return o<0&&(o=this.getRightmostSideOfSegment(p,s-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(p)),o}},{key:"findRightmostEdgeAtVertex",value:function(){var p=this._minDe.getEdge().getCoordinates();pt.isTrue(this._minIndex>0&&this._minIndex<p.length,"rightmost point expected to be interior vertex of edge");var s=p[this._minIndex-1],o=p[this._minIndex+1],d=ie.index(this._minCoord,o,s),S=!1;(s.y<this._minCoord.y&&o.y<this._minCoord.y&&d===ie.COUNTERCLOCKWISE||s.y>this._minCoord.y&&o.y>this._minCoord.y&&d===ie.CLOCKWISE)&&(S=!0),S&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(p,s){var o=p.getEdge().getCoordinates();if(s<0||s+1>=o.length||o[s].y===o[s+1].y)return-1;var d=Mt.LEFT;return o[s].y<o[s+1].y&&(d=Mt.RIGHT),d}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(p){for(var s=p.getEdge().getCoordinates(),o=0;o<s.length-1;o++)(this._minCoord===null||s[o].x>this._minCoord.x)&&(this._minDe=p,this._minIndex=o,this._minCoord=s[o])}},{key:"findRightmostEdgeAtNode",value:function(){var p=this._minDe.getNode().getEdges();this._minDe=p.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(p){for(var s=p.iterator();s.hasNext();){var o=s.next();o.isForward()&&this.checkForRightmostCoordinate(o)}pt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Mt.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),vn=(function(p){function s(o,d){var S;return r(this,s),(S=l(this,s,[d?o+" [ "+d+" ]":o])).pt=d?new ht(d):void 0,S.name=Object.keys({TopologyException:s})[0],S}return x(s,p),g(s,[{key:"getCoordinate",value:function(){return this.pt}}])})(K),Nn=(function(){return g((function p(){r(this,p),this.array=[]}),[{key:"addLast",value:function(p){this.array.push(p)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),$t=(function(p){function s(o){var d;return r(this,s),(d=l(this,s)).array=[],o instanceof Xt&&d.addAll(o),d}return x(s,p),g(s,[{key:"interfaces_",get:function(){return[gn,Xt]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(o){return arguments.length===1?this.array.push(o):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(o){var d,S=y(o);try{for(S.s();!(d=S.n()).done;){var C=d.value;this.array.push(C)}}catch(I){S.e(I)}finally{S.f()}}},{key:"set",value:function(o,d){var S=this.array[o];return this.array[o]=d,S}},{key:"iterator",value:function(){return new di(this)}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new ti;return this.array[o]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(o){o?this.array.sort((function(d,S){return o.compare(d,S)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(o){for(var d=0,S=this.array.length;d<S;d++)if(this.array[d]===o)return!!this.array.splice(d,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(gn),di=(function(){return g((function p(s){r(this,p),this.arrayList=s,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new Zt;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(p){return this.arrayList.set(this.position-1,p)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),Pa=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var p=this._dirEdgeList.iterator();p.hasNext();)p.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(p){for(var s=null,o=p.getEdges().iterator();o.hasNext();){var d=o.next();if(d.isVisited()||d.getSym().isVisited()){s=d;break}}if(s===null)throw new vn("unable to find edge to compute depths at "+p.getCoordinate());p.getEdges().computeDepths(s);for(var S=p.getEdges().iterator();S.hasNext();){var C=S.next();C.setVisited(!0),this.copySymDepths(C)}}},{key:"computeDepth",value:function(p){this.clearVisitedEdges();var s=this._finder.getEdge();s.getNode(),s.getLabel(),s.setEdgeDepths(Mt.RIGHT,p),this.copySymDepths(s),this.computeDepths(s)}},{key:"create",value:function(p){this.addReachable(p),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var p=this._dirEdgeList.iterator();p.hasNext();){var s=p.next();s.getDepth(Mt.RIGHT)>=1&&s.getDepth(Mt.LEFT)<=0&&!s.isInteriorAreaEdge()&&s.setInResult(!0)}}},{key:"computeDepths",value:function(p){var s=new we,o=new Nn,d=p.getNode();for(o.addLast(d),s.add(d),p.setVisited(!0);!o.isEmpty();){var S=o.removeFirst();s.add(S),this.computeNodeDepth(S);for(var C=S.getEdges().iterator();C.hasNext();){var I=C.next().getSym();if(!I.isVisited()){var q=I.getNode();s.contains(q)||(o.addLast(q),s.add(q))}}}}},{key:"compareTo",value:function(p){var s=p;return this._rightMostCoord.x<s._rightMostCoord.x?-1:this._rightMostCoord.x>s._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var p=new Ot,s=this._dirEdgeList.iterator();s.hasNext();)for(var o=s.next().getEdge().getCoordinates(),d=0;d<o.length-1;d++)p.expandToInclude(o[d]);this._env=p}return this._env}},{key:"addReachable",value:function(p){var s=new Ui;for(s.add(p);!s.empty();){var o=s.pop();this.add(o,s)}}},{key:"copySymDepths",value:function(p){var s=p.getSym();s.setDepth(Mt.LEFT,p.getDepth(Mt.RIGHT)),s.setDepth(Mt.RIGHT,p.getDepth(Mt.LEFT))}},{key:"add",value:function(p,s){p.setVisited(!0),this._nodes.add(p);for(var o=p.getEdges().iterator();o.hasNext();){var d=o.next();this._dirEdgeList.add(d);var S=d.getSym().getNode();S.isVisited()||s.push(S)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[tt]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new $t,this._nodes=new $t,this._rightMostCoord=null,this._env=null,this._finder=new xi}}])})(),fo=(function(){return g((function p(){r(this,p)}),null,[{key:"intersection",value:function(p,s,o,d){var S=p.x<s.x?p.x:s.x,C=p.y<s.y?p.y:s.y,I=p.x>s.x?p.x:s.x,q=p.y>s.y?p.y:s.y,ot=o.x<d.x?o.x:d.x,dt=o.y<d.y?o.y:d.y,yt=o.x>d.x?o.x:d.x,bt=o.y>d.y?o.y:d.y,Ft=((S>ot?S:ot)+(I<yt?I:yt))/2,Gt=((C>dt?C:dt)+(q<bt?q:bt))/2,Vt=p.x-Ft,ee=p.y-Gt,Ce=s.x-Ft,ge=s.y-Gt,Ye=o.x-Ft,an=o.y-Gt,We=d.x-Ft,Pi=d.y-Gt,Hn=ee-ge,ri=Ce-Vt,Ka=Vt*ge-Ce*ee,ba=an-Pi,xr=We-Ye,Ps=Ye*Pi-We*an,Bi=Hn*xr-ba*ri,zr=(ri*Ps-xr*Ka)/Bi,ra=(ba*Ka-Hn*Ps)/Bi;return Q.isNaN(zr)||Q.isInfinite(zr)||Q.isNaN(ra)||Q.isInfinite(ra)?null:new ht(zr+Ft,ra+Gt)}}])})(),Ei=(function(){return g((function p(){r(this,p)}),null,[{key:"arraycopy",value:function(p,s,o,d,S){for(var C=0,I=s;I<s+S;I++)o[d+C]=p[I],C++}},{key:"getProperty",value:function(p){return{"line.separator":`
`}[p]}}])})(),hr=(function(){function p(){r(this,p)}return g(p,null,[{key:"log10",value:function(s){var o=Math.log(s);return Q.isInfinite(o)||Q.isNaN(o)?o:o/p.LOG_10}},{key:"min",value:function(s,o,d,S){var C=s;return o<C&&(C=o),d<C&&(C=d),S<C&&(C=S),C}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1],d=arguments[2];return s<o?o:s>d?d:s}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],C=arguments[1],I=arguments[2];return S<C?C:S>I?I:S}}},{key:"wrap",value:function(s,o){return s<0?o- -s%o:s%o}},{key:"max",value:function(){if(arguments.length===3){var s=arguments[1],o=arguments[2],d=arguments[0];return s>d&&(d=s),o>d&&(d=o),d}if(arguments.length===4){var S=arguments[1],C=arguments[2],I=arguments[3],q=arguments[0];return S>q&&(q=S),C>q&&(q=C),I>q&&(q=I),q}}},{key:"average",value:function(s,o){return(s+o)/2}}])})();hr.LOG_10=Math.log(10);var li=(function(){function p(){r(this,p)}return g(p,null,[{key:"segmentToSegment",value:function(s,o,d,S){if(s.equals(o))return p.pointToSegment(s,d,S);if(d.equals(S))return p.pointToSegment(S,s,o);var C=!1;if(Ot.intersects(s,o,d,S)){var I=(o.x-s.x)*(S.y-d.y)-(o.y-s.y)*(S.x-d.x);if(I===0)C=!0;else{var q=(s.y-d.y)*(S.x-d.x)-(s.x-d.x)*(S.y-d.y),ot=((s.y-d.y)*(o.x-s.x)-(s.x-d.x)*(o.y-s.y))/I,dt=q/I;(dt<0||dt>1||ot<0||ot>1)&&(C=!0)}}else C=!0;return C?hr.min(p.pointToSegment(s,d,S),p.pointToSegment(o,d,S),p.pointToSegment(d,s,o),p.pointToSegment(S,s,o)):0}},{key:"pointToSegment",value:function(s,o,d){if(o.x===d.x&&o.y===d.y)return s.distance(o);var S=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),C=((s.x-o.x)*(d.x-o.x)+(s.y-o.y)*(d.y-o.y))/S;if(C<=0)return s.distance(o);if(C>=1)return s.distance(d);var I=((o.y-s.y)*(d.x-o.x)-(o.x-s.x)*(d.y-o.y))/S;return Math.abs(I)*Math.sqrt(S)}},{key:"pointToLinePerpendicular",value:function(s,o,d){var S=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),C=((o.y-s.y)*(d.x-o.x)-(o.x-s.x)*(d.y-o.y))/S;return Math.abs(C)*Math.sqrt(S)}},{key:"pointToSegmentString",value:function(s,o){if(o.length===0)throw new W("Line array must contain at least one vertex");for(var d=s.distance(o[0]),S=0;S<o.length-1;S++){var C=p.pointToSegment(s,o[S],o[S+1]);C<d&&(d=C)}return d}}])})(),ca=(function(){return g((function p(){r(this,p)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||Ht(arguments[0],_e);else if(arguments.length!==2){if(arguments.length===3){var p=arguments[0],s=arguments[1];return this.create(p,s)}}}}])})(),Yi=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p){}}])})(),Es=(function(){return g((function p(){r(this,p)}),null,[{key:"ofLine",value:function(p){var s=p.size();if(s<=1)return 0;var o=0,d=new ht;p.getCoordinate(0,d);for(var S=d.x,C=d.y,I=1;I<s;I++){p.getCoordinate(I,d);var q=d.x,ot=d.y,dt=q-S,yt=ot-C;o+=Math.sqrt(dt*dt+yt*yt),S=q,C=ot}return o}}])})(),ha=g((function p(){r(this,p)})),Jr=(function(){function p(){r(this,p)}return g(p,null,[{key:"copyCoord",value:function(s,o,d,S){for(var C=Math.min(s.getDimension(),d.getDimension()),I=0;I<C;I++)d.setOrdinate(S,I,s.getOrdinate(o,I))}},{key:"isRing",value:function(s){var o=s.size();return o===0||!(o<=3)&&s.getOrdinate(0,_e.X)===s.getOrdinate(o-1,_e.X)&&s.getOrdinate(0,_e.Y)===s.getOrdinate(o-1,_e.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(Ht(arguments[0],_e)&&Number.isInteger(arguments[1])){var s=arguments[0],o=arguments[1];p.scroll(s,o,p.isRing(s))}else if(Ht(arguments[0],_e)&&arguments[1]instanceof ht){var d=arguments[0],S=arguments[1],C=p.indexOf(S,d);if(C<=0)return null;p.scroll(d,C)}}else if(arguments.length===3){var I=arguments[0],q=arguments[1],ot=arguments[2];if(q<=0)return null;for(var dt=I.copy(),yt=ot?I.size()-1:I.size(),bt=0;bt<yt;bt++)for(var Ft=0;Ft<I.getDimension();Ft++)I.setOrdinate(bt,Ft,dt.getOrdinate((q+bt)%yt,Ft));if(ot)for(var Gt=0;Gt<I.getDimension();Gt++)I.setOrdinate(yt,Gt,I.getOrdinate(0,Gt))}}},{key:"isEqual",value:function(s,o){var d=s.size();if(d!==o.size())return!1;for(var S=Math.min(s.getDimension(),o.getDimension()),C=0;C<d;C++)for(var I=0;I<S;I++){var q=s.getOrdinate(C,I),ot=o.getOrdinate(C,I);if(s.getOrdinate(C,I)!==o.getOrdinate(C,I)&&(!Q.isNaN(q)||!Q.isNaN(ot)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var s=arguments[0];return p.minCoordinateIndex(s,0,s.size()-1)}if(arguments.length===3){for(var o=arguments[0],d=arguments[2],S=-1,C=null,I=arguments[1];I<=d;I++){var q=o.getCoordinate(I);(C===null||C.compareTo(q)>0)&&(C=q,S=I)}return S}}},{key:"extend",value:function(s,o,d){var S=s.create(d,o.getDimension()),C=o.size();if(p.copy(o,0,S,0,C),C>0)for(var I=C;I<d;I++)p.copy(o,C-1,S,I,1);return S}},{key:"reverse",value:function(s){for(var o=s.size()-1,d=Math.trunc(o/2),S=0;S<=d;S++)p.swap(s,S,o-S)}},{key:"swap",value:function(s,o,d){if(o===d)return null;for(var S=0;S<s.getDimension();S++){var C=s.getOrdinate(o,S);s.setOrdinate(o,S,s.getOrdinate(d,S)),s.setOrdinate(d,S,C)}}},{key:"copy",value:function(s,o,d,S,C){for(var I=0;I<C;I++)p.copyCoord(s,o+I,d,S+I)}},{key:"ensureValidRing",value:function(s,o){var d=o.size();return d===0?o:d<=3?p.createClosedRing(s,o,4):o.getOrdinate(0,_e.X)===o.getOrdinate(d-1,_e.X)&&o.getOrdinate(0,_e.Y)===o.getOrdinate(d-1,_e.Y)?o:p.createClosedRing(s,o,d+1)}},{key:"indexOf",value:function(s,o){for(var d=0;d<o.size();d++)if(s.x===o.getOrdinate(d,_e.X)&&s.y===o.getOrdinate(d,_e.Y))return d;return-1}},{key:"createClosedRing",value:function(s,o,d){var S=s.create(d,o.getDimension()),C=o.size();p.copy(o,0,S,0,C);for(var I=C;I<d;I++)p.copy(o,0,S,I,1);return S}},{key:"minCoordinate",value:function(s){for(var o=null,d=0;d<s.size();d++){var S=s.getCoordinate(d);(o===null||o.compareTo(S)>0)&&(o=S)}return o}}])})(),Yt=(function(){function p(){r(this,p)}return g(p,null,[{key:"toDimensionSymbol",value:function(s){switch(s){case p.FALSE:return p.SYM_FALSE;case p.TRUE:return p.SYM_TRUE;case p.DONTCARE:return p.SYM_DONTCARE;case p.P:return p.SYM_P;case p.L:return p.SYM_L;case p.A:return p.SYM_A}throw new W("Unknown dimension value: "+s)}},{key:"toDimensionValue",value:function(s){switch(yn.toUpperCase(s)){case p.SYM_FALSE:return p.FALSE;case p.SYM_TRUE:return p.TRUE;case p.SYM_DONTCARE:return p.DONTCARE;case p.SYM_P:return p.P;case p.SYM_L:return p.L;case p.SYM_A:return p.A}throw new W("Unknown dimension symbol: "+s)}}])})();Yt.P=0,Yt.L=1,Yt.A=2,Yt.FALSE=-1,Yt.TRUE=-2,Yt.DONTCARE=-3,Yt.SYM_FALSE="F",Yt.SYM_TRUE="T",Yt.SYM_DONTCARE="*",Yt.SYM_P="0",Yt.SYM_L="1",Yt.SYM_A="2";var fa=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p){}}])})(),Gi=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p,s){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),Ba=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Ot:this._points.expandEnvelope(new Ot)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new s(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var S=o;if(this._points.size()!==S._points.size())return!1;for(var C=0;C<this._points.size();C++)if(!this.equal(this._points.getCoordinate(C),S._points.getCoordinate(C),d))return!1;return!0}return P(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<Math.trunc(this._points.size()/2);o++){var d=this._points.size()-1-o;if(!this._points.getCoordinate(o).equals(this._points.getCoordinate(d))){if(this._points.getCoordinate(o).compareTo(this._points.getCoordinate(d))>0){var S=this._points.copy();Jr.reverse(S),this._points=S}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Yt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Jr.reverse(o),this.getFactory().createLineString(o)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return At.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Es.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var o=arguments[0],d=0,S=0;d<this._points.size()&&S<o._points.size();){var C=this._points.getCoordinate(d).compareTo(o._points.getCoordinate(S));if(C!==0)return C;d++,S++}return d<this._points.size()?1:S<o._points.size()?-1:0}if(arguments.length===2){var I=arguments[0];return arguments[1].compare(this._points,I._points)}}},{key:"apply",value:function(){if(Ht(arguments[0],Yi))for(var o=arguments[0],d=0;d<this._points.size();d++)o.filter(this._points.getCoordinate(d));else if(Ht(arguments[0],Gi)){var S=arguments[0];if(this._points.size()===0)return null;for(var C=0;C<this._points.size()&&(S.filter(this._points,C),!S.isDone());C++);S.isGeometryChanged()&&this.geometryChanged()}else Ht(arguments[0],fa)?arguments[0].filter(this):Ht(arguments[0],$)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new zt}},{key:"isEquivalentClass",value:function(o){return o instanceof s}},{key:"getCoordinateN",value:function(o){return this._points.getCoordinate(o)}},{key:"getGeometryType",value:function(){return At.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(o){if(o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),o.size()===1)throw new W("Invalid number of points in LineString (found "+o.size()+" - must be 0 or >= 2)");this._points=o}},{key:"isCoordinate",value:function(o){for(var d=0;d<this._points.size();d++)if(this._points.getCoordinate(d).equals(o))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(o){return this.getFactory().createPoint(this._points.getCoordinate(o))}},{key:"interfaces_",get:function(){return[ha]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];At.constructor_.call(this,d),this.init(o)}}}}])})(At),po=g((function p(){r(this,p)})),bs=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Ot;var o=new Ot;return o.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),o}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new s(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&(!(!this.isEmpty()||!o.isEmpty())||this.isEmpty()===o.isEmpty()&&this.equal(o.getCoordinate(),this.getCoordinate(),d))}return P(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Yt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return At.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0];return this.getCoordinate().compareTo(o.getCoordinate())}if(arguments.length===2){var d=arguments[0];return arguments[1].compare(this._coordinates,d._coordinates)}}},{key:"apply",value:function(){if(Ht(arguments[0],Yi)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this.getCoordinate())}else if(Ht(arguments[0],Gi)){var d=arguments[0];if(this.isEmpty())return null;d.filter(this._coordinates,0),d.isGeometryChanged()&&this.geometryChanged()}else Ht(arguments[0],fa)?arguments[0].filter(this):Ht(arguments[0],$)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return At.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(o){o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),pt.isTrue(o.size()<=1),this._coordinates=o}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[po]}}],[{key:"constructor_",value:function(){this._coordinates=null;var o=arguments[0],d=arguments[1];At.constructor_.call(this,d),this.init(o)}}])})(At),go=(function(){function p(){r(this,p)}return g(p,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var s=arguments[0];return Math.abs(p.ofRingSigned(s))}if(Ht(arguments[0],_e)){var o=arguments[0];return Math.abs(p.ofRingSigned(o))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var s=arguments[0];if(s.length<3)return 0;for(var o=0,d=s[0].x,S=1;S<s.length-1;S++){var C=s[S].x-d,I=s[S+1].y;o+=C*(s[S-1].y-I)}return o/2}if(Ht(arguments[0],_e)){var q=arguments[0],ot=q.size();if(ot<3)return 0;var dt=new ht,yt=new ht,bt=new ht;q.getCoordinate(0,yt),q.getCoordinate(1,bt);var Ft=yt.x;bt.x-=Ft;for(var Gt=0,Vt=1;Vt<ot-1;Vt++)dt.y=yt.y,yt.x=bt.x,yt.y=bt.y,q.getCoordinate(Vt+1,bt),bt.x-=Ft,Gt+=yt.x*(dt.y-bt.y);return Gt/2}}}])})(),Mn=(function(){return g((function p(){r(this,p)}),null,[{key:"sort",value:function(){var p=arguments,s=arguments[0];if(arguments.length===1)s.sort((function(Ft,Gt){return Ft.compareTo(Gt)}));else if(arguments.length===2)s.sort((function(Ft,Gt){return p[1].compare(Ft,Gt)}));else if(arguments.length===3){var o=s.slice(arguments[1],arguments[2]);o.sort();var d=s.slice(0,arguments[1]).concat(o,s.slice(arguments[2],s.length));s.splice(0,s.length);var S,C=y(d);try{for(C.s();!(S=C.n()).done;){var I=S.value;s.push(I)}}catch(Ft){C.e(Ft)}finally{C.f()}}else if(arguments.length===4){var q=s.slice(arguments[1],arguments[2]);q.sort((function(Ft,Gt){return p[3].compare(Ft,Gt)}));var ot=s.slice(0,arguments[1]).concat(q,s.slice(arguments[2],s.length));s.splice(0,s.length);var dt,yt=y(ot);try{for(yt.s();!(dt=yt.n()).done;){var bt=dt.value;s.push(bt)}}catch(Ft){yt.e(Ft)}finally{yt.f()}}}},{key:"asList",value:function(p){var s,o=new $t,d=y(p);try{for(d.s();!(s=d.n()).done;){var S=s.value;o.add(S)}}catch(C){d.e(C)}finally{d.f()}return o}},{key:"copyOf",value:function(p,s){return p.slice(0,s)}}])})(),Kt=g((function p(){r(this,p)})),da=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var o=new Array(this.getNumPoints()).fill(null),d=-1,S=this._shell.getCoordinates(),C=0;C<S.length;C++)o[++d]=S[C];for(var I=0;I<this._holes.length;I++)for(var q=this._holes[I].getCoordinates(),ot=0;ot<q.length;ot++)o[++d]=q[ot];return o}},{key:"getArea",value:function(){var o=0;o+=go.ofRing(this._shell.getCoordinateSequence());for(var d=0;d<this._holes.length;d++)o-=go.ofRing(this._holes[d].getCoordinateSequence());return o}},{key:"copyInternal",value:function(){for(var o=this._shell.copy(),d=new Array(this._holes.length).fill(null),S=0;S<this._holes.length;S++)d[S]=this._holes[S].copy();return new s(o,d,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var o=this._shell.getCoordinateSequence(),d=this.getEnvelopeInternal(),S=0;S<5;S++){var C=o.getX(S);if(C!==d.getMinX()&&C!==d.getMaxX())return!1;var I=o.getY(S);if(I!==d.getMinY()&&I!==d.getMaxY())return!1}for(var q=o.getX(0),ot=o.getY(0),dt=1;dt<=4;dt++){var yt=o.getX(dt),bt=o.getY(dt);if(yt!==q==(bt!==ot))return!1;q=yt,ot=bt}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var S=o,C=this._shell,I=S._shell;if(!C.equalsExact(I,d)||this._holes.length!==S._holes.length)return!1;for(var q=0;q<this._holes.length;q++)if(!this._holes[q].equalsExact(S._holes[q],d))return!1;return!0}return P(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var o=0;o<this._holes.length;o++)this._holes[o]=this.normalized(this._holes[o],!1);Mn.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],S=arguments[1];if(d.isEmpty())return null;var C=d.getCoordinateSequence(),I=Jr.minCoordinateIndex(C,0,C.size()-2);Jr.scroll(C,I,!0),ie.isCCW(C)===S&&Jr.reverse(C)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var o=this.getExteriorRing().reverse(),d=new Array(this.getNumInteriorRing()).fill(null),S=0;S<d.length;S++)d[S]=this.getInteriorRingN(S).reverse();return this.getFactory().createPolygon(o,d)}},{key:"getTypeCode",value:function(){return At.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var o=0;o+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)o+=this._holes[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=this._shell.getNumPoints(),d=0;d<this._holes.length;d++)o+=this._holes[d].getNumPoints();return o}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(o,d){var S=o.copy();return this.normalize(S,d),S}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=this._shell,S=o._shell;return d.compareToSameClass(S)}if(arguments.length===2){var C=arguments[1],I=arguments[0],q=this._shell,ot=I._shell,dt=q.compareToSameClass(ot,C);if(dt!==0)return dt;for(var yt=this.getNumInteriorRing(),bt=I.getNumInteriorRing(),Ft=0;Ft<yt&&Ft<bt;){var Gt=this.getInteriorRingN(Ft),Vt=I.getInteriorRingN(Ft),ee=Gt.compareToSameClass(Vt,C);if(ee!==0)return ee;Ft++}return Ft<yt?1:Ft<bt?-1:0}}},{key:"apply",value:function(){if(Ht(arguments[0],Yi)){var o=arguments[0];this._shell.apply(o);for(var d=0;d<this._holes.length;d++)this._holes[d].apply(o)}else if(Ht(arguments[0],Gi)){var S=arguments[0];if(this._shell.apply(S),!S.isDone())for(var C=0;C<this._holes.length&&(this._holes[C].apply(S),!S.isDone());C++);S.isGeometryChanged()&&this.geometryChanged()}else if(Ht(arguments[0],fa))arguments[0].filter(this);else if(Ht(arguments[0],$)){var I=arguments[0];I.filter(this),this._shell.apply(I);for(var q=0;q<this._holes.length;q++)this._holes[q].apply(I)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var o=new Array(this._holes.length+1).fill(null);o[0]=this._shell;for(var d=0;d<this._holes.length;d++)o[d+1]=this._holes[d];return o.length<=1?this.getFactory().createLinearRing(o[0].getCoordinateSequence()):this.getFactory().createMultiLineString(o)}},{key:"getGeometryType",value:function(){return At.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(o){return this._holes[o]}},{key:"interfaces_",get:function(){return[Kt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var o=arguments[0],d=arguments[1],S=arguments[2];if(At.constructor_.call(this,S),o===null&&(o=this.getFactory().createLinearRing()),d===null&&(d=[]),At.hasNullElements(d))throw new W("holes must not contain null elements");if(o.isEmpty()&&At.hasNonEmptyElements(d))throw new W("shell is empty but holes are not");this._shell=o,this._holes=d}}])})(At),mo=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s)})(jt),qi=(function(p){function s(o){var d;return r(this,s),(d=l(this,s)).array=[],o instanceof Xt&&d.addAll(o),d}return x(s,p),g(s,[{key:"contains",value:function(o){var d,S=y(this.array);try{for(S.s();!(d=S.n()).done;)if(d.value.compareTo(o)===0)return!0}catch(C){S.e(C)}finally{S.f()}return!1}},{key:"add",value:function(o){if(this.contains(o))return!1;for(var d=0,S=this.array.length;d<S;d++)if(this.array[d].compareTo(o)===1)return!!this.array.splice(d,0,o);return this.array.push(o),!0}},{key:"addAll",value:function(o){var d,S=y(o);try{for(S.s();!(d=S.n()).done;){var C=d.value;this.add(C)}}catch(I){S.e(I)}finally{S.f()}return!0}},{key:"remove",value:function(){throw new zt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new On(this.array)}}])})(mo),On=(function(){return g((function p(s){r(this,p),this.array=s,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new Zt;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new zt}}])})(),je=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){for(var o=new Ot,d=0;d<this._geometries.length;d++)o.expandToInclude(this._geometries[d].getEnvelopeInternal());return o}},{key:"getGeometryN",value:function(o){return this._geometries[o]}},{key:"getCoordinates",value:function(){for(var o=new Array(this.getNumPoints()).fill(null),d=-1,S=0;S<this._geometries.length;S++)for(var C=this._geometries[S].getCoordinates(),I=0;I<C.length;I++)o[++d]=C[I];return o}},{key:"getArea",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getArea();return o}},{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var S=o;if(this._geometries.length!==S._geometries.length)return!1;for(var C=0;C<this._geometries.length;C++)if(!this._geometries[C].equalsExact(S._geometries[C],d))return!1;return!0}return P(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<this._geometries.length;o++)this._geometries[o].normalize();Mn.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var o=Yt.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getBoundaryDimension());return o}},{key:"reverseInternal",value:function(){for(var o=this._geometries.length,d=new $t(o),S=0;S<o;S++)d.add(this._geometries[S].reverse());return this.getFactory().buildGeometry(d)}},{key:"getTypeCode",value:function(){return At.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var o=Yt.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getDimension());return o}},{key:"getLength",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getNumPoints();return o}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=new qi(Mn.asList(this._geometries)),S=new qi(Mn.asList(o._geometries));return this.compare(d,S)}if(arguments.length===2){for(var C=arguments[1],I=arguments[0],q=this.getNumGeometries(),ot=I.getNumGeometries(),dt=0;dt<q&&dt<ot;){var yt=this.getGeometryN(dt),bt=I.getGeometryN(dt),Ft=yt.compareToSameClass(bt,C);if(Ft!==0)return Ft;dt++}return dt<q?1:dt<ot?-1:0}}},{key:"apply",value:function(){if(Ht(arguments[0],Yi))for(var o=arguments[0],d=0;d<this._geometries.length;d++)this._geometries[d].apply(o);else if(Ht(arguments[0],Gi)){var S=arguments[0];if(this._geometries.length===0)return null;for(var C=0;C<this._geometries.length&&(this._geometries[C].apply(S),!S.isDone());C++);S.isGeometryChanged()&&this.geometryChanged()}else if(Ht(arguments[0],fa)){var I=arguments[0];I.filter(this);for(var q=0;q<this._geometries.length;q++)this._geometries[q].apply(I)}else if(Ht(arguments[0],$)){var ot=arguments[0];ot.filter(this);for(var dt=0;dt<this._geometries.length;dt++)this._geometries[dt].apply(ot)}}},{key:"getBoundary",value:function(){return At.checkNotGeometryCollection(this),pt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return At.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];if(At.constructor_.call(this,d),o===null&&(o=[]),At.hasNullElements(o))throw new W("geometries must not contain null elements");this._geometries=o}}}}])})(At),fr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&P(s,"equalsExact",this,1).call(this,o,d)}return P(s,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var o=arguments[0];return this._geometries[o].getCoordinate()}return P(s,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Yt.FALSE}},{key:"getTypeCode",value:function(){return At.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return At.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[po]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];je.constructor_.call(this,o,d)}}])})(je),bi=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){return new s(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Yt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||P(s,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Jr.reverse(o),this.getFactory().createLinearRing(o)}},{key:"getTypeCode",value:function(){return At.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!P(s,"isClosed",this,1).call(this))throw new W("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<s.MINIMUM_VALID_SIZE)throw new W("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return At.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];Ba.constructor_.call(this,o,d),this.validateConstruction()}}])})(Ba);bi.MINIMUM_VALID_SIZE=4;var Dr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"setOrdinate",value:function(o,d){switch(o){case s.X:this.x=d;break;case s.Y:this.y=d;break;default:throw new W("Invalid ordinate index: "+o)}}},{key:"getZ",value:function(){return ht.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case s.X:return this.x;case s.Y:return this.y}throw new W("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new W("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)ht.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof s){var o=arguments[0];ht.constructor_.call(this,o.x,o.y)}else if(arguments[0]instanceof ht){var d=arguments[0];ht.constructor_.call(this,d.x,d.y)}}else if(arguments.length===2){var S=arguments[0],C=arguments[1];ht.constructor_.call(this,S,C,ht.NULL_ORDINATE)}}}])})(ht);Dr.X=0,Dr.Y=1,Dr.Z=-1,Dr.M=-1;var Vr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case s.X:this.x=d;break;case s.Y:this.y=d;break;case s.M:this._m=d;break;default:throw new W("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getZ",value:function(){return ht.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case s.X:return this.x;case s.Y:return this.y;case s.M:return this._m}throw new W("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new W("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)ht.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof s){var o=arguments[0];ht.constructor_.call(this,o.x,o.y),this._m=o._m}else if(arguments[0]instanceof ht){var d=arguments[0];ht.constructor_.call(this,d.x,d.y),this._m=this.getM()}}else if(arguments.length===3){var S=arguments[0],C=arguments[1],I=arguments[2];ht.constructor_.call(this,S,C,ht.NULL_ORDINATE),this._m=I}}}])})(ht);Vr.X=0,Vr.Y=1,Vr.Z=-1,Vr.M=2;var Ts=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case ht.X:this.x=d;break;case ht.Y:this.y=d;break;case ht.Z:this.z=d;break;case ht.M:this._m=d;break;default:throw new W("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getOrdinate",value:function(o){switch(o){case ht.X:return this.x;case ht.Y:return this.y;case ht.Z:return this.getZ();case ht.M:return this.getM()}throw new W("Invalid ordinate index: "+o)}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)ht.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof s){var o=arguments[0];ht.constructor_.call(this,o),this._m=o._m}else if(arguments[0]instanceof ht){var d=arguments[0];ht.constructor_.call(this,d),this._m=this.getM()}}else if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],q=arguments[3];ht.constructor_.call(this,S,C,I),this._m=q}}}])})(ht),Ar=(function(){function p(){r(this,p)}return g(p,null,[{key:"measures",value:function(s){return s instanceof Dr?0:s instanceof Vr||s instanceof Ts?1:0}},{key:"dimension",value:function(s){return s instanceof Dr?2:s instanceof Vr?3:s instanceof Ts?4:3}},{key:"create",value:function(){if(arguments.length===1){var s=arguments[0];return p.create(s,0)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return o===2?new Dr:o===3&&d===0?new ht:o===3&&d===1?new Vr:o===4&&d===1?new Ts:new ht}}}])})(),Wr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getCoordinate",value:function(o){return this.get(o)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&Ht(arguments[0],Xt)){for(var o=arguments[1],d=!1,S=arguments[0].iterator();S.hasNext();)this.add(S.next(),o),d=!0;return d}return P(s,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var o=P(s,"clone",this,1).call(this),d=0;d<this.size();d++)o.add(d,this.get(d).clone());return o}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(s.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(s.coordArrayType);for(var o=this.size(),d=new Array(o).fill(null),S=0;S<o;S++)d[S]=this.get(o-S-1);return d}}},{key:"add",value:function(){if(arguments.length===1){var o=arguments[0];return P(s,"add",this,1).call(this,o)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],S=arguments[1];return this.add(d,S,!0),!0}if(arguments[0]instanceof ht&&typeof arguments[1]=="boolean"){var C=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(C))return null;P(s,"add",this,1).call(this,C)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var I=arguments[0],q=arguments[1];return this.add(I,q),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var ot=arguments[0],dt=arguments[1];if(arguments[2])for(var yt=0;yt<ot.length;yt++)this.add(ot[yt],dt);else for(var bt=ot.length-1;bt>=0;bt--)this.add(ot[bt],dt);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof ht){var Ft=arguments[0],Gt=arguments[1];if(!arguments[2]){var Vt=this.size();if(Vt>0&&(Ft>0&&this.get(Ft-1).equals2D(Gt)||Ft<Vt&&this.get(Ft).equals2D(Gt)))return null}P(s,"add",this,1).call(this,Ft,Gt)}}else if(arguments.length===4){var ee=arguments[0],Ce=arguments[1],ge=arguments[2],Ye=arguments[3],an=1;ge>Ye&&(an=-1);for(var We=ge;We!==Ye;We+=an)this.add(ee[We],Ce);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var o=this.get(0).copy();this.add(o,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var o=arguments[0];this.ensureCapacity(o.length),this.add(o,!0)}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.ensureCapacity(d.length),this.add(d,S)}}}}])})($t);Wr.coordArrayType=new Array(0).fill(null);var $e=(function(){function p(){r(this,p)}return g(p,null,[{key:"isRing",value:function(s){return!(s.length<4)&&!!s[0].equals2D(s[s.length-1])}},{key:"ptNotInList",value:function(s,o){for(var d=0;d<s.length;d++){var S=s[d];if(p.indexOf(S,o)<0)return S}return null}},{key:"scroll",value:function(s,o){var d=p.indexOf(o,s);if(d<0)return null;var S=new Array(s.length).fill(null);Ei.arraycopy(s,d,S,0,s.length-d),Ei.arraycopy(s,0,S,s.length-d,d),Ei.arraycopy(S,0,s,0,s.length)}},{key:"equals",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];if(s===o)return!0;if(s===null||o===null||s.length!==o.length)return!1;for(var d=0;d<s.length;d++)if(!s[d].equals(o[d]))return!1;return!0}if(arguments.length===3){var S=arguments[0],C=arguments[1],I=arguments[2];if(S===C)return!0;if(S===null||C===null||S.length!==C.length)return!1;for(var q=0;q<S.length;q++)if(I.compare(S[q],C[q])!==0)return!1;return!0}}},{key:"intersection",value:function(s,o){for(var d=new Wr,S=0;S<s.length;S++)o.intersects(s[S])&&d.add(s[S],!0);return d.toCoordinateArray()}},{key:"measures",value:function(s){if(s===null||s.length===0)return 0;var o,d=0,S=y(s);try{for(S.s();!(o=S.n()).done;){var C=o.value;d=Math.max(d,Ar.measures(C))}}catch(I){S.e(I)}finally{S.f()}return d}},{key:"hasRepeatedPoints",value:function(s){for(var o=1;o<s.length;o++)if(s[o-1].equals(s[o]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(s){return p.hasRepeatedPoints(s)?new Wr(s,!1).toCoordinateArray():s}},{key:"reverse",value:function(s){for(var o=s.length-1,d=Math.trunc(o/2),S=0;S<=d;S++){var C=s[S];s[S]=s[o-S],s[o-S]=C}}},{key:"removeNull",value:function(s){for(var o=0,d=0;d<s.length;d++)s[d]!==null&&o++;var S=new Array(o).fill(null);if(o===0)return S;for(var C=0,I=0;I<s.length;I++)s[I]!==null&&(S[C++]=s[I]);return S}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var s=arguments[0],o=new Array(s.length).fill(null),d=0;d<s.length;d++)o[d]=s[d].copy();return o}if(arguments.length===5)for(var S=arguments[0],C=arguments[1],I=arguments[2],q=arguments[3],ot=arguments[4],dt=0;dt<ot;dt++)I[q+dt]=S[C+dt].copy()}},{key:"isEqualReversed",value:function(s,o){for(var d=0;d<s.length;d++){var S=s[d],C=o[s.length-d-1];if(S.compareTo(C)!==0)return!1}return!0}},{key:"envelope",value:function(s){for(var o=new Ot,d=0;d<s.length;d++)o.expandToInclude(s[d]);return o}},{key:"toCoordinateArray",value:function(s){return s.toArray(p.coordArrayType)}},{key:"dimension",value:function(s){if(s===null||s.length===0)return 3;var o,d=0,S=y(s);try{for(S.s();!(o=S.n()).done;){var C=o.value;d=Math.max(d,Ar.dimension(C))}}catch(I){S.e(I)}finally{S.f()}return d}},{key:"atLeastNCoordinatesOrNothing",value:function(s,o){return o.length>=s?o:[]}},{key:"indexOf",value:function(s,o){for(var d=0;d<o.length;d++)if(s.equals(o[d]))return d;return-1}},{key:"increasingDirection",value:function(s){for(var o=0;o<Math.trunc(s.length/2);o++){var d=s.length-1-o,S=s[o].compareTo(s[d]);if(S!==0)return S}return 1}},{key:"compare",value:function(s,o){for(var d=0;d<s.length&&d<o.length;){var S=s[d].compareTo(o[d]);if(S!==0)return S;d++}return d<o.length?-1:d<s.length?1:0}},{key:"minCoordinate",value:function(s){for(var o=null,d=0;d<s.length;d++)(o===null||o.compareTo(s[d])>0)&&(o=s[d]);return o}},{key:"extract",value:function(s,o,d){o=hr.clamp(o,0,s.length);var S=(d=hr.clamp(d,-1,s.length))-o+1;d<0&&(S=0),o>=s.length&&(S=0),d<o&&(S=0);var C=new Array(S).fill(null);if(S===0)return C;for(var I=0,q=o;q<=d;q++)C[I++]=s[q];return C}}])})(),pa=(function(){return g((function p(){r(this,p)}),[{key:"compare",value:function(p,s){var o=p,d=s;return $e.compare(o,d)}},{key:"interfaces_",get:function(){return[Y]}}])})(),kr=(function(){return g((function p(){r(this,p)}),[{key:"compare",value:function(p,s){var o=p,d=s;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;var S=$e.compare(o,d);return $e.isEqualReversed(o,d)?0:S}},{key:"OLDcompare",value:function(p,s){var o=p,d=s;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;for(var S=$e.increasingDirection(o),C=$e.increasingDirection(d),I=S>0?0:o.length-1,q=C>0?0:o.length-1,ot=0;ot<o.length;ot++){var dt=o[I].compareTo(d[q]);if(dt!==0)return dt;I+=S,q+=C}return 0}},{key:"interfaces_",get:function(){return[Y]}}])})();$e.ForwardComparator=pa,$e.BidirectionalComparator=kr,$e.coordArrayType=new Array(0).fill(null);var dr=(function(){return g((function p(s){r(this,p),this.str=s}),[{key:"append",value:function(p){this.str+=p}},{key:"setCharAt",value:function(p,s){this.str=this.str.substr(0,p)+s+this.str.substr(p+1)}},{key:"toString",value:function(){return this.str}}])})(),dn=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getM",value:function(s){return this.hasM()?this._coordinates[s].getM():Q.NaN}},{key:"setOrdinate",value:function(s,o,d){switch(o){case _e.X:this._coordinates[s].x=d;break;case _e.Y:this._coordinates[s].y=d;break;default:this._coordinates[s].setOrdinate(o,d)}}},{key:"getZ",value:function(s){return this.hasZ()?this._coordinates[s].getZ():Q.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(s,o){switch(o){case _e.X:return this._coordinates[s].x;case _e.Y:return this._coordinates[s].y;default:return this._coordinates[s].getOrdinate(o)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var s=arguments[0];return this._coordinates[s]}if(arguments.length===2){var o=arguments[0];arguments[1].setCoordinate(this._coordinates[o])}}},{key:"getCoordinateCopy",value:function(s){var o=this.createCoordinate();return o.setCoordinate(this._coordinates[s]),o}},{key:"createCoordinate",value:function(){return Ar.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(s){return this._coordinates[s].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(s){for(var o=0;o<this._coordinates.length;o++)s.expandToInclude(this._coordinates[o]);return s}},{key:"copy",value:function(){for(var s=new Array(this.size()).fill(null),o=0;o<this._coordinates.length;o++){var d=this.createCoordinate();d.setCoordinate(this._coordinates[o]),s[o]=d}return new p(s,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var s=new dr(17*this._coordinates.length);s.append("("),s.append(this._coordinates[0]);for(var o=1;o<this._coordinates.length;o++)s.append(", "),s.append(this._coordinates[o]);return s.append(")"),s.toString()}return"()"}},{key:"getY",value:function(s){return this._coordinates[s].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[_e,M]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];p.constructor_.call(this,s,$e.dimension(s),$e.measures(s))}else if(Number.isInteger(arguments[0])){var o=arguments[0];this._coordinates=new Array(o).fill(null);for(var d=0;d<o;d++)this._coordinates[d]=new ht}else if(Ht(arguments[0],_e)){var S=arguments[0];if(S===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=S.getDimension(),this._measures=S.getMeasures(),this._coordinates=new Array(S.size()).fill(null);for(var C=0;C<this._coordinates.length;C++)this._coordinates[C]=S.getCoordinateCopy(C)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var I=arguments[0],q=arguments[1];p.constructor_.call(this,I,q,$e.measures(I))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var ot=arguments[0],dt=arguments[1];this._coordinates=new Array(ot).fill(null),this._dimension=dt;for(var yt=0;yt<ot;yt++)this._coordinates[yt]=Ar.create(dt)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var bt=arguments[0],Ft=arguments[1],Gt=arguments[2];this._dimension=Ft,this._measures=Gt,this._coordinates=bt===null?new Array(0).fill(null):bt}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Vt=arguments[0],ee=arguments[1],Ce=arguments[2];this._coordinates=new Array(Vt).fill(null),this._dimension=ee,this._measures=Ce;for(var ge=0;ge<Vt;ge++)this._coordinates[ge]=this.createCoordinate()}}}}])})(),ws=(function(){function p(){r(this,p)}return g(p,[{key:"readResolve",value:function(){return p.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new dn(arguments[0]);if(Ht(arguments[0],_e))return new dn(arguments[0])}else{if(arguments.length===2){var s=arguments[1];return s>3&&(s=3),s<2&&(s=2),new dn(arguments[0],s)}if(arguments.length===3){var o=arguments[2],d=arguments[1]-o;return o>1&&(o=1),d>3&&(d=3),d<2&&(d=2),new dn(arguments[0],d+o,o)}}}},{key:"interfaces_",get:function(){return[ca,M]}}],[{key:"instance",value:function(){return p.instanceObject}}])})();ws.instanceObject=new ws;var Cs=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&P(s,"equalsExact",this,1).call(this,o,d)}return P(s,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return At.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var o=new $t,d=0;d<this._geometries.length;d++)for(var S=this._geometries[d].getBoundary(),C=0;C<S.getNumGeometries();C++)o.add(S.getGeometryN(C));var I=new Array(o.size()).fill(null);return this.getFactory().createMultiLineString(o.toArray(I))}},{key:"getGeometryType",value:function(){return At.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Kt]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];je.constructor_.call(this,o,d)}}])})(je),Nr=(function(){return g((function p(){r(this,p)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Mr=(function(p){function s(){var o;return r(this,s),(o=l(this,s)).map=new Map,o}return x(s,p),g(s,[{key:"get",value:function(o){return this.map.get(o)||null}},{key:"put",value:function(o,d){return this.map.set(o,d),d}},{key:"values",value:function(){for(var o=new $t,d=this.map.values(),S=d.next();!S.done;)o.add(S.value),S=d.next();return o}},{key:"entrySet",value:function(){var o=new we;return this.map.entries().forEach((function(d){return o.add(d)})),o}},{key:"size",value:function(){return this.map.size()}}])})(Nr),ei=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"equals",value:function(s){if(!(s instanceof p))return!1;var o=s;return this._modelType===o._modelType&&this._scale===o._scale}},{key:"compareTo",value:function(s){var o=s,d=this.getMaximumSignificantDigits(),S=o.getMaximumSignificantDigits();return Ie.compare(d,S)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===p.FLOATING||this._modelType===p.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var s="UNKNOWN";return this._modelType===p.FLOATING?s="Floating":this._modelType===p.FLOATING_SINGLE?s="Floating-Single":this._modelType===p.FIXED&&(s="Fixed (Scale="+this.getScale()+")"),s}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var s=arguments[0];return Q.isNaN(s)||this._modelType===p.FLOATING_SINGLE?s:this._modelType===p.FIXED?Math.round(s*this._scale)/this._scale:s}if(arguments[0]instanceof ht){var o=arguments[0];if(this._modelType===p.FLOATING)return null;o.x=this.makePrecise(o.x),o.y=this.makePrecise(o.y)}}},{key:"getMaximumSignificantDigits",value:function(){var s=16;return this._modelType===p.FLOATING?s=16:this._modelType===p.FLOATING_SINGLE?s=6:this._modelType===p.FIXED&&(s=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),s}},{key:"setScale",value:function(s){this._scale=Math.abs(s)}},{key:"interfaces_",get:function(){return[M,tt]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=p.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Or){var s=arguments[0];this._modelType=s,s===p.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var o=arguments[0];this._modelType=p.FIXED,this.setScale(o)}else if(arguments[0]instanceof p){var d=arguments[0];this._modelType=d._modelType,this._scale=d._scale}}}},{key:"mostPrecise",value:function(s,o){return s.compareTo(o)>=0?s:o}}])})(),Or=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"readResolve",value:function(){return p.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[M]}}],[{key:"constructor_",value:function(){this._name=null;var s=arguments[0];this._name=s,p.nameToTypeMap.put(s,this)}}])})();Or.nameToTypeMap=new Mr,ei.Type=Or,ei.FIXED=new Or("FIXED"),ei.FLOATING=new Or("FLOATING"),ei.FLOATING_SINGLE=new Or("FLOATING SINGLE"),ei.maximumPreciseValue=9007199254740992;var za=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&P(s,"equalsExact",this,1).call(this,o,d)}return P(s,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Yt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return At.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new zt}},{key:"getGeometryType",value:function(){return At.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[ha]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];je.constructor_.call(this,o,d)}}])})(je),Hi=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"createEmpty",value:function(s){switch(s){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new W("Invalid dimension: "+s)}}},{key:"toGeometry",value:function(s){return s.isNull()?this.createPoint():s.getMinX()===s.getMaxX()&&s.getMinY()===s.getMaxY()?this.createPoint(new ht(s.getMinX(),s.getMinY())):s.getMinX()===s.getMaxX()||s.getMinY()===s.getMaxY()?this.createLineString([new ht(s.getMinX(),s.getMinY()),new ht(s.getMaxX(),s.getMaxY())]):this.createPolygon(this.createLinearRing([new ht(s.getMinX(),s.getMinY()),new ht(s.getMinX(),s.getMaxY()),new ht(s.getMaxX(),s.getMaxY()),new ht(s.getMaxX(),s.getMinY()),new ht(s.getMinX(),s.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];return this.createLineString(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(Ht(arguments[0],_e))return new Ba(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new za(null,this):arguments.length===1?new za(arguments[0],this):void 0}},{key:"buildGeometry",value:function(s){for(var o=null,d=!1,S=!1,C=s.iterator();C.hasNext();){var I=C.next(),q=I.getTypeCode();o===null&&(o=q),q!==o&&(d=!0),I instanceof je&&(S=!0)}if(o===null)return this.createGeometryCollection();if(d||S)return this.createGeometryCollection(p.toGeometryArray(s));var ot=s.iterator().next();if(s.size()>1){if(ot instanceof da)return this.createMultiPolygon(p.toPolygonArray(s));if(ot instanceof Ba)return this.createMultiLineString(p.toLineStringArray(s));if(ot instanceof bs)return this.createMultiPoint(p.toPointArray(s));pt.shouldNeverReachHere("Unhandled geometry type: "+ot.getGeometryType())}return ot}},{key:"createMultiPointFromCoords",value:function(s){return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof ht){var s=arguments[0];return this.createPoint(s!==null?this.getCoordinateSequenceFactory().create([s]):null)}if(Ht(arguments[0],_e))return new bs(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(Ht(arguments[0],_e)){var s=arguments[0];return this.createPolygon(this.createLinearRing(s))}if(arguments[0]instanceof Array){var o=arguments[0];return this.createPolygon(this.createLinearRing(o))}if(arguments[0]instanceof bi){var d=arguments[0];return this.createPolygon(d,null)}}else if(arguments.length===2)return new da(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new je(null,this):arguments.length===1?new je(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];return this.createLinearRing(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(Ht(arguments[0],_e))return new bi(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Cs(null,this):arguments.length===1?new Cs(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new fr(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new fr(arguments[0],this);if(Ht(arguments[0],_e)){var s=arguments[0];if(s===null)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(s.size()).fill(null),d=0;d<s.size();d++){var S=this.getCoordinateSequenceFactory().create(1,s.getDimension(),s.getMeasures());Jr.copy(s,d,S,0,1),o[d]=this.createPoint(S)}return this.createMultiPoint(o)}}}},{key:"interfaces_",get:function(){return[M]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)p.constructor_.call(this,new ei,0);else if(arguments.length===1){if(Ht(arguments[0],ca)){var s=arguments[0];p.constructor_.call(this,new ei,0,s)}else if(arguments[0]instanceof ei){var o=arguments[0];p.constructor_.call(this,o,0,p.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];p.constructor_.call(this,d,S,p.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var C=arguments[0],I=arguments[1],q=arguments[2];this._precisionModel=C,this._coordinateSequenceFactory=q,this._SRID=I}}},{key:"toMultiPolygonArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toGeometryArray",value:function(s){if(s===null)return null;var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return ws.instance()}},{key:"toMultiLineStringArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toLineStringArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toMultiPointArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toLinearRingArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toPointArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toPolygonArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"createPointFromInternalCoord",value:function(s,o){return o.getPrecisionModel().makePrecise(s),o.getFactory().createPoint(s)}}])})(),Se="XY",Ke="XYZ",Ti="XYM",Bn="XYZM",Rr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Ls="EMPTY",fe=1,Pe=2,pi=3,Fa=4,Ue=5,_o=6;for(var ja in Rr)Rr[ja].toUpperCase();var pr=(function(){return g((function p(s){r(this,p),this.wkt=s,this.index_=-1}),[{key:"isAlpha_",value:function(p){return p>="a"&&p<="z"||p>="A"&&p<="Z"}},{key:"isNumeric_",value:function(p,s){return p>="0"&&p<="9"||p=="."&&!(s!==void 0&&s)}},{key:"isWhiteSpace_",value:function(p){return p==" "||p=="	"||p=="\r"||p==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var p,s=this.nextChar_(),o=this.index_,d=s;if(s=="(")p=Pe;else if(s==",")p=Ue;else if(s==")")p=pi;else if(this.isNumeric_(s)||s=="-")p=Fa,d=this.readNumber_();else if(this.isAlpha_(s))p=fe,d=this.readText_();else{if(this.isWhiteSpace_(s))return this.nextToken();if(s!=="")throw new Error("Unexpected character: "+s);p=_o}return{position:o,value:d,type:p}}},{key:"readNumber_",value:function(){var p,s=this.index_,o=!1,d=!1;do p=="."?o=!0:p!="e"&&p!="E"||(d=!0),p=this.nextChar_();while(this.isNumeric_(p,o)||!d&&(p=="e"||p=="E")||d&&(p=="-"||p=="+"));return parseFloat(this.wkt.substring(s,this.index_--))}},{key:"readText_",value:function(){var p,s=this.index_;do p=this.nextChar_();while(this.isAlpha_(p));return this.wkt.substring(s,this.index_--).toUpperCase()}}])})(),tn=(function(){return g((function p(s,o){r(this,p),this.lexer_=s,this.token_,this.layout_=Se,this.factory=o}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(p){return this.token_.type==p}},{key:"match",value:function(p){var s=this.isTokenType(p);return s&&this.consume_(),s}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var p=Se,s=this.token_;if(this.isTokenType(fe)){var o=s.value;o==="Z"?p=Ke:o==="M"?p=Ti:o==="ZM"&&(p=Bn),p!==Se&&this.consume_()}return p}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Pe)){var p=[];do p.push(this.parseGeometry_());while(this.match(Ue));if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Pe)){var p=this.parsePoint_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Pe)){var p=this.parsePointList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Pe)){var p=this.parseLineStringTextList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var p;if(this.match(Pe)){if(p=this.token_.type==Pe?this.parsePointTextList_():this.parsePointList_(),this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Pe)){var p=this.parseLineStringTextList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Pe)){var p=this.parsePolygonTextList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var p=[],s=this.layout_.length,o=0;o<s;++o){var d=this.token_;if(!this.match(Fa))break;p.push(d.value)}if(p.length==s)return p;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var p=[this.parsePoint_()];this.match(Ue);)p.push(this.parsePoint_());return p}},{key:"parsePointTextList_",value:function(){for(var p=[this.parsePointText_()];this.match(Ue);)p.push(this.parsePointText_());return p}},{key:"parseLineStringTextList_",value:function(){for(var p=[this.parseLineStringText_()];this.match(Ue);)p.push(this.parseLineStringText_());return p}},{key:"parsePolygonTextList_",value:function(){for(var p=[this.parsePolygonText_()];this.match(Ue);)p.push(this.parsePolygonText_());return p}},{key:"isEmptyGeometry_",value:function(){var p=this.isTokenType(fe)&&this.token_.value==Ls;return p&&this.consume_(),p}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var p=this.factory,s=function(ee){return c(ht,Z(ee))},o=function(ee){var Ce=ee.map((function(ge){return p.createLinearRing(ge.map(s))}));return Ce.length>1?p.createPolygon(Ce[0],Ce.slice(1)):p.createPolygon(Ce[0])},d=this.token_;if(this.match(fe)){var S=d.value;if(this.layout_=this.parseGeometryLayout_(),S=="GEOMETRYCOLLECTION"){var C=this.parseGeometryCollectionText_();return p.createGeometryCollection(C)}switch(S){case"POINT":var I=this.parsePointText_();return I?p.createPoint(c(ht,Z(I))):p.createPoint();case"LINESTRING":var q=this.parseLineStringText_().map(s);return p.createLineString(q);case"LINEARRING":var ot=this.parseLineStringText_().map(s);return p.createLinearRing(ot);case"POLYGON":var dt=this.parsePolygonText_();return dt&&dt.length!==0?o(dt):p.createPolygon();case"MULTIPOINT":var yt=this.parseMultiPointText_();if(!yt||yt.length===0)return p.createMultiPoint();var bt=yt.map(s).map((function(ee){return p.createPoint(ee)}));return p.createMultiPoint(bt);case"MULTILINESTRING":var Ft=this.parseMultiLineStringText_().map((function(ee){return p.createLineString(ee.map(s))}));return p.createMultiLineString(Ft);case"MULTIPOLYGON":var Gt=this.parseMultiPolygonText_();if(!Gt||Gt.length===0)return p.createMultiPolygon();var Vt=Gt.map(o);return p.createMultiPolygon(Vt);default:throw new Error("Invalid geometry type: "+S)}}throw new Error(this.formatErrorMessage_())}}])})();function gr(p){if(p.isEmpty())return"";var s=p.getCoordinate(),o=[s.x,s.y];return s.z===void 0||Number.isNaN(s.z)||o.push(s.z),s.m===void 0||Number.isNaN(s.m)||o.push(s.m),o.join(" ")}function Zi(p){for(var s=p.getCoordinates().map((function(C){var I=[C.x,C.y];return C.z===void 0||Number.isNaN(C.z)||I.push(C.z),C.m===void 0||Number.isNaN(C.m)||I.push(C.m),I})),o=[],d=0,S=s.length;d<S;++d)o.push(s[d].join(" "));return o.join(", ")}function Oi(p){var s=[];s.push("("+Zi(p.getExteriorRing())+")");for(var o=0,d=p.getNumInteriorRing();o<d;++o)s.push("("+Zi(p.getInteriorRingN(o))+")");return s.join(", ")}var yo={Point:gr,LineString:Zi,LinearRing:Zi,Polygon:Oi,MultiPoint:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push("("+gr(p.getGeometryN(o))+")");return s.join(", ")},MultiLineString:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push("("+Zi(p.getGeometryN(o))+")");return s.join(", ")},MultiPolygon:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push("("+Oi(p.getGeometryN(o))+")");return s.join(", ")},GeometryCollection:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push(Qr(p.getGeometryN(o)));return s.join(", ")}};function Qr(p){var s=p.getGeometryType(),o=yo[s];s=s.toUpperCase();var d=(function(S){var C="";if(S.isEmpty())return C;var I=S.getCoordinate();return I.z===void 0||Number.isNaN(I.z)||(C+="Z"),I.m===void 0||Number.isNaN(I.m)||(C+="M"),C})(p);return d.length>0&&(s+=" "+d),p.isEmpty()?s+" "+Ls:s+" ("+o(p)+")"}var Ds=(function(){return g((function p(s){r(this,p),this.geometryFactory=s||new Hi,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(p){var s=new pr(p);return new tn(s,this.geometryFactory).parse()}},{key:"write",value:function(p){return Qr(p)}}])})(),Kr=(function(){return g((function p(s){r(this,p),this.parser=new Ds(s)}),[{key:"write",value:function(p){return this.parser.write(p)}}],[{key:"toLineString",value:function(p,s){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+p.x+" "+p.y+", "+s.x+" "+s.y+" )"}}])})(),Ve=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getIndexAlongSegment",value:function(s,o){return this.computeIntLineIndex(),this._intLineIndex[s][o]}},{key:"getTopologySummary",value:function(){var s=new dr;return this.isEndPoint()&&s.append(" endpoint"),this._isProper&&s.append(" proper"),this.isCollinear()&&s.append(" collinear"),s.toString()}},{key:"computeIntersection",value:function(s,o,d,S){this._inputLines[0][0]=s,this._inputLines[0][1]=o,this._inputLines[1][0]=d,this._inputLines[1][1]=S,this._result=this.computeIntersect(s,o,d,S)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var s=arguments[0];this.getEdgeDistance(s,0)>this.getEdgeDistance(s,1)?(this._intLineIndex[s][0]=0,this._intLineIndex[s][1]=1):(this._intLineIndex[s][0]=1,this._intLineIndex[s][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(s){this._precisionModel=s}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var s=arguments[0],o=0;o<this._result;o++)if(!this._intPt[o].equals2D(this._inputLines[s][0])&&!this._intPt[o].equals2D(this._inputLines[s][1]))return!0;return!1}}},{key:"getIntersection",value:function(s){return this._intPt[s]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==p.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(s,o){return p.computeEdgeDistance(this._intPt[o],this._inputLines[s][0],this._inputLines[s][1])}},{key:"isCollinear",value:function(){return this._result===p.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Kr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Kr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(s,o){return this._inputLines[s][o]}},{key:"isIntersection",value:function(s){for(var o=0;o<this._result;o++)if(this._intPt[o].equals2D(s))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(s,o){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[s][o]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ht,this._intPt[1]=new ht,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(s,o,d){var S=Math.abs(d.x-o.x),C=Math.abs(d.y-o.y),I=-1;if(s.equals(o))I=0;else if(s.equals(d))I=S>C?S:C;else{var q=Math.abs(s.x-o.x),ot=Math.abs(s.y-o.y);(I=S>C?q:ot)!==0||s.equals(o)||(I=Math.max(q,ot))}return pt.isTrue(!(I===0&&!s.equals(o)),"Bad distance calculation"),I}},{key:"nonRobustComputeEdgeDistance",value:function(s,o,d){var S=s.x-o.x,C=s.y-o.y,I=Math.sqrt(S*S+C*C);return pt.isTrue(!(I===0&&!s.equals(o)),"Invalid distance calculation"),I}}])})();Ve.DONT_INTERSECT=0,Ve.DO_INTERSECT=1,Ve.COLLINEAR=2,Ve.NO_INTERSECTION=0,Ve.POINT_INTERSECTION=1,Ve.COLLINEAR_INTERSECTION=2;var mr=(function(p){function s(){return r(this,s),l(this,s)}return x(s,p),g(s,[{key:"isInSegmentEnvelopes",value:function(o){var d=new Ot(this._inputLines[0][0],this._inputLines[0][1]),S=new Ot(this._inputLines[1][0],this._inputLines[1][1]);return d.contains(o)&&S.contains(o)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return P(s,"computeIntersection",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1],S=arguments[2];if(this._isProper=!1,Ot.intersects(d,S,o)&&ie.index(d,S,o)===0&&ie.index(S,d,o)===0)return this._isProper=!0,(o.equals(d)||o.equals(S))&&(this._isProper=!1),this._result=Ve.POINT_INTERSECTION,null;this._result=Ve.NO_INTERSECTION}},{key:"intersection",value:function(o,d,S,C){var I=this.intersectionSafe(o,d,S,C);return this.isInSegmentEnvelopes(I)||(I=new ht(s.nearestEndpoint(o,d,S,C))),this._precisionModel!==null&&this._precisionModel.makePrecise(I),I}},{key:"checkDD",value:function(o,d,S,C,I){var q=Xr.intersection(o,d,S,C),ot=this.isInSegmentEnvelopes(q);Ei.out.println("DD in env = "+ot+"  --------------------- "+q),I.distance(q)>1e-4&&Ei.out.println("Distance = "+I.distance(q))}},{key:"intersectionSafe",value:function(o,d,S,C){var I=fo.intersection(o,d,S,C);return I===null&&(I=s.nearestEndpoint(o,d,S,C)),I}},{key:"computeCollinearIntersection",value:function(o,d,S,C){var I=Ot.intersects(o,d,S),q=Ot.intersects(o,d,C),ot=Ot.intersects(S,C,o),dt=Ot.intersects(S,C,d);return I&&q?(this._intPt[0]=S,this._intPt[1]=C,Ve.COLLINEAR_INTERSECTION):ot&&dt?(this._intPt[0]=o,this._intPt[1]=d,Ve.COLLINEAR_INTERSECTION):I&&ot?(this._intPt[0]=S,this._intPt[1]=o,!S.equals(o)||q||dt?Ve.COLLINEAR_INTERSECTION:Ve.POINT_INTERSECTION):I&&dt?(this._intPt[0]=S,this._intPt[1]=d,!S.equals(d)||q||ot?Ve.COLLINEAR_INTERSECTION:Ve.POINT_INTERSECTION):q&&ot?(this._intPt[0]=C,this._intPt[1]=o,!C.equals(o)||I||dt?Ve.COLLINEAR_INTERSECTION:Ve.POINT_INTERSECTION):q&&dt?(this._intPt[0]=C,this._intPt[1]=d,!C.equals(d)||I||ot?Ve.COLLINEAR_INTERSECTION:Ve.POINT_INTERSECTION):Ve.NO_INTERSECTION}},{key:"computeIntersect",value:function(o,d,S,C){if(this._isProper=!1,!Ot.intersects(o,d,S,C))return Ve.NO_INTERSECTION;var I=ie.index(o,d,S),q=ie.index(o,d,C);if(I>0&&q>0||I<0&&q<0)return Ve.NO_INTERSECTION;var ot=ie.index(S,C,o),dt=ie.index(S,C,d);return ot>0&&dt>0||ot<0&&dt<0?Ve.NO_INTERSECTION:I===0&&q===0&&ot===0&&dt===0?this.computeCollinearIntersection(o,d,S,C):(I===0||q===0||ot===0||dt===0?(this._isProper=!1,o.equals2D(S)||o.equals2D(C)?this._intPt[0]=o:d.equals2D(S)||d.equals2D(C)?this._intPt[0]=d:I===0?this._intPt[0]=new ht(S):q===0?this._intPt[0]=new ht(C):ot===0?this._intPt[0]=new ht(o):dt===0&&(this._intPt[0]=new ht(d))):(this._isProper=!0,this._intPt[0]=this.intersection(o,d,S,C)),Ve.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(o,d,S,C){var I=o,q=li.pointToSegment(o,S,C),ot=li.pointToSegment(d,S,C);return ot<q&&(q=ot,I=d),(ot=li.pointToSegment(S,o,d))<q&&(q=ot,I=S),(ot=li.pointToSegment(C,o,d))<q&&(q=ot,I=C),I}}])})(Ve),ga=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"countSegment",value:function(s,o){if(s.x<this._p.x&&o.x<this._p.x)return null;if(this._p.x===o.x&&this._p.y===o.y)return this._isPointOnSegment=!0,null;if(s.y===this._p.y&&o.y===this._p.y){var d=s.x,S=o.x;return d>S&&(d=o.x,S=s.x),this._p.x>=d&&this._p.x<=S&&(this._isPointOnSegment=!0),null}if(s.y>this._p.y&&o.y<=this._p.y||o.y>this._p.y&&s.y<=this._p.y){var C=ie.index(s,o,this._p);if(C===ie.COLLINEAR)return this._isPointOnSegment=!0,null;o.y<s.y&&(C=-C),C===ie.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==ft.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?ft.BOUNDARY:this._crossingCount%2==1?ft.INTERIOR:ft.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var s=arguments[0];this._p=s}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof ht&&Ht(arguments[1],_e)){for(var s=arguments[1],o=new p(arguments[0]),d=new ht,S=new ht,C=1;C<s.size();C++)if(s.getCoordinate(C,d),s.getCoordinate(C-1,S),o.countSegment(d,S),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof ht&&arguments[1]instanceof Array){for(var I=arguments[1],q=new p(arguments[0]),ot=1;ot<I.length;ot++){var dt=I[ot],yt=I[ot-1];if(q.countSegment(dt,yt),q.isOnSegment())return q.getLocation()}return q.getLocation()}}}])})(),ui=(function(){function p(){r(this,p)}return g(p,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof ht&&Ht(arguments[1],_e)){for(var s=arguments[0],o=arguments[1],d=new mr,S=new ht,C=new ht,I=o.size(),q=1;q<I;q++)if(o.getCoordinate(q-1,S),o.getCoordinate(q,C),d.computeIntersection(s,S,C),d.hasIntersection())return!0;return!1}if(arguments[0]instanceof ht&&arguments[1]instanceof Array){for(var ot=arguments[0],dt=arguments[1],yt=new mr,bt=1;bt<dt.length;bt++){var Ft=dt[bt-1],Gt=dt[bt];if(yt.computeIntersection(ot,Ft,Gt),yt.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(s,o){return ga.locatePointInRing(s,o)}},{key:"isInRing",value:function(s,o){return p.locateInRing(s,o)!==ft.EXTERIOR}}])})(),ni=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"setAllLocations",value:function(s){for(var o=0;o<this.location.length;o++)this.location[o]=s}},{key:"isNull",value:function(){for(var s=0;s<this.location.length;s++)if(this.location[s]!==ft.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(s){for(var o=0;o<this.location.length;o++)this.location[o]===ft.NONE&&(this.location[o]=s)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(s){if(s.location.length>this.location.length){var o=new Array(3).fill(null);o[Mt.ON]=this.location[Mt.ON],o[Mt.LEFT]=ft.NONE,o[Mt.RIGHT]=ft.NONE,this.location=o}for(var d=0;d<this.location.length;d++)this.location[d]===ft.NONE&&d<s.location.length&&(this.location[d]=s.location[d])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var s=this.location[Mt.LEFT];this.location[Mt.LEFT]=this.location[Mt.RIGHT],this.location[Mt.RIGHT]=s}},{key:"toString",value:function(){var s=new Tn;return this.location.length>1&&s.append(ft.toLocationSymbol(this.location[Mt.LEFT])),s.append(ft.toLocationSymbol(this.location[Mt.ON])),this.location.length>1&&s.append(ft.toLocationSymbol(this.location[Mt.RIGHT])),s.toString()}},{key:"setLocations",value:function(s,o,d){this.location[Mt.ON]=s,this.location[Mt.LEFT]=o,this.location[Mt.RIGHT]=d}},{key:"get",value:function(s){return s<this.location.length?this.location[s]:ft.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var s=0;s<this.location.length;s++)if(this.location[s]===ft.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var s=arguments[0];this.setLocation(Mt.ON,s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.location[o]=d}}},{key:"init",value:function(s){this.location=new Array(s).fill(null),this.setAllLocations(ft.NONE)}},{key:"isEqualOnSide",value:function(s,o){return this.location[o]===s.location[o]}},{key:"allPositionsEqual",value:function(s){for(var o=0;o<this.location.length;o++)if(this.location[o]!==s)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[Mt.ON]=o}else if(arguments[0]instanceof p){var d=arguments[0];if(this.init(d.location.length),d!==null)for(var S=0;S<this.location.length;S++)this.location[S]=d.location[S]}}else if(arguments.length===3){var C=arguments[0],I=arguments[1],q=arguments[2];this.init(3),this.location[Mt.ON]=C,this.location[Mt.LEFT]=I,this.location[Mt.RIGHT]=q}}}])})(),Un=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getGeometryCount",value:function(){var s=0;return this.elt[0].isNull()||s++,this.elt[1].isNull()||s++,s}},{key:"setAllLocations",value:function(s,o){this.elt[s].setAllLocations(o)}},{key:"isNull",value:function(s){return this.elt[s].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var s=arguments[0];this.setAllLocationsIfNull(0,s),this.setAllLocationsIfNull(1,s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.elt[o].setAllLocationsIfNull(d)}}},{key:"isLine",value:function(s){return this.elt[s].isLine()}},{key:"merge",value:function(s){for(var o=0;o<2;o++)this.elt[o]===null&&s.elt[o]!==null?this.elt[o]=new ni(s.elt[o]):this.elt[o].merge(s.elt[o])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var s=arguments[0];return this.elt[s].get(Mt.ON)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.elt[o].get(d)}}},{key:"toString",value:function(){var s=new Tn;return this.elt[0]!==null&&(s.append("A:"),s.append(this.elt[0].toString())),this.elt[1]!==null&&(s.append(" B:"),s.append(this.elt[1].toString())),s.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var s=arguments[0];return this.elt[s].isArea()}}},{key:"isAnyNull",value:function(s){return this.elt[s].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];this.elt[s].setLocation(Mt.ON,o)}else if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2];this.elt[d].setLocation(S,C)}}},{key:"isEqualOnSide",value:function(s,o){return this.elt[0].isEqualOnSide(s.elt[0],o)&&this.elt[1].isEqualOnSide(s.elt[1],o)}},{key:"allPositionsEqual",value:function(s,o){return this.elt[s].allPositionsEqual(o)}},{key:"toLine",value:function(s){this.elt[s].isArea()&&(this.elt[s]=new ni(this.elt[s].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var s=arguments[0];this.elt[0]=new ni(s),this.elt[1]=new ni(s)}else if(arguments[0]instanceof p){var o=arguments[0];this.elt[0]=new ni(o.elt[0]),this.elt[1]=new ni(o.elt[1])}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.elt[0]=new ni(ft.NONE),this.elt[1]=new ni(ft.NONE),this.elt[d].setLocation(S)}else if(arguments.length===3){var C=arguments[0],I=arguments[1],q=arguments[2];this.elt[0]=new ni(C,I,q),this.elt[1]=new ni(C,I,q)}else if(arguments.length===4){var ot=arguments[0],dt=arguments[1],yt=arguments[2],bt=arguments[3];this.elt[0]=new ni(ft.NONE,ft.NONE,ft.NONE),this.elt[1]=new ni(ft.NONE,ft.NONE,ft.NONE),this.elt[ot].setLocations(dt,yt,bt)}}},{key:"toLineLabel",value:function(s){for(var o=new p(ft.NONE),d=0;d<2;d++)o.setLocation(d,s.getLocation(d));return o}}])})(),_r=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var p=new Array(this._pts.size()).fill(null),s=0;s<this._pts.size();s++)p[s]=this._pts.get(s);this._ring=this._geometryFactory.createLinearRing(p),this._isHole=ie.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(p){this._startDe=p;var s=p,o=!0;do{if(s===null)throw new vn("Found null DirectedEdge");if(s.getEdgeRing()===this)throw new vn("Directed Edge visited twice during ring-building at "+s.getCoordinate());this._edges.add(s);var d=s.getLabel();pt.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(s.getEdge(),s.isForward(),o),o=!1,this.setEdgeRing(s,this),s=this.getNext(s)}while(s!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(p){return this._pts.get(p)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var p=this._startDe;do{var s=p.getNode().getEdges().getOutgoingDegree(this);s>this._maxNodeDegree&&(this._maxNodeDegree=s),p=this.getNext(p)}while(p!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(p,s,o){var d=p.getCoordinates();if(s){var S=1;o&&(S=0);for(var C=S;C<d.length;C++)this._pts.add(d[C])}else{var I=d.length-2;o&&(I=d.length-1);for(var q=I;q>=0;q--)this._pts.add(d[q])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var p=this._startDe;do p.getEdge().setInResult(!0),p=p.getNext();while(p!==this._startDe)}},{key:"containsPoint",value:function(p){var s=this.getLinearRing();if(!s.getEnvelopeInternal().contains(p)||!ui.isInRing(p,s.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(p))return!1;return!0}},{key:"addHole",value:function(p){this._holes.add(p)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var p=arguments[0];this.mergeLabel(p,0),this.mergeLabel(p,1)}else if(arguments.length===2){var s=arguments[1],o=arguments[0].getLocation(s,Mt.RIGHT);if(o===ft.NONE)return null;if(this._label.getLocation(s)===ft.NONE)return this._label.setLocation(s,o),null}}},{key:"setShell",value:function(p){this._shell=p,p!==null&&p.addHole(this)}},{key:"toPolygon",value:function(p){for(var s=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)s[o]=this._holes.get(o).getLinearRing();return p.createPolygon(this.getLinearRing(),s)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new $t,this._pts=new $t,this._label=new Un(ft.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new $t,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var p=arguments[0],s=arguments[1];this._geometryFactory=s,this.computePoints(p),this.computeRing()}}}}])})(),se=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"setEdgeRing",value:function(o,d){o.setMinEdgeRing(d)}},{key:"getNext",value:function(o){return o.getNextMin()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];_r.constructor_.call(this,o,d)}}])})(_r),Ri=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"buildMinimalRings",value:function(){var o=new $t,d=this._startDe;do{if(d.getMinEdgeRing()===null){var S=new se(d,this._geometryFactory);o.add(S)}d=d.getNext()}while(d!==this._startDe);return o}},{key:"setEdgeRing",value:function(o,d){o.setEdgeRing(d)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var o=this._startDe;do o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext();while(o!==this._startDe)}},{key:"getNext",value:function(o){return o.getNext()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];_r.constructor_.call(this,o,d)}}])})(_r),Fe=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(p){this._isVisited=p}},{key:"setInResult",value:function(p){this._isInResult=p}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(p){this._label=p}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(p){this._isCovered=p,this._isCoveredSet=!0}},{key:"updateIM",value:function(p){pt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(p)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var p=arguments[0];this._label=p}}}}])})(),ma=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"isIncidentEdgeInResult",value:function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(o){o.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(o){}},{key:"computeMergedLocation",value:function(o,d){var S=ft.NONE;if(S=this._label.getLocation(d),!o.isNull(d)){var C=o.getLocation(d);S!==ft.BOUNDARY&&(S=C)}return S}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return P(s,"setLabel",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];this._label===null?this._label=new Un(o,d):this._label.setLocation(o,d)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof s){var o=arguments[0];this.mergeLabel(o._label)}else if(arguments[0]instanceof Un)for(var d=arguments[0],S=0;S<2;S++){var C=this.computeMergedLocation(d,S);this._label.getLocation(S)===ft.NONE&&this._label.setLocation(S,C)}}},{key:"add",value:function(o){this._edges.insert(o),o.setNode(this)}},{key:"setLabelBoundary",value:function(o){if(this._label===null)return null;var d=ft.NONE;this._label!==null&&(d=this._label.getLocation(o));var S=null;switch(d){case ft.BOUNDARY:S=ft.INTERIOR;break;case ft.INTERIOR:default:S=ft.BOUNDARY}this._label.setLocation(o,S)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var o=arguments[0],d=arguments[1];this._coord=o,this._edges=d,this._label=new Un(0,ft.NONE)}}])})(Fe),$r=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s)})(Nr);function wi(p){return p==null?0:p.color}function Te(p){return p==null?null:p.parent}function Sn(p,s){p!==null&&(p.color=s)}function Ci(p){return p==null?null:p.left}function Ir(p){return p==null?null:p.right}var rn=(function(p){function s(){var o;return r(this,s),(o=l(this,s)).root_=null,o.size_=0,o}return x(s,p),g(s,[{key:"get",value:function(o){for(var d=this.root_;d!==null;){var S=o.compareTo(d.key);if(S<0)d=d.left;else{if(!(S>0))return d.value;d=d.right}}return null}},{key:"put",value:function(o,d){if(this.root_===null)return this.root_={key:o,value:d,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var S,C,I=this.root_;do if(S=I,(C=o.compareTo(I.key))<0)I=I.left;else{if(!(C>0)){var q=I.value;return I.value=d,q}I=I.right}while(I!==null);var ot={key:o,left:null,right:null,value:d,parent:S,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return C<0?S.left=ot:S.right=ot,this.fixAfterInsertion(ot),this.size_++,null}},{key:"fixAfterInsertion",value:function(o){var d;for(o.color=1;o!=null&&o!==this.root_&&o.parent.color===1;)Te(o)===Ci(Te(Te(o)))?wi(d=Ir(Te(Te(o))))===1?(Sn(Te(o),0),Sn(d,0),Sn(Te(Te(o)),1),o=Te(Te(o))):(o===Ir(Te(o))&&(o=Te(o),this.rotateLeft(o)),Sn(Te(o),0),Sn(Te(Te(o)),1),this.rotateRight(Te(Te(o)))):wi(d=Ci(Te(Te(o))))===1?(Sn(Te(o),0),Sn(d,0),Sn(Te(Te(o)),1),o=Te(Te(o))):(o===Ci(Te(o))&&(o=Te(o),this.rotateRight(o)),Sn(Te(o),0),Sn(Te(Te(o)),1),this.rotateLeft(Te(Te(o))));this.root_.color=0}},{key:"values",value:function(){var o=new $t,d=this.getFirstEntry();if(d!==null)for(o.add(d.value);(d=s.successor(d))!==null;)o.add(d.value);return o}},{key:"entrySet",value:function(){var o=new we,d=this.getFirstEntry();if(d!==null)for(o.add(d);(d=s.successor(d))!==null;)o.add(d);return o}},{key:"rotateLeft",value:function(o){if(o!=null){var d=o.right;o.right=d.left,d.left!=null&&(d.left.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.left===o?o.parent.left=d:o.parent.right=d,d.left=o,o.parent=d}}},{key:"rotateRight",value:function(o){if(o!=null){var d=o.left;o.left=d.right,d.right!=null&&(d.right.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.right===o?o.parent.right=d:o.parent.left=d,d.right=o,o.parent=d}}},{key:"getFirstEntry",value:function(){var o=this.root_;if(o!=null)for(;o.left!=null;)o=o.left;return o}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(o){for(var d=this.root_;d!==null;){var S=o.compareTo(d.key);if(S<0)d=d.left;else{if(!(S>0))return!0;d=d.right}}return!1}}],[{key:"successor",value:function(o){var d;if(o===null)return null;if(o.right!==null){for(d=o.right;d.left!==null;)d=d.left;return d}d=o.parent;for(var S=o;d!==null&&S===d.right;)S=d,d=d.parent;return d}}])})($r),yr=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"find",value:function(p){return this.nodeMap.get(p)}},{key:"addNode",value:function(){if(arguments[0]instanceof ht){var p=arguments[0],s=this.nodeMap.get(p);return s===null&&(s=this.nodeFact.createNode(p),this.nodeMap.put(p,s)),s}if(arguments[0]instanceof ma){var o=arguments[0],d=this.nodeMap.get(o.getCoordinate());return d===null?(this.nodeMap.put(o.getCoordinate(),o),o):(d.mergeLabel(o),d)}}},{key:"print",value:function(p){for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(p){for(var s=new $t,o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().getLocation(p)===ft.BOUNDARY&&s.add(d)}return s}},{key:"add",value:function(p){var s=p.getCoordinate();this.addNode(s).add(p)}}],[{key:"constructor_",value:function(){this.nodeMap=new rn,this.nodeFact=null;var p=arguments[0];this.nodeFact=p}}])})(),wn=(function(){function p(){r(this,p)}return g(p,null,[{key:"isNorthern",value:function(s){return s===p.NE||s===p.NW}},{key:"isOpposite",value:function(s,o){return s!==o&&(s-o+4)%4===2}},{key:"commonHalfPlane",value:function(s,o){if(s===o)return s;if((s-o+4)%4===2)return-1;var d=s<o?s:o;return d===0&&(s>o?s:o)===3?3:d}},{key:"isInHalfPlane",value:function(s,o){return o===p.SE?s===p.SE||s===p.SW:s===o||s===o+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1];if(s===0&&o===0)throw new W("Cannot compute the quadrant for point ( "+s+", "+o+" )");return s>=0?o>=0?p.NE:p.SE:o>=0?p.NW:p.SW}if(arguments[0]instanceof ht&&arguments[1]instanceof ht){var d=arguments[0],S=arguments[1];if(S.x===d.x&&S.y===d.y)throw new W("Cannot compute the quadrant for two identical points "+d);return S.x>=d.x?S.y>=d.y?p.NE:p.SE:S.y>=d.y?p.NW:p.SW}}}])})();wn.NE=0,wn.NW=1,wn.SW=2,wn.SE=3;var _a=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"compareDirection",value:function(s){return this._dx===s._dx&&this._dy===s._dy?0:this._quadrant>s._quadrant?1:this._quadrant<s._quadrant?-1:ie.index(s._p0,s._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(s){this._node=s}},{key:"print",value:function(s){var o=Math.atan2(this._dy,this._dx),d=this.getClass().getName(),S=d.lastIndexOf("."),C=d.substring(S+1);s.print("  "+C+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+o+"   "+this._label)}},{key:"compareTo",value:function(s){var o=s;return this.compareDirection(o)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var s=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),d=o.lastIndexOf(".");return"  "+o.substring(d+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+s+"   "+this._label}},{key:"computeLabel",value:function(s){}},{key:"init",value:function(s,o){this._p0=s,this._p1=o,this._dx=o.x-s.x,this._dy=o.y-s.y,this._quadrant=wn.quadrant(this._dx,this._dy),pt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[tt]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var s=arguments[0];this._edge=s}else if(arguments.length===3){var o=arguments[0],d=arguments[1],S=arguments[2];p.constructor_.call(this,o,d,S,null)}else if(arguments.length===4){var C=arguments[0],I=arguments[1],q=arguments[2],ot=arguments[3];p.constructor_.call(this,C),this.init(I,q),this._label=ot}}}])})(),As=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(o){return this._depth[o]}},{key:"setVisited",value:function(o){this._isVisited=o}},{key:"computeDirectedLabel",value:function(){this._label=new Un(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(o,d){if(this._depth[o]!==-999&&this._depth[o]!==d)throw new vn("assigned depths do not match",this.getCoordinate());this._depth[o]=d}},{key:"isInteriorAreaEdge",value:function(){for(var o=!0,d=0;d<2;d++)this._label.isArea(d)&&this._label.getLocation(d,Mt.LEFT)===ft.INTERIOR&&this._label.getLocation(d,Mt.RIGHT)===ft.INTERIOR||(o=!1);return o}},{key:"setNextMin",value:function(o){this._nextMin=o}},{key:"print",value:function(o){P(s,"print",this,1).call(this,o),o.print(" "+this._depth[Mt.LEFT]+"/"+this._depth[Mt.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")}},{key:"setMinEdgeRing",value:function(o){this._minEdgeRing=o}},{key:"isLineEdge",value:function(){var o=this._label.isLine(0)||this._label.isLine(1),d=!this._label.isArea(0)||this._label.allPositionsEqual(0,ft.EXTERIOR),S=!this._label.isArea(1)||this._label.allPositionsEqual(1,ft.EXTERIOR);return o&&d&&S}},{key:"setEdgeRing",value:function(o){this._edgeRing=o}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o}},{key:"setInResult",value:function(o){this._isInResult=o}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)}},{key:"setSym",value:function(o){this._sym=o}},{key:"setVisitedEdge",value:function(o){this.setVisited(o),this._sym.setVisited(o)}},{key:"setEdgeDepths",value:function(o,d){var S=this.getEdge().getDepthDelta();this._isForward||(S=-S);var C=1;o===Mt.LEFT&&(C=-1);var I=Mt.opposite(o),q=d+S*C;this.setDepth(o,d),this.setDepth(I,q)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(o){this._next=o}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var o=arguments[0],d=arguments[1];if(_a.constructor_.call(this,o),this._isForward=d,d)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var S=o.getNumPoints()-1;this.init(o.getCoordinate(S),o.getCoordinate(S-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(o,d){return o===ft.EXTERIOR&&d===ft.INTERIOR?1:o===ft.INTERIOR&&d===ft.EXTERIOR?-1:0}}])})(_a),Yn=(function(){return g((function p(){r(this,p)}),[{key:"createNode",value:function(p){return new ma(p,null)}}])})(),Xi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(p){p.println("Edges:");for(var s=0;s<this._edges.size();s++){p.println("edge "+s+":");var o=this._edges.get(s);o.print(p),o.eiList.print(p)}}},{key:"find",value:function(p){return this._nodes.find(p)}},{key:"addNode",value:function(){if(arguments[0]instanceof ma){var p=arguments[0];return this._nodes.addNode(p)}if(arguments[0]instanceof ht){var s=arguments[0];return this._nodes.addNode(s)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var p=this._nodes.iterator();p.hasNext();)p.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(p){Ei.out.println(p)}},{key:"isBoundaryNode",value:function(p,s){var o=this._nodes.find(s);if(o===null)return!1;var d=o.getLabel();return d!==null&&d.getLocation(p)===ft.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var p=this._nodes.iterator();p.hasNext();)p.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(p,s,o,d){return!!p.equals(o)&&ie.index(p,s,d)===ie.COLLINEAR&&wn.quadrant(p,s)===wn.quadrant(o,d)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(p){Ei.out.print(p)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(p,s){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),S=d.getCoordinates();if(this.matchInSameDirection(p,s,S[0],S[1])||this.matchInSameDirection(p,s,S[S.length-1],S[S.length-2]))return d}return null}},{key:"insertEdge",value:function(p){this._edges.add(p)}},{key:"findEdgeEnd",value:function(p){for(var s=this.getEdgeEnds().iterator();s.hasNext();){var o=s.next();if(o.getEdge()===p)return o}return null}},{key:"addEdges",value:function(p){for(var s=p.iterator();s.hasNext();){var o=s.next();this._edges.add(o);var d=new As(o,!0),S=new As(o,!1);d.setSym(S),S.setSym(d),this.add(d),this.add(S)}}},{key:"add",value:function(p){this._nodes.add(p),this._edgeEndList.add(p)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(p,s){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),S=d.getCoordinates();if(p.equals(S[0])&&s.equals(S[1]))return d}return null}}],[{key:"constructor_",value:function(){if(this._edges=new $t,this._nodes=null,this._edgeEndList=new $t,arguments.length===0)this._nodes=new yr(new Yn);else if(arguments.length===1){var p=arguments[0];this._nodes=new yr(p)}}},{key:"linkResultDirectedEdges",value:function(p){for(var s=p.iterator();s.hasNext();)s.next().getEdges().linkResultDirectedEdges()}}])})(),ks=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"sortShellsAndHoles",value:function(s,o,d){for(var S=s.iterator();S.hasNext();){var C=S.next();C.isHole()?d.add(C):o.add(C)}}},{key:"computePolygons",value:function(s){for(var o=new $t,d=s.iterator();d.hasNext();){var S=d.next().toPolygon(this._geometryFactory);o.add(S)}return o}},{key:"placeFreeHoles",value:function(s,o){for(var d=o.iterator();d.hasNext();){var S=d.next();if(S.getShell()===null){var C=p.findEdgeRingContaining(S,s);if(C===null)throw new vn("unable to assign hole to a shell",S.getCoordinate(0));S.setShell(C)}}}},{key:"buildMinimalEdgeRings",value:function(s,o,d){for(var S=new $t,C=s.iterator();C.hasNext();){var I=C.next();if(I.getMaxNodeDegree()>2){I.linkDirectedEdgesForMinimalEdgeRings();var q=I.buildMinimalRings(),ot=this.findShell(q);ot!==null?(this.placePolygonHoles(ot,q),o.add(ot)):d.addAll(q)}else S.add(I)}return S}},{key:"buildMaximalEdgeRings",value:function(s){for(var o=new $t,d=s.iterator();d.hasNext();){var S=d.next();if(S.isInResult()&&S.getLabel().isArea()&&S.getEdgeRing()===null){var C=new Ri(S,this._geometryFactory);o.add(C),C.setInResult()}}return o}},{key:"placePolygonHoles",value:function(s,o){for(var d=o.iterator();d.hasNext();){var S=d.next();S.isHole()&&S.setShell(s)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(s){for(var o=0,d=null,S=s.iterator();S.hasNext();){var C=S.next();C.isHole()||(d=C,o++)}return pt.isTrue(o<=1,"found two shells in MinimalEdgeRing list"),d}},{key:"add",value:function(){if(arguments.length===1){var s=arguments[0];this.add(s.getEdgeEnds(),s.getNodes())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];Xi.linkResultDirectedEdges(d);var S=this.buildMaximalEdgeRings(o),C=new $t,I=this.buildMinimalEdgeRings(S,this._shellList,C);this.sortShellsAndHoles(I,this._shellList,C),this.placeFreeHoles(this._shellList,C)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new $t;var s=arguments[0];this._geometryFactory=s}},{key:"findEdgeRingContaining",value:function(s,o){for(var d=s.getLinearRing(),S=d.getEnvelopeInternal(),C=d.getCoordinateN(0),I=null,q=null,ot=o.iterator();ot.hasNext();){var dt=ot.next(),yt=dt.getLinearRing(),bt=yt.getEnvelopeInternal();if(!bt.equals(S)&&bt.contains(S)){C=$e.ptNotInList(d.getCoordinates(),yt.getCoordinates());var Ft=!1;ui.isInRing(C,yt.getCoordinates())&&(Ft=!0),Ft&&(I===null||q.contains(bt))&&(q=(I=dt).getLinearRing().getEnvelopeInternal())}}return I}}])})(),ta=(function(){return g((function p(){r(this,p)}),[{key:"getBounds",value:function(){}}])})(),de=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[ta,M]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var p=arguments[0],s=arguments[1];this._bounds=p,this._item=s}}])})(),ya=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var p=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),p}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(p){for(var s=null,o=this._items.get(p);2*p<=this._size&&((s=2*p)!==this._size&&this._items.get(s+1).compareTo(this._items.get(s))<0&&s++,this._items.get(s).compareTo(o)<0);p=s)this._items.set(p,this._items.get(s));this._items.set(p,o)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(p){this._items.add(null),this._size+=1;var s=this._size;for(this._items.set(0,p);p.compareTo(this._items.get(Math.trunc(s/2)))<0;s/=2)this._items.set(s,this._items.get(Math.trunc(s/2)));this._items.set(s,p)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new $t,this._items.add(null)}}])})(),gi=(function(){return g((function p(){r(this,p)}),[{key:"insert",value:function(p,s){}},{key:"remove",value:function(p,s){}},{key:"query",value:function(){}}])})(),xn=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(p){pt.isTrue(this._bounds===null),this._childBoundables.add(p)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[ta,M]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new $t,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var p=arguments[0];this._level=p}}}}])})(),Ji={reverseOrder:function(){return{compare:function(p,s){return s.compareTo(p)}}},min:function(p){return Ji.sort(p),p.get(0)},sort:function(p,s){var o=p.toArray();s?Mn.sort(o,s):Mn.sort(o);for(var d=p.iterator(),S=0,C=o.length;S<C;S++)d.next(),d.set(o[S])},singletonList:function(p){var s=new $t;return s.add(p),s}},Qo=(function(){function p(){r(this,p)}return g(p,null,[{key:"maxDistance",value:function(s,o,d,S,C,I,q,ot){var dt=p.distance(s,o,C,I);return dt=Math.max(dt,p.distance(s,o,q,ot)),dt=Math.max(dt,p.distance(d,S,C,I)),dt=Math.max(dt,p.distance(d,S,q,ot))}},{key:"distance",value:function(s,o,d,S){var C=d-s,I=S-o;return Math.sqrt(C*C+I*I)}},{key:"maximumDistance",value:function(s,o){var d=Math.min(s.getMinX(),o.getMinX()),S=Math.min(s.getMinY(),o.getMinY()),C=Math.max(s.getMaxX(),o.getMaxX()),I=Math.max(s.getMaxY(),o.getMaxY());return p.distance(d,S,C,I)}},{key:"minMaxDistance",value:function(s,o){var d=s.getMinX(),S=s.getMinY(),C=s.getMaxX(),I=s.getMaxY(),q=o.getMinX(),ot=o.getMinY(),dt=o.getMaxX(),yt=o.getMaxY(),bt=p.maxDistance(d,S,d,I,q,ot,q,yt);return bt=Math.min(bt,p.maxDistance(d,S,d,I,q,ot,dt,ot)),bt=Math.min(bt,p.maxDistance(d,S,d,I,dt,yt,q,yt)),bt=Math.min(bt,p.maxDistance(d,S,d,I,dt,yt,dt,ot)),bt=Math.min(bt,p.maxDistance(d,S,C,S,q,ot,q,yt)),bt=Math.min(bt,p.maxDistance(d,S,C,S,q,ot,dt,ot)),bt=Math.min(bt,p.maxDistance(d,S,C,S,dt,yt,q,yt)),bt=Math.min(bt,p.maxDistance(d,S,C,S,dt,yt,dt,ot)),bt=Math.min(bt,p.maxDistance(C,I,d,I,q,ot,q,yt)),bt=Math.min(bt,p.maxDistance(C,I,d,I,q,ot,dt,ot)),bt=Math.min(bt,p.maxDistance(C,I,d,I,dt,yt,q,yt)),bt=Math.min(bt,p.maxDistance(C,I,d,I,dt,yt,dt,ot)),bt=Math.min(bt,p.maxDistance(C,I,C,S,q,ot,q,yt)),bt=Math.min(bt,p.maxDistance(C,I,C,S,q,ot,dt,ot)),bt=Math.min(bt,p.maxDistance(C,I,C,S,dt,yt,q,yt)),bt=Math.min(bt,p.maxDistance(C,I,C,S,dt,yt,dt,ot))}}])})(),Pr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"maximumDistance",value:function(){return Qo.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(s,o){var d=p.isComposite(this._boundable1),S=p.isComposite(this._boundable2);if(d&&S)return p.area(this._boundable1)>p.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,s,o),null):(this.expand(this._boundable2,this._boundable1,!0,s,o),null);if(d)return this.expand(this._boundable1,this._boundable2,!1,s,o),null;if(S)return this.expand(this._boundable2,this._boundable1,!0,s,o),null;throw new W("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(p.isComposite(this._boundable1)||p.isComposite(this._boundable2))}},{key:"compareTo",value:function(s){var o=s;return this._distance<o._distance?-1:this._distance>o._distance?1:0}},{key:"expand",value:function(s,o,d,S,C){for(var I=s.getChildBoundables().iterator();I.hasNext();){var q=I.next(),ot=null;(ot=d?new p(o,q,this._itemDistance):new p(q,o,this._itemDistance)).getDistance()<C&&S.add(ot)}}},{key:"getBoundable",value:function(s){return s===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[tt]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var s=arguments[0],o=arguments[1],d=arguments[2];this._boundable1=s,this._boundable2=o,this._itemDistance=d,this._distance=this.distance()}},{key:"area",value:function(s){return s.getBounds().getArea()}},{key:"isComposite",value:function(s){return s instanceof xn}}])})(),Ko=(function(){return g((function p(){r(this,p)}),[{key:"visitItem",value:function(p){}}])})(),ea=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"queryInternal",value:function(){if(Ht(arguments[2],Ko)&&arguments[0]instanceof Object&&arguments[1]instanceof xn)for(var s=arguments[0],o=arguments[2],d=arguments[1].getChildBoundables(),S=0;S<d.size();S++){var C=d.get(S);this.getIntersectsOp().intersects(C.getBounds(),s)&&(C instanceof xn?this.queryInternal(s,C,o):C instanceof de?o.visitItem(C.getItem()):pt.shouldNeverReachHere())}else if(Ht(arguments[2],gn)&&arguments[0]instanceof Object&&arguments[1]instanceof xn)for(var I=arguments[0],q=arguments[2],ot=arguments[1].getChildBoundables(),dt=0;dt<ot.size();dt++){var yt=ot.get(dt);this.getIntersectsOp().intersects(yt.getBounds(),I)&&(yt instanceof xn?this.queryInternal(I,yt,q):yt instanceof de?q.add(yt.getItem()):pt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(s){return s.get(s.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var s=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();d instanceof xn?s+=this.size(d):d instanceof de&&(s+=1)}return s}}},{key:"removeItem",value:function(s,o){for(var d=null,S=s.getChildBoundables().iterator();S.hasNext();){var C=S.next();C instanceof de&&C.getItem()===o&&(d=C)}return d!==null&&(s.getChildBoundables().remove(d),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var s=this.itemsTree(this._root);return s===null?new $t:s}if(arguments.length===1){for(var o=arguments[0],d=new $t,S=o.getChildBoundables().iterator();S.hasNext();){var C=S.next();if(C instanceof xn){var I=this.itemsTree(C);I!==null&&d.add(I)}else C instanceof de?d.add(C.getItem()):pt.shouldNeverReachHere()}return d.size()<=0?null:d}}},{key:"insert",value:function(s,o){pt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new de(s,o))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var s=arguments[0],o=new $t;return this.boundablesAtLevel(s,this._root,o),o}if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2];if(pt.isTrue(d>-2),S.getLevel()===d)return C.add(S),null;for(var I=S.getChildBoundables().iterator();I.hasNext();){var q=I.next();q instanceof xn?this.boundablesAtLevel(d,q,C):(pt.isTrue(q instanceof de),d===-1&&C.add(q))}return null}}},{key:"query",value:function(){if(arguments.length===1){var s=arguments[0];this.build();var o=new $t;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.queryInternal(s,this._root,o),o}if(arguments.length===2){var d=arguments[0],S=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),d)&&this.queryInternal(d,this._root,S)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.remove(s,this._root,o)}if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2],I=this.removeItem(S,C);if(I)return!0;for(var q=null,ot=S.getChildBoundables().iterator();ot.hasNext();){var dt=ot.next();if(this.getIntersectsOp().intersects(dt.getBounds(),d)&&dt instanceof xn&&(I=this.remove(d,dt,C))){q=dt;break}}return q!==null&&q.getChildBoundables().isEmpty()&&S.getChildBoundables().remove(q),I}}},{key:"createHigherLevels",value:function(s,o){pt.isTrue(!s.isEmpty());var d=this.createParentBoundables(s,o+1);return d.size()===1?d.get(0):this.createHigherLevels(d,o+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var s=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();if(d instanceof xn){var S=this.depth(d);S>s&&(s=S)}}return s+1}}},{key:"createParentBoundables",value:function(s,o){pt.isTrue(!s.isEmpty());var d=new $t;d.add(this.createNode(o));var S=new $t(s);Ji.sort(S,this.getComparator());for(var C=S.iterator();C.hasNext();){var I=C.next();this.lastNode(d).getChildBoundables().size()===this.getNodeCapacity()&&d.add(this.createNode(o)),this.lastNode(d).addChildBoundable(I)}return d}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[M]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new $t,this._nodeCapacity=null,arguments.length===0)p.constructor_.call(this,p.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var s=arguments[0];pt.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}}},{key:"compareDoubles",value:function(s,o){return s>o?1:s<o?-1:0}}])})();ea.IntersectsOp=function(){},ea.DEFAULT_NODE_CAPACITY=10;var vo=(function(){return g((function p(){r(this,p)}),[{key:"distance",value:function(p,s){}}])})(),Vi=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"createParentBoundablesFromVerticalSlices",value:function(o,d){pt.isTrue(o.length>0);for(var S=new $t,C=0;C<o.length;C++)S.addAll(this.createParentBoundablesFromVerticalSlice(o[C],d));return S}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.nearestNeighbourK(o,Q.POSITIVE_INFINITY,d)}if(arguments.length===3){var S=arguments[0],C=arguments[2],I=arguments[1],q=new ya;q.add(S);for(var ot=new ya;!q.isEmpty()&&I>=0;){var dt=q.poll(),yt=dt.getDistance();if(yt>=I)break;dt.isLeaves()?ot.size()<C?ot.add(dt):(ot.peek().getDistance()>yt&&(ot.poll(),ot.add(dt)),I=ot.peek().getDistance()):dt.expandToQueue(q,I)}return s.getItems(ot)}}},{key:"createNode",value:function(o){return new Ns(o)}},{key:"size",value:function(){return arguments.length===0?P(s,"size",this,1).call(this):P(s,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ot))return P(s,"insert",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];if(o.isNull())return null;P(s,"insert",this,1).call(this,o,d)}},{key:"getIntersectsOp",value:function(){return s.intersectsOp}},{key:"verticalSlices",value:function(o,d){for(var S=Math.trunc(Math.ceil(o.size()/d)),C=new Array(d).fill(null),I=o.iterator(),q=0;q<d;q++){C[q]=new $t;for(var ot=0;I.hasNext()&&ot<S;){var dt=I.next();C[q].add(dt),ot++}}return C}},{key:"query",value:function(){if(arguments.length===1){var o=arguments[0];return P(s,"query",this,1).call(this,o)}if(arguments.length===2){var d=arguments[0],S=arguments[1];P(s,"query",this,1).call(this,d,S)}}},{key:"getComparator",value:function(){return s.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(o,d){return P(s,"createParentBoundables",this,1).call(this,o,d)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Ot){var o=arguments[0],d=arguments[1];return P(s,"remove",this,1).call(this,o,d)}return P(s,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?P(s,"depth",this,1).call(this):P(s,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(o,d){pt.isTrue(!o.isEmpty());var S=Math.trunc(Math.ceil(o.size()/this.getNodeCapacity())),C=new $t(o);Ji.sort(C,s.xComparator);var I=this.verticalSlices(C,Math.trunc(Math.ceil(Math.sqrt(S))));return this.createParentBoundablesFromVerticalSlices(I,d)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(Ht(arguments[0],vo)){var o=arguments[0];if(this.isEmpty())return null;var d=new Pr(this.getRoot(),this.getRoot(),o);return this.nearestNeighbour(d)}if(arguments[0]instanceof Pr){var S=arguments[0],C=Q.POSITIVE_INFINITY,I=null,q=new ya;for(q.add(S);!q.isEmpty()&&C>0;){var ot=q.poll(),dt=ot.getDistance();if(dt>=C)break;ot.isLeaves()?(C=dt,I=ot):ot.expandToQueue(q,C)}return I===null?null:[I.getBoundable(0).getItem(),I.getBoundable(1).getItem()]}}else{if(arguments.length===2){var yt=arguments[0],bt=arguments[1];if(this.isEmpty()||yt.isEmpty())return null;var Ft=new Pr(this.getRoot(),yt.getRoot(),bt);return this.nearestNeighbour(Ft)}if(arguments.length===3){var Gt=arguments[2],Vt=new de(arguments[0],arguments[1]),ee=new Pr(this.getRoot(),Vt,Gt);return this.nearestNeighbour(ee)[0]}if(arguments.length===4){var Ce=arguments[2],ge=arguments[3],Ye=new de(arguments[0],arguments[1]),an=new Pr(this.getRoot(),Ye,Ce);return this.nearestNeighbourK(an,ge)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1],S=Q.POSITIVE_INFINITY,C=new ya;for(C.add(o);!C.isEmpty();){var I=C.poll(),q=I.getDistance();if(q>d)return!1;if(I.maximumDistance()<=d)return!0;if(I.isLeaves()){if((S=q)<=d)return!0}else I.expandToQueue(C,S)}return!1}if(arguments.length===3){var ot=arguments[0],dt=arguments[1],yt=arguments[2],bt=new Pr(this.getRoot(),ot.getRoot(),dt);return this.isWithinDistance(bt,yt)}}},{key:"interfaces_",get:function(){return[gi,M]}}],[{key:"constructor_",value:function(){if(arguments.length===0)s.constructor_.call(this,s.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var o=arguments[0];ea.constructor_.call(this,o)}}},{key:"centreX",value:function(o){return s.avg(o.getMinX(),o.getMaxX())}},{key:"avg",value:function(o,d){return(o+d)/2}},{key:"getItems",value:function(o){for(var d=new Array(o.size()).fill(null),S=0;!o.isEmpty();){var C=o.poll();d[S]=C.getBoundable(0).getItem(),S++}return d}},{key:"centreY",value:function(o){return s.avg(o.getMinY(),o.getMaxY())}}])})(ea),Ns=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeBounds",value:function(){for(var o=null,d=this.getChildBoundables().iterator();d.hasNext();){var S=d.next();o===null?o=new Ot(S.getBounds()):o.expandToInclude(S.getBounds())}return o}}],[{key:"constructor_",value:function(){var o=arguments[0];xn.constructor_.call(this,o)}}])})(xn);Vi.STRtreeNode=Ns,Vi.xComparator=new((function(){return g((function p(){r(this,p)}),[{key:"interfaces_",get:function(){return[Y]}},{key:"compare",value:function(p,s){return ea.compareDoubles(Vi.centreX(p.getBounds()),Vi.centreX(s.getBounds()))}}])})()),Vi.yComparator=new((function(){return g((function p(){r(this,p)}),[{key:"interfaces_",get:function(){return[Y]}},{key:"compare",value:function(p,s){return ea.compareDoubles(Vi.centreY(p.getBounds()),Vi.centreY(s.getBounds()))}}])})()),Vi.intersectsOp=new((function(){return g((function p(){r(this,p)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(p,s){return p.intersects(s)}}])})()),Vi.DEFAULT_NODE_CAPACITY=10;var Ql=(function(){function p(){r(this,p)}return g(p,null,[{key:"relativeSign",value:function(s,o){return s<o?-1:s>o?1:0}},{key:"compare",value:function(s,o,d){if(o.equals2D(d))return 0;var S=p.relativeSign(o.x,d.x),C=p.relativeSign(o.y,d.y);switch(s){case 0:return p.compareValue(S,C);case 1:return p.compareValue(C,S);case 2:return p.compareValue(C,-S);case 3:return p.compareValue(-S,C);case 4:return p.compareValue(-S,-C);case 5:return p.compareValue(-C,-S);case 6:return p.compareValue(-C,S);case 7:return p.compareValue(S,-C)}return pt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(s,o){return s<0?-1:s>0?1:o<0?-1:o>0?1:0}}])})(),Wi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(p){p.print(this.coord),p.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(p){var s=p;return this.segmentIndex<s.segmentIndex?-1:this.segmentIndex>s.segmentIndex?1:this.coord.equals2D(s.coord)?0:this._isInterior?s._isInterior?Ql.compare(this._segmentOctant,this.coord,s.coord):1:-1}},{key:"isEndPoint",value:function(p){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===p}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[tt]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var p=arguments[0],s=arguments[1],o=arguments[2],d=arguments[3];this._segString=p,this.coord=new ht(s),this.segmentIndex=o,this._segmentOctant=d,this._isInterior=!s.equals2D(p.getCoordinate(o))}}])})(),Kl=(function(){return g((function p(){r(this,p)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),So=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var p=new Wr;this.addEndpoints();for(var s=this.iterator(),o=s.next();s.hasNext();){var d=s.next();this.addEdgeCoordinates(o,d,p),o=d}return p.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var p=new $t;this.findCollapsesFromInsertedNodes(p),this.findCollapsesFromExistingVertices(p);for(var s=p.iterator();s.hasNext();){var o=s.next().intValue();this.add(this._edge.getCoordinate(o),o)}}},{key:"createSplitEdgePts",value:function(p,s){var o=s.segmentIndex-p.segmentIndex+2;if(o===2)return[new ht(p.coord),new ht(s.coord)];var d=this._edge.getCoordinate(s.segmentIndex),S=s.isInterior()||!s.coord.equals2D(d);S||o--;var C=new Array(o).fill(null),I=0;C[I++]=new ht(p.coord);for(var q=p.segmentIndex+1;q<=s.segmentIndex;q++)C[I++]=this._edge.getCoordinate(q);return S&&(C[I]=new ht(s.coord)),C}},{key:"print",value:function(p){p.println("Intersections:");for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"findCollapsesFromExistingVertices",value:function(p){for(var s=0;s<this._edge.size()-2;s++){var o=this._edge.getCoordinate(s);this._edge.getCoordinate(s+1);var d=this._edge.getCoordinate(s+2);o.equals2D(d)&&p.add(Ie.valueOf(s+1))}}},{key:"addEdgeCoordinates",value:function(p,s,o){var d=this.createSplitEdgePts(p,s);o.add(d,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(p){this.addEndpoints(),this.addCollapsedNodes();for(var s=this.iterator(),o=s.next();s.hasNext();){var d=s.next(),S=this.createSplitEdge(o,d);p.add(S),o=d}}},{key:"findCollapseIndex",value:function(p,s,o){if(!p.coord.equals2D(s.coord))return!1;var d=s.segmentIndex-p.segmentIndex;return s.isInterior()||d--,d===1&&(o[0]=p.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(p){for(var s=new Array(1).fill(null),o=this.iterator(),d=o.next();o.hasNext();){var S=o.next();this.findCollapseIndex(d,S,s)&&p.add(Ie.valueOf(s[0])),d=S}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var p=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(p),p)}},{key:"createSplitEdge",value:function(p,s){var o=this.createSplitEdgePts(p,s);return new vr(o,this._edge.getData())}},{key:"add",value:function(p,s){var o=new Wi(this._edge,p,s,this._edge.getSegmentOctant(s)),d=this._nodeMap.get(o);return d!==null?(pt.isTrue(d.coord.equals2D(p),"Found equal nodes with different coordinates"),d):(this._nodeMap.put(o,o),o)}},{key:"checkSplitEdgesCorrectness",value:function(p){var s=this._edge.getCoordinates(),o=p.get(0).getCoordinate(0);if(!o.equals2D(s[0]))throw new K("bad split edge start point at "+o);var d=p.get(p.size()-1).getCoordinates(),S=d[d.length-1];if(!S.equals2D(s[s.length-1]))throw new K("bad split edge end point at "+S)}}],[{key:"constructor_",value:function(){this._nodeMap=new rn,this._edge=null;var p=arguments[0];this._edge=p}}])})(),Br=(function(){function p(){r(this,p)}return g(p,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1];if(s===0&&o===0)throw new W("Cannot compute the octant for point ( "+s+", "+o+" )");var d=Math.abs(s),S=Math.abs(o);return s>=0?o>=0?d>=S?0:1:d>=S?7:6:o>=0?d>=S?3:2:d>=S?4:5}if(arguments[0]instanceof ht&&arguments[1]instanceof ht){var C=arguments[0],I=arguments[1],q=I.x-C.x,ot=I.y-C.y;if(q===0&&ot===0)throw new W("Cannot compute the octant for two identical points "+C);return p.octant(q,ot)}}}])})(),$o=(function(){return g((function p(){r(this,p)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(p){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(p){}},{key:"getData",value:function(){}}])})(),tl=(function(){return g((function p(){r(this,p)}),[{key:"addIntersection",value:function(p,s){}},{key:"interfaces_",get:function(){return[$o]}}])})(),vr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(s){return this._pts[s]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(s){return s===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(s),this.getCoordinate(s+1))}},{key:"setData",value:function(s){this._data=s}},{key:"safeOctant",value:function(s,o){return s.equals2D(o)?0:Br.octant(s,o)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];this.addIntersectionNode(s,o)}else if(arguments.length===4){var d=arguments[1],S=arguments[3],C=new ht(arguments[0].getIntersection(S));this.addIntersection(C,d)}}},{key:"toString",value:function(){return Kr.toLineString(new dn(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(s,o){var d=o,S=d+1;if(S<this._pts.length){var C=this._pts[S];s.equals2D(C)&&(d=S)}return this._nodeList.add(s,d)}},{key:"addIntersections",value:function(s,o,d){for(var S=0;S<s.getIntersectionNum();S++)this.addIntersection(s,o,d,S)}},{key:"interfaces_",get:function(){return[tl]}}],[{key:"constructor_",value:function(){this._nodeList=new So(this),this._pts=null,this._data=null;var s=arguments[0],o=arguments[1];this._pts=s,this._data=o}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var s=arguments[0],o=new $t;return p.getNodedSubstrings(s,o),o}if(arguments.length===2)for(var d=arguments[1],S=arguments[0].iterator();S.hasNext();)S.next().getNodeList().addSplitEdges(d)}}])})(),ii=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof p){var s=arguments[0],o=ie.index(this.p0,this.p1,s.p0),d=ie.index(this.p0,this.p1,s.p1);return o>=0&&d>=0||o<=0&&d<=0?Math.max(o,d):0}if(arguments[0]instanceof ht){var S=arguments[0];return ie.index(this.p0,this.p1,S)}}},{key:"toGeometry",value:function(s){return s.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(s){if(!(s instanceof p))return!1;var o=s;return this.p0.equals(o.p0)&&this.p1.equals(o.p1)}},{key:"intersection",value:function(s){var o=new mr;return o.computeIntersection(this.p0,this.p1,s.p0,s.p1),o.hasIntersection()?o.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof ht){var s=arguments[0];if(s.equals(this.p0)||s.equals(this.p1))return new ht(s);var o=this.projectionFactor(s),d=new ht;return d.x=this.p0.x+o*(this.p1.x-this.p0.x),d.y=this.p0.y+o*(this.p1.y-this.p0.y),d}if(arguments[0]instanceof p){var S=arguments[0],C=this.projectionFactor(S.p0),I=this.projectionFactor(S.p1);if(C>=1&&I>=1||C<=0&&I<=0)return null;var q=this.project(S.p0);C<0&&(q=this.p0),C>1&&(q=this.p1);var ot=this.project(S.p1);return I<0&&(ot=this.p0),I>1&&(ot=this.p1),new p(q,ot)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(s){return s===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(s){return li.pointToLinePerpendicular(s,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return p.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(s){if(s.equals(this.p0))return 0;if(s.equals(this.p1))return 1;var o=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,S=o*o+d*d;return S<=0?Q.NaN:((s.x-this.p0.x)*o+(s.y-this.p0.y)*d)/S}},{key:"closestPoints",value:function(s){var o=this.intersection(s);if(o!==null)return[o,o];var d=new Array(2).fill(null),S=Q.MAX_VALUE,C=null,I=this.closestPoint(s.p0);S=I.distance(s.p0),d[0]=I,d[1]=s.p0;var q=this.closestPoint(s.p1);(C=q.distance(s.p1))<S&&(S=C,d[0]=q,d[1]=s.p1);var ot=s.closestPoint(this.p0);(C=ot.distance(this.p0))<S&&(S=C,d[0]=this.p0,d[1]=ot);var dt=s.closestPoint(this.p1);return(C=dt.distance(this.p1))<S&&(S=C,d[0]=this.p1,d[1]=dt),d}},{key:"closestPoint",value:function(s){var o=this.projectionFactor(s);return o>0&&o<1?this.project(s):this.p0.distance(s)<this.p1.distance(s)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(s){var o=s,d=this.p0.compareTo(o.p0);return d!==0?d:this.p1.compareTo(o.p1)}},{key:"reverse",value:function(){var s=this.p0;this.p0=this.p1,this.p1=s}},{key:"equalsTopo",value:function(s){return this.p0.equals(s.p0)&&this.p1.equals(s.p1)||this.p0.equals(s.p1)&&this.p1.equals(s.p0)}},{key:"lineIntersection",value:function(s){return fo.intersection(this.p0,this.p1,s.p0,s.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(s,o){var d=this.p0.x+s*(this.p1.x-this.p0.x),S=this.p0.y+s*(this.p1.y-this.p0.y),C=this.p1.x-this.p0.x,I=this.p1.y-this.p0.y,q=Math.sqrt(C*C+I*I),ot=0,dt=0;if(o!==0){if(q<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");ot=o*C/q,dt=o*I/q}return new ht(d-dt,S+ot)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var s=arguments[0];this.setCoordinates(s.p0,s.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0.x=o.x,this.p0.y=o.y,this.p1.x=d.x,this.p1.y=d.y}}},{key:"segmentFraction",value:function(s){var o=this.projectionFactor(s);return o<0?o=0:(o>1||Q.isNaN(o))&&(o=1),o}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(s){var o=this.p1.getY()-this.p0.getY(),d=this.p0.getX()-this.p1.getX(),S=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),C=o*o+d*d,I=o*o-d*d,q=s.getX(),ot=s.getY();return new ht((-I*q-2*o*d*ot-2*o*S)/C,(I*ot-2*o*d*q-2*d*S)/C)}},{key:"distance",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return li.segmentToSegment(this.p0,this.p1,s.p0,s.p1)}if(arguments[0]instanceof ht){var o=arguments[0];return li.pointToSegment(o,this.p0,this.p1)}}},{key:"pointAlong",value:function(s){var o=new ht;return o.x=this.p0.x+s*(this.p1.x-this.p0.x),o.y=this.p0.y+s*(this.p1.y-this.p0.y),o}},{key:"hashCode",value:function(){var s=Q.doubleToLongBits(this.p0.x);s^=31*Q.doubleToLongBits(this.p0.y);var o=Math.trunc(s)^Math.trunc(s>>32),d=Q.doubleToLongBits(this.p1.x);return d^=31*Q.doubleToLongBits(this.p1.y),o^(Math.trunc(d)^Math.trunc(d>>32))}},{key:"interfaces_",get:function(){return[tt,M]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)p.constructor_.call(this,new ht,new ht);else if(arguments.length===1){var s=arguments[0];p.constructor_.call(this,s.p0,s.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0=o,this.p1=d}else if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],q=arguments[3];p.constructor_.call(this,new ht(S,C),new ht(I,q))}}},{key:"midPoint",value:function(s,o){return new ht((s.x+o.x)/2,(s.y+o.y)/2)}}])})(),el=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var p=arguments[1],s=arguments[2],o=arguments[3];arguments[0].getLineSegment(p,this._overlapSeg1),s.getLineSegment(o,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new ii,this._overlapSeg2=new ii}}])})(),xo=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(p,s){s.p0=this._pts[p],s.p1=this._pts[p+1]}},{key:"computeSelect",value:function(p,s,o,d){var S=this._pts[s],C=this._pts[o];if(o-s==1)return d.select(this,s),null;if(!p.intersects(S,C))return null;var I=Math.trunc((s+o)/2);s<I&&this.computeSelect(p,s,I,d),I<o&&this.computeSelect(p,I,o,d)}},{key:"getCoordinates",value:function(){for(var p=new Array(this._end-this._start+1).fill(null),s=0,o=this._start;o<=this._end;o++)p[s++]=this._pts[o];return p}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var p=arguments[0],s=arguments[1];this.computeOverlaps(this._start,this._end,p,p._start,p._end,s)}else if(arguments.length===6){var o=arguments[0],d=arguments[1],S=arguments[2],C=arguments[3],I=arguments[4],q=arguments[5];if(d-o==1&&I-C==1)return q.overlap(this,o,S,C),null;if(!this.overlaps(o,d,S,C,I))return null;var ot=Math.trunc((o+d)/2),dt=Math.trunc((C+I)/2);o<ot&&(C<dt&&this.computeOverlaps(o,ot,S,C,dt,q),dt<I&&this.computeOverlaps(o,ot,S,dt,I,q)),ot<d&&(C<dt&&this.computeOverlaps(ot,d,S,C,dt,q),dt<I&&this.computeOverlaps(ot,d,S,dt,I,q))}}},{key:"setId",value:function(p){this._id=p}},{key:"select",value:function(p,s){this.computeSelect(p,this._start,this._end,s)}},{key:"getEnvelope",value:function(){if(this._env===null){var p=this._pts[this._start],s=this._pts[this._end];this._env=new Ot(p,s)}return this._env}},{key:"overlaps",value:function(p,s,o,d,S){return Ot.intersects(this._pts[p],this._pts[s],o._pts[d],o._pts[S])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var p=arguments[0],s=arguments[1],o=arguments[2],d=arguments[3];this._pts=p,this._start=s,this._end=o,this._context=d}}])})(),$l=(function(){function p(){r(this,p)}return g(p,null,[{key:"findChainEnd",value:function(s,o){for(var d=o;d<s.length-1&&s[d].equals2D(s[d+1]);)d++;if(d>=s.length-1)return s.length-1;for(var S=wn.quadrant(s[d],s[d+1]),C=o+1;C<s.length&&!(!s[C-1].equals2D(s[C])&&wn.quadrant(s[C-1],s[C])!==S);)C++;return C-1}},{key:"getChains",value:function(){if(arguments.length===1){var s=arguments[0];return p.getChains(s,null)}if(arguments.length===2){var o=arguments[0],d=arguments[1],S=new $t,C=0;do{var I=p.findChainEnd(o,C),q=new xo(o,C,I,d);S.add(q),C=I}while(C<o.length-1);return S}}}])})(),Ms=(function(){return g((function p(){r(this,p)}),[{key:"computeNodes",value:function(p){}},{key:"getNodedSubstrings",value:function(){}}])})(),Os=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(p){this._segInt=p}},{key:"interfaces_",get:function(){return[Ms]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var p=arguments[0];this.setSegmentIntersector(p)}}}}])})(),Eo=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return vr.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(o){for(var d=$l.getChains(o.getCoordinates(),o).iterator();d.hasNext();){var S=d.next();S.setId(this._idCounter++),this._index.insert(S.getEnvelope(),S),this._monoChains.add(S)}}},{key:"computeNodes",value:function(o){this._nodedSegStrings=o;for(var d=o.iterator();d.hasNext();)this.add(d.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var o=new bo(this._segInt),d=this._monoChains.iterator();d.hasNext();)for(var S=d.next(),C=this._index.query(S.getEnvelope()).iterator();C.hasNext();){var I=C.next();if(I.getId()>S.getId()&&(S.computeOverlaps(I,o),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new $t,this._index=new Vi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var o=arguments[0];Os.constructor_.call(this,o)}}}}])})(Os),bo=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"overlap",value:function(){if(arguments.length!==4)return P(s,"overlap",this,1).apply(this,arguments);var o=arguments[1],d=arguments[2],S=arguments[3],C=arguments[0].getContext(),I=d.getContext();this._si.processIntersections(C,o,I,S)}}],[{key:"constructor_",value:function(){this._si=null;var o=arguments[0];this._si=o}}])})(el);Eo.SegmentOverlapAction=bo;var Li=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isDeletable",value:function(s,o,d,S){var C=this._inputLine[s],I=this._inputLine[o],q=this._inputLine[d];return!!this.isConcave(C,I,q)&&!!this.isShallow(C,I,q,S)&&this.isShallowSampled(C,I,s,d,S)}},{key:"deleteShallowConcavities",value:function(){for(var s=1,o=this.findNextNonDeletedIndex(s),d=this.findNextNonDeletedIndex(o),S=!1;d<this._inputLine.length;){var C=!1;this.isDeletable(s,o,d,this._distanceTol)&&(this._isDeleted[o]=p.DELETE,C=!0,S=!0),s=C?d:o,o=this.findNextNonDeletedIndex(s),d=this.findNextNonDeletedIndex(o)}return S}},{key:"isShallowConcavity",value:function(s,o,d,S){return ie.index(s,o,d)===this._angleOrientation&&li.pointToSegment(o,s,d)<S}},{key:"isShallowSampled",value:function(s,o,d,S,C){var I=Math.trunc((S-d)/p.NUM_PTS_TO_CHECK);I<=0&&(I=1);for(var q=d;q<S;q+=I)if(!this.isShallow(s,o,this._inputLine[q],C))return!1;return!0}},{key:"isConcave",value:function(s,o,d){var S=ie.index(s,o,d)===this._angleOrientation;return S}},{key:"simplify",value:function(s){this._distanceTol=Math.abs(s),s<0&&(this._angleOrientation=ie.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var o=!1;do o=this.deleteShallowConcavities();while(o);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(s){for(var o=s+1;o<this._inputLine.length&&this._isDeleted[o]===p.DELETE;)o++;return o}},{key:"isShallow",value:function(s,o,d,S){return li.pointToSegment(o,s,d)<S}},{key:"collapseLine",value:function(){for(var s=new Wr,o=0;o<this._inputLine.length;o++)this._isDeleted[o]!==p.DELETE&&s.add(this._inputLine[o]);return s.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ie.COUNTERCLOCKWISE;var s=arguments[0];this._inputLine=s}},{key:"simplify",value:function(s,o){return new p(s).simplify(o)}}])})();Li.INIT=0,Li.DELETE=1,Li.KEEP=1,Li.NUM_PTS_TO_CHECK=10;var Ua=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getCoordinates",value:function(){return this._ptList.toArray(p.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(s){this._precisionModel=s}},{key:"addPt",value:function(s){var o=new ht(s);if(this._precisionModel.makePrecise(o),this.isRedundant(o))return null;this._ptList.add(o)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(s,o){if(o)for(var d=0;d<s.length;d++)this.addPt(s[d]);else for(var S=s.length-1;S>=0;S--)this.addPt(s[S])}},{key:"isRedundant",value:function(s){if(this._ptList.size()<1)return!1;var o=this._ptList.get(this._ptList.size()-1);return s.distance(o)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Hi().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var s=new ht(this._ptList.get(0)),o=this._ptList.get(this._ptList.size()-1);if(s.equals(o))return null;this._ptList.add(s)}},{key:"setMinimumVertexDistance",value:function(s){this._minimimVertexDistance=s}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new $t}}])})();Ua.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Cn=(function(){function p(){r(this,p)}return g(p,null,[{key:"toDegrees",value:function(s){return 180*s/Math.PI}},{key:"normalize",value:function(s){for(;s>Math.PI;)s-=p.PI_TIMES_2;for(;s<=-Math.PI;)s+=p.PI_TIMES_2;return s}},{key:"angle",value:function(){if(arguments.length===1){var s=arguments[0];return Math.atan2(s.y,s.x)}if(arguments.length===2){var o=arguments[0],d=arguments[1],S=d.x-o.x,C=d.y-o.y;return Math.atan2(C,S)}}},{key:"isAcute",value:function(s,o,d){var S=s.x-o.x,C=s.y-o.y;return S*(d.x-o.x)+C*(d.y-o.y)>0}},{key:"isObtuse",value:function(s,o,d){var S=s.x-o.x,C=s.y-o.y;return S*(d.x-o.x)+C*(d.y-o.y)<0}},{key:"interiorAngle",value:function(s,o,d){var S=p.angle(o,s),C=p.angle(o,d);return Math.abs(C-S)}},{key:"normalizePositive",value:function(s){if(s<0){for(;s<0;)s+=p.PI_TIMES_2;s>=p.PI_TIMES_2&&(s=0)}else{for(;s>=p.PI_TIMES_2;)s-=p.PI_TIMES_2;s<0&&(s=0)}return s}},{key:"angleBetween",value:function(s,o,d){var S=p.angle(o,s),C=p.angle(o,d);return p.diff(S,C)}},{key:"diff",value:function(s,o){var d=null;return(d=s<o?o-s:s-o)>Math.PI&&(d=2*Math.PI-d),d}},{key:"toRadians",value:function(s){return s*Math.PI/180}},{key:"getTurn",value:function(s,o){var d=Math.sin(o-s);return d>0?p.COUNTERCLOCKWISE:d<0?p.CLOCKWISE:p.NONE}},{key:"angleBetweenOriented",value:function(s,o,d){var S=p.angle(o,s),C=p.angle(o,d)-S;return C<=-Math.PI?C+p.PI_TIMES_2:C>Math.PI?C-p.PI_TIMES_2:C}}])})();Cn.PI_TIMES_2=2*Math.PI,Cn.PI_OVER_2=Math.PI/2,Cn.PI_OVER_4=Math.PI/4,Cn.COUNTERCLOCKWISE=ie.COUNTERCLOCKWISE,Cn.CLOCKWISE=ie.CLOCKWISE,Cn.NONE=ie.COLLINEAR;var Ya=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"addNextSegment",value:function(s,o){if(this._s0=this._s1,this._s1=this._s2,this._s2=s,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var d=ie.index(this._s0,this._s1,this._s2),S=d===ie.CLOCKWISE&&this._side===Mt.LEFT||d===ie.COUNTERCLOCKWISE&&this._side===Mt.RIGHT;d===0?this.addCollinear(o):S?this.addOutsideTurn(d,o):this.addInsideTurn(d,o)}},{key:"addLineEndCap",value:function(s,o){var d=new ii(s,o),S=new ii;this.computeOffsetSegment(d,Mt.LEFT,this._distance,S);var C=new ii;this.computeOffsetSegment(d,Mt.RIGHT,this._distance,C);var I=o.x-s.x,q=o.y-s.y,ot=Math.atan2(q,I);switch(this._bufParams.getEndCapStyle()){case X.CAP_ROUND:this._segList.addPt(S.p1),this.addDirectedFillet(o,ot+Math.PI/2,ot-Math.PI/2,ie.CLOCKWISE,this._distance),this._segList.addPt(C.p1);break;case X.CAP_FLAT:this._segList.addPt(S.p1),this._segList.addPt(C.p1);break;case X.CAP_SQUARE:var dt=new ht;dt.x=Math.abs(this._distance)*Math.cos(ot),dt.y=Math.abs(this._distance)*Math.sin(ot);var yt=new ht(S.p1.x+dt.x,S.p1.y+dt.y),bt=new ht(C.p1.x+dt.x,C.p1.y+dt.y);this._segList.addPt(yt),this._segList.addPt(bt)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(s,o,d,S){var C=fo.intersection(o.p0,o.p1,d.p0,d.p1);if(C!==null&&(S<=0?1:C.distance(s)/Math.abs(S))<=this._bufParams.getMitreLimit())return this._segList.addPt(C),null;this.addLimitedMitreJoin(o,d,S,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(s,o){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*p.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===X.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===X.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(o&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,s,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(s){this._segList.addPt(new ht(s.x+this._distance,s.y+this._distance)),this._segList.addPt(new ht(s.x+this._distance,s.y-this._distance)),this._segList.addPt(new ht(s.x-this._distance,s.y-this._distance)),this._segList.addPt(new ht(s.x-this._distance,s.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(s,o){this._segList.addPts(s,o)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(s,o,d,S,C){var I=o.x-s.x,q=o.y-s.y,ot=Math.atan2(q,I),dt=d.x-s.x,yt=d.y-s.y,bt=Math.atan2(yt,dt);S===ie.CLOCKWISE?ot<=bt&&(ot+=2*Math.PI):ot>=bt&&(ot-=2*Math.PI),this._segList.addPt(o),this.addDirectedFillet(s,ot,bt,S,C),this._segList.addPt(d)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(s,o,d){this._s1=s,this._s2=o,this._side=d,this._seg1.setCoordinates(s,o),this.computeOffsetSegment(this._seg1,d,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(s,o,d,S){var C=this._seg0.p1,I=Cn.angle(C,this._seg0.p0),q=Cn.angleBetweenOriented(this._seg0.p0,C,this._seg1.p1)/2,ot=Cn.normalize(I+q),dt=Cn.normalize(ot+Math.PI),yt=S*d,bt=d-yt*Math.abs(Math.sin(q)),Ft=C.x+yt*Math.cos(dt),Gt=C.y+yt*Math.sin(dt),Vt=new ht(Ft,Gt),ee=new ii(C,Vt),Ce=ee.pointAlongOffset(1,bt),ge=ee.pointAlongOffset(1,-bt);this._side===Mt.LEFT?(this._segList.addPt(Ce),this._segList.addPt(ge)):(this._segList.addPt(ge),this._segList.addPt(Ce))}},{key:"addDirectedFillet",value:function(s,o,d,S,C){var I=S===ie.CLOCKWISE?-1:1,q=Math.abs(o-d),ot=Math.trunc(q/this._filletAngleQuantum+.5);if(ot<1)return null;for(var dt=q/ot,yt=new ht,bt=0;bt<ot;bt++){var Ft=o+I*bt*dt;yt.x=s.x+C*Math.cos(Ft),yt.y=s.y+C*Math.sin(Ft),this._segList.addPt(yt)}}},{key:"computeOffsetSegment",value:function(s,o,d,S){var C=o===Mt.LEFT?1:-1,I=s.p1.x-s.p0.x,q=s.p1.y-s.p0.y,ot=Math.sqrt(I*I+q*q),dt=C*d*I/ot,yt=C*d*q/ot;S.p0.x=s.p0.x-yt,S.p0.y=s.p0.y+dt,S.p1.x=s.p1.x-yt,S.p1.y=s.p1.y+dt}},{key:"addInsideTurn",value:function(s,o){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*p.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var d=new ht((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d);var S=new ht((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(S)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(s){var o=new ht(s.x+this._distance,s.y);this._segList.addPt(o),this.addDirectedFillet(s,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(s,o){this._segList.addPt(s.p1),this._segList.addPt(o.p0)}},{key:"init",value:function(s){this._distance=s,this._maxCurveSegmentError=s*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ua,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(s*p.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(s){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===X.JOIN_BEVEL||this._bufParams.getJoinStyle()===X.JOIN_MITRE?(s&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,ie.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new ii,this._seg1=new ii,this._offset0=new ii,this._offset1=new ii,this._side=0,this._hasNarrowConcaveAngle=!1;var s=arguments[0],o=arguments[1],d=arguments[2];this._precisionModel=s,this._bufParams=o,this._li=new mr,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===X.JOIN_ROUND&&(this._closingSegLengthFactor=p.MAX_CLOSING_SEG_LEN_FACTOR),this.init(d)}}])})();Ya.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Ya.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Ya.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Ya.MAX_CLOSING_SEG_LEN_FACTOR=80;var Ga=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getOffsetCurve",value:function(s,o){if(this._distance=o,o===0)return null;var d=o<0,S=Math.abs(o),C=this.getSegGen(S);s.length<=1?this.computePointCurve(s[0],C):this.computeOffsetCurve(s,d,C);var I=C.getCoordinates();return d&&$e.reverse(I),I}},{key:"computeSingleSidedBufferCurve",value:function(s,o,d){var S=this.simplifyTolerance(this._distance);if(o){d.addSegments(s,!0);var C=Li.simplify(s,-S),I=C.length-1;d.initSideSegments(C[I],C[I-1],Mt.LEFT),d.addFirstSegment();for(var q=I-2;q>=0;q--)d.addNextSegment(C[q],!0)}else{d.addSegments(s,!1);var ot=Li.simplify(s,S),dt=ot.length-1;d.initSideSegments(ot[0],ot[1],Mt.LEFT),d.addFirstSegment();for(var yt=2;yt<=dt;yt++)d.addNextSegment(ot[yt],!0)}d.addLastSegment(),d.closeRing()}},{key:"computeRingBufferCurve",value:function(s,o,d){var S=this.simplifyTolerance(this._distance);o===Mt.RIGHT&&(S=-S);var C=Li.simplify(s,S),I=C.length-1;d.initSideSegments(C[I-1],C[0],o);for(var q=1;q<=I;q++){var ot=q!==1;d.addNextSegment(C[q],ot)}d.closeRing()}},{key:"computeLineBufferCurve",value:function(s,o){var d=this.simplifyTolerance(this._distance),S=Li.simplify(s,d),C=S.length-1;o.initSideSegments(S[0],S[1],Mt.LEFT);for(var I=2;I<=C;I++)o.addNextSegment(S[I],!0);o.addLastSegment(),o.addLineEndCap(S[C-1],S[C]);var q=Li.simplify(s,-d),ot=q.length-1;o.initSideSegments(q[ot],q[ot-1],Mt.LEFT);for(var dt=ot-2;dt>=0;dt--)o.addNextSegment(q[dt],!0);o.addLastSegment(),o.addLineEndCap(q[1],q[0]),o.closeRing()}},{key:"computePointCurve",value:function(s,o){switch(this._bufParams.getEndCapStyle()){case X.CAP_ROUND:o.createCircle(s);break;case X.CAP_SQUARE:o.createSquare(s)}}},{key:"getLineCurve",value:function(s,o){if(this._distance=o,this.isLineOffsetEmpty(o))return null;var d=Math.abs(o),S=this.getSegGen(d);if(s.length<=1)this.computePointCurve(s[0],S);else if(this._bufParams.isSingleSided()){var C=o<0;this.computeSingleSidedBufferCurve(s,C,S)}else this.computeLineBufferCurve(s,S);return S.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(s){return s*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(s,o,d){if(this._distance=d,s.length<=2)return this.getLineCurve(s,d);if(d===0)return p.copyCoordinates(s);var S=this.getSegGen(d);return this.computeRingBufferCurve(s,o,S),S.getCoordinates()}},{key:"computeOffsetCurve",value:function(s,o,d){var S=this.simplifyTolerance(this._distance);if(o){var C=Li.simplify(s,-S),I=C.length-1;d.initSideSegments(C[I],C[I-1],Mt.LEFT),d.addFirstSegment();for(var q=I-2;q>=0;q--)d.addNextSegment(C[q],!0)}else{var ot=Li.simplify(s,S),dt=ot.length-1;d.initSideSegments(ot[0],ot[1],Mt.LEFT),d.addFirstSegment();for(var yt=2;yt<=dt;yt++)d.addNextSegment(ot[yt],!0)}d.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(s){return s===0||s<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(s){return new Ya(this._precisionModel,this._bufParams,s)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var s=arguments[0],o=arguments[1];this._precisionModel=s,this._bufParams=o}},{key:"copyCoordinates",value:function(s){for(var o=new Array(s.length).fill(null),d=0;d<o.length;d++)o[d]=new ht(s[d]);return o}}])})(),mi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var p=arguments[0],s=new $t,o=this._subgraphs.iterator();o.hasNext();){var d=o.next(),S=d.getEnvelope();p.y<S.getMinY()||p.y>S.getMaxY()||this.findStabbedSegments(p,d.getDirectedEdges(),s)}return s}if(arguments.length===3){if(Ht(arguments[2],gn)&&arguments[0]instanceof ht&&arguments[1]instanceof As){for(var C=arguments[0],I=arguments[1],q=arguments[2],ot=I.getEdge().getCoordinates(),dt=0;dt<ot.length-1;dt++)if(this._seg.p0=ot[dt],this._seg.p1=ot[dt+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<C.x||this._seg.isHorizontal()||C.y<this._seg.p0.y||C.y>this._seg.p1.y||ie.index(this._seg.p0,this._seg.p1,C)===ie.RIGHT)){var yt=I.getDepth(Mt.LEFT);this._seg.p0.equals(ot[dt])||(yt=I.getDepth(Mt.RIGHT));var bt=new qa(this._seg,yt);q.add(bt)}}else if(Ht(arguments[2],gn)&&arguments[0]instanceof ht&&Ht(arguments[1],gn))for(var Ft=arguments[0],Gt=arguments[2],Vt=arguments[1].iterator();Vt.hasNext();){var ee=Vt.next();ee.isForward()&&this.findStabbedSegments(Ft,ee,Gt)}}}},{key:"getDepth",value:function(p){var s=this.findStabbedSegments(p);return s.size()===0?0:Ji.min(s)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new ii;var p=arguments[0];this._subgraphs=p}}])})(),qa=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(p){var s=p;if(this._upwardSeg.minX()>=s._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=s._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(s._upwardSeg);return o!==0||(o=-1*s._upwardSeg.orientationIndex(this._upwardSeg))!==0?o:this._upwardSeg.compareTo(s._upwardSeg)}},{key:"compareX",value:function(p,s){var o=p.p0.compareTo(s.p0);return o!==0?o:p.p1.compareTo(s.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[tt]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var p=arguments[0],s=arguments[1];this._upwardSeg=new ii(p),this._leftDepth=s}}])})();mi.DepthSegment=qa;var na=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,null,[{key:"constructor_",value:function(){V.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(V),To=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getY",value:function(){var s=this.y/this.w;if(Q.isNaN(s)||Q.isInfinite(s))throw new na;return s}},{key:"getX",value:function(){var s=this.x/this.w;if(Q.isNaN(s)||Q.isInfinite(s))throw new na;return s}},{key:"getCoordinate",value:function(){var s=new ht;return s.x=this.getX(),s.y=this.getY(),s}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var s=arguments[0];this.x=s.x,this.y=s.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var o=arguments[0],d=arguments[1];this.x=o,this.y=d,this.w=1}else if(arguments[0]instanceof p&&arguments[1]instanceof p){var S=arguments[0],C=arguments[1];this.x=S.y*C.w-C.y*S.w,this.y=C.x*S.w-S.x*C.w,this.w=S.x*C.y-C.x*S.y}else if(arguments[0]instanceof ht&&arguments[1]instanceof ht){var I=arguments[0],q=arguments[1];this.x=I.y-q.y,this.y=q.x-I.x,this.w=I.x*q.y-q.x*I.y}}else if(arguments.length===3){var ot=arguments[0],dt=arguments[1],yt=arguments[2];this.x=ot,this.y=dt,this.w=yt}else if(arguments.length===4){var bt=arguments[0],Ft=arguments[1],Gt=arguments[2],Vt=arguments[3],ee=bt.y-Ft.y,Ce=Ft.x-bt.x,ge=bt.x*Ft.y-Ft.x*bt.y,Ye=Gt.y-Vt.y,an=Vt.x-Gt.x,We=Gt.x*Vt.y-Vt.x*Gt.y;this.x=Ce*We-an*ge,this.y=Ye*ge-ee*We,this.w=ee*an-Ye*Ce}}}])})(),Rs=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"area",value:function(){return p.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return p.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(s){if(s===null)throw new W("Supplied point is null.");return p.interpolateZ(s,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return p.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return p.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return p.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return p.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return p.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return p.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var s=arguments[0],o=arguments[1],d=arguments[2];this.p0=s,this.p1=o,this.p2=d}},{key:"area",value:function(s,o,d){return Math.abs(((d.x-s.x)*(o.y-s.y)-(o.x-s.x)*(d.y-s.y))/2)}},{key:"signedArea",value:function(s,o,d){return((d.x-s.x)*(o.y-s.y)-(o.x-s.x)*(d.y-s.y))/2}},{key:"det",value:function(s,o,d,S){return s*S-o*d}},{key:"interpolateZ",value:function(s,o,d,S){var C=o.x,I=o.y,q=d.x-C,ot=S.x-C,dt=d.y-I,yt=S.y-I,bt=q*yt-ot*dt,Ft=s.x-C,Gt=s.y-I,Vt=(yt*Ft-ot*Gt)/bt,ee=(-dt*Ft+q*Gt)/bt;return o.getZ()+Vt*(d.getZ()-o.getZ())+ee*(S.getZ()-o.getZ())}},{key:"longestSideLength",value:function(s,o,d){var S=s.distance(o),C=o.distance(d),I=d.distance(s),q=S;return C>q&&(q=C),I>q&&(q=I),q}},{key:"circumcentreDD",value:function(s,o,d){var S=Jt.valueOf(s.x).subtract(d.x),C=Jt.valueOf(s.y).subtract(d.y),I=Jt.valueOf(o.x).subtract(d.x),q=Jt.valueOf(o.y).subtract(d.y),ot=Jt.determinant(S,C,I,q).multiply(2),dt=S.sqr().add(C.sqr()),yt=I.sqr().add(q.sqr()),bt=Jt.determinant(C,dt,q,yt),Ft=Jt.determinant(S,dt,I,yt),Gt=Jt.valueOf(d.x).subtract(bt.divide(ot)).doubleValue(),Vt=Jt.valueOf(d.y).add(Ft.divide(ot)).doubleValue();return new ht(Gt,Vt)}},{key:"isAcute",value:function(s,o,d){return!!Cn.isAcute(s,o,d)&&!!Cn.isAcute(o,d,s)&&!!Cn.isAcute(d,s,o)}},{key:"circumcentre",value:function(s,o,d){var S=d.x,C=d.y,I=s.x-S,q=s.y-C,ot=o.x-S,dt=o.y-C,yt=2*p.det(I,q,ot,dt),bt=p.det(q,I*I+q*q,dt,ot*ot+dt*dt),Ft=p.det(I,I*I+q*q,ot,ot*ot+dt*dt);return new ht(S-bt/yt,C+Ft/yt)}},{key:"perpendicularBisector",value:function(s,o){var d=o.x-s.x,S=o.y-s.y,C=new To(s.x+d/2,s.y+S/2,1),I=new To(s.x-S+d/2,s.y+d+S/2,1);return new To(C,I)}},{key:"angleBisector",value:function(s,o,d){var S=o.distance(s),C=S/(S+o.distance(d)),I=d.x-s.x,q=d.y-s.y;return new ht(s.x+C*I,s.y+C*q)}},{key:"area3D",value:function(s,o,d){var S=o.x-s.x,C=o.y-s.y,I=o.getZ()-s.getZ(),q=d.x-s.x,ot=d.y-s.y,dt=d.getZ()-s.getZ(),yt=C*dt-I*ot,bt=I*q-S*dt,Ft=S*ot-C*q,Gt=yt*yt+bt*bt+Ft*Ft,Vt=Math.sqrt(Gt)/2;return Vt}},{key:"centroid",value:function(s,o,d){var S=(s.x+o.x+d.x)/3,C=(s.y+o.y+d.y)/3;return new ht(S,C)}},{key:"inCentre",value:function(s,o,d){var S=o.distance(d),C=s.distance(d),I=s.distance(o),q=S+C+I,ot=(S*s.x+C*o.x+I*d.x)/q,dt=(S*s.y+C*o.y+I*d.y)/q;return new ht(ot,dt)}}])})(),Is=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(p,s,o,d,S){if(s===0&&p.length<bi.MINIMUM_VALID_SIZE)return null;var C=d,I=S;p.length>=bi.MINIMUM_VALID_SIZE&&ie.isCCW(p)&&(C=S,I=d,o=Mt.opposite(o));var q=this._curveBuilder.getRingCurve(p,o,s);this.addCurve(q,C,I)}},{key:"addRingBothSides",value:function(p,s){this.addRingSide(p,s,Mt.LEFT,ft.EXTERIOR,ft.INTERIOR),this.addRingSide(p,s,Mt.RIGHT,ft.INTERIOR,ft.EXTERIOR)}},{key:"addPoint",value:function(p){if(this._distance<=0)return null;var s=p.getCoordinates(),o=this._curveBuilder.getLineCurve(s,this._distance);this.addCurve(o,ft.EXTERIOR,ft.INTERIOR)}},{key:"addPolygon",value:function(p){var s=this._distance,o=Mt.LEFT;this._distance<0&&(s=-this._distance,o=Mt.RIGHT);var d=p.getExteriorRing(),S=$e.removeRepeatedPoints(d.getCoordinates());if(this._distance<0&&this.isErodedCompletely(d,this._distance)||this._distance<=0&&S.length<3)return null;this.addRingSide(S,s,o,ft.EXTERIOR,ft.INTERIOR);for(var C=0;C<p.getNumInteriorRing();C++){var I=p.getInteriorRingN(C),q=$e.removeRepeatedPoints(I.getCoordinates());this._distance>0&&this.isErodedCompletely(I,-this._distance)||this.addRingSide(q,s,Mt.opposite(o),ft.INTERIOR,ft.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(p,s){var o=new Rs(p[0],p[1],p[2]),d=o.inCentre();return li.pointToSegment(d,o.p0,o.p1)<Math.abs(s)}},{key:"addLineString",value:function(p){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var s=$e.removeRepeatedPoints(p.getCoordinates());if($e.isRing(s)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(s,this._distance);else{var o=this._curveBuilder.getLineCurve(s,this._distance);this.addCurve(o,ft.EXTERIOR,ft.INTERIOR)}}},{key:"addCurve",value:function(p,s,o){if(p===null||p.length<2)return null;var d=new vr(p,new Un(0,ft.BOUNDARY,s,o));this._curveList.add(d)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(p){if(p.isEmpty())return null;if(p instanceof da)this.addPolygon(p);else if(p instanceof Ba)this.addLineString(p);else if(p instanceof bs)this.addPoint(p);else if(p instanceof fr)this.addCollection(p);else if(p instanceof za)this.addCollection(p);else if(p instanceof Cs)this.addCollection(p);else{if(!(p instanceof je))throw new zt(p.getGeometryType());this.addCollection(p)}}},{key:"isErodedCompletely",value:function(p,s){var o=p.getCoordinates();if(o.length<4)return s<0;if(o.length===4)return this.isTriangleErodedCompletely(o,s);var d=p.getEnvelopeInternal(),S=Math.min(d.getHeight(),d.getWidth());return s<0&&2*Math.abs(s)>S}},{key:"addCollection",value:function(p){for(var s=0;s<p.getNumGeometries();s++){var o=p.getGeometryN(s);this.add(o)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new $t;var p=arguments[0],s=arguments[1],o=arguments[2];this._inputGeom=p,this._distance=s,this._curveBuilder=o}}])})(),nl=(function(){return g((function p(){r(this,p)}),[{key:"locate",value:function(p){}}])})(),il=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,p.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Zt;var s=this._parent.getGeometryN(this._index++);return s instanceof je?(this._subcollectionIterator=new p(s),this._subcollectionIterator.next()):s}},{key:"remove",value:function(){throw new zt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Kl]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var s=arguments[0];this._parent=s,this._atStart=!0,this._index=0,this._max=s.getNumGeometries()}},{key:"isAtomic",value:function(s){return!(s instanceof je)}}])})(),wo=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"locate",value:function(s){return p.locate(s,this._geom)}},{key:"interfaces_",get:function(){return[nl]}}],[{key:"constructor_",value:function(){this._geom=null;var s=arguments[0];this._geom=s}},{key:"locatePointInPolygon",value:function(s,o){if(o.isEmpty())return ft.EXTERIOR;var d=o.getExteriorRing(),S=p.locatePointInRing(s,d);if(S!==ft.INTERIOR)return S;for(var C=0;C<o.getNumInteriorRing();C++){var I=o.getInteriorRingN(C),q=p.locatePointInRing(s,I);if(q===ft.BOUNDARY)return ft.BOUNDARY;if(q===ft.INTERIOR)return ft.EXTERIOR}return ft.INTERIOR}},{key:"locatePointInRing",value:function(s,o){return o.getEnvelopeInternal().intersects(s)?ui.locateInRing(s,o.getCoordinates()):ft.EXTERIOR}},{key:"containsPointInPolygon",value:function(s,o){return ft.EXTERIOR!==p.locatePointInPolygon(s,o)}},{key:"locateInGeometry",value:function(s,o){if(o instanceof da)return p.locatePointInPolygon(s,o);if(o instanceof je)for(var d=new il(o);d.hasNext();){var S=d.next();if(S!==o){var C=p.locateInGeometry(s,S);if(C!==ft.EXTERIOR)return C}}return ft.EXTERIOR}},{key:"isContained",value:function(s,o){return ft.EXTERIOR!==p.locate(s,o)}},{key:"locate",value:function(s,o){return o.isEmpty()?ft.EXTERIOR:o.getEnvelopeInternal().intersects(s)?p.locateInGeometry(s,o):ft.EXTERIOR}}])})(),va=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(p){this.getEdges();var s=this._edgeList.indexOf(p),o=s-1;return s===0&&(o=this._edgeList.size()-1),this._edgeList.get(o)}},{key:"propagateSideLabels",value:function(p){for(var s=ft.NONE,o=this.iterator();o.hasNext();){var d=o.next().getLabel();d.isArea(p)&&d.getLocation(p,Mt.LEFT)!==ft.NONE&&(s=d.getLocation(p,Mt.LEFT))}if(s===ft.NONE)return null;for(var S=s,C=this.iterator();C.hasNext();){var I=C.next(),q=I.getLabel();if(q.getLocation(p,Mt.ON)===ft.NONE&&q.setLocation(p,Mt.ON,S),q.isArea(p)){var ot=q.getLocation(p,Mt.LEFT),dt=q.getLocation(p,Mt.RIGHT);if(dt!==ft.NONE){if(dt!==S)throw new vn("side location conflict",I.getCoordinate());ot===ft.NONE&&pt.shouldNeverReachHere("found single null side (at "+I.getCoordinate()+")"),S=ot}else pt.isTrue(q.getLocation(p,Mt.LEFT)===ft.NONE,"found single null side"),q.setLocation(p,Mt.RIGHT,S),q.setLocation(p,Mt.LEFT,S)}}}},{key:"getCoordinate",value:function(){var p=this.iterator();return p.hasNext()?p.next().getCoordinate():null}},{key:"print",value:function(p){Ei.out.println("EdgeEndStar:   "+this.getCoordinate());for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"isAreaLabelsConsistent",value:function(p){return this.computeEdgeEndLabels(p.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(p){var s=this.getEdges();if(s.size()<=0)return!0;var o=s.size()-1,d=s.get(o).getLabel().getLocation(p,Mt.LEFT);pt.isTrue(d!==ft.NONE,"Found unlabelled area edge");for(var S=d,C=this.iterator();C.hasNext();){var I=C.next().getLabel();pt.isTrue(I.isArea(p),"Found non-area edge");var q=I.getLocation(p,Mt.LEFT),ot=I.getLocation(p,Mt.RIGHT);if(q===ot||ot!==S)return!1;S=q}return!0}},{key:"findIndex",value:function(p){this.iterator();for(var s=0;s<this._edgeList.size();s++)if(this._edgeList.get(s)===p)return s;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new $t(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(p,s,o){return this._ptInAreaLocation[p]===ft.NONE&&(this._ptInAreaLocation[p]=wo.locate(s,o[p].getGeometry())),this._ptInAreaLocation[p]}},{key:"toString",value:function(){var p=new Tn;p.append("EdgeEndStar:   "+this.getCoordinate()),p.append(`
`);for(var s=this.iterator();s.hasNext();){var o=s.next();p.append(o),p.append(`
`)}return p.toString()}},{key:"computeEdgeEndLabels",value:function(p){for(var s=this.iterator();s.hasNext();)s.next().computeLabel(p)}},{key:"computeLabelling",value:function(p){this.computeEdgeEndLabels(p[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var s=[!1,!1],o=this.iterator();o.hasNext();)for(var d=o.next().getLabel(),S=0;S<2;S++)d.isLine(S)&&d.getLocation(S)===ft.BOUNDARY&&(s[S]=!0);for(var C=this.iterator();C.hasNext();)for(var I=C.next(),q=I.getLabel(),ot=0;ot<2;ot++)if(q.isAnyNull(ot)){var dt=ft.NONE;if(s[ot])dt=ft.EXTERIOR;else{var yt=I.getCoordinate();dt=this.getLocation(ot,yt,p)}q.setAllLocationsIfNull(ot,dt)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(p,s){this._edgeMap.put(p,s),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new rn,this._edgeList=null,this._ptInAreaLocation=[ft.NONE,ft.NONE]}}])})(),Ii=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var o=null,d=null,S=this._SCANNING_FOR_INCOMING,C=0;C<this._resultAreaEdgeList.size();C++){var I=this._resultAreaEdgeList.get(C),q=I.getSym();if(I.getLabel().isArea())switch(o===null&&I.isInResult()&&(o=I),S){case this._SCANNING_FOR_INCOMING:if(!q.isInResult())continue;d=q,S=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!I.isInResult())continue;d.setNext(I),S=this._SCANNING_FOR_INCOMING}}if(S===this._LINKING_TO_OUTGOING){if(o===null)throw new vn("no outgoing dirEdge found",this.getCoordinate());pt.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),d.setNext(o)}}},{key:"insert",value:function(o){var d=o;this.insertEdgeEnd(d,d)}},{key:"getRightmostEdge",value:function(){var o=this.getEdges(),d=o.size();if(d<1)return null;var S=o.get(0);if(d===1)return S;var C=o.get(d-1),I=S.getQuadrant(),q=C.getQuadrant();return wn.isNorthern(I)&&wn.isNorthern(q)?S:wn.isNorthern(I)||wn.isNorthern(q)?S.getDy()!==0?S:C.getDy()!==0?C:(pt.shouldNeverReachHere("found two horizontal edges incident on node"),null):C}},{key:"print",value:function(o){Ei.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var d=this.iterator();d.hasNext();){var S=d.next();o.print("out "),S.print(o),o.println(),o.print("in "),S.getSym().print(o),o.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new $t;for(var o=this.iterator();o.hasNext();){var d=o.next();(d.isInResult()||d.getSym().isInResult())&&this._resultAreaEdgeList.add(d)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(o){for(var d=this.iterator();d.hasNext();){var S=d.next().getLabel();S.setAllLocationsIfNull(0,o.getLocation(0)),S.setAllLocationsIfNull(1,o.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var o=null,d=null,S=this._edgeList.size()-1;S>=0;S--){var C=this._edgeList.get(S),I=C.getSym();d===null&&(d=I),o!==null&&I.setNext(o),o=C}d.setNext(o)}},{key:"computeDepths",value:function(){if(arguments.length===1){var o=arguments[0],d=this.findIndex(o),S=o.getDepth(Mt.LEFT),C=o.getDepth(Mt.RIGHT),I=this.computeDepths(d+1,this._edgeList.size(),S);if(this.computeDepths(0,d,I)!==C)throw new vn("depth mismatch at "+o.getCoordinate())}else if(arguments.length===3){for(var q=arguments[1],ot=arguments[2],dt=arguments[0];dt<q;dt++){var yt=this._edgeList.get(dt);yt.setEdgeDepths(Mt.RIGHT,ot),ot=yt.getDepth(Mt.LEFT)}return ot}}},{key:"mergeSymLabels",value:function(){for(var o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().merge(d.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(o){for(var d=null,S=null,C=this._SCANNING_FOR_INCOMING,I=this._resultAreaEdgeList.size()-1;I>=0;I--){var q=this._resultAreaEdgeList.get(I),ot=q.getSym();switch(d===null&&q.getEdgeRing()===o&&(d=q),C){case this._SCANNING_FOR_INCOMING:if(ot.getEdgeRing()!==o)continue;S=ot,C=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(q.getEdgeRing()!==o)continue;S.setNextMin(q),C=this._SCANNING_FOR_INCOMING}}C===this._LINKING_TO_OUTGOING&&(pt.isTrue(d!==null,"found null for first outgoing dirEdge"),pt.isTrue(d.getEdgeRing()===o,"unable to link last incoming dirEdge"),S.setNextMin(d))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var o=0,d=this.iterator();d.hasNext();)d.next().isInResult()&&o++;return o}if(arguments.length===1){for(var S=arguments[0],C=0,I=this.iterator();I.hasNext();)I.next().getEdgeRing()===S&&C++;return C}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var o=ft.NONE,d=this.iterator();d.hasNext();){var S=d.next(),C=S.getSym();if(!S.isLineEdge()){if(S.isInResult()){o=ft.INTERIOR;break}if(C.isInResult()){o=ft.EXTERIOR;break}}}if(o===ft.NONE)return null;for(var I=o,q=this.iterator();q.hasNext();){var ot=q.next(),dt=ot.getSym();ot.isLineEdge()?ot.getEdge().setCovered(I===ft.INTERIOR):(ot.isInResult()&&(I=ft.EXTERIOR),dt.isInResult()&&(I=ft.INTERIOR))}}},{key:"computeLabelling",value:function(o){P(s,"computeLabelling",this,1).call(this,o),this._label=new Un(ft.NONE);for(var d=this.iterator();d.hasNext();)for(var S=d.next().getEdge().getLabel(),C=0;C<2;C++){var I=S.getLocation(C);I!==ft.INTERIOR&&I!==ft.BOUNDARY||this._label.setLocation(C,ft.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(va),Sa=(function(p){function s(){return r(this,s),l(this,s)}return x(s,p),g(s,[{key:"createNode",value:function(o){return new ma(o,new Ii)}}])})(Yn),rl=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"compareTo",value:function(s){var o=s;return p.compareOriented(this._pts,this._orientation,o._pts,o._orientation)}},{key:"interfaces_",get:function(){return[tt]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var s=arguments[0];this._pts=s,this._orientation=p.orientation(s)}},{key:"orientation",value:function(s){return $e.increasingDirection(s)===1}},{key:"compareOriented",value:function(s,o,d,S){for(var C=o?1:-1,I=S?1:-1,q=o?s.length:-1,ot=S?d.length:-1,dt=o?0:s.length-1,yt=S?0:d.length-1;;){var bt=s[dt].compareTo(d[yt]);if(bt!==0)return bt;var Ft=(dt+=C)===q,Gt=(yt+=I)===ot;if(Ft&&!Gt)return-1;if(!Ft&&Gt)return 1;if(Ft&&Gt)return 0}}}])})(),Qi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"print",value:function(p){p.print("MULTILINESTRING ( ");for(var s=0;s<this._edges.size();s++){var o=this._edges.get(s);s>0&&p.print(","),p.print("(");for(var d=o.getCoordinates(),S=0;S<d.length;S++)S>0&&p.print(","),p.print(d[S].x+" "+d[S].y);p.println(")")}p.print(")  ")}},{key:"addAll",value:function(p){for(var s=p.iterator();s.hasNext();)this.add(s.next())}},{key:"findEdgeIndex",value:function(p){for(var s=0;s<this._edges.size();s++)if(this._edges.get(s).equals(p))return s;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(p){return this._edges.get(p)}},{key:"findEqualEdge",value:function(p){var s=new rl(p.getCoordinates());return this._ocaMap.get(s)}},{key:"add",value:function(p){this._edges.add(p);var s=new rl(p.getCoordinates());this._ocaMap.put(s,p)}}],[{key:"constructor_",value:function(){this._edges=new $t,this._ocaMap=new rn}}])})(),Co=(function(){return g((function p(){r(this,p)}),[{key:"processIntersections",value:function(p,s,o,d){}},{key:"isDone",value:function(){}}])})(),Ki=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isTrivialIntersection",value:function(s,o,d,S){if(s===d&&this._li.getIntersectionNum()===1){if(p.isAdjacentSegments(o,S))return!0;if(s.isClosed()){var C=s.size()-1;if(o===0&&S===C||S===0&&o===C)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(s,o,d,S){if(s===d&&o===S)return null;this.numTests++;var C=s.getCoordinates()[o],I=s.getCoordinates()[o+1],q=d.getCoordinates()[S],ot=d.getCoordinates()[S+1];this._li.computeIntersection(C,I,q,ot),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(s,o,d,S)||(this._hasIntersection=!0,s.addIntersections(this._li,o,0),d.addIntersections(this._li,S,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Co]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var s=arguments[0];this._li=s}},{key:"isAdjacentSegments",value:function(s,o){return Math.abs(s-o)===1}}])})(),Ha=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(p){p.print(this.coord),p.print(" seg # = "+this.segmentIndex),p.println(" dist = "+this.dist)}},{key:"compareTo",value:function(p){var s=p;return this.compare(s.segmentIndex,s.dist)}},{key:"isEndPoint",value:function(p){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===p}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(p,s){return this.segmentIndex<p?-1:this.segmentIndex>p?1:this.dist<s?-1:this.dist>s?1:0}},{key:"interfaces_",get:function(){return[tt]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var p=arguments[0],s=arguments[1],o=arguments[2];this.coord=new ht(p),this.segmentIndex=s,this.dist=o}}])})(),Za=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"print",value:function(p){p.println("Intersections:");for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(p){this.addEndpoints();for(var s=this.iterator(),o=s.next();s.hasNext();){var d=s.next(),S=this.createSplitEdge(o,d);p.add(S),o=d}}},{key:"addEndpoints",value:function(){var p=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[p],p,0)}},{key:"createSplitEdge",value:function(p,s){var o=s.segmentIndex-p.segmentIndex+2,d=this.edge.pts[s.segmentIndex],S=s.dist>0||!s.coord.equals2D(d);S||o--;var C=new Array(o).fill(null),I=0;C[I++]=new ht(p.coord);for(var q=p.segmentIndex+1;q<=s.segmentIndex;q++)C[I++]=this.edge.pts[q];return S&&(C[I]=s.coord),new Lo(C,new Un(this.edge._label))}},{key:"add",value:function(p,s,o){var d=new Ha(p,s,o),S=this._nodeMap.get(d);return S!==null?S:(this._nodeMap.put(d,d),d)}},{key:"isIntersection",value:function(p){for(var s=this.iterator();s.hasNext();)if(s.next().coord.equals(p))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new rn,this.edge=null;var p=arguments[0];this.edge=p}}])})(),Xa=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])||p.isTrue(this._matrix[ft.INTERIOR][ft.BOUNDARY])||p.isTrue(this._matrix[ft.BOUNDARY][ft.INTERIOR])||p.isTrue(this._matrix[ft.BOUNDARY][ft.BOUNDARY]))&&this._matrix[ft.EXTERIOR][ft.INTERIOR]===Yt.FALSE&&this._matrix[ft.EXTERIOR][ft.BOUNDARY]===Yt.FALSE}},{key:"isCoveredBy",value:function(){return(p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])||p.isTrue(this._matrix[ft.INTERIOR][ft.BOUNDARY])||p.isTrue(this._matrix[ft.BOUNDARY][ft.INTERIOR])||p.isTrue(this._matrix[ft.BOUNDARY][ft.BOUNDARY]))&&this._matrix[ft.INTERIOR][ft.EXTERIOR]===Yt.FALSE&&this._matrix[ft.BOUNDARY][ft.EXTERIOR]===Yt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var s=arguments[0],o=0;o<s.length;o++){var d=Math.trunc(o/3),S=o%3;this._matrix[d][S]=Yt.toDimensionValue(s.charAt(o))}else if(arguments.length===3){var C=arguments[0],I=arguments[1],q=arguments[2];this._matrix[C][I]=q}}},{key:"isContains",value:function(){return p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])&&this._matrix[ft.EXTERIOR][ft.INTERIOR]===Yt.FALSE&&this._matrix[ft.EXTERIOR][ft.BOUNDARY]===Yt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var s=arguments[0],o=0;o<s.length;o++){var d=Math.trunc(o/3),S=o%3;this.setAtLeast(d,S,Yt.toDimensionValue(s.charAt(o)))}else if(arguments.length===3){var C=arguments[0],I=arguments[1],q=arguments[2];this._matrix[C][I]<q&&(this._matrix[C][I]=q)}}},{key:"setAtLeastIfValid",value:function(s,o,d){s>=0&&o>=0&&this.setAtLeast(s,o,d)}},{key:"isWithin",value:function(){return p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])&&this._matrix[ft.INTERIOR][ft.EXTERIOR]===Yt.FALSE&&this._matrix[ft.BOUNDARY][ft.EXTERIOR]===Yt.FALSE}},{key:"isTouches",value:function(s,o){return s>o?this.isTouches(o,s):(s===Yt.A&&o===Yt.A||s===Yt.L&&o===Yt.L||s===Yt.L&&o===Yt.A||s===Yt.P&&o===Yt.A||s===Yt.P&&o===Yt.L)&&this._matrix[ft.INTERIOR][ft.INTERIOR]===Yt.FALSE&&(p.isTrue(this._matrix[ft.INTERIOR][ft.BOUNDARY])||p.isTrue(this._matrix[ft.BOUNDARY][ft.INTERIOR])||p.isTrue(this._matrix[ft.BOUNDARY][ft.BOUNDARY]))}},{key:"isOverlaps",value:function(s,o){return s===Yt.P&&o===Yt.P||s===Yt.A&&o===Yt.A?p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])&&p.isTrue(this._matrix[ft.INTERIOR][ft.EXTERIOR])&&p.isTrue(this._matrix[ft.EXTERIOR][ft.INTERIOR]):s===Yt.L&&o===Yt.L&&this._matrix[ft.INTERIOR][ft.INTERIOR]===1&&p.isTrue(this._matrix[ft.INTERIOR][ft.EXTERIOR])&&p.isTrue(this._matrix[ft.EXTERIOR][ft.INTERIOR])}},{key:"isEquals",value:function(s,o){return s===o&&p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])&&this._matrix[ft.INTERIOR][ft.EXTERIOR]===Yt.FALSE&&this._matrix[ft.BOUNDARY][ft.EXTERIOR]===Yt.FALSE&&this._matrix[ft.EXTERIOR][ft.INTERIOR]===Yt.FALSE&&this._matrix[ft.EXTERIOR][ft.BOUNDARY]===Yt.FALSE}},{key:"toString",value:function(){for(var s=new dr("123456789"),o=0;o<3;o++)for(var d=0;d<3;d++)s.setCharAt(3*o+d,Yt.toDimensionSymbol(this._matrix[o][d]));return s.toString()}},{key:"setAll",value:function(s){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this._matrix[o][d]=s}},{key:"get",value:function(s,o){return this._matrix[s][o]}},{key:"transpose",value:function(){var s=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=s,s=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=s,s=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=s,this}},{key:"matches",value:function(s){if(s.length!==9)throw new W("Should be length 9: "+s);for(var o=0;o<3;o++)for(var d=0;d<3;d++)if(!p.matches(this._matrix[o][d],s.charAt(3*o+d)))return!1;return!0}},{key:"add",value:function(s){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this.setAtLeast(o,d,s.get(o,d))}},{key:"isDisjoint",value:function(){return this._matrix[ft.INTERIOR][ft.INTERIOR]===Yt.FALSE&&this._matrix[ft.INTERIOR][ft.BOUNDARY]===Yt.FALSE&&this._matrix[ft.BOUNDARY][ft.INTERIOR]===Yt.FALSE&&this._matrix[ft.BOUNDARY][ft.BOUNDARY]===Yt.FALSE}},{key:"isCrosses",value:function(s,o){return s===Yt.P&&o===Yt.L||s===Yt.P&&o===Yt.A||s===Yt.L&&o===Yt.A?p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])&&p.isTrue(this._matrix[ft.INTERIOR][ft.EXTERIOR]):s===Yt.L&&o===Yt.P||s===Yt.A&&o===Yt.P||s===Yt.A&&o===Yt.L?p.isTrue(this._matrix[ft.INTERIOR][ft.INTERIOR])&&p.isTrue(this._matrix[ft.EXTERIOR][ft.INTERIOR]):s===Yt.L&&o===Yt.L&&this._matrix[ft.INTERIOR][ft.INTERIOR]===0}},{key:"interfaces_",get:function(){return[A]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Yt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var s=arguments[0];p.constructor_.call(this),this.set(s)}else if(arguments[0]instanceof p){var o=arguments[0];p.constructor_.call(this),this._matrix[ft.INTERIOR][ft.INTERIOR]=o._matrix[ft.INTERIOR][ft.INTERIOR],this._matrix[ft.INTERIOR][ft.BOUNDARY]=o._matrix[ft.INTERIOR][ft.BOUNDARY],this._matrix[ft.INTERIOR][ft.EXTERIOR]=o._matrix[ft.INTERIOR][ft.EXTERIOR],this._matrix[ft.BOUNDARY][ft.INTERIOR]=o._matrix[ft.BOUNDARY][ft.INTERIOR],this._matrix[ft.BOUNDARY][ft.BOUNDARY]=o._matrix[ft.BOUNDARY][ft.BOUNDARY],this._matrix[ft.BOUNDARY][ft.EXTERIOR]=o._matrix[ft.BOUNDARY][ft.EXTERIOR],this._matrix[ft.EXTERIOR][ft.INTERIOR]=o._matrix[ft.EXTERIOR][ft.INTERIOR],this._matrix[ft.EXTERIOR][ft.BOUNDARY]=o._matrix[ft.EXTERIOR][ft.BOUNDARY],this._matrix[ft.EXTERIOR][ft.EXTERIOR]=o._matrix[ft.EXTERIOR][ft.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var s=arguments[0],o=arguments[1];return o===Yt.SYM_DONTCARE||o===Yt.SYM_TRUE&&(s>=0||s===Yt.TRUE)||o===Yt.SYM_FALSE&&s===Yt.FALSE||o===Yt.SYM_P&&s===Yt.P||o===Yt.SYM_L&&s===Yt.L||o===Yt.SYM_A&&s===Yt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var d=arguments[1];return new p(arguments[0]).matches(d)}}},{key:"isTrue",value:function(s){return s>=0||s===Yt.TRUE}}])})(),Ja=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(s){return s===null||s.length===0?null:(this.ensureCapacity(this._size+s.length),Ei.arraycopy(s,0,this._data,this._size,s.length),void(this._size+=s.length))}},{key:"ensureCapacity",value:function(s){if(s<=this._data.length)return null;var o=Math.max(s,2*this._data.length);this._data=Mn.copyOf(this._data,o)}},{key:"toArray",value:function(){var s=new Array(this._size).fill(null);return Ei.arraycopy(this._data,0,s,0,this._size),s}},{key:"add",value:function(s){this.ensureCapacity(this._size+1),this._data[this._size]=s,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)p.constructor_.call(this,10);else if(arguments.length===1){var s=arguments[0];this._data=new Array(s).fill(null)}}}])})(),al=(function(){function p(){r(this,p)}return g(p,[{key:"getChainStartIndices",value:function(s){var o=0,d=new Ja(Math.trunc(s.length/2));d.add(o);do{var S=this.findChainEnd(s,o);d.add(S),o=S}while(o<s.length-1);return d.toArray()}},{key:"findChainEnd",value:function(s,o){for(var d=wn.quadrant(s[o],s[o+1]),S=o+1;S<s.length&&wn.quadrant(s[S-1],s[S])===d;)S++;return S-1}},{key:"OLDgetChainStartIndices",value:function(s){var o=0,d=new $t;d.add(o);do{var S=this.findChainEnd(s,o);d.add(S),o=S}while(o<s.length-1);return p.toIntArray(d)}}],[{key:"toIntArray",value:function(s){for(var o=new Array(s.size()).fill(null),d=0;d<o.length;d++)o[d]=s.get(d).intValue();return o}}])})(),$i=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(p){var s=this.pts[this.startIndex[p]].x,o=this.pts[this.startIndex[p+1]].x;return s>o?s:o}},{key:"getMinX",value:function(p){var s=this.pts[this.startIndex[p]].x,o=this.pts[this.startIndex[p+1]].x;return s<o?s:o}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var p=arguments[0],s=arguments[1],o=arguments[2],d=arguments[3];this.computeIntersectsForChain(this.startIndex[p],this.startIndex[p+1],s,s.startIndex[o],s.startIndex[o+1],d)}else if(arguments.length===6){var S=arguments[0],C=arguments[1],I=arguments[2],q=arguments[3],ot=arguments[4],dt=arguments[5];if(C-S==1&&ot-q==1)return dt.addIntersections(this.e,S,I.e,q),null;if(!this.overlaps(S,C,I,q,ot))return null;var yt=Math.trunc((S+C)/2),bt=Math.trunc((q+ot)/2);S<yt&&(q<bt&&this.computeIntersectsForChain(S,yt,I,q,bt,dt),bt<ot&&this.computeIntersectsForChain(S,yt,I,bt,ot,dt)),yt<C&&(q<bt&&this.computeIntersectsForChain(yt,C,I,q,bt,dt),bt<ot&&this.computeIntersectsForChain(yt,C,I,bt,ot,dt))}}},{key:"overlaps",value:function(p,s,o,d,S){return Ot.intersects(this.pts[p],this.pts[s],o.pts[d],o.pts[S])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(p,s){for(var o=0;o<this.startIndex.length-1;o++)for(var d=0;d<p.startIndex.length-1;d++)this.computeIntersectsForChain(o,p,d,s)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var p=arguments[0];this.e=p,this.pts=p.getCoordinates();var s=new al;this.startIndex=s.getChainStartIndices(this.pts)}}])})(),ia=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getDepth",value:function(s,o){return this._depth[s][o]}},{key:"setDepth",value:function(s,o,d){this._depth[s][o]=d}},{key:"isNull",value:function(){if(arguments.length===0){for(var s=0;s<2;s++)for(var o=0;o<3;o++)if(this._depth[s][o]!==p.NULL_VALUE)return!1;return!0}if(arguments.length===1){var d=arguments[0];return this._depth[d][1]===p.NULL_VALUE}if(arguments.length===2){var S=arguments[0],C=arguments[1];return this._depth[S][C]===p.NULL_VALUE}}},{key:"normalize",value:function(){for(var s=0;s<2;s++)if(!this.isNull(s)){var o=this._depth[s][1];this._depth[s][2]<o&&(o=this._depth[s][2]),o<0&&(o=0);for(var d=1;d<3;d++){var S=0;this._depth[s][d]>o&&(S=1),this._depth[s][d]=S}}}},{key:"getDelta",value:function(s){return this._depth[s][Mt.RIGHT]-this._depth[s][Mt.LEFT]}},{key:"getLocation",value:function(s,o){return this._depth[s][o]<=0?ft.EXTERIOR:ft.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var s=arguments[0],o=0;o<2;o++)for(var d=1;d<3;d++){var S=s.getLocation(o,d);S!==ft.EXTERIOR&&S!==ft.INTERIOR||(this.isNull(o,d)?this._depth[o][d]=p.depthAtLocation(S):this._depth[o][d]+=p.depthAtLocation(S))}else if(arguments.length===3){var C=arguments[0],I=arguments[1];arguments[2]===ft.INTERIOR&&this._depth[C][I]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var s=0;s<2;s++)for(var o=0;o<3;o++)this._depth[s][o]=p.NULL_VALUE}},{key:"depthAtLocation",value:function(s){return s===ft.EXTERIOR?0:s===ft.INTERIOR?1:p.NULL_VALUE}}])})();ia.NULL_VALUE=-1;var Lo=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new s(o,Un.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(o){this._isIsolated=o}},{key:"setName",value:function(o){this._name=o}},{key:"equals",value:function(o){if(!(o instanceof s))return!1;var d=o;if(this.pts.length!==d.pts.length)return!1;for(var S=!0,C=!0,I=this.pts.length,q=0;q<this.pts.length;q++)if(this.pts[q].equals2D(d.pts[q])||(S=!1),this.pts[q].equals2D(d.pts[--I])||(C=!1),!S&&!C)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var o=arguments[0];return this.pts[o]}}},{key:"print",value:function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.print(","),o.print(this.pts[d].x+" "+this.pts[d].y);o.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(o){s.updateIM(this._label,o)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(o){o.print("edge "+this._name+": ");for(var d=this.pts.length-1;d>=0;d--)o.print(this.pts[d]+" ");o.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new $i(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Ot;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env}},{key:"addIntersection",value:function(o,d,S,C){var I=new ht(o.getIntersection(C)),q=d,ot=o.getEdgeDistance(S,C),dt=q+1;if(dt<this.pts.length){var yt=this.pts[dt];I.equals2D(yt)&&(q=dt,ot=0)}this.eiList.add(I,q,ot)}},{key:"toString",value:function(){var o=new dr;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.append(","),o.append(this.pts[d].x+" "+this.pts[d].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()}},{key:"isPointwiseEqual",value:function(o){if(this.pts.length!==o.pts.length)return!1;for(var d=0;d<this.pts.length;d++)if(!this.pts[d].equals2D(o.pts[d]))return!1;return!0}},{key:"setDepthDelta",value:function(o){this._depthDelta=o}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(o,d,S){for(var C=0;C<o.getIntersectionNum();C++)this.addIntersection(o,d,S,C)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Za(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ia,this._depthDelta=0,arguments.length===1){var o=arguments[0];s.constructor_.call(this,o,null)}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.pts=d,this._label=S}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Xa&&arguments[0]instanceof Un))return P(s,"updateIM",this).apply(this,arguments);var o=arguments[0],d=arguments[1];d.setAtLeastIfValid(o.getLocation(0,Mt.ON),o.getLocation(1,Mt.ON),1),o.isArea()&&(d.setAtLeastIfValid(o.getLocation(0,Mt.LEFT),o.getLocation(1,Mt.LEFT),2),d.setAtLeastIfValid(o.getLocation(0,Mt.RIGHT),o.getLocation(1,Mt.RIGHT),2))}}])})(Fe),Va=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"setWorkingPrecisionModel",value:function(s){this._workingPrecisionModel=s}},{key:"insertUniqueEdge",value:function(s){var o=this._edgeList.findEqualEdge(s);if(o!==null){var d=o.getLabel(),S=s.getLabel();o.isPointwiseEqual(s)||(S=new Un(s.getLabel())).flip(),d.merge(S);var C=p.depthDelta(S),I=o.getDepthDelta()+C;o.setDepthDelta(I)}else this._edgeList.add(s),s.setDepthDelta(p.depthDelta(s.getLabel()))}},{key:"buildSubgraphs",value:function(s,o){for(var d=new $t,S=s.iterator();S.hasNext();){var C=S.next(),I=C.getRightmostCoordinate(),q=new mi(d).getDepth(I);C.computeDepth(q),C.findResultEdges(),d.add(C),o.add(C.getDirectedEdges(),C.getNodes())}}},{key:"createSubgraphs",value:function(s){for(var o=new $t,d=s.getNodes().iterator();d.hasNext();){var S=d.next();if(!S.isVisited()){var C=new Pa;C.create(S),o.add(C)}}return Ji.sort(o,Ji.reverseOrder()),o}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(s){if(this._workingNoder!==null)return this._workingNoder;var o=new Eo,d=new mr;return d.setPrecisionModel(s),o.setSegmentIntersector(new Ki(d)),o}},{key:"buffer",value:function(s,o){var d=this._workingPrecisionModel;d===null&&(d=s.getPrecisionModel()),this._geomFact=s.getFactory();var S=new Ga(d,this._bufParams),C=new Is(s,o,S).getCurves();if(C.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(C,d),this._graph=new Xi(new Sa),this._graph.addEdges(this._edgeList.getEdges());var I=this.createSubgraphs(this._graph),q=new ks(this._geomFact);this.buildSubgraphs(I,q);var ot=q.getPolygons();return ot.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(ot)}},{key:"computeNodedEdges",value:function(s,o){var d=this.getNoder(o);d.computeNodes(s);for(var S=d.getNodedSubstrings().iterator();S.hasNext();){var C=S.next(),I=C.getCoordinates();if(I.length!==2||!I[0].equals2D(I[1])){var q=C.getData(),ot=new Lo(C.getCoordinates(),new Un(q));this.insertUniqueEdge(ot)}}}},{key:"setNoder",value:function(s){this._workingNoder=s}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Qi;var s=arguments[0];this._bufParams=s}},{key:"depthDelta",value:function(s){var o=s.getLocation(0,Mt.LEFT),d=s.getLocation(0,Mt.RIGHT);return o===ft.INTERIOR&&d===ft.EXTERIOR?1:o===ft.EXTERIOR&&d===ft.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(s){for(var o=new Hi,d=new $t;s.hasNext();){var S=s.next(),C=o.createLineString(S.getCoordinates());d.add(C)}return o.buildGeometry(d)}}])})(),sl=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"rescale",value:function(){if(Ht(arguments[0],Xt))for(var s=arguments[0].iterator();s.hasNext();){var o=s.next();this.rescale(o.getCoordinates())}else if(arguments[0]instanceof Array){for(var d=arguments[0],S=0;S<d.length;S++)d[S].x=d[S].x/this._scaleFactor+this._offsetX,d[S].y=d[S].y/this._scaleFactor+this._offsetY;d.length===2&&d[0].equals2D(d[1])&&Ei.out.println(d)}}},{key:"scale",value:function(){if(Ht(arguments[0],Xt)){for(var s=arguments[0],o=new $t(s.size()),d=s.iterator();d.hasNext();){var S=d.next();o.add(new vr(this.scale(S.getCoordinates()),S.getData()))}return o}if(arguments[0]instanceof Array){for(var C=arguments[0],I=new Array(C.length).fill(null),q=0;q<C.length;q++)I[q]=new ht(Math.round((C[q].x-this._offsetX)*this._scaleFactor),Math.round((C[q].y-this._offsetY)*this._scaleFactor),C[q].getZ());return $e.removeRepeatedPoints(I)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var s=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(s),s}},{key:"computeNodes",value:function(s){var o=s;this._isScaled&&(o=this.scale(s)),this._noder.computeNodes(o)}},{key:"interfaces_",get:function(){return[Ms]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var s=arguments[0],o=arguments[1];p.constructor_.call(this,s,o,0,0)}else if(arguments.length===4){var d=arguments[0],S=arguments[1];this._noder=d,this._scaleFactor=S,this._isScaled=!this.isIntegerPrecision()}}}])})(),tr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var s=this._segStrings.iterator();s.hasNext();){var o=s.next().getCoordinates();this.checkEndPtVertexIntersections(o[0],this._segStrings),this.checkEndPtVertexIntersections(o[o.length-1],this._segStrings)}else if(arguments.length===2){for(var d=arguments[0],S=arguments[1].iterator();S.hasNext();)for(var C=S.next().getCoordinates(),I=1;I<C.length-1;I++)if(C[I].equals(d))throw new K("found endpt/interior pt intersection at index "+I+" :pt "+d)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var s=this._segStrings.iterator();s.hasNext();)for(var o=s.next(),d=this._segStrings.iterator();d.hasNext();){var S=d.next();this.checkInteriorIntersections(o,S)}else if(arguments.length===2)for(var C=arguments[0],I=arguments[1],q=C.getCoordinates(),ot=I.getCoordinates(),dt=0;dt<q.length-1;dt++)for(var yt=0;yt<ot.length-1;yt++)this.checkInteriorIntersections(C,dt,I,yt);else if(arguments.length===4){var bt=arguments[0],Ft=arguments[1],Gt=arguments[2],Vt=arguments[3];if(bt===Gt&&Ft===Vt)return null;var ee=bt.getCoordinates()[Ft],Ce=bt.getCoordinates()[Ft+1],ge=Gt.getCoordinates()[Vt],Ye=Gt.getCoordinates()[Vt+1];if(this._li.computeIntersection(ee,Ce,ge,Ye),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,ee,Ce)||this.hasInteriorIntersection(this._li,ge,Ye)))throw new K("found non-noded intersection at "+ee+"-"+Ce+" and "+ge+"-"+Ye)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var s=this._segStrings.iterator();s.hasNext();){var o=s.next();this.checkCollapses(o)}else if(arguments.length===1)for(var d=arguments[0].getCoordinates(),S=0;S<d.length-2;S++)this.checkCollapse(d[S],d[S+1],d[S+2])}},{key:"hasInteriorIntersection",value:function(s,o,d){for(var S=0;S<s.getIntersectionNum();S++){var C=s.getIntersection(S);if(!C.equals(o)&&!C.equals(d))return!0}return!1}},{key:"checkCollapse",value:function(s,o,d){if(s.equals(d))throw new K("found non-noded collapse at "+p.fact.createLineString([s,o,d]))}}],[{key:"constructor_",value:function(){this._li=new mr,this._segStrings=null;var s=arguments[0];this._segStrings=s}}])})();tr.fact=new Hi;var Do=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"intersectsScaled",value:function(s,o){var d=Math.min(s.x,o.x),S=Math.max(s.x,o.x),C=Math.min(s.y,o.y),I=Math.max(s.y,o.y),q=this._maxx<d||this._minx>S||this._maxy<C||this._miny>I;if(q)return!1;var ot=this.intersectsToleranceSquare(s,o);return pt.isTrue(!(q&&ot),"Found bad envelope test"),ot}},{key:"initCorners",value:function(s){var o=.5;this._minx=s.x-o,this._maxx=s.x+o,this._miny=s.y-o,this._maxy=s.y+o,this._corner[0]=new ht(this._maxx,this._maxy),this._corner[1]=new ht(this._minx,this._maxy),this._corner[2]=new ht(this._minx,this._miny),this._corner[3]=new ht(this._maxx,this._miny)}},{key:"intersects",value:function(s,o){return this._scaleFactor===1?this.intersectsScaled(s,o):(this.copyScaled(s,this._p0Scaled),this.copyScaled(o,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(s){return Math.round(s*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(s,o){o.x=this.scale(s.x),o.y=this.scale(s.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var s=p.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ot(this._originalPt.x-s,this._originalPt.x+s,this._originalPt.y-s,this._originalPt.y+s)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(s,o){return this._li.computeIntersection(s,o,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(s,o,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(s,o,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(s,o,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(s,o){var d=!1,S=!1;return this._li.computeIntersection(s,o,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(s,o,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(d=!0),this._li.computeIntersection(s,o,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(S=!0),this._li.computeIntersection(s,o,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!d||!S)||!!s.equals(this._pt)||!!o.equals(this._pt))))}},{key:"addSnappedNode",value:function(s,o){var d=s.getCoordinate(o),S=s.getCoordinate(o+1);return!!this.intersects(d,S)&&(s.addIntersection(this.getCoordinate(),o),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var s=arguments[0],o=arguments[1],d=arguments[2];if(this._originalPt=s,this._pt=s,this._scaleFactor=o,this._li=d,o<=0)throw new W("Scale factor must be non-zero");o!==1&&(this._pt=new ht(this.scale(s.x),this.scale(s.y)),this._p0Scaled=new ht,this._p1Scaled=new ht),this.initCorners(this._pt)}}])})();Do.SAFE_ENV_EXPANSION_FACTOR=.75;var xa=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var p=arguments[1];arguments[0].getLineSegment(p,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new ii}}])})(),ol=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var p=arguments[0];return this.snap(p,null,-1)}if(arguments.length===3){var s=arguments[0],o=arguments[1],d=arguments[2],S=s.getSafeEnvelope(),C=new er(s,o,d);return this._index.query(S,new((function(){return g((function I(){r(this,I)}),[{key:"interfaces_",get:function(){return[Ko]}},{key:"visitItem",value:function(I){I.select(S,C)}}])})())),C.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var p=arguments[0];this._index=p}}])})(),er=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof xo))return P(s,"select",this,1).apply(this,arguments);var o=arguments[1],d=arguments[0].getContext();if(this._parentEdge===d&&(o===this._hotPixelVertexIndex||o+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(d,o)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var o=arguments[0],d=arguments[1],S=arguments[2];this._hotPixel=o,this._parentEdge=d,this._hotPixelVertexIndex=S}}])})(xa);ol.HotPixelSnapAction=er;var Gn=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(p,s,o,d){if(p===o&&s===d)return null;var S=p.getCoordinates()[s],C=p.getCoordinates()[s+1],I=o.getCoordinates()[d],q=o.getCoordinates()[d+1];if(this._li.computeIntersection(S,C,I,q),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var ot=0;ot<this._li.getIntersectionNum();ot++)this._interiorIntersections.add(this._li.getIntersection(ot));p.addIntersections(this._li,s,0),o.addIntersections(this._li,d,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Co]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var p=arguments[0];this._li=p,this._interiorIntersections=new $t}}])})(),Ea=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(p){var s=vr.getNodedSubstrings(p),o=new tr(s);try{o.checkValid()}catch(d){if(!(d instanceof V))throw d;d.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return vr.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(p,s){var o=this.findInteriorIntersections(p,s);this.computeIntersectionSnaps(o),this.computeVertexSnaps(p)}},{key:"findInteriorIntersections",value:function(p,s){var o=new Gn(s);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(p),o.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(Ht(arguments[0],Xt))for(var p=arguments[0].iterator();p.hasNext();){var s=p.next();this.computeVertexSnaps(s)}else if(arguments[0]instanceof vr)for(var o=arguments[0],d=o.getCoordinates(),S=0;S<d.length;S++){var C=new Do(d[S],this._scaleFactor,this._li);this._pointSnapper.snap(C,o,S)&&o.addIntersection(d[S],S)}}},{key:"computeNodes",value:function(p){this._nodedSegStrings=p,this._noder=new Eo,this._pointSnapper=new ol(this._noder.getIndex()),this.snapRound(p,this._li)}},{key:"computeIntersectionSnaps",value:function(p){for(var s=p.iterator();s.hasNext();){var o=s.next(),d=new Do(o,this._scaleFactor,this._li);this._pointSnapper.snap(d)}}},{key:"interfaces_",get:function(){return[Ms]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var p=arguments[0];this._pm=p,this._li=new mr,this._li.setPrecisionModel(p),this._scaleFactor=p.getScale()}}])})(),Sr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"bufferFixedPrecision",value:function(s){var o=new sl(new Ea(new ei(1)),s.getScale()),d=new Va(this._bufParams);d.setWorkingPrecisionModel(s),d.setNoder(o),this._resultGeometry=d.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var s=p.MAX_PRECISION_DIGITS;s>=0;s--){try{this.bufferReducedPrecision(s)}catch(C){if(!(C instanceof vn))throw C;this._saveException=C}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var o=arguments[0],d=p.precisionScaleFactor(this._argGeom,this._distance,o),S=new ei(d);this.bufferFixedPrecision(S)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var s=this._argGeom.getFactory().getPrecisionModel();s.getType()===ei.FIXED?this.bufferFixedPrecision(s):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(s){this._bufParams.setQuadrantSegments(s)}},{key:"bufferOriginalPrecision",value:function(){try{var s=new Va(this._bufParams);this._resultGeometry=s.buffer(this._argGeom,this._distance)}catch(o){if(!(o instanceof K))throw o;this._saveException=o}}},{key:"getResultGeometry",value:function(s){return this._distance=s,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(s){this._bufParams.setEndCapStyle(s)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new X,this._resultGeometry=null,this._saveException=null,arguments.length===1){var s=arguments[0];this._argGeom=s}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this._argGeom=o,this._bufParams=d}}},{key:"bufferOp",value:function(){if(arguments.length===2){var s=arguments[1];return new p(arguments[0]).getResultGeometry(s)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof At&&typeof arguments[1]=="number"){var o=arguments[1],d=arguments[2],S=new p(arguments[0]);return S.setQuadrantSegments(d),S.getResultGeometry(o)}if(arguments[2]instanceof X&&arguments[0]instanceof At&&typeof arguments[1]=="number"){var C=arguments[1];return new p(arguments[0],arguments[2]).getResultGeometry(C)}}else if(arguments.length===4){var I=arguments[1],q=arguments[2],ot=arguments[3],dt=new p(arguments[0]);return dt.setQuadrantSegments(q),dt.setEndCapStyle(ot),dt.getResultGeometry(I)}}},{key:"precisionScaleFactor",value:function(s,o,d){var S=s.getEnvelopeInternal(),C=hr.max(Math.abs(S.getMaxX()),Math.abs(S.getMaxY()),Math.abs(S.getMinX()),Math.abs(S.getMinY()))+2*(o>0?o:0),I=d-Math.trunc(Math.log(C)/Math.log(10)+1);return Math.pow(10,I)}}])})();Sr.CAP_ROUND=X.CAP_ROUND,Sr.CAP_BUTT=X.CAP_FLAT,Sr.CAP_FLAT=X.CAP_FLAT,Sr.CAP_SQUARE=X.CAP_SQUARE,Sr.MAX_PRECISION_DIGITS=12;var Wa=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Qa=(function(){return g((function p(s){r(this,p),this.geometryFactory=s||new Hi}),[{key:"read",value:function(p){var s,o=(s=typeof p=="string"?JSON.parse(p):p).type;if(!qn[o])throw new Error("Unknown GeoJSON type: "+s.type);return Wa.indexOf(o)!==-1?qn[o].call(this,s.coordinates):o==="GeometryCollection"?qn[o].call(this,s.geometries):qn[o].call(this,s)}},{key:"write",value:function(p){var s=p.getGeometryType();if(!zn[s])throw new Error("Geometry is not supported");return zn[s].call(this,p)}}])})(),qn={Feature:function(p){var s={};for(var o in p)s[o]=p[o];if(p.geometry){var d=p.geometry.type;if(!qn[d])throw new Error("Unknown GeoJSON type: "+p.type);s.geometry=this.read(p.geometry)}return p.bbox&&(s.bbox=qn.bbox.call(this,p.bbox)),s},FeatureCollection:function(p){var s={};if(p.features){s.features=[];for(var o=0;o<p.features.length;++o)s.features.push(this.read(p.features[o]))}return p.bbox&&(s.bbox=this.parse.bbox.call(this,p.bbox)),s},coordinates:function(p){for(var s=[],o=0;o<p.length;++o){var d=p[o];s.push(c(ht,Z(d)))}return s},bbox:function(p){return this.geometryFactory.createLinearRing([new ht(p[0],p[1]),new ht(p[2],p[1]),new ht(p[2],p[3]),new ht(p[0],p[3]),new ht(p[0],p[1])])},Point:function(p){var s=c(ht,Z(p));return this.geometryFactory.createPoint(s)},MultiPoint:function(p){for(var s=[],o=0;o<p.length;++o)s.push(qn.Point.call(this,p[o]));return this.geometryFactory.createMultiPoint(s)},LineString:function(p){var s=qn.coordinates.call(this,p);return this.geometryFactory.createLineString(s)},MultiLineString:function(p){for(var s=[],o=0;o<p.length;++o)s.push(qn.LineString.call(this,p[o]));return this.geometryFactory.createMultiLineString(s)},Polygon:function(p){for(var s=qn.coordinates.call(this,p[0]),o=this.geometryFactory.createLinearRing(s),d=[],S=1;S<p.length;++S){var C=p[S],I=qn.coordinates.call(this,C),q=this.geometryFactory.createLinearRing(I);d.push(q)}return this.geometryFactory.createPolygon(o,d)},MultiPolygon:function(p){for(var s=[],o=0;o<p.length;++o){var d=p[o];s.push(qn.Polygon.call(this,d))}return this.geometryFactory.createMultiPolygon(s)},GeometryCollection:function(p){for(var s=[],o=0;o<p.length;++o){var d=p[o];s.push(this.read(d))}return this.geometryFactory.createGeometryCollection(s)}},zn={coordinate:function(p){var s=[p.x,p.y];return p.z&&s.push(p.z),p.m&&s.push(p.m),s},Point:function(p){return{type:"Point",coordinates:zn.coordinate.call(this,p.getCoordinate())}},MultiPoint:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=zn.Point.call(this,d);s.push(S.coordinates)}return{type:"MultiPoint",coordinates:s}},LineString:function(p){for(var s=[],o=p.getCoordinates(),d=0;d<o.length;++d){var S=o[d];s.push(zn.coordinate.call(this,S))}return{type:"LineString",coordinates:s}},MultiLineString:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=zn.LineString.call(this,d);s.push(S.coordinates)}return{type:"MultiLineString",coordinates:s}},Polygon:function(p){var s=[],o=zn.LineString.call(this,p._shell);s.push(o.coordinates);for(var d=0;d<p._holes.length;++d){var S=p._holes[d],C=zn.LineString.call(this,S);s.push(C.coordinates)}return{type:"Polygon",coordinates:s}},MultiPolygon:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=zn.Polygon.call(this,d);s.push(S.coordinates)}return{type:"MultiPolygon",coordinates:s}},GeometryCollection:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=d.getGeometryType();s.push(zn[S].call(this,d))}return{type:"GeometryCollection",geometries:s}}};return{BufferOp:Sr,GeoJSONReader:(function(){return g((function p(s){r(this,p),this.parser=new Qa(s||new Hi)}),[{key:"read",value:function(p){return this.parser.read(p)}}])})(),GeoJSONWriter:(function(){return g((function p(){r(this,p),this.parser=new Qa(this.geometryFactory)}),[{key:"write",value:function(p){return this.parser.write(p)}}])})()}}))})(Ph)),Ph.exports}var vT=yT();const ST=lo(vT);function co(){return new Xh}function Xh(){this.reset()}Xh.prototype={constructor:Xh,reset:function(){this.s=this.t=0},add:function(e){Sv(bh,e,this.t),Sv(this,bh.s,this.s),this.s?this.t+=bh.t:this.s=bh.t},valueOf:function(){return this.s}};var bh=new Xh;function Sv(e,n,i){var l=e.s=n+i,r=l-n,c=l-r;e.t=n-c+(i-r)}var pn=1e-6,Xe=Math.PI,ka=Xe/2,xv=Xe/4,Ia=Xe*2,no=180/Xe,Zr=Xe/180,fi=Math.abs,xT=Math.atan,Gl=Math.atan2,An=Math.cos,kn=Math.sin,Wl=Math.sqrt;function AS(e){return e>1?0:e<-1?Xe:Math.acos(e)}function Wo(e){return e>1?ka:e<-1?-ka:Math.asin(e)}function Qu(){}function Jh(e,n){e&&bv.hasOwnProperty(e.type)&&bv[e.type](e,n)}var Ev={Feature:function(e,n){Jh(e.geometry,n)},FeatureCollection:function(e,n){for(var i=e.features,l=-1,r=i.length;++l<r;)Jh(i[l].geometry,n)}},bv={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(e,n){for(var i=e.coordinates,l=-1,r=i.length;++l<r;)e=i[l],n.point(e[0],e[1],e[2])},LineString:function(e,n){Hp(e.coordinates,n,0)},MultiLineString:function(e,n){for(var i=e.coordinates,l=-1,r=i.length;++l<r;)Hp(i[l],n,0)},Polygon:function(e,n){Tv(e.coordinates,n)},MultiPolygon:function(e,n){for(var i=e.coordinates,l=-1,r=i.length;++l<r;)Tv(i[l],n)},GeometryCollection:function(e,n){for(var i=e.geometries,l=-1,r=i.length;++l<r;)Jh(i[l],n)}};function Hp(e,n,i){var l=-1,r=e.length-i,c;for(n.lineStart();++l<r;)c=e[l],n.point(c[0],c[1],c[2]);n.lineEnd()}function Tv(e,n){var i=-1,l=e.length;for(n.polygonStart();++i<l;)Hp(e[i],n,1);n.polygonEnd()}function ET(e,n){e&&Ev.hasOwnProperty(e.type)?Ev[e.type](e,n):Jh(e,n)}co();co();function Zp(e){return[Gl(e[1],e[0]),Wo(e[2])]}function ql(e){var n=e[0],i=e[1],l=An(i);return[l*An(n),l*kn(n),kn(i)]}function Th(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function Vh(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function Tp(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function wh(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function Xp(e){var n=Wl(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}co();function kS(e,n){function i(l,r){return l=e(l,r),n(l[0],l[1])}return e.invert&&n.invert&&(i.invert=function(l,r){return l=n.invert(l,r),l&&e.invert(l[0],l[1])}),i}function Jp(e,n){return[e>Xe?e-Ia:e<-Xe?e+Ia:e,n]}Jp.invert=Jp;function bT(e,n,i){return(e%=Ia)?n||i?kS(Cv(e),Lv(n,i)):Cv(e):n||i?Lv(n,i):Jp}function wv(e){return function(n,i){return n+=e,[n>Xe?n-Ia:n<-Xe?n+Ia:n,i]}}function Cv(e){var n=wv(e);return n.invert=wv(-e),n}function Lv(e,n){var i=An(e),l=kn(e),r=An(n),c=kn(n);function f(g,y){var v=An(y),E=An(g)*v,x=kn(g)*v,D=kn(y),N=D*i+E*l;return[Gl(x*r-N*c,E*i-D*l),Wo(N*r+x*c)]}return f.invert=function(g,y){var v=An(y),E=An(g)*v,x=kn(g)*v,D=kn(y),N=D*r-x*c;return[Gl(x*r+D*c,E*i+N*l),Wo(N*i-E*l)]},f}function TT(e,n,i,l,r,c){if(i){var f=An(n),g=kn(n),y=l*i;r==null?(r=n+l*Ia,c=n-y/2):(r=Dv(f,r),c=Dv(f,c),(l>0?r<c:r>c)&&(r+=l*Ia));for(var v,E=r;l>0?E>c:E<c;E-=y)v=Zp([f,-g*An(E),-g*kn(E)]),e.point(v[0],v[1])}}function Dv(e,n){n=ql(n),n[0]-=e,Xp(n);var i=AS(-n[1]);return((-n[2]<0?-i:i)+Ia-pn)%Ia}function NS(){var e=[],n;return{point:function(i,l){n.push([i,l])},lineStart:function(){e.push(n=[])},lineEnd:Qu,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],n=null,i}}}function wT(e,n,i,l,r,c){var f=e[0],g=e[1],y=n[0],v=n[1],E=0,x=1,D=y-f,N=v-g,P;if(P=i-f,!(!D&&P>0)){if(P/=D,D<0){if(P<E)return;P<x&&(x=P)}else if(D>0){if(P>x)return;P>E&&(E=P)}if(P=r-f,!(!D&&P<0)){if(P/=D,D<0){if(P>x)return;P>E&&(E=P)}else if(D>0){if(P<E)return;P<x&&(x=P)}if(P=l-g,!(!N&&P>0)){if(P/=N,N<0){if(P<E)return;P<x&&(x=P)}else if(N>0){if(P>x)return;P>E&&(E=P)}if(P=c-g,!(!N&&P<0)){if(P/=N,N<0){if(P>x)return;P>E&&(E=P)}else if(N>0){if(P<E)return;P<x&&(x=P)}return E>0&&(e[0]=f+E*D,e[1]=g+E*N),x<1&&(n[0]=f+x*D,n[1]=g+x*N),!0}}}}}function Bh(e,n){return fi(e[0]-n[0])<pn&&fi(e[1]-n[1])<pn}function Ch(e,n,i,l){this.x=e,this.z=n,this.o=i,this.e=l,this.v=!1,this.n=this.p=null}function MS(e,n,i,l,r){var c=[],f=[],g,y;if(e.forEach(function(P){if(!((Z=P.length-1)<=0)){var Z,rt=P[0],et=P[Z],B;if(Bh(rt,et)){for(r.lineStart(),g=0;g<Z;++g)r.point((rt=P[g])[0],rt[1]);r.lineEnd();return}c.push(B=new Ch(rt,P,null,!0)),f.push(B.o=new Ch(rt,null,B,!1)),c.push(B=new Ch(et,P,null,!1)),f.push(B.o=new Ch(et,null,B,!0))}}),!!c.length){for(f.sort(n),Av(c),Av(f),g=0,y=f.length;g<y;++g)f[g].e=i=!i;for(var v=c[0],E,x;;){for(var D=v,N=!0;D.v;)if((D=D.n)===v)return;E=D.z,r.lineStart();do{if(D.v=D.o.v=!0,D.e){if(N)for(g=0,y=E.length;g<y;++g)r.point((x=E[g])[0],x[1]);else l(D.x,D.n.x,1,r);D=D.n}else{if(N)for(E=D.p.z,g=E.length-1;g>=0;--g)r.point((x=E[g])[0],x[1]);else l(D.x,D.p.x,-1,r);D=D.p}D=D.o,E=D.z,N=!N}while(!D.v);r.lineEnd()}}}function Av(e){if(n=e.length){for(var n,i=0,l=e[0],r;++i<n;)l.n=r=e[i],r.p=l,l=r;l.n=r=e[0],r.p=l}}function OS(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function CT(e){return e.length===1&&(e=LT(e)),{left:function(n,i,l,r){for(l==null&&(l=0),r==null&&(r=n.length);l<r;){var c=l+r>>>1;e(n[c],i)<0?l=c+1:r=c}return l},right:function(n,i,l,r){for(l==null&&(l=0),r==null&&(r=n.length);l<r;){var c=l+r>>>1;e(n[c],i)>0?r=c:l=c+1}return l}}}function LT(e){return function(n,i){return OS(e(n),i)}}CT(OS);function RS(e){for(var n=e.length,i,l=-1,r=0,c,f;++l<n;)r+=e[l].length;for(c=new Array(r);--n>=0;)for(f=e[n],i=f.length;--i>=0;)c[--r]=f[i];return c}var Ku=1e9,Lh=-Ku;function DT(e,n,i,l){function r(v,E){return e<=v&&v<=i&&n<=E&&E<=l}function c(v,E,x,D){var N=0,P=0;if(v==null||(N=f(v,x))!==(P=f(E,x))||y(v,E)<0^x>0)do D.point(N===0||N===3?e:i,N>1?l:n);while((N=(N+x+4)%4)!==P);else D.point(E[0],E[1])}function f(v,E){return fi(v[0]-e)<pn?E>0?0:3:fi(v[0]-i)<pn?E>0?2:1:fi(v[1]-n)<pn?E>0?1:0:E>0?3:2}function g(v,E){return y(v.x,E.x)}function y(v,E){var x=f(v,1),D=f(E,1);return x!==D?x-D:x===0?E[1]-v[1]:x===1?v[0]-E[0]:x===2?v[1]-E[1]:E[0]-v[0]}return function(v){var E=v,x=NS(),D,N,P,Z,rt,et,B,X,V,W,$,tt={point:A,lineStart:H,lineEnd:nt,polygonStart:z,polygonEnd:J};function A(lt,R){r(lt,R)&&E.point(lt,R)}function M(){for(var lt=0,R=0,U=N.length;R<U;++R)for(var F=N[R],it=1,Q=F.length,Y=F[0],K,ct,pt=Y[0],gt=Y[1];it<Q;++it)K=pt,ct=gt,Y=F[it],pt=Y[0],gt=Y[1],ct<=l?gt>l&&(pt-K)*(l-ct)>(gt-ct)*(e-K)&&++lt:gt<=l&&(pt-K)*(l-ct)<(gt-ct)*(e-K)&&--lt;return lt}function z(){E=x,D=[],N=[],$=!0}function J(){var lt=M(),R=$&&lt,U=(D=RS(D)).length;(R||U)&&(v.polygonStart(),R&&(v.lineStart(),c(null,null,1,v),v.lineEnd()),U&&MS(D,g,lt,c,v),v.polygonEnd()),E=v,D=N=P=null}function H(){tt.point=at,N&&N.push(P=[]),W=!0,V=!1,B=X=NaN}function nt(){D&&(at(Z,rt),et&&V&&x.rejoin(),D.push(x.result())),tt.point=A,V&&E.lineEnd()}function at(lt,R){var U=r(lt,R);if(N&&P.push([lt,R]),W)Z=lt,rt=R,et=U,W=!1,U&&(E.lineStart(),E.point(lt,R));else if(U&&V)E.point(lt,R);else{var F=[B=Math.max(Lh,Math.min(Ku,B)),X=Math.max(Lh,Math.min(Ku,X))],it=[lt=Math.max(Lh,Math.min(Ku,lt)),R=Math.max(Lh,Math.min(Ku,R))];wT(F,it,e,n,i,l)?(V||(E.lineStart(),E.point(F[0],F[1])),E.point(it[0],it[1]),U||E.lineEnd(),$=!1):U&&(E.lineStart(),E.point(lt,R),$=!1)}B=lt,X=R,V=U}return tt}}var wp=co();function AT(e,n){var i=n[0],l=n[1],r=[kn(i),-An(i),0],c=0,f=0;wp.reset();for(var g=0,y=e.length;g<y;++g)if(E=(v=e[g]).length)for(var v,E,x=v[E-1],D=x[0],N=x[1]/2+xv,P=kn(N),Z=An(N),rt=0;rt<E;++rt,D=B,P=V,Z=W,x=et){var et=v[rt],B=et[0],X=et[1]/2+xv,V=kn(X),W=An(X),$=B-D,tt=$>=0?1:-1,A=tt*$,M=A>Xe,z=P*V;if(wp.add(Gl(z*tt*kn(A),Z*W+z*An(A))),c+=M?$+tt*Ia:$,M^D>=i^B>=i){var J=Vh(ql(x),ql(et));Xp(J);var H=Vh(r,J);Xp(H);var nt=(M^$>=0?-1:1)*Wo(H[2]);(l>nt||l===nt&&(J[0]||J[1]))&&(f+=M^$>=0?1:-1)}}return(c<-pn||c<pn&&wp<-pn)^f&1}co();function kv(e){return e}co();co();var Hl=1/0,Wh=Hl,hc=-Hl,Qh=hc,Nv={point:kT,lineStart:Qu,lineEnd:Qu,polygonStart:Qu,polygonEnd:Qu,result:function(){var e=[[Hl,Wh],[hc,Qh]];return hc=Qh=-(Wh=Hl=1/0),e}};function kT(e,n){e<Hl&&(Hl=e),e>hc&&(hc=e),n<Wh&&(Wh=n),n>Qh&&(Qh=n)}co();function IS(e,n,i,l){return function(r,c){var f=n(c),g=r.invert(l[0],l[1]),y=NS(),v=n(y),E=!1,x,D,N,P={point:Z,lineStart:et,lineEnd:B,polygonStart:function(){P.point=X,P.lineStart=V,P.lineEnd=W,D=[],x=[]},polygonEnd:function(){P.point=Z,P.lineStart=et,P.lineEnd=B,D=RS(D);var $=AT(x,g);D.length?(E||(c.polygonStart(),E=!0),MS(D,MT,$,i,c)):$&&(E||(c.polygonStart(),E=!0),c.lineStart(),i(null,null,1,c),c.lineEnd()),E&&(c.polygonEnd(),E=!1),D=x=null},sphere:function(){c.polygonStart(),c.lineStart(),i(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function Z($,tt){var A=r($,tt);e($=A[0],tt=A[1])&&c.point($,tt)}function rt($,tt){var A=r($,tt);f.point(A[0],A[1])}function et(){P.point=rt,f.lineStart()}function B(){P.point=Z,f.lineEnd()}function X($,tt){N.push([$,tt]);var A=r($,tt);v.point(A[0],A[1])}function V(){v.lineStart(),N=[]}function W(){X(N[0][0],N[0][1]),v.lineEnd();var $=v.clean(),tt=y.result(),A,M=tt.length,z,J,H;if(N.pop(),x.push(N),N=null,!!M){if($&1){if(J=tt[0],(z=J.length-1)>0){for(E||(c.polygonStart(),E=!0),c.lineStart(),A=0;A<z;++A)c.point((H=J[A])[0],H[1]);c.lineEnd()}return}M>1&&$&2&&tt.push(tt.pop().concat(tt.shift())),D.push(tt.filter(NT))}}return P}}function NT(e){return e.length>1}function MT(e,n){return((e=e.x)[0]<0?e[1]-ka-pn:ka-e[1])-((n=n.x)[0]<0?n[1]-ka-pn:ka-n[1])}const Mv=IS(function(){return!0},OT,IT,[-Xe,-ka]);function OT(e){var n=NaN,i=NaN,l=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(c,f){var g=c>0?Xe:-Xe,y=fi(c-n);fi(y-Xe)<pn?(e.point(n,i=(i+f)/2>0?ka:-ka),e.point(l,i),e.lineEnd(),e.lineStart(),e.point(g,i),e.point(c,i),r=0):l!==g&&y>=Xe&&(fi(n-l)<pn&&(n-=l*pn),fi(c-g)<pn&&(c-=g*pn),i=RT(n,i,c,f),e.point(l,i),e.lineEnd(),e.lineStart(),e.point(g,i),r=0),e.point(n=c,i=f),l=g},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-r}}}function RT(e,n,i,l){var r,c,f=kn(e-i);return fi(f)>pn?xT((kn(n)*(c=An(l))*kn(i)-kn(l)*(r=An(n))*kn(e))/(r*c*f)):(n+l)/2}function IT(e,n,i,l){var r;if(e==null)r=i*ka,l.point(-Xe,r),l.point(0,r),l.point(Xe,r),l.point(Xe,0),l.point(Xe,-r),l.point(0,-r),l.point(-Xe,-r),l.point(-Xe,0),l.point(-Xe,r);else if(fi(e[0]-n[0])>pn){var c=e[0]<n[0]?Xe:-Xe;r=i*c/2,l.point(-c,r),l.point(0,r),l.point(c,r)}else l.point(n[0],n[1])}function PT(e,n){var i=An(e),l=i>0,r=fi(i)>pn;function c(E,x,D,N){TT(N,e,n,D,E,x)}function f(E,x){return An(E)*An(x)>i}function g(E){var x,D,N,P,Z;return{lineStart:function(){P=N=!1,Z=1},point:function(rt,et){var B=[rt,et],X,V=f(rt,et),W=l?V?0:v(rt,et):V?v(rt+(rt<0?Xe:-Xe),et):0;if(!x&&(P=N=V)&&E.lineStart(),V!==N&&(X=y(x,B),(!X||Bh(x,X)||Bh(B,X))&&(B[0]+=pn,B[1]+=pn,V=f(B[0],B[1]))),V!==N)Z=0,V?(E.lineStart(),X=y(B,x),E.point(X[0],X[1])):(X=y(x,B),E.point(X[0],X[1]),E.lineEnd()),x=X;else if(r&&x&&l^V){var $;!(W&D)&&($=y(B,x,!0))&&(Z=0,l?(E.lineStart(),E.point($[0][0],$[0][1]),E.point($[1][0],$[1][1]),E.lineEnd()):(E.point($[1][0],$[1][1]),E.lineEnd(),E.lineStart(),E.point($[0][0],$[0][1])))}V&&(!x||!Bh(x,B))&&E.point(B[0],B[1]),x=B,N=V,D=W},lineEnd:function(){N&&E.lineEnd(),x=null},clean:function(){return Z|(P&&N)<<1}}}function y(E,x,D){var N=ql(E),P=ql(x),Z=[1,0,0],rt=Vh(N,P),et=Th(rt,rt),B=rt[0],X=et-B*B;if(!X)return!D&&E;var V=i*et/X,W=-i*B/X,$=Vh(Z,rt),tt=wh(Z,V),A=wh(rt,W);Tp(tt,A);var M=$,z=Th(tt,M),J=Th(M,M),H=z*z-J*(Th(tt,tt)-1);if(!(H<0)){var nt=Wl(H),at=wh(M,(-z-nt)/J);if(Tp(at,tt),at=Zp(at),!D)return at;var lt=E[0],R=x[0],U=E[1],F=x[1],it;R<lt&&(it=lt,lt=R,R=it);var Q=R-lt,Y=fi(Q-Xe)<pn,K=Y||Q<pn;if(!Y&&F<U&&(it=U,U=F,F=it),K?Y?U+F>0^at[1]<(fi(at[0]-lt)<pn?U:F):U<=at[1]&&at[1]<=F:Q>Xe^(lt<=at[0]&&at[0]<=R)){var ct=wh(M,(-z+nt)/J);return Tp(ct,tt),[at,Zp(ct)]}}}function v(E,x){var D=l?e:Xe-e,N=0;return E<-D?N|=1:E>D&&(N|=2),x<-D?N|=4:x>D&&(N|=8),N}return IS(f,g,c,l?[0,-e]:[-Xe,e-Xe])}function PS(e){return function(n){var i=new Vp;for(var l in e)i[l]=e[l];return i.stream=n,i}}function Vp(){}Vp.prototype={constructor:Vp,point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function BS(e,n,i){var l=n[1][0]-n[0][0],r=n[1][1]-n[0][1],c=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),c!=null&&e.clipExtent(null),ET(i,e.stream(Nv));var f=Nv.result(),g=Math.min(l/(f[1][0]-f[0][0]),r/(f[1][1]-f[0][1])),y=+n[0][0]+(l-g*(f[1][0]+f[0][0]))/2,v=+n[0][1]+(r-g*(f[1][1]+f[0][1]))/2;return c!=null&&e.clipExtent(c),e.scale(g*150).translate([y,v])}function BT(e,n,i){return BS(e,[[0,0],n],i)}var Ov=16,zT=An(30*Zr);function Rv(e,n){return+n?jT(e,n):FT(e)}function FT(e){return PS({point:function(n,i){n=e(n,i),this.stream.point(n[0],n[1])}})}function jT(e,n){function i(l,r,c,f,g,y,v,E,x,D,N,P,Z,rt){var et=v-l,B=E-r,X=et*et+B*B;if(X>4*n&&Z--){var V=f+D,W=g+N,$=y+P,tt=Wl(V*V+W*W+$*$),A=Wo($/=tt),M=fi(fi($)-1)<pn||fi(c-x)<pn?(c+x)/2:Gl(W,V),z=e(M,A),J=z[0],H=z[1],nt=J-l,at=H-r,lt=B*nt-et*at;(lt*lt/X>n||fi((et*nt+B*at)/X-.5)>.3||f*D+g*N+y*P<zT)&&(i(l,r,c,f,g,y,J,H,M,V/=tt,W/=tt,$,Z,rt),rt.point(J,H),i(J,H,M,V,W,$,v,E,x,D,N,P,Z,rt))}}return function(l){var r,c,f,g,y,v,E,x,D,N,P,Z,rt={point:et,lineStart:B,lineEnd:V,polygonStart:function(){l.polygonStart(),rt.lineStart=W},polygonEnd:function(){l.polygonEnd(),rt.lineStart=B}};function et(A,M){A=e(A,M),l.point(A[0],A[1])}function B(){x=NaN,rt.point=X,l.lineStart()}function X(A,M){var z=ql([A,M]),J=e(A,M);i(x,D,E,N,P,Z,x=J[0],D=J[1],E=A,N=z[0],P=z[1],Z=z[2],Ov,l),l.point(x,D)}function V(){rt.point=et,l.lineEnd()}function W(){B(),rt.point=$,rt.lineEnd=tt}function $(A,M){X(r=A,M),c=x,f=D,g=N,y=P,v=Z,rt.point=X}function tt(){i(x,D,E,N,P,Z,c,f,r,g,y,v,Ov,l),rt.lineEnd=V,V()}return rt}}var UT=PS({point:function(e,n){this.stream.point(e*Zr,n*Zr)}});function YT(e){return GT(function(){return e})()}function GT(e){var n,i=150,l=480,r=250,c,f,g=0,y=0,v=0,E=0,x=0,D,N,P=null,Z=Mv,rt=null,et,B,X,V=kv,W=.5,$=Rv(J,W),tt,A;function M(at){return at=N(at[0]*Zr,at[1]*Zr),[at[0]*i+c,f-at[1]*i]}function z(at){return at=N.invert((at[0]-c)/i,(f-at[1])/i),at&&[at[0]*no,at[1]*no]}function J(at,lt){return at=n(at,lt),[at[0]*i+c,f-at[1]*i]}M.stream=function(at){return tt&&A===at?tt:tt=UT(Z(D,$(V(A=at))))},M.clipAngle=function(at){return arguments.length?(Z=+at?PT(P=at*Zr,6*Zr):(P=null,Mv),nt()):P*no},M.clipExtent=function(at){return arguments.length?(V=at==null?(rt=et=B=X=null,kv):DT(rt=+at[0][0],et=+at[0][1],B=+at[1][0],X=+at[1][1]),nt()):rt==null?null:[[rt,et],[B,X]]},M.scale=function(at){return arguments.length?(i=+at,H()):i},M.translate=function(at){return arguments.length?(l=+at[0],r=+at[1],H()):[l,r]},M.center=function(at){return arguments.length?(g=at[0]%360*Zr,y=at[1]%360*Zr,H()):[g*no,y*no]},M.rotate=function(at){return arguments.length?(v=at[0]%360*Zr,E=at[1]%360*Zr,x=at.length>2?at[2]%360*Zr:0,H()):[v*no,E*no,x*no]},M.precision=function(at){return arguments.length?($=Rv(J,W=at*at),nt()):Wl(W)},M.fitExtent=function(at,lt){return BS(M,at,lt)},M.fitSize=function(at,lt){return BT(M,at,lt)};function H(){N=kS(D=bT(v,E,x),n);var at=n(g,y);return c=l-at[0]*i,f=r+at[1]*i,nt()}function nt(){return tt=A=null,M}return function(){return n=e.apply(this,arguments),M.invert=n.invert&&z,H()}}function zS(e){return function(n,i){var l=An(n),r=An(i),c=e(l*r);return[c*r*kn(n),c*kn(i)]}}function FS(e){return function(n,i){var l=Wl(n*n+i*i),r=e(l),c=kn(r),f=An(r);return[Gl(n*c,l*f),Wo(l&&i*c/l)]}}var qT=zS(function(e){return Wl(2/(1+e))});qT.invert=FS(function(e){return 2*Wo(e/2)});var jS=zS(function(e){return(e=AS(e))&&e/kn(e)});jS.invert=FS(function(e){return e});function HT(){return YT(jS).scale(79.4188).clipAngle(180-.001)}function Iv(e,n){return[e,n]}Iv.invert=Iv;var{BufferOp:ZT,GeoJSONReader:XT,GeoJSONWriter:JT}=ST;function VT(e,n,i){i=i||{};var l=i.units||"kilometers",r=i.steps||8;if(!e)throw new Error("geojson is required");if(typeof i!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(n===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var c=[];switch(e.type){case"GeometryCollection":return Si(e,function(f){var g=zh(f,n,l,r);g&&c.push(g)}),Qt(c);case"FeatureCollection":return Oe(e,function(f){var g=zh(f,n,l,r);g&&Oe(g,function(y){y&&c.push(y)})}),Qt(c)}return zh(e,n,l,r)}function zh(e,n,i,l){var r=e.properties||{},c=e.type==="Feature"?e.geometry:e;if(c.type==="GeometryCollection"){var f=[];return Si(e,function(Z){var rt=zh(Z,n,i,l);rt&&f.push(rt)}),Qt(f)}var g=WT(c),y={type:c.type,coordinates:YS(c.coordinates,g)},v=new XT,E=v.read(y),x=_c(Jl(n,i),"meters"),D=ZT.bufferOp(E,x,l),N=new JT;if(D=N.write(D),!US(D.coordinates)){var P={type:D.type,coordinates:GS(D.coordinates,g)};return bn(P,r)}}function US(e){return Array.isArray(e[0])?US(e[0]):isNaN(e[0])}function YS(e,n){return typeof e[0]!="object"?n(e):e.map(function(i){return YS(i,n)})}function GS(e,n){return typeof e[0]!="object"?n.invert(e):e.map(function(i){return GS(i,n)})}function WT(e){var n=df(e).geometry.coordinates,i=[-n[0],-n[1]];return HT().rotate(i).scale(Wn)}function Cg(e,n={}){let i=0,l=0,r=0;return Si(e,function(c,f,g){let y=n.weight?g?.[n.weight]:void 0;if(y=y??1,!Kn(y))throw new Error("weight value must be a number for feature index "+f);y=Number(y),y>0&&_n(c,function(v){i+=v[0]*y,l+=v[1]*y,r+=y})}),ue([i/r,l/r],n.properties,n)}function vs(e,n={}){let i=0,l=0,r=0;return _n(e,function(c){i+=c[0],l+=c[1],r++},!0),ue([i/r,l/r],n.properties)}function QT(e,n={}){if(n=n||{},!ze(n))throw new Error("options is invalid");var i=n.counter||10;if(!Kn(i))throw new Error("counter must be a number");var l=n.weight,r=Cg(e,{weight:n.weight}),c=Qt([]);Oe(e,function(g){var y;c.features.push(vs(g,{properties:{weight:(y=g.properties)==null?void 0:y[l]}}))});const f={tolerance:n.tolerance,medianCandidates:[]};return qS(r.geometry.coordinates,[0,0],c,f,i)}function qS(e,n,i,l,r){var c=l.tolerance||.001,f=0,g=0,y=0,v=0;if(Oe(i,function(D){var N,P=(N=D.properties)==null?void 0:N.weight,Z=P??1;if(Z=Number(Z),!Kn(Z))throw new Error("weight value must be a number");if(Z>0){v+=1;var rt=Z*fn(D,e);rt===0&&(rt=1);var et=Z/rt;f+=D.geometry.coordinates[0]*et,g+=D.geometry.coordinates[1]*et,y+=et}}),v<1)throw new Error("no features to measure");var E=f/y,x=g/y;return v===1||r===0||Math.abs(E-n[0])<c&&Math.abs(x-n[1])<c?ue([E,x],{medianCandidates:l.medianCandidates}):(l.medianCandidates.push([E,x]),qS([E,x],e,i,l,r-1))}var Dh={exports:{}},Fh={exports:{}},KT=Fh.exports,Pv;function $T(){return Pv||(Pv=1,(function(e,n){(function(i,l){e.exports=l()})(KT,function(){function i(B,X,V,W,$){(function tt(A,M,z,J,H){for(;J>z;){if(J-z>600){var nt=J-z+1,at=M-z+1,lt=Math.log(nt),R=.5*Math.exp(2*lt/3),U=.5*Math.sqrt(lt*R*(nt-R)/nt)*(at-nt/2<0?-1:1),F=Math.max(z,Math.floor(M-at*R/nt+U)),it=Math.min(J,Math.floor(M+(nt-at)*R/nt+U));tt(A,M,F,it,H)}var Q=A[M],Y=z,K=J;for(l(A,z,M),H(A[J],Q)>0&&l(A,z,J);Y<K;){for(l(A,Y,K),Y++,K--;H(A[Y],Q)<0;)Y++;for(;H(A[K],Q)>0;)K--}H(A[z],Q)===0?l(A,z,K):l(A,++K,J),K<=M&&(z=K+1),M<=K&&(J=K-1)}})(B,X,V||0,W||B.length-1,$||r)}function l(B,X,V){var W=B[X];B[X]=B[V],B[V]=W}function r(B,X){return B<X?-1:B>X?1:0}var c=function(B){B===void 0&&(B=9),this._maxEntries=Math.max(4,B),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function f(B,X,V){if(!V)return X.indexOf(B);for(var W=0;W<X.length;W++)if(V(B,X[W]))return W;return-1}function g(B,X){y(B,0,B.children.length,X,B)}function y(B,X,V,W,$){$||($=rt(null)),$.minX=1/0,$.minY=1/0,$.maxX=-1/0,$.maxY=-1/0;for(var tt=X;tt<V;tt++){var A=B.children[tt];v($,B.leaf?W(A):A)}return $}function v(B,X){return B.minX=Math.min(B.minX,X.minX),B.minY=Math.min(B.minY,X.minY),B.maxX=Math.max(B.maxX,X.maxX),B.maxY=Math.max(B.maxY,X.maxY),B}function E(B,X){return B.minX-X.minX}function x(B,X){return B.minY-X.minY}function D(B){return(B.maxX-B.minX)*(B.maxY-B.minY)}function N(B){return B.maxX-B.minX+(B.maxY-B.minY)}function P(B,X){return B.minX<=X.minX&&B.minY<=X.minY&&X.maxX<=B.maxX&&X.maxY<=B.maxY}function Z(B,X){return X.minX<=B.maxX&&X.minY<=B.maxY&&X.maxX>=B.minX&&X.maxY>=B.minY}function rt(B){return{children:B,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function et(B,X,V,W,$){for(var tt=[X,V];tt.length;)if(!((V=tt.pop())-(X=tt.pop())<=W)){var A=X+Math.ceil((V-X)/W/2)*W;i(B,A,X,V,$),tt.push(X,A,A,V)}}return c.prototype.all=function(){return this._all(this.data,[])},c.prototype.search=function(B){var X=this.data,V=[];if(!Z(B,X))return V;for(var W=this.toBBox,$=[];X;){for(var tt=0;tt<X.children.length;tt++){var A=X.children[tt],M=X.leaf?W(A):A;Z(B,M)&&(X.leaf?V.push(A):P(B,M)?this._all(A,V):$.push(A))}X=$.pop()}return V},c.prototype.collides=function(B){var X=this.data;if(!Z(B,X))return!1;for(var V=[];X;){for(var W=0;W<X.children.length;W++){var $=X.children[W],tt=X.leaf?this.toBBox($):$;if(Z(B,tt)){if(X.leaf||P(B,tt))return!0;V.push($)}}X=V.pop()}return!1},c.prototype.load=function(B){if(!B||!B.length)return this;if(B.length<this._minEntries){for(var X=0;X<B.length;X++)this.insert(B[X]);return this}var V=this._build(B.slice(),0,B.length-1,0);if(this.data.children.length)if(this.data.height===V.height)this._splitRoot(this.data,V);else{if(this.data.height<V.height){var W=this.data;this.data=V,V=W}this._insert(V,this.data.height-V.height-1,!0)}else this.data=V;return this},c.prototype.insert=function(B){return B&&this._insert(B,this.data.height-1),this},c.prototype.clear=function(){return this.data=rt([]),this},c.prototype.remove=function(B,X){if(!B)return this;for(var V,W,$,tt=this.data,A=this.toBBox(B),M=[],z=[];tt||M.length;){if(tt||(tt=M.pop(),W=M[M.length-1],V=z.pop(),$=!0),tt.leaf){var J=f(B,tt.children,X);if(J!==-1)return tt.children.splice(J,1),M.push(tt),this._condense(M),this}$||tt.leaf||!P(tt,A)?W?(V++,tt=W.children[V],$=!1):tt=null:(M.push(tt),z.push(V),V=0,W=tt,tt=tt.children[0])}return this},c.prototype.toBBox=function(B){return B},c.prototype.compareMinX=function(B,X){return B.minX-X.minX},c.prototype.compareMinY=function(B,X){return B.minY-X.minY},c.prototype.toJSON=function(){return this.data},c.prototype.fromJSON=function(B){return this.data=B,this},c.prototype._all=function(B,X){for(var V=[];B;)B.leaf?X.push.apply(X,B.children):V.push.apply(V,B.children),B=V.pop();return X},c.prototype._build=function(B,X,V,W){var $,tt=V-X+1,A=this._maxEntries;if(tt<=A)return g($=rt(B.slice(X,V+1)),this.toBBox),$;W||(W=Math.ceil(Math.log(tt)/Math.log(A)),A=Math.ceil(tt/Math.pow(A,W-1))),($=rt([])).leaf=!1,$.height=W;var M=Math.ceil(tt/A),z=M*Math.ceil(Math.sqrt(A));et(B,X,V,z,this.compareMinX);for(var J=X;J<=V;J+=z){var H=Math.min(J+z-1,V);et(B,J,H,M,this.compareMinY);for(var nt=J;nt<=H;nt+=M){var at=Math.min(nt+M-1,H);$.children.push(this._build(B,nt,at,W-1))}}return g($,this.toBBox),$},c.prototype._chooseSubtree=function(B,X,V,W){for(;W.push(X),!X.leaf&&W.length-1!==V;){for(var $=1/0,tt=1/0,A=void 0,M=0;M<X.children.length;M++){var z=X.children[M],J=D(z),H=(nt=B,at=z,(Math.max(at.maxX,nt.maxX)-Math.min(at.minX,nt.minX))*(Math.max(at.maxY,nt.maxY)-Math.min(at.minY,nt.minY))-J);H<tt?(tt=H,$=J<$?J:$,A=z):H===tt&&J<$&&($=J,A=z)}X=A||X.children[0]}var nt,at;return X},c.prototype._insert=function(B,X,V){var W=V?B:this.toBBox(B),$=[],tt=this._chooseSubtree(W,this.data,X,$);for(tt.children.push(B),v(tt,W);X>=0&&$[X].children.length>this._maxEntries;)this._split($,X),X--;this._adjustParentBBoxes(W,$,X)},c.prototype._split=function(B,X){var V=B[X],W=V.children.length,$=this._minEntries;this._chooseSplitAxis(V,$,W);var tt=this._chooseSplitIndex(V,$,W),A=rt(V.children.splice(tt,V.children.length-tt));A.height=V.height,A.leaf=V.leaf,g(V,this.toBBox),g(A,this.toBBox),X?B[X-1].children.push(A):this._splitRoot(V,A)},c.prototype._splitRoot=function(B,X){this.data=rt([B,X]),this.data.height=B.height+1,this.data.leaf=!1,g(this.data,this.toBBox)},c.prototype._chooseSplitIndex=function(B,X,V){for(var W,$,tt,A,M,z,J,H=1/0,nt=1/0,at=X;at<=V-X;at++){var lt=y(B,0,at,this.toBBox),R=y(B,at,V,this.toBBox),U=($=lt,tt=R,A=void 0,M=void 0,z=void 0,J=void 0,A=Math.max($.minX,tt.minX),M=Math.max($.minY,tt.minY),z=Math.min($.maxX,tt.maxX),J=Math.min($.maxY,tt.maxY),Math.max(0,z-A)*Math.max(0,J-M)),F=D(lt)+D(R);U<H?(H=U,W=at,nt=F<nt?F:nt):U===H&&F<nt&&(nt=F,W=at)}return W||V-X},c.prototype._chooseSplitAxis=function(B,X,V){var W=B.leaf?this.compareMinX:E,$=B.leaf?this.compareMinY:x;this._allDistMargin(B,X,V,W)<this._allDistMargin(B,X,V,$)&&B.children.sort(W)},c.prototype._allDistMargin=function(B,X,V,W){B.children.sort(W);for(var $=this.toBBox,tt=y(B,0,X,$),A=y(B,V-X,V,$),M=N(tt)+N(A),z=X;z<V-X;z++){var J=B.children[z];v(tt,B.leaf?$(J):J),M+=N(tt)}for(var H=V-X-1;H>=X;H--){var nt=B.children[H];v(A,B.leaf?$(nt):nt),M+=N(A)}return M},c.prototype._adjustParentBBoxes=function(B,X,V){for(var W=V;W>=0;W--)v(X[W],B)},c.prototype._condense=function(B){for(var X=B.length-1,V=void 0;X>=0;X--)B[X].children.length===0?X>0?(V=B[X-1].children).splice(V.indexOf(B[X]),1):this.clear():g(B[X],this.toBBox)},c})})(Fh)),Fh.exports}class HS{constructor(n=[],i=tw){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:l}=this,r=i[n];for(;n>0;){const c=n-1>>1,f=i[c];if(l(r,f)>=0)break;i[n]=f,n=c}i[n]=r}_down(n){const{data:i,compare:l}=this,r=this.length>>1,c=i[n];for(;n<r;){let f=(n<<1)+1,g=i[f];const y=f+1;if(y<this.length&&l(i[y],g)<0&&(f=y,g=i[y]),l(g,c)>=0)break;i[n]=g,n=f}i[n]=c}}function tw(e,n){return e<n?-1:e>n?1:0}const ew=Object.freeze(Object.defineProperty({__proto__:null,default:HS},Symbol.toStringTag,{value:"Module"})),nw=gE(ew);var Fu={exports:{}},Cp,Bv;function iw(){return Bv||(Bv=1,Cp=function(n,i,l,r){var c=n[0],f=n[1],g=!1;l===void 0&&(l=0),r===void 0&&(r=i.length);for(var y=(r-l)/2,v=0,E=y-1;v<y;E=v++){var x=i[l+v*2+0],D=i[l+v*2+1],N=i[l+E*2+0],P=i[l+E*2+1],Z=D>f!=P>f&&c<(N-x)*(f-D)/(P-D)+x;Z&&(g=!g)}return g}),Cp}var Lp,zv;function rw(){return zv||(zv=1,Lp=function(n,i,l,r){var c=n[0],f=n[1],g=!1;l===void 0&&(l=0),r===void 0&&(r=i.length);for(var y=r-l,v=0,E=y-1;v<y;E=v++){var x=i[v+l][0],D=i[v+l][1],N=i[E+l][0],P=i[E+l][1],Z=D>f!=P>f&&c<(N-x)*(f-D)/(P-D)+x;Z&&(g=!g)}return g}),Lp}var Fv;function aw(){if(Fv)return Fu.exports;Fv=1;var e=iw(),n=rw();return Fu.exports=function(l,r,c,f){return r.length>0&&Array.isArray(r[0])?n(l,r,c,f):e(l,r,c,f)},Fu.exports.nested=n,Fu.exports.flat=e,Fu.exports}var $u={exports:{}},sw=$u.exports,jv;function ow(){return jv||(jv=1,(function(e,n){(function(i,l){l(n)})(sw,function(i){const r=33306690738754706e-32;function c(Z,rt,et,B,X){let V,W,$,tt,A=rt[0],M=B[0],z=0,J=0;M>A==M>-A?(V=A,A=rt[++z]):(V=M,M=B[++J]);let H=0;if(z<Z&&J<et)for(M>A==M>-A?($=V-((W=A+V)-A),A=rt[++z]):($=V-((W=M+V)-M),M=B[++J]),V=W,$!==0&&(X[H++]=$);z<Z&&J<et;)M>A==M>-A?($=V-((W=V+A)-(tt=W-V))+(A-tt),A=rt[++z]):($=V-((W=V+M)-(tt=W-V))+(M-tt),M=B[++J]),V=W,$!==0&&(X[H++]=$);for(;z<Z;)$=V-((W=V+A)-(tt=W-V))+(A-tt),A=rt[++z],V=W,$!==0&&(X[H++]=$);for(;J<et;)$=V-((W=V+M)-(tt=W-V))+(M-tt),M=B[++J],V=W,$!==0&&(X[H++]=$);return V===0&&H!==0||(X[H++]=V),H}function f(Z){return new Float64Array(Z)}const g=33306690738754716e-32,y=22204460492503146e-32,v=11093356479670487e-47,E=f(4),x=f(8),D=f(12),N=f(16),P=f(4);i.orient2d=function(Z,rt,et,B,X,V){const W=(rt-V)*(et-X),$=(Z-X)*(B-V),tt=W-$;if(W===0||$===0||W>0!=$>0)return tt;const A=Math.abs(W+$);return Math.abs(tt)>=g*A?tt:-(function(M,z,J,H,nt,at,lt){let R,U,F,it,Q,Y,K,ct,pt,gt,St,Dt,ht,It,Ot,At,ft,Xt;const Zt=M-nt,zt=J-nt,jt=z-at,we=H-at;Q=(Ot=(ct=Zt-(K=(Y=134217729*Zt)-(Y-Zt)))*(gt=we-(pt=(Y=134217729*we)-(Y-we)))-((It=Zt*we)-K*pt-ct*pt-K*gt))-(St=Ot-(ft=(ct=jt-(K=(Y=134217729*jt)-(Y-jt)))*(gt=zt-(pt=(Y=134217729*zt)-(Y-zt)))-((At=jt*zt)-K*pt-ct*pt-K*gt))),E[0]=Ot-(St+Q)+(Q-ft),Q=(ht=It-((Dt=It+St)-(Q=Dt-It))+(St-Q))-(St=ht-At),E[1]=ht-(St+Q)+(Q-At),Q=(Xt=Dt+St)-Dt,E[2]=Dt-(Xt-Q)+(St-Q),E[3]=Xt;let he=(function(Ui,Ht){let Tn=Ht[0];for(let Ie=1;Ie<Ui;Ie++)Tn+=Ht[Ie];return Tn})(4,E),Mt=y*lt;if(he>=Mt||-he>=Mt||(R=M-(Zt+(Q=M-Zt))+(Q-nt),F=J-(zt+(Q=J-zt))+(Q-nt),U=z-(jt+(Q=z-jt))+(Q-at),it=H-(we+(Q=H-we))+(Q-at),R===0&&U===0&&F===0&&it===0)||(Mt=v*lt+r*Math.abs(he),(he+=Zt*it+we*R-(jt*F+zt*U))>=Mt||-he>=Mt))return he;Q=(Ot=(ct=R-(K=(Y=134217729*R)-(Y-R)))*(gt=we-(pt=(Y=134217729*we)-(Y-we)))-((It=R*we)-K*pt-ct*pt-K*gt))-(St=Ot-(ft=(ct=U-(K=(Y=134217729*U)-(Y-U)))*(gt=zt-(pt=(Y=134217729*zt)-(Y-zt)))-((At=U*zt)-K*pt-ct*pt-K*gt))),P[0]=Ot-(St+Q)+(Q-ft),Q=(ht=It-((Dt=It+St)-(Q=Dt-It))+(St-Q))-(St=ht-At),P[1]=ht-(St+Q)+(Q-At),Q=(Xt=Dt+St)-Dt,P[2]=Dt-(Xt-Q)+(St-Q),P[3]=Xt;const Je=c(4,E,4,P,x);Q=(Ot=(ct=Zt-(K=(Y=134217729*Zt)-(Y-Zt)))*(gt=it-(pt=(Y=134217729*it)-(Y-it)))-((It=Zt*it)-K*pt-ct*pt-K*gt))-(St=Ot-(ft=(ct=jt-(K=(Y=134217729*jt)-(Y-jt)))*(gt=F-(pt=(Y=134217729*F)-(Y-F)))-((At=jt*F)-K*pt-ct*pt-K*gt))),P[0]=Ot-(St+Q)+(Q-ft),Q=(ht=It-((Dt=It+St)-(Q=Dt-It))+(St-Q))-(St=ht-At),P[1]=ht-(St+Q)+(Q-At),Q=(Xt=Dt+St)-Dt,P[2]=Dt-(Xt-Q)+(St-Q),P[3]=Xt;const ti=c(Je,x,4,P,D);Q=(Ot=(ct=R-(K=(Y=134217729*R)-(Y-R)))*(gt=it-(pt=(Y=134217729*it)-(Y-it)))-((It=R*it)-K*pt-ct*pt-K*gt))-(St=Ot-(ft=(ct=U-(K=(Y=134217729*U)-(Y-U)))*(gt=F-(pt=(Y=134217729*F)-(Y-F)))-((At=U*F)-K*pt-ct*pt-K*gt))),P[0]=Ot-(St+Q)+(Q-ft),Q=(ht=It-((Dt=It+St)-(Q=Dt-It))+(St-Q))-(St=ht-At),P[1]=ht-(St+Q)+(Q-At),Q=(Xt=Dt+St)-Dt,P[2]=Dt-(Xt-Q)+(St-Q),P[3]=Xt;const gn=c(ti,D,4,P,N);return N[gn-1]})(Z,rt,et,B,X,V,A)},i.orient2dfast=function(Z,rt,et,B,X,V){return(rt-V)*(et-X)-(Z-X)*(B-V)},Object.defineProperty(i,"__esModule",{value:!0})})})($u,$u.exports)),$u.exports}var Uv;function lw(){if(Uv)return Dh.exports;Uv=1;var e=$T(),n=nw,i=aw(),l=ow().orient2d;n.default&&(n=n.default),Dh.exports=r,Dh.exports.default=r;function r(V,W,$){W=Math.max(0,W===void 0?2:W),$=$||0;var tt=N(V),A=new e(16);A.toBBox=function(K){return{minX:K[0],minY:K[1],maxX:K[0],maxY:K[1]}},A.compareMinX=function(K,ct){return K[0]-ct[0]},A.compareMinY=function(K,ct){return K[1]-ct[1]},A.load(V);for(var M=[],z=0,J;z<tt.length;z++){var H=tt[z];A.remove(H),J=P(H,J),M.push(J)}var nt=new e(16);for(z=0;z<M.length;z++)nt.insert(D(M[z]));for(var at=W*W,lt=$*$;M.length;){var R=M.shift(),U=R.p,F=R.next.p,it=Z(U,F);if(!(it<lt)){var Q=it/at;H=c(A,R.prev.p,U,F,R.next.next.p,Q,nt),H&&Math.min(Z(H,U),Z(H,F))<=Q&&(M.push(R),M.push(P(H,R)),A.remove(H),nt.remove(R),nt.insert(D(R)),nt.insert(D(R.next)))}}R=J;var Y=[];do Y.push(R.p),R=R.next;while(R!==J);return Y.push(R.p),Y}function c(V,W,$,tt,A,M,z){for(var J=new n([],f),H=V.data;H;){for(var nt=0;nt<H.children.length;nt++){var at=H.children[nt],lt=H.leaf?rt(at,$,tt):g($,tt,at);lt>M||J.push({node:at,dist:lt})}for(;J.length&&!J.peek().node.children;){var R=J.pop(),U=R.node,F=rt(U,W,$),it=rt(U,tt,A);if(R.dist<F&&R.dist<it&&v($,U,z)&&v(tt,U,z))return U}H=J.pop(),H&&(H=H.node)}return null}function f(V,W){return V.dist-W.dist}function g(V,W,$){if(y(V,$)||y(W,$))return 0;var tt=et(V[0],V[1],W[0],W[1],$.minX,$.minY,$.maxX,$.minY);if(tt===0)return 0;var A=et(V[0],V[1],W[0],W[1],$.minX,$.minY,$.minX,$.maxY);if(A===0)return 0;var M=et(V[0],V[1],W[0],W[1],$.maxX,$.minY,$.maxX,$.maxY);if(M===0)return 0;var z=et(V[0],V[1],W[0],W[1],$.minX,$.maxY,$.maxX,$.maxY);return z===0?0:Math.min(tt,A,M,z)}function y(V,W){return V[0]>=W.minX&&V[0]<=W.maxX&&V[1]>=W.minY&&V[1]<=W.maxY}function v(V,W,$){for(var tt=Math.min(V[0],W[0]),A=Math.min(V[1],W[1]),M=Math.max(V[0],W[0]),z=Math.max(V[1],W[1]),J=$.search({minX:tt,minY:A,maxX:M,maxY:z}),H=0;H<J.length;H++)if(x(J[H].p,J[H].next.p,V,W))return!1;return!0}function E(V,W,$){return l(V[0],V[1],W[0],W[1],$[0],$[1])}function x(V,W,$,tt){return V!==tt&&W!==$&&E(V,W,$)>0!=E(V,W,tt)>0&&E($,tt,V)>0!=E($,tt,W)>0}function D(V){var W=V.p,$=V.next.p;return V.minX=Math.min(W[0],$[0]),V.minY=Math.min(W[1],$[1]),V.maxX=Math.max(W[0],$[0]),V.maxY=Math.max(W[1],$[1]),V}function N(V){for(var W=V[0],$=V[0],tt=V[0],A=V[0],M=0;M<V.length;M++){var z=V[M];z[0]<W[0]&&(W=z),z[0]>tt[0]&&(tt=z),z[1]<$[1]&&($=z),z[1]>A[1]&&(A=z)}var J=[W,$,tt,A],H=J.slice();for(M=0;M<V.length;M++)i(V[M],J)||H.push(V[M]);return X(H)}function P(V,W){var $={p:V,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return W?($.next=W.next,$.prev=W,W.next.prev=$,W.next=$):($.prev=$,$.next=$),$}function Z(V,W){var $=V[0]-W[0],tt=V[1]-W[1];return $*$+tt*tt}function rt(V,W,$){var tt=W[0],A=W[1],M=$[0]-tt,z=$[1]-A;if(M!==0||z!==0){var J=((V[0]-tt)*M+(V[1]-A)*z)/(M*M+z*z);J>1?(tt=$[0],A=$[1]):J>0&&(tt+=M*J,A+=z*J)}return M=V[0]-tt,z=V[1]-A,M*M+z*z}function et(V,W,$,tt,A,M,z,J){var H=$-V,nt=tt-W,at=z-A,lt=J-M,R=V-A,U=W-M,F=H*H+nt*nt,it=H*at+nt*lt,Q=at*at+lt*lt,Y=H*R+nt*U,K=at*R+lt*U,ct=F*Q-it*it,pt,gt,St,Dt,ht=ct,It=ct;ct===0?(gt=0,ht=1,Dt=K,It=Q):(gt=it*K-Q*Y,Dt=F*K-it*Y,gt<0?(gt=0,Dt=K,It=Q):gt>ht&&(gt=ht,Dt=K+it,It=Q)),Dt<0?(Dt=0,-Y<0?gt=0:-Y>F?gt=ht:(gt=-Y,ht=F)):Dt>It&&(Dt=It,-Y+it<0?gt=0:-Y+it>F?gt=ht:(gt=-Y+it,ht=F)),pt=gt===0?0:gt/ht,St=Dt===0?0:Dt/It;var Ot=(1-pt)*V+pt*$,At=(1-pt)*W+pt*tt,ft=(1-St)*A+St*z,Xt=(1-St)*M+St*J,Zt=ft-Ot,zt=Xt-At;return Zt*Zt+zt*zt}function B(V,W){return V[0]===W[0]?V[1]-W[1]:V[0]-W[0]}function X(V){V.sort(B);for(var W=[],$=0;$<V.length;$++){for(;W.length>=2&&E(W[W.length-2],W[W.length-1],V[$])<=0;)W.pop();W.push(V[$])}for(var tt=[],A=V.length-1;A>=0;A--){for(;tt.length>=2&&E(tt[tt.length-2],tt[tt.length-1],V[A])<=0;)tt.pop();tt.push(V[A])}return tt.pop(),W.pop(),W.concat(tt)}return Dh.exports}var uw=lw();const cw=lo(uw);function ZS(e,n={}){n.concavity=n.concavity||1/0;const i=[];if(_n(e,r=>{i.push([r[0],r[1]])}),!i.length)return null;const l=cw(i,n.concavity);return l.length>3?le([l]):null}function XS(e,n={}){switch(cr(e)){case"Point":return ue(Be(e),n.properties);case"Polygon":var i=[];_n(e,function(V){i.push(V)});var l=vs(e,{properties:n.properties}),r=l.geometry.coordinates,c=0,f=0,g=0,y,v,E,x,D,N,P,Z,rt=i.map(function(V){return[V[0]-r[0],V[1]-r[1]]});for(y=0;y<i.length-1;y++)v=rt[y],x=v[0],N=v[1],E=rt[y+1],D=E[0],P=E[1],Z=x*P-D*N,g+=Z,c+=(x+D)*Z,f+=(N+P)*Z;if(g===0)return l;var et=g*.5,B=1/(6*et);return ue([r[0]+B*c,r[1]+B*f],n.properties);default:var X=ZS(e);return X?XS(X,{properties:n.properties}):vs(e,{properties:n.properties})}}function pf(e,n,i={}){const l=i.steps||64,r=i.properties?i.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},c=[];for(let f=0;f<l;f++)c.push(so(e,n,f*-360/l,i).geometry.coordinates);return c.push(c[0]),le([c],r)}function oi(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return JS(e);case"FeatureCollection":return hw(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Lg(e);default:throw new Error("unknown GeoJSON type")}}function JS(e){const n={type:"Feature"};return Object.keys(e).forEach(i=>{switch(i){case"type":case"properties":case"geometry":return;default:n[i]=e[i]}}),n.properties=gf(e.properties),e.geometry==null?n.geometry=null:n.geometry=Lg(e.geometry),n}function gf(e){const n={};return e&&Object.keys(e).forEach(i=>{const l=e[i];typeof l=="object"?l===null?n[i]=null:Array.isArray(l)?n[i]=l.map(r=>r):n[i]=gf(l):n[i]=l}),n}function hw(e){const n={type:"FeatureCollection"};return Object.keys(e).forEach(i=>{switch(i){case"type":case"features":return;default:n[i]=e[i]}}),n.features=e.features.map(i=>JS(i)),n}function Lg(e){const n={type:e.type};return e.bbox&&(n.bbox=e.bbox),e.type==="GeometryCollection"?(n.geometries=e.geometries.map(i=>Lg(i)),n):(n.coordinates=VS(e.coordinates),n)}function VS(e){const n=e;return typeof n[0]!="object"?n.slice():n.map(i=>VS(i))}function WS(e,n){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(n==null)throw new Error("filter is required");var i=[];return Oe(e,function(l){mf(l.properties,n)&&i.push(l)}),Qt(i)}function Dg(e,n,i){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(n==null)throw new Error("property is required");for(var l=Ag(e,n),r=Object.keys(l),c=0;c<r.length;c++){for(var f=r[c],g=l[f],y=[],v=0;v<g.length;v++)y.push(e.features[g[v]]);i(Qt(y),f,c)}}function QS(e,n,i,l){var r=l;return Dg(e,n,function(c,f,g){g===0&&l===void 0?r=c:r=i(r,c,f,g)}),r}function Ag(e,n){var i={};return Oe(e,function(l,r){var c=l.properties||{};if(Object.prototype.hasOwnProperty.call(c,String(n))){var f=c[n];Object.prototype.hasOwnProperty.call(i,f)?i[f].push(r):i[f]=[r]}}),i}function mf(e,n){if(e===void 0)return!1;var i=typeof n;if(i==="number"||i==="string")return Object.prototype.hasOwnProperty.call(e,n);if(Array.isArray(n)){for(var l=0;l<n.length;l++)if(!mf(e,n[l]))return!1;return!0}else return kg(e,n)}function kg(e,n){for(var i=Object.keys(n),l=0;l<i.length;l++){var r=i[l];if(e[r]!==n[r])return!1}return!0}function KS(e,n){if(!n)return{};if(!n.length)return{};for(var i={},l=0;l<n.length;l++){var r=n[l];Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i}const fw=Object.freeze(Object.defineProperty({__proto__:null,applyFilter:mf,clusterEach:Dg,clusterReduce:QS,createBins:Ag,filterProperties:KS,getCluster:WS,propertiesContainsFilter:kg},Symbol.toStringTag,{value:"Module"})),Yv=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Dp=1,ju=8;class Ng{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,l]=new Uint8Array(n,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const r=l>>4;if(r!==Dp)throw new Error(`Got v${r} data when expected v${Dp}.`);const c=Yv[l&15];if(!c)throw new Error("Unrecognized array type.");const[f]=new Uint16Array(n,2,1),[g]=new Uint32Array(n,4,1);return new Ng(g,f,c,n)}constructor(n,i=64,l=Float64Array,r){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=l,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const c=Yv.indexOf(this.ArrayType),f=n*2*this.ArrayType.BYTES_PER_ELEMENT,g=n*this.IndexArrayType.BYTES_PER_ELEMENT,y=(8-g%8)%8;if(c<0)throw new Error(`Unexpected typed array class: ${l}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,ju,n),this.coords=new this.ArrayType(this.data,ju+g+y,n*2),this._pos=n*2,this._finished=!0):(this.data=new ArrayBuffer(ju+f+g+y),this.ids=new this.IndexArrayType(this.data,ju,n),this.coords=new this.ArrayType(this.data,ju+g+y,n*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Dp<<4)+c]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=n)}add(n,i){const l=this._pos>>1;return this.ids[l]=l,this.coords[this._pos++]=n,this.coords[this._pos++]=i,l}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Wp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,i,l,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:c,coords:f,nodeSize:g}=this,y=[0,c.length-1,0],v=[];for(;y.length;){const E=y.pop()||0,x=y.pop()||0,D=y.pop()||0;if(x-D<=g){for(let rt=D;rt<=x;rt++){const et=f[2*rt],B=f[2*rt+1];et>=n&&et<=l&&B>=i&&B<=r&&v.push(c[rt])}continue}const N=D+x>>1,P=f[2*N],Z=f[2*N+1];P>=n&&P<=l&&Z>=i&&Z<=r&&v.push(c[N]),(E===0?n<=P:i<=Z)&&(y.push(D),y.push(N-1),y.push(1-E)),(E===0?l>=P:r>=Z)&&(y.push(N+1),y.push(x),y.push(1-E))}return v}within(n,i,l){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:c,nodeSize:f}=this,g=[0,r.length-1,0],y=[],v=l*l;for(;g.length;){const E=g.pop()||0,x=g.pop()||0,D=g.pop()||0;if(x-D<=f){for(let rt=D;rt<=x;rt++)Gv(c[2*rt],c[2*rt+1],n,i)<=v&&y.push(r[rt]);continue}const N=D+x>>1,P=c[2*N],Z=c[2*N+1];Gv(P,Z,n,i)<=v&&y.push(r[N]),(E===0?n-l<=P:i-l<=Z)&&(g.push(D),g.push(N-1),g.push(1-E)),(E===0?n+l>=P:i+l>=Z)&&(g.push(N+1),g.push(x),g.push(1-E))}return y}}function Wp(e,n,i,l,r,c){if(r-l<=i)return;const f=l+r>>1;$S(e,n,f,l,r,c),Wp(e,n,i,l,f-1,1-c),Wp(e,n,i,f+1,r,1-c)}function $S(e,n,i,l,r,c){for(;r>l;){if(r-l>600){const v=r-l+1,E=i-l+1,x=Math.log(v),D=.5*Math.exp(2*x/3),N=.5*Math.sqrt(x*D*(v-D)/v)*(E-v/2<0?-1:1),P=Math.max(l,Math.floor(i-E*D/v+N)),Z=Math.min(r,Math.floor(i+(v-E)*D/v+N));$S(e,n,i,P,Z,c)}const f=n[2*i+c];let g=l,y=r;for(Uu(e,n,l,i),n[2*r+c]>f&&Uu(e,n,l,r);g<y;){for(Uu(e,n,g,y),g++,y--;n[2*g+c]<f;)g++;for(;n[2*y+c]>f;)y--}n[2*l+c]===f?Uu(e,n,l,y):(y++,Uu(e,n,y,r)),y<=i&&(l=y+1),i<=y&&(r=y-1)}}function Uu(e,n,i,l){Ap(e,i,l),Ap(n,2*i,2*l),Ap(n,2*i+1,2*l+1)}function Ap(e,n,i){const l=e[n];e[n]=e[i],e[i]=l}function Gv(e,n,i,l){const r=e-i,c=n-l;return r*r+c*c}const dw=6371,Na=Math.PI/180;function pw(e,n,i,l=1/0,r=1/0,c){let f=1;const g=[];l===void 0&&(l=1/0),r!==void 0&&(f=Zo(r/dw));const y=new HS([],gw);let v={left:0,right:e.ids.length-1,axis:0,minLng:-180,minLat:-90,maxLng:180,maxLat:90};const E=Math.cos(i*Na);for(;v;){const x=v.right,D=v.left;if(x-D<=e.nodeSize)for(let N=D;N<=x;N++){const P=e.ids[N];{const Z=Hv(n,i,e.coords[2*N],e.coords[2*N+1],E);y.push({id:P,dist:Z})}}else{const N=D+x>>1,P=e.coords[2*N],Z=e.coords[2*N+1],rt=e.ids[N];{const V=Hv(n,i,P,Z,E);y.push({id:rt,dist:V})}const et=(v.axis+1)%2,B={left:D,right:N-1,axis:et,minLng:v.minLng,minLat:v.minLat,maxLng:v.axis===0?P:v.maxLng,maxLat:v.axis===1?Z:v.maxLat,dist:0},X={left:N+1,right:x,axis:et,minLng:v.axis===0?P:v.minLng,minLat:v.axis===1?Z:v.minLat,maxLng:v.maxLng,maxLat:v.maxLat,dist:0};B.dist=qv(n,i,E,B),X.dist=qv(n,i,E,X),y.push(B),y.push(X)}for(;y.length&&y.peek().id!=null;){const N=y.pop();if(N.dist>f||(g.push(N.id),g.length===l))return g}v=y.pop()}return g}function qv(e,n,i,l){const r=l.minLng,c=l.maxLng,f=l.minLat,g=l.maxLat;if(e>=r&&e<=c)return n<f?Zo((n-f)*Na):n>g?Zo((n-g)*Na):0;const y=Math.min(Zo((e-r)*Na),Zo((e-c)*Na)),v=mw(n,y);return v>f&&v<g?jh(y,i,n,v):Math.min(jh(y,i,n,f),jh(y,i,n,g))}function gw(e,n){return e.dist-n.dist}function Zo(e){const n=Math.sin(e/2);return n*n}function jh(e,n,i,l){return n*Math.cos(l*Na)*e+Zo((i-l)*Na)}function Hv(e,n,i,l,r){const c=Zo((e-i)*Na);return jh(c,r,n,l)}function mw(e,n){const i=1-2*n;return i<=0?e>0?90:-90:Math.atan(Math.tan(e*Na)/i)/Na}function _w(e,n,i={}){i.mutate!==!0&&(e=oi(e));const l=i.minPoints||3,r=new Ng(e.features.length);for(const D of e.features)r.add(D.geometry.coordinates[0],D.geometry.coordinates[1]);r.finish();var c=e.features.map(D=>!1),f=e.features.map(D=>!1),g=e.features.map(D=>!1),y=e.features.map(D=>-1);const v=D=>{const N=e.features[D],[P,Z]=N.geometry.coordinates;return pw(r,P,Z,void 0,n).map(rt=>({minX:e.features[rt].geometry.coordinates[0],minY:e.features[rt].geometry.coordinates[1],maxX:e.features[rt].geometry.coordinates[0],maxY:e.features[rt].geometry.coordinates[1],index:rt}))},E=(D,N)=>{for(var P=0;P<N.length;P++){var Z=N[P];const rt=Z.index;if(!c[rt]){c[rt]=!0;const et=v(rt);et.length>=l&&N.push(...et)}f[rt]||(f[rt]=!0,y[rt]=D)}};var x=0;return e.features.forEach((D,N)=>{if(c[N])return;const P=v(N);if(P.length>=l){const Z=x;x++,c[N]=!0,E(Z,P)}else g[N]=!0}),e.features.forEach((D,N)=>{var P=e.features[N];P.properties||(P.properties={}),y[N]>=0?(P.properties.dbscan=g[N]?"edge":"core",P.properties.cluster=y[N]):P.properties.dbscan="noise"}),e}var kp,Zv;function tx(){return Zv||(Zv=1,kp={eudist:function(n,i,l){for(var r=n.length,c=0,f=0;f<r;f++){var g=(n[f]||0)-(i[f]||0);c+=g*g}return l?Math.sqrt(c):c},mandist:function(n,i,l){for(var r=n.length,c=0,f=0;f<r;f++)c+=Math.abs((n[f]||0)-(i[f]||0));return l?Math.sqrt(c):c},dist:function(n,i,l){var r=Math.abs(n-i);return l?r:r*r}}),kp}var Np,Xv;function yw(){if(Xv)return Np;Xv=1;var e=tx(),n=e.eudist,i=e.dist;return Np={kmrand:function(r,c){for(var f={},g=[],y=c<<2,v=r.length,E=r[0].length>0;g.length<c&&y-- >0;){var x=r[Math.floor(Math.random()*v)],D=E?x.join("_"):""+x;f[D]||(f[D]=!0,g.push(x))}if(g.length<c)throw new Error("Error initializating clusters");return g},kmpp:function(r,c){var f=r[0].length?n:i,g=[],y=r.length,v=r[0].length>0,E=r[Math.floor(Math.random()*y)];for(v?E.join("_"):""+E,g.push(E);g.length<c;){for(var x=[],D=g.length,N=0,P=[],Z=0;Z<y;Z++){for(var rt=1/0,et=0;et<D;et++){var B=f(r[Z],g[et]);B<=rt&&(rt=B)}x[Z]=rt}for(var X=0;X<y;X++)N+=x[X];for(var V=0;V<y;V++)P[V]={i:V,v:r[V],pr:x[V]/N,cs:0};P.sort(function(A,M){return A.pr-M.pr}),P[0].cs=P[0].pr;for(var W=1;W<y;W++)P[W].cs=P[W-1].cs+P[W].pr;for(var $=Math.random(),tt=0;tt<y-1&&P[tt++].cs<$;);g.push(P[tt-1].v)}return g}},Np}var Mp,Jv;function vw(){if(Jv)return Mp;Jv=1;var e=tx(),n=yw(),i=e.eudist;e.mandist,e.dist;var l=n.kmrand,r=n.kmpp,c=1e4;function f(y,v,E){E=E||[];for(var x=0;x<y;x++)E[x]=v;return E}function g(y,v,E,x){var D=[],N=[],P=[],Z=[],rt=!1,et=x||c,B=y.length,X=y[0].length,V=X>0,W=[];if(E)E=="kmrand"?D=l(y,v):E=="kmpp"?D=r(y,v):D=E;else for(var $={};D.length<v;){var tt=Math.floor(Math.random()*B);$[tt]||($[tt]=!0,D.push(y[tt]))}do{f(v,0,W);for(var A=0;A<B;A++){for(var M=1/0,z=0,J=0;J<v;J++){var Z=V?i(y[A],D[J]):Math.abs(y[A]-D[J]);Z<=M&&(M=Z,z=J)}P[A]=z,W[z]++}for(var H=[],N=[],nt=0;nt<v;nt++)H[nt]=V?f(X,0,H[nt]):0,N[nt]=D[nt];if(V){for(var at=0;at<v;at++)D[at]=[];for(var lt=0;lt<B;lt++)for(var R=P[lt],U=H[R],F=y[lt],it=0;it<X;it++)U[it]+=F[it];rt=!0;for(var Q=0;Q<v;Q++){for(var Y=D[Q],K=H[Q],ct=N[Q],pt=W[Q],gt=0;gt<X;gt++)Y[gt]=K[gt]/pt||0;if(rt){for(var St=0;St<X;St++)if(ct[St]!=Y[St]){rt=!1;break}}}}else{for(var Dt=0;Dt<B;Dt++){var ht=P[Dt];H[ht]+=y[Dt]}for(var It=0;It<v;It++)D[It]=H[It]/W[It]||0;rt=!0;for(var Ot=0;Ot<v;Ot++)if(N[Ot]!=D[Ot]){rt=!1;break}}rt=rt||--et<=0}while(!rt);return{it:c-et,k:v,idxs:P,centroids:D}}return Mp=g,Mp}var Sw=vw();const xw=lo(Sw);function Ew(e,n={}){var i=e.features.length;n.numberOfClusters=n.numberOfClusters||Math.round(Math.sqrt(i/2)),n.numberOfClusters>i&&(n.numberOfClusters=i),n.mutate!==!0&&(e=oi(e));var l=uc(e),r=l.slice(0,n.numberOfClusters),c=xw(l,n.numberOfClusters,r),f={};return c.centroids.forEach(function(g,y){f[y]=g}),Oe(e,function(g,y){var v=c.idxs[y];g.properties.cluster=v,g.properties.centroid=f[v]}),e}function bw(e,n,i,l){var r=new hf(6),c=n.features.map(function(f){var g;return{minX:f.geometry.coordinates[0],minY:f.geometry.coordinates[1],maxX:f.geometry.coordinates[0],maxY:f.geometry.coordinates[1],property:(g=f.properties)==null?void 0:g[i]}});return r.load(c),e.features.forEach(function(f){f.properties||(f.properties={});var g=Re(f),y=r.search({minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]}),v=[];y.forEach(function(E){ae([E.minX,E.minY],f)&&v.push(E.property)}),f.properties[l]=v}),e}function Tw(e){var n={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return Oe(e,i=>{var l;switch((l=i.geometry)==null?void 0:l.type){case"Point":n.MultiPoint.coordinates.push(i.geometry.coordinates),n.MultiPoint.properties.push(i.properties);break;case"MultiPoint":n.MultiPoint.coordinates.push(...i.geometry.coordinates),n.MultiPoint.properties.push(i.properties);break;case"LineString":n.MultiLineString.coordinates.push(i.geometry.coordinates),n.MultiLineString.properties.push(i.properties);break;case"MultiLineString":n.MultiLineString.coordinates.push(...i.geometry.coordinates),n.MultiLineString.properties.push(i.properties);break;case"Polygon":n.MultiPolygon.coordinates.push(i.geometry.coordinates),n.MultiPolygon.properties.push(i.properties);break;case"MultiPolygon":n.MultiPolygon.coordinates.push(...i.geometry.coordinates),n.MultiPolygon.properties.push(i.properties);break}}),Qt(Object.keys(n).filter(function(i){return n[i].coordinates.length}).sort().map(function(i){var l={type:i,coordinates:n[i].coordinates},r={collectedProperties:n[i].properties};return bn(l,r)}))}function ex(e,n){let i=!1;return Qt(Lw(e.features.map(l=>{const r={x:l.geometry.coordinates[0],y:l.geometry.coordinates[1]};return n?r.z=l.properties[n]:l.geometry.coordinates.length===3&&(i=!0,r.z=l.geometry.coordinates[2]),r})).map(l=>{const r=[l.a.x,l.a.y],c=[l.b.x,l.b.y],f=[l.c.x,l.c.y];let g={};return i?(r.push(l.a.z),c.push(l.b.z),f.push(l.c.z)):g={a:l.a.z,b:l.b.z,c:l.c.z},le([[r,c,f,r]],g)}))}var Vv=class{constructor(e,n,i){this.a=e,this.b=n,this.c=i;const l=n.x-e.x,r=n.y-e.y,c=i.x-e.x,f=i.y-e.y,g=l*(e.x+n.x)+r*(e.y+n.y),y=c*(e.x+i.x)+f*(e.y+i.y),v=2*(l*(i.y-n.y)-r*(i.x-n.x));let E,x;this.x=(f*g-r*y)/v,this.y=(l*y-c*g)/v,E=this.x-e.x,x=this.y-e.y,this.r=E*E+x*x}};function ww(e,n){return n.x-e.x}function Cw(e){let n=e.length,i,l,r,c,f;t:for(;n;)for(l=e[--n],i=e[--n],r=n;r;)if(f=e[--r],c=e[--r],i===c&&l===f||i===f&&l===c){e.splice(n,2),e.splice(r,2),n-=2;continue t}}function Lw(e){if(e.length<3)return[];e.sort(ww);let n=e.length-1;const i=e[n].x,l=e[0].x;let r=e[n].y,c=r;const f=1e-12;let g,y,v,E,x,D;for(;n--;)e[n].y<r&&(r=e[n].y),e[n].y>c&&(c=e[n].y);let N=l-i,P=c-r;const Z=N>P?N:P,rt=(l+i)*.5,et=(c+r)*.5,B=[new Vv({__sentinel:!0,x:rt-20*Z,y:et-Z},{__sentinel:!0,x:rt,y:et+20*Z},{__sentinel:!0,x:rt+20*Z,y:et-Z})],X=[],V=[];let W;for(n=e.length;n--;){for(V.length=0,W=B.length;W--;){if(N=e[n].x-B[W].x,N>0&&N*N>B[W].r){X.push(B[W]),B.splice(W,1);continue}P=e[n].y-B[W].y,!(N*N+P*P>B[W].r)&&(V.push(B[W].a,B[W].b,B[W].b,B[W].c,B[W].c,B[W].a),B.splice(W,1))}for(Cw(V),W=V.length;W;)y=V[--W],g=V[--W],v=e[n],E=y.x-g.x,x=y.y-g.y,D=2*(E*(v.y-y.y)-x*(v.x-y.x)),Math.abs(D)>f&&B.push(new Vv(g,y,v))}for(Array.prototype.push.apply(X,B),n=X.length;n--;)(X[n].a.__sentinel||X[n].b.__sentinel||X[n].c.__sentinel)&&X.splice(n,1);return X}function Dw(e){return e}function Aw(e){if(e==null)return Dw;var n,i,l=e.scale[0],r=e.scale[1],c=e.translate[0],f=e.translate[1];return function(g,y){y||(n=i=0);var v=2,E=g.length,x=new Array(E);for(x[0]=(n+=g[0])*l+c,x[1]=(i+=g[1])*r+f;v<E;)x[v]=g[v],++v;return x}}function kw(e,n){for(var i,l=e.length,r=l-n;r<--l;)i=e[r],e[r++]=e[l],e[l]=i}function Nw(e,n){return typeof n=="string"&&(n=e.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(i){return Wv(e,i)})}:Wv(e,n)}function Wv(e,n){var i=n.id,l=n.bbox,r=n.properties==null?{}:n.properties,c=Mg(e,n);return i==null&&l==null?{type:"Feature",properties:r,geometry:c}:l==null?{type:"Feature",id:i,properties:r,geometry:c}:{type:"Feature",id:i,bbox:l,properties:r,geometry:c}}function Mg(e,n){var i=Aw(e.transform),l=e.arcs;function r(E,x){x.length&&x.pop();for(var D=l[E<0?~E:E],N=0,P=D.length;N<P;++N)x.push(i(D[N],N));E<0&&kw(x,P)}function c(E){return i(E)}function f(E){for(var x=[],D=0,N=E.length;D<N;++D)r(E[D],x);return x.length<2&&x.push(x[0]),x}function g(E){for(var x=f(E);x.length<4;)x.push(x[0]);return x}function y(E){return E.map(g)}function v(E){var x=E.type,D;switch(x){case"GeometryCollection":return{type:x,geometries:E.geometries.map(v)};case"Point":D=c(E.coordinates);break;case"MultiPoint":D=E.coordinates.map(c);break;case"LineString":D=f(E.arcs);break;case"MultiLineString":D=E.arcs.map(f);break;case"Polygon":D=y(E.arcs);break;case"MultiPolygon":D=E.arcs.map(y);break;default:return null}return{type:x,coordinates:D}}return v(n)}function Mw(e,n){var i={},l={},r={},c=[],f=-1;n.forEach(function(v,E){var x=e.arcs[v<0?~v:v],D;x.length<3&&!x[1][0]&&!x[1][1]&&(D=n[++f],n[f]=v,n[E]=D)}),n.forEach(function(v){var E=g(v),x=E[0],D=E[1],N,P;if(N=r[x])if(delete r[N.end],N.push(v),N.end=D,P=l[D]){delete l[P.start];var Z=P===N?N:N.concat(P);l[Z.start=N.start]=r[Z.end=P.end]=Z}else l[N.start]=r[N.end]=N;else if(N=l[D])if(delete l[N.start],N.unshift(v),N.start=x,P=r[x]){delete r[P.end];var rt=P===N?N:P.concat(N);l[rt.start=P.start]=r[rt.end=N.end]=rt}else l[N.start]=r[N.end]=N;else N=[v],l[N.start=x]=r[N.end=D]=N});function g(v){var E=e.arcs[v<0?~v:v],x=E[0],D;return e.transform?(D=[0,0],E.forEach(function(N){D[0]+=N[0],D[1]+=N[1]})):D=E[E.length-1],v<0?[D,x]:[x,D]}function y(v,E){for(var x in v){var D=v[x];delete E[D.start],delete D.start,delete D.end,D.forEach(function(N){i[N<0?~N:N]=1}),c.push(D)}}return y(r,l),y(l,r),n.forEach(function(v){i[v<0?~v:v]||c.push([v])}),c}function Ow(e){for(var n=-1,i=e.length,l,r=e[i-1],c=0;++n<i;)l=r,r=e[n],c+=l[0]*r[1]-l[1]*r[0];return Math.abs(c)}function Rw(e){return Mg(e,Iw.apply(this,arguments))}function Iw(e,n){var i={},l=[],r=[];n.forEach(c);function c(y){switch(y.type){case"GeometryCollection":y.geometries.forEach(c);break;case"Polygon":f(y.arcs);break;case"MultiPolygon":y.arcs.forEach(f);break}}function f(y){y.forEach(function(v){v.forEach(function(E){(i[E=E<0?~E:E]||(i[E]=[])).push(y)})}),l.push(y)}function g(y){return Ow(Mg(e,{type:"Polygon",arcs:[y]}).coordinates[0])}return l.forEach(function(y){if(!y._){var v=[],E=[y];for(y._=1,r.push(v);y=E.pop();)v.push(y),y.forEach(function(x){x.forEach(function(D){i[D<0?~D:D].forEach(function(N){N._||(N._=1,E.push(N))})})})}}),l.forEach(function(y){delete y._}),{type:"MultiPolygon",arcs:r.map(function(y){var v=[],E;if(y.forEach(function(Z){Z.forEach(function(rt){rt.forEach(function(et){i[et<0?~et:et].length<2&&v.push(et)})})}),v=Mw(e,v),(E=v.length)>1)for(var x=1,D=g(v[0]),N,P;x<E;++x)(N=g(v[x]))>D&&(P=v[0],v[0]=v[x],v[x]=P,D=N);return v}).filter(function(y){return y.length>0})}}var Og=Object.prototype.hasOwnProperty;function Pw(e){var n=1/0,i=1/0,l=-1/0,r=-1/0;function c(x){x!=null&&Og.call(f,x.type)&&f[x.type](x)}var f={GeometryCollection:function(x){x.geometries.forEach(c)},Point:function(x){g(x.coordinates)},MultiPoint:function(x){x.coordinates.forEach(g)},LineString:function(x){y(x.arcs)},MultiLineString:function(x){x.arcs.forEach(y)},Polygon:function(x){x.arcs.forEach(y)},MultiPolygon:function(x){x.arcs.forEach(v)}};function g(x){var D=x[0],N=x[1];D<n&&(n=D),D>l&&(l=D),N<i&&(i=N),N>r&&(r=N)}function y(x){x.forEach(g)}function v(x){x.forEach(y)}for(var E in e)c(e[E]);return l>=n&&r>=i?[n,i,l,r]:void 0}function Bw(e,n,i,l,r){arguments.length===3&&(l=Array,r=null);for(var c=new l(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),f=e-1,g=0;g<e;++g)c[g]=r;function y(x){for(var D=n(x)&f,N=c[D],P=0;N!=r;){if(i(N,x))return!0;if(++P>=e)throw new Error("full hashset");N=c[D=D+1&f]}return c[D]=x,!0}function v(x){for(var D=n(x)&f,N=c[D],P=0;N!=r;){if(i(N,x))return!0;if(++P>=e)break;N=c[D=D+1&f]}return!1}function E(){for(var x=[],D=0,N=c.length;D<N;++D){var P=c[D];P!=r&&x.push(P)}return x}return{add:y,has:v,values:E}}function Rg(e,n,i,l,r,c){arguments.length===3&&(l=c=Array,r=null);for(var f=new l(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),g=new c(e),y=e-1,v=0;v<e;++v)f[v]=r;function E(P,Z){for(var rt=n(P)&y,et=f[rt],B=0;et!=r;){if(i(et,P))return g[rt]=Z;if(++B>=e)throw new Error("full hashmap");et=f[rt=rt+1&y]}return f[rt]=P,g[rt]=Z,Z}function x(P,Z){for(var rt=n(P)&y,et=f[rt],B=0;et!=r;){if(i(et,P))return g[rt];if(++B>=e)throw new Error("full hashmap");et=f[rt=rt+1&y]}return f[rt]=P,g[rt]=Z,Z}function D(P,Z){for(var rt=n(P)&y,et=f[rt],B=0;et!=r;){if(i(et,P))return g[rt];if(++B>=e)break;et=f[rt=rt+1&y]}return Z}function N(){for(var P=[],Z=0,rt=f.length;Z<rt;++Z){var et=f[Z];et!=r&&P.push(et)}return P}return{set:E,maybeSet:x,get:D,keys:N}}function qo(e,n){return e[0]===n[0]&&e[1]===n[1]}var nx=new ArrayBuffer(16),Qv=new Float64Array(nx),Ah=new Uint32Array(nx);function Qp(e){Qv[0]=e[0],Qv[1]=e[1];var n=Ah[0]^Ah[1];return n=n<<5^n>>7^Ah[2]^Ah[3],n&2147483647}function zw(e){var n=e.coordinates,i=e.lines,l=e.rings,r=$(),c=new Int32Array(n.length),f=new Int32Array(n.length),g=new Int32Array(n.length),y=new Int8Array(n.length),v=0,E,x,D,N,P;for(E=0,x=n.length;E<x;++E)c[E]=f[E]=g[E]=-1;for(E=0,x=i.length;E<x;++E){var Z=i[E],rt=Z[0],et=Z[1];for(N=r[rt],P=r[++rt],++v,y[N]=1;++rt<=et;)W(E,D=N,N=P,P=r[rt]);++v,y[P]=1}for(E=0,x=n.length;E<x;++E)c[E]=-1;for(E=0,x=l.length;E<x;++E){var B=l[E],X=B[0]+1,V=B[1];for(D=r[V-1],N=r[X-1],P=r[X],W(E,D,N,P);++X<=V;)W(E,D=N,N=P,P=r[X])}function W(J,H,nt,at){if(c[nt]!==J){c[nt]=J;var lt=f[nt];if(lt>=0){var R=g[nt];(lt!==H||R!==at)&&(lt!==at||R!==H)&&(++v,y[nt]=1)}else f[nt]=H,g[nt]=at}}function $(){for(var J=Rg(n.length*1.4,tt,A,Int32Array,-1,Int32Array),H=new Int32Array(n.length),nt=0,at=n.length;nt<at;++nt)H[nt]=J.maybeSet(nt,nt);return H}function tt(J){return Qp(n[J])}function A(J,H){return qo(n[J],n[H])}c=f=g=null;var M=Bw(v*1.4,Qp,qo),z;for(E=0,x=n.length;E<x;++E)y[z=r[E]]&&M.add(n[z]);return M}function Fw(e){var n=zw(e),i=e.coordinates,l=e.lines,r=e.rings,c,f,g;for(f=0,g=l.length;f<g;++f)for(var y=l[f],v=y[0],E=y[1];++v<E;)n.has(i[v])&&(c={0:v,1:y[1]},y[1]=v,y=y.next=c);for(f=0,g=r.length;f<g;++f)for(var x=r[f],D=x[0],N=D,P=x[1],Z=n.has(i[D]);++N<P;)n.has(i[N])&&(Z?(c={0:N,1:x[1]},x[1]=N,x=x.next=c):(jw(i,D,P,P-N),i[P]=i[D],Z=!0,N=D));return e}function jw(e,n,i,l){Op(e,n,i),Op(e,n,n+l),Op(e,n+l,i)}function Op(e,n,i){for(var l=n+(i---n>>1),r;n<l;++n,--i)r=e[n],e[n]=e[i],e[i]=r}function Uw(e){var n=e.coordinates,i=e.lines,l,r=e.rings,c,f=i.length+r.length,g,y;for(delete e.lines,delete e.rings,g=0,y=i.length;g<y;++g)for(l=i[g];l=l.next;)++f;for(g=0,y=r.length;g<y;++g)for(c=r[g];c=c.next;)++f;var v=Rg(f*2*1.4,Qp,qo),E=e.arcs=[];for(g=0,y=i.length;g<y;++g){l=i[g];do x(l);while(l=l.next)}for(g=0,y=r.length;g<y;++g)if(c=r[g],c.next)do x(c);while(c=c.next);else D(c);function x(B){var X,V,W,$,tt,A,M,z;if(W=v.get(X=n[B[0]])){for(M=0,z=W.length;M<z;++M)if($=W[M],N($,B)){B[0]=$[0],B[1]=$[1];return}}if(tt=v.get(V=n[B[1]])){for(M=0,z=tt.length;M<z;++M)if(A=tt[M],P(A,B)){B[1]=A[0],B[0]=A[1];return}}W?W.push(B):v.set(X,[B]),tt?tt.push(B):v.set(V,[B]),E.push(B)}function D(B){var X,V,W,$,tt;if(V=v.get(X=n[B[0]]))for($=0,tt=V.length;$<tt;++$){if(W=V[$],Z(W,B)){B[0]=W[0],B[1]=W[1];return}if(rt(W,B)){B[0]=W[1],B[1]=W[0];return}}if(V=v.get(X=n[B[0]+et(B)]))for($=0,tt=V.length;$<tt;++$){if(W=V[$],Z(W,B)){B[0]=W[0],B[1]=W[1];return}if(rt(W,B)){B[0]=W[1],B[1]=W[0];return}}V?V.push(B):v.set(X,[B]),E.push(B)}function N(B,X){var V=B[0],W=X[0],$=B[1],tt=X[1];if(V-$!==W-tt)return!1;for(;V<=$;++V,++W)if(!qo(n[V],n[W]))return!1;return!0}function P(B,X){var V=B[0],W=X[0],$=B[1],tt=X[1];if(V-$!==W-tt)return!1;for(;V<=$;++V,--tt)if(!qo(n[V],n[tt]))return!1;return!0}function Z(B,X){var V=B[0],W=X[0],$=B[1],tt=X[1],A=$-V;if(A!==tt-W)return!1;for(var M=et(B),z=et(X),J=0;J<A;++J)if(!qo(n[V+(J+M)%A],n[W+(J+z)%A]))return!1;return!0}function rt(B,X){var V=B[0],W=X[0],$=B[1],tt=X[1],A=$-V;if(A!==tt-W)return!1;for(var M=et(B),z=A-et(X),J=0;J<A;++J)if(!qo(n[V+(J+M)%A],n[tt-(J+z)%A]))return!1;return!0}function et(B){for(var X=B[0],V=B[1],W=X,$=W,tt=n[W];++W<V;){var A=n[W];(A[0]<tt[0]||A[0]===tt[0]&&A[1]<tt[1])&&($=W,tt=A)}return $-X}return e}function Yw(e){var n=-1,i=[],l=[],r=[];function c(x){x&&Og.call(f,x.type)&&f[x.type](x)}var f={GeometryCollection:function(x){x.geometries.forEach(c)},LineString:function(x){x.arcs=g(x.arcs)},MultiLineString:function(x){x.arcs=x.arcs.map(g)},Polygon:function(x){x.arcs=x.arcs.map(y)},MultiPolygon:function(x){x.arcs=x.arcs.map(v)}};function g(x){for(var D=0,N=x.length;D<N;++D)r[++n]=x[D];var P={0:n-N+1,1:n};return i.push(P),P}function y(x){for(var D=0,N=x.length;D<N;++D)r[++n]=x[D];var P={0:n-N+1,1:n};return l.push(P),P}function v(x){return x.map(y)}for(var E in e)c(e[E]);return{type:"Topology",coordinates:r,lines:i,rings:l,objects:e}}function Gw(e){var n={},i;for(i in e)n[i]=qw(e[i]);return n}function qw(e){return e==null?{type:null}:(e.type==="FeatureCollection"?Hw:e.type==="Feature"?ix:Ig)(e)}function Hw(e){var n={type:"GeometryCollection",geometries:e.features.map(ix)};return e.bbox!=null&&(n.bbox=e.bbox),n}function ix(e){var n=Ig(e.geometry),i;e.id!=null&&(n.id=e.id),e.bbox!=null&&(n.bbox=e.bbox);for(i in e.properties){n.properties=e.properties;break}return n}function Ig(e){if(e==null)return{type:null};var n=e.type==="GeometryCollection"?{type:"GeometryCollection",geometries:e.geometries.map(Ig)}:e.type==="Point"||e.type==="MultiPoint"?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return e.bbox!=null&&(n.bbox=e.bbox),n}function Zw(e,n){var i=Pw(e=Gw(e)),l=Uw(Fw(Yw(e))),r=l.coordinates,c=Rg(l.arcs.length*1.4,Xw,Jw);e=l.objects,l.bbox=i,l.arcs=l.arcs.map(function(x,D){return c.set(x,D),r.slice(x[0],x[1]+1)}),delete l.coordinates,r=null;function f(x){x&&Og.call(g,x.type)&&g[x.type](x)}var g={GeometryCollection:function(x){x.geometries.forEach(f)},LineString:function(x){x.arcs=y(x.arcs)},MultiLineString:function(x){x.arcs=x.arcs.map(y)},Polygon:function(x){x.arcs=x.arcs.map(y)},MultiPolygon:function(x){x.arcs=x.arcs.map(v)}};function y(x){var D=[];do{var N=c.get(x);D.push(x[0]<x[1]?N:~N)}while(x=x.next);return D}function v(x){return x.map(y)}for(var E in e)f(e[E]);return l}function Xw(e){var n=e[0],i=e[1],l;return i<n&&(l=n,n=i,i=l),n+31*i}function Jw(e,n){var i=e[0],l=e[1],r=n[0],c=n[1],f;return l<i&&(f=i,i=l,l=f),c<r&&(f=r,r=c,c=f),i===r&&l===c}function Vw(e,n={}){if(n=n||{},!ze(n))throw new Error("options is invalid");const i=n.mutate;if(cr(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");(i===!1||i===void 0)&&(e=oi(e));const l=[],r=vg(e,(c,f)=>{const g=Ww(c,f);return g||(l.push(c),f)});return r&&l.push(r),l.length?l.length===1?l[0]:uo(l.map(c=>c.coordinates)):null}function kh(e){return e[0].toString()+","+e[1].toString()}function Ww(e,n){const i=e.geometry.coordinates,l=n.geometry.coordinates,r=kh(i[0]),c=kh(i[i.length-1]),f=kh(l[0]),g=kh(l[l.length-1]);let y;if(r===g)y=l.concat(i.slice(1));else if(f===c)y=i.concat(l.slice(1));else if(r===f)y=i.slice(1).reverse().concat(l);else if(c===g)y=i.concat(l.reverse().slice(1));else return null;return be(y)}function Qw(e,n={}){if(cr(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");(n.mutate===!1||n.mutate===void 0)&&(e=oi(e));const i=[];$n(e,c=>{i.push(c.geometry)});const l=Zw({geoms:ug(i).geometry});return Rw(l,l.objects.geoms.geometries)}function Kw(e,n={}){if(n=n||{},!ze(n))throw new Error("options is invalid");const i=n.mutate;if(cr(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");(i===!1||i===void 0)&&(e=oi(e));const l=$w(e);if(!l)throw new Error("geojson must be homogenous");const r=e;switch(l){case"LineString":return Vw(r,n);case"Polygon":return Qw(r,n);default:throw new Error(l+" is not supported")}}function $w(e){const n={};$n(e,l=>{n[l.geometry.type]=!0});const i=Object.keys(n);return i.length===1?i[0]:null}function tC(e,n={}){const i=n.maxEdge||1/0,l=eC(e),r=ex(l);if(r.features=r.features.filter(f=>{const g=f.geometry.coordinates[0][0],y=f.geometry.coordinates[0][1],v=f.geometry.coordinates[0][2],E=fn(g,y,n),x=fn(y,v,n),D=fn(g,v,n);return E<=i&&x<=i&&D<=i}),r.features.length<1)return null;const c=Kw(r);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),bn(c)}function eC(e){const n=[],i={};return Oe(e,l=>{if(!l.geometry)return;const r=l.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(i,r)||(n.push(l),i[r]=!0)}),Qt(n)}var nC=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Rp=Math.ceil,qr=Math.floor,lr="[BigNumber Error] ",Kv=lr+"Number primitive has more than 15 significant digits: ",ua=1e14,ye=14,Ip=9007199254740991,Pp=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],io=1e7,hi=1e9;function rx(e){var n,i,l,r=B.prototype={constructor:B,toString:null,valueOf:null},c=new B(1),f=20,g=4,y=-7,v=21,E=-1e7,x=1e7,D=!1,N=1,P=0,Z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},rt="0123456789abcdefghijklmnopqrstuvwxyz",et=!0;function B(A,M){var z,J,H,nt,at,lt,R,U,F=this;if(!(F instanceof B))return new B(A,M);if(M==null){if(A&&A._isBigNumber===!0){F.s=A.s,!A.c||A.e>x?F.c=F.e=null:A.e<E?F.c=[F.e=0]:(F.e=A.e,F.c=A.c.slice());return}if((lt=typeof A=="number")&&A*0==0){if(F.s=1/A<0?(A=-A,-1):1,A===~~A){for(nt=0,at=A;at>=10;at/=10,nt++);nt>x?F.c=F.e=null:(F.e=nt,F.c=[A]);return}U=String(A)}else{if(!nC.test(U=String(A)))return l(F,U,lt);F.s=U.charCodeAt(0)==45?(U=U.slice(1),-1):1}(nt=U.indexOf("."))>-1&&(U=U.replace(".","")),(at=U.search(/e/i))>0?(nt<0&&(nt=at),nt+=+U.slice(at+1),U=U.substring(0,at)):nt<0&&(nt=U.length)}else{if(Dn(M,2,rt.length,"Base"),M==10&&et)return F=new B(A),$(F,f+F.e+1,g);if(U=String(A),lt=typeof A=="number"){if(A*0!=0)return l(F,U,lt,M);if(F.s=1/A<0?(U=U.slice(1),-1):1,B.DEBUG&&U.replace(/^0\.0*|\./,"").length>15)throw Error(Kv+A)}else F.s=U.charCodeAt(0)===45?(U=U.slice(1),-1):1;for(z=rt.slice(0,M),nt=at=0,R=U.length;at<R;at++)if(z.indexOf(J=U.charAt(at))<0){if(J=="."){if(at>nt){nt=R;continue}}else if(!H&&(U==U.toUpperCase()&&(U=U.toLowerCase())||U==U.toLowerCase()&&(U=U.toUpperCase()))){H=!0,at=-1,nt=0;continue}return l(F,String(A),lt,M)}lt=!1,U=i(U,M,10,F.s),(nt=U.indexOf("."))>-1?U=U.replace(".",""):nt=U.length}for(at=0;U.charCodeAt(at)===48;at++);for(R=U.length;U.charCodeAt(--R)===48;);if(U=U.slice(at,++R)){if(R-=at,lt&&B.DEBUG&&R>15&&(A>Ip||A!==qr(A)))throw Error(Kv+F.s*A);if((nt=nt-at-1)>x)F.c=F.e=null;else if(nt<E)F.c=[F.e=0];else{if(F.e=nt,F.c=[],at=(nt+1)%ye,nt<0&&(at+=ye),at<R){for(at&&F.c.push(+U.slice(0,at)),R-=ye;at<R;)F.c.push(+U.slice(at,at+=ye));at=ye-(U=U.slice(at)).length}else at-=R;for(;at--;U+="0");F.c.push(+U)}}else F.c=[F.e=0]}B.clone=rx,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(A){var M,z;if(A!=null)if(typeof A=="object"){if(A.hasOwnProperty(M="DECIMAL_PLACES")&&(z=A[M],Dn(z,0,hi,M),f=z),A.hasOwnProperty(M="ROUNDING_MODE")&&(z=A[M],Dn(z,0,8,M),g=z),A.hasOwnProperty(M="EXPONENTIAL_AT")&&(z=A[M],z&&z.pop?(Dn(z[0],-hi,0,M),Dn(z[1],0,hi,M),y=z[0],v=z[1]):(Dn(z,-hi,hi,M),y=-(v=z<0?-z:z))),A.hasOwnProperty(M="RANGE"))if(z=A[M],z&&z.pop)Dn(z[0],-hi,-1,M),Dn(z[1],1,hi,M),E=z[0],x=z[1];else if(Dn(z,-hi,hi,M),z)E=-(x=z<0?-z:z);else throw Error(lr+M+" cannot be zero: "+z);if(A.hasOwnProperty(M="CRYPTO"))if(z=A[M],z===!!z)if(z)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))D=z;else throw D=!z,Error(lr+"crypto unavailable");else D=z;else throw Error(lr+M+" not true or false: "+z);if(A.hasOwnProperty(M="MODULO_MODE")&&(z=A[M],Dn(z,0,9,M),N=z),A.hasOwnProperty(M="POW_PRECISION")&&(z=A[M],Dn(z,0,hi,M),P=z),A.hasOwnProperty(M="FORMAT"))if(z=A[M],typeof z=="object")Z=z;else throw Error(lr+M+" not an object: "+z);if(A.hasOwnProperty(M="ALPHABET"))if(z=A[M],typeof z=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(z))et=z.slice(0,10)=="0123456789",rt=z;else throw Error(lr+M+" invalid: "+z)}else throw Error(lr+"Object expected: "+A);return{DECIMAL_PLACES:f,ROUNDING_MODE:g,EXPONENTIAL_AT:[y,v],RANGE:[E,x],CRYPTO:D,MODULO_MODE:N,POW_PRECISION:P,FORMAT:Z,ALPHABET:rt}},B.isBigNumber=function(A){if(!A||A._isBigNumber!==!0)return!1;if(!B.DEBUG)return!0;var M,z,J=A.c,H=A.e,nt=A.s;t:if({}.toString.call(J)=="[object Array]"){if((nt===1||nt===-1)&&H>=-hi&&H<=hi&&H===qr(H)){if(J[0]===0){if(H===0&&J.length===1)return!0;break t}if(M=(H+1)%ye,M<1&&(M+=ye),String(J[0]).length==M){for(M=0;M<J.length;M++)if(z=J[M],z<0||z>=ua||z!==qr(z))break t;if(z!==0)return!0}}}else if(J===null&&H===null&&(nt===null||nt===1||nt===-1))return!0;throw Error(lr+"Invalid BigNumber: "+A)},B.maximum=B.max=function(){return V(arguments,-1)},B.minimum=B.min=function(){return V(arguments,1)},B.random=(function(){var A=9007199254740992,M=Math.random()*A&2097151?function(){return qr(Math.random()*A)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(z){var J,H,nt,at,lt,R=0,U=[],F=new B(c);if(z==null?z=f:Dn(z,0,hi),at=Rp(z/ye),D)if(crypto.getRandomValues){for(J=crypto.getRandomValues(new Uint32Array(at*=2));R<at;)lt=J[R]*131072+(J[R+1]>>>11),lt>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),J[R]=H[0],J[R+1]=H[1]):(U.push(lt%1e14),R+=2);R=at/2}else if(crypto.randomBytes){for(J=crypto.randomBytes(at*=7);R<at;)lt=(J[R]&31)*281474976710656+J[R+1]*1099511627776+J[R+2]*4294967296+J[R+3]*16777216+(J[R+4]<<16)+(J[R+5]<<8)+J[R+6],lt>=9e15?crypto.randomBytes(7).copy(J,R):(U.push(lt%1e14),R+=7);R=at/7}else throw D=!1,Error(lr+"crypto unavailable");if(!D)for(;R<at;)lt=M(),lt<9e15&&(U[R++]=lt%1e14);for(at=U[--R],z%=ye,at&&z&&(lt=Pp[ye-z],U[R]=qr(at/lt)*lt);U[R]===0;U.pop(),R--);if(R<0)U=[nt=0];else{for(nt=-1;U[0]===0;U.splice(0,1),nt-=ye);for(R=1,lt=U[0];lt>=10;lt/=10,R++);R<ye&&(nt-=ye-R)}return F.e=nt,F.c=U,F}})(),B.sum=function(){for(var A=1,M=arguments,z=new B(M[0]);A<M.length;)z=z.plus(M[A++]);return z},i=(function(){var A="0123456789";function M(z,J,H,nt){for(var at,lt=[0],R,U=0,F=z.length;U<F;){for(R=lt.length;R--;lt[R]*=J);for(lt[0]+=nt.indexOf(z.charAt(U++)),at=0;at<lt.length;at++)lt[at]>H-1&&(lt[at+1]==null&&(lt[at+1]=0),lt[at+1]+=lt[at]/H|0,lt[at]%=H)}return lt.reverse()}return function(z,J,H,nt,at){var lt,R,U,F,it,Q,Y,K,ct=z.indexOf("."),pt=f,gt=g;for(ct>=0&&(F=P,P=0,z=z.replace(".",""),K=new B(J),Q=K.pow(z.length-ct),P=F,K.c=M(ps(Gr(Q.c),Q.e,"0"),10,H,A),K.e=K.c.length),Y=M(z,J,H,at?(lt=rt,A):(lt=A,rt)),U=F=Y.length;Y[--F]==0;Y.pop());if(!Y[0])return lt.charAt(0);if(ct<0?--U:(Q.c=Y,Q.e=U,Q.s=nt,Q=n(Q,K,pt,gt,H),Y=Q.c,it=Q.r,U=Q.e),R=U+pt+1,ct=Y[R],F=H/2,it=it||R<0||Y[R+1]!=null,it=gt<4?(ct!=null||it)&&(gt==0||gt==(Q.s<0?3:2)):ct>F||ct==F&&(gt==4||it||gt==6&&Y[R-1]&1||gt==(Q.s<0?8:7)),R<1||!Y[0])z=it?ps(lt.charAt(1),-pt,lt.charAt(0)):lt.charAt(0);else{if(Y.length=R,it)for(--H;++Y[--R]>H;)Y[R]=0,R||(++U,Y=[1].concat(Y));for(F=Y.length;!Y[--F];);for(ct=0,z="";ct<=F;z+=lt.charAt(Y[ct++]));z=ps(z,U,lt.charAt(0))}return z}})(),n=(function(){function A(J,H,nt){var at,lt,R,U,F=0,it=J.length,Q=H%io,Y=H/io|0;for(J=J.slice();it--;)R=J[it]%io,U=J[it]/io|0,at=Y*R+U*Q,lt=Q*R+at%io*io+F,F=(lt/nt|0)+(at/io|0)+Y*U,J[it]=lt%nt;return F&&(J=[F].concat(J)),J}function M(J,H,nt,at){var lt,R;if(nt!=at)R=nt>at?1:-1;else for(lt=R=0;lt<nt;lt++)if(J[lt]!=H[lt]){R=J[lt]>H[lt]?1:-1;break}return R}function z(J,H,nt,at){for(var lt=0;nt--;)J[nt]-=lt,lt=J[nt]<H[nt]?1:0,J[nt]=lt*at+J[nt]-H[nt];for(;!J[0]&&J.length>1;J.splice(0,1));}return function(J,H,nt,at,lt){var R,U,F,it,Q,Y,K,ct,pt,gt,St,Dt,ht,It,Ot,At,ft,Xt=J.s==H.s?1:-1,Zt=J.c,zt=H.c;if(!Zt||!Zt[0]||!zt||!zt[0])return new B(!J.s||!H.s||(Zt?zt&&Zt[0]==zt[0]:!zt)?NaN:Zt&&Zt[0]==0||!zt?Xt*0:Xt/0);for(ct=new B(Xt),pt=ct.c=[],U=J.e-H.e,Xt=nt+U+1,lt||(lt=ua,U=Hr(J.e/ye)-Hr(H.e/ye),Xt=Xt/ye|0),F=0;zt[F]==(Zt[F]||0);F++);if(zt[F]>(Zt[F]||0)&&U--,Xt<0)pt.push(1),it=!0;else{for(It=Zt.length,At=zt.length,F=0,Xt+=2,Q=qr(lt/(zt[0]+1)),Q>1&&(zt=A(zt,Q,lt),Zt=A(Zt,Q,lt),At=zt.length,It=Zt.length),ht=At,gt=Zt.slice(0,At),St=gt.length;St<At;gt[St++]=0);ft=zt.slice(),ft=[0].concat(ft),Ot=zt[0],zt[1]>=lt/2&&Ot++;do{if(Q=0,R=M(zt,gt,At,St),R<0){if(Dt=gt[0],At!=St&&(Dt=Dt*lt+(gt[1]||0)),Q=qr(Dt/Ot),Q>1)for(Q>=lt&&(Q=lt-1),Y=A(zt,Q,lt),K=Y.length,St=gt.length;M(Y,gt,K,St)==1;)Q--,z(Y,At<K?ft:zt,K,lt),K=Y.length,R=1;else Q==0&&(R=Q=1),Y=zt.slice(),K=Y.length;if(K<St&&(Y=[0].concat(Y)),z(gt,Y,St,lt),St=gt.length,R==-1)for(;M(zt,gt,At,St)<1;)Q++,z(gt,At<St?ft:zt,St,lt),St=gt.length}else R===0&&(Q++,gt=[0]);pt[F++]=Q,gt[0]?gt[St++]=Zt[ht]||0:(gt=[Zt[ht]],St=1)}while((ht++<It||gt[0]!=null)&&Xt--);it=gt[0]!=null,pt[0]||pt.splice(0,1)}if(lt==ua){for(F=1,Xt=pt[0];Xt>=10;Xt/=10,F++);$(ct,nt+(ct.e=F+U*ye-1)+1,at,it)}else ct.e=U,ct.r=+it;return ct}})();function X(A,M,z,J){var H,nt,at,lt,R;if(z==null?z=g:Dn(z,0,8),!A.c)return A.toString();if(H=A.c[0],at=A.e,M==null)R=Gr(A.c),R=J==1||J==2&&(at<=y||at>=v)?Mh(R,at):ps(R,at,"0");else if(A=$(new B(A),M,z),nt=A.e,R=Gr(A.c),lt=R.length,J==1||J==2&&(M<=nt||nt<=y)){for(;lt<M;R+="0",lt++);R=Mh(R,nt)}else if(M-=at+(J===2&&nt>at),R=ps(R,nt,"0"),nt+1>lt){if(--M>0)for(R+=".";M--;R+="0");}else if(M+=nt-lt,M>0)for(nt+1==lt&&(R+=".");M--;R+="0");return A.s<0&&H?"-"+R:R}function V(A,M){for(var z,J,H=1,nt=new B(A[0]);H<A.length;H++)J=new B(A[H]),(!J.s||(z=Yo(nt,J))===M||z===0&&nt.s===M)&&(nt=J);return nt}function W(A,M,z){for(var J=1,H=M.length;!M[--H];M.pop());for(H=M[0];H>=10;H/=10,J++);return(z=J+z*ye-1)>x?A.c=A.e=null:z<E?A.c=[A.e=0]:(A.e=z,A.c=M),A}l=(function(){var A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,z=/^\.([^.]+)$/,J=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(nt,at,lt,R){var U,F=lt?at:at.replace(H,"");if(J.test(F))nt.s=isNaN(F)?null:F<0?-1:1;else{if(!lt&&(F=F.replace(A,function(it,Q,Y){return U=(Y=Y.toLowerCase())=="x"?16:Y=="b"?2:8,!R||R==U?Q:it}),R&&(U=R,F=F.replace(M,"$1").replace(z,"0.$1")),at!=F))return new B(F,U);if(B.DEBUG)throw Error(lr+"Not a"+(R?" base "+R:"")+" number: "+at);nt.s=null}nt.c=nt.e=null}})();function $(A,M,z,J){var H,nt,at,lt,R,U,F,it=A.c,Q=Pp;if(it){t:{for(H=1,lt=it[0];lt>=10;lt/=10,H++);if(nt=M-H,nt<0)nt+=ye,at=M,R=it[U=0],F=qr(R/Q[H-at-1]%10);else if(U=Rp((nt+1)/ye),U>=it.length)if(J){for(;it.length<=U;it.push(0));R=F=0,H=1,nt%=ye,at=nt-ye+1}else break t;else{for(R=lt=it[U],H=1;lt>=10;lt/=10,H++);nt%=ye,at=nt-ye+H,F=at<0?0:qr(R/Q[H-at-1]%10)}if(J=J||M<0||it[U+1]!=null||(at<0?R:R%Q[H-at-1]),J=z<4?(F||J)&&(z==0||z==(A.s<0?3:2)):F>5||F==5&&(z==4||J||z==6&&(nt>0?at>0?R/Q[H-at]:0:it[U-1])%10&1||z==(A.s<0?8:7)),M<1||!it[0])return it.length=0,J?(M-=A.e+1,it[0]=Q[(ye-M%ye)%ye],A.e=-M||0):it[0]=A.e=0,A;if(nt==0?(it.length=U,lt=1,U--):(it.length=U+1,lt=Q[ye-nt],it[U]=at>0?qr(R/Q[H-at]%Q[at])*lt:0),J)for(;;)if(U==0){for(nt=1,at=it[0];at>=10;at/=10,nt++);for(at=it[0]+=lt,lt=1;at>=10;at/=10,lt++);nt!=lt&&(A.e++,it[0]==ua&&(it[0]=1));break}else{if(it[U]+=lt,it[U]!=ua)break;it[U--]=0,lt=1}for(nt=it.length;it[--nt]===0;it.pop());}A.e>x?A.c=A.e=null:A.e<E&&(A.c=[A.e=0])}return A}function tt(A){var M,z=A.e;return z===null?A.toString():(M=Gr(A.c),M=z<=y||z>=v?Mh(M,z):ps(M,z,"0"),A.s<0?"-"+M:M)}return r.absoluteValue=r.abs=function(){var A=new B(this);return A.s<0&&(A.s=1),A},r.comparedTo=function(A,M){return Yo(this,new B(A,M))},r.decimalPlaces=r.dp=function(A,M){var z,J,H,nt=this;if(A!=null)return Dn(A,0,hi),M==null?M=g:Dn(M,0,8),$(new B(nt),A+nt.e+1,M);if(!(z=nt.c))return null;if(J=((H=z.length-1)-Hr(this.e/ye))*ye,H=z[H])for(;H%10==0;H/=10,J--);return J<0&&(J=0),J},r.dividedBy=r.div=function(A,M){return n(this,new B(A,M),f,g)},r.dividedToIntegerBy=r.idiv=function(A,M){return n(this,new B(A,M),0,1)},r.exponentiatedBy=r.pow=function(A,M){var z,J,H,nt,at,lt,R,U,F,it=this;if(A=new B(A),A.c&&!A.isInteger())throw Error(lr+"Exponent not an integer: "+tt(A));if(M!=null&&(M=new B(M)),lt=A.e>14,!it.c||!it.c[0]||it.c[0]==1&&!it.e&&it.c.length==1||!A.c||!A.c[0])return F=new B(Math.pow(+tt(it),lt?A.s*(2-Nh(A)):+tt(A))),M?F.mod(M):F;if(R=A.s<0,M){if(M.c?!M.c[0]:!M.s)return new B(NaN);J=!R&&it.isInteger()&&M.isInteger(),J&&(it=it.mod(M))}else{if(A.e>9&&(it.e>0||it.e<-1||(it.e==0?it.c[0]>1||lt&&it.c[1]>=24e7:it.c[0]<8e13||lt&&it.c[0]<=9999975e7)))return nt=it.s<0&&Nh(A)?-0:0,it.e>-1&&(nt=1/nt),new B(R?1/nt:nt);P&&(nt=Rp(P/ye+2))}for(lt?(z=new B(.5),R&&(A.s=1),U=Nh(A)):(H=Math.abs(+tt(A)),U=H%2),F=new B(c);;){if(U){if(F=F.times(it),!F.c)break;nt?F.c.length>nt&&(F.c.length=nt):J&&(F=F.mod(M))}if(H){if(H=qr(H/2),H===0)break;U=H%2}else if(A=A.times(z),$(A,A.e+1,1),A.e>14)U=Nh(A);else{if(H=+tt(A),H===0)break;U=H%2}it=it.times(it),nt?it.c&&it.c.length>nt&&(it.c.length=nt):J&&(it=it.mod(M))}return J?F:(R&&(F=c.div(F)),M?F.mod(M):nt?$(F,P,g,at):F)},r.integerValue=function(A){var M=new B(this);return A==null?A=g:Dn(A,0,8),$(M,M.e+1,A)},r.isEqualTo=r.eq=function(A,M){return Yo(this,new B(A,M))===0},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(A,M){return Yo(this,new B(A,M))>0},r.isGreaterThanOrEqualTo=r.gte=function(A,M){return(M=Yo(this,new B(A,M)))===1||M===0},r.isInteger=function(){return!!this.c&&Hr(this.e/ye)>this.c.length-2},r.isLessThan=r.lt=function(A,M){return Yo(this,new B(A,M))<0},r.isLessThanOrEqualTo=r.lte=function(A,M){return(M=Yo(this,new B(A,M)))===-1||M===0},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return this.s>0},r.isZero=function(){return!!this.c&&this.c[0]==0},r.minus=function(A,M){var z,J,H,nt,at=this,lt=at.s;if(A=new B(A,M),M=A.s,!lt||!M)return new B(NaN);if(lt!=M)return A.s=-M,at.plus(A);var R=at.e/ye,U=A.e/ye,F=at.c,it=A.c;if(!R||!U){if(!F||!it)return F?(A.s=-M,A):new B(it?at:NaN);if(!F[0]||!it[0])return it[0]?(A.s=-M,A):new B(F[0]?at:g==3?-0:0)}if(R=Hr(R),U=Hr(U),F=F.slice(),lt=R-U){for((nt=lt<0)?(lt=-lt,H=F):(U=R,H=it),H.reverse(),M=lt;M--;H.push(0));H.reverse()}else for(J=(nt=(lt=F.length)<(M=it.length))?lt:M,lt=M=0;M<J;M++)if(F[M]!=it[M]){nt=F[M]<it[M];break}if(nt&&(H=F,F=it,it=H,A.s=-A.s),M=(J=it.length)-(z=F.length),M>0)for(;M--;F[z++]=0);for(M=ua-1;J>lt;){if(F[--J]<it[J]){for(z=J;z&&!F[--z];F[z]=M);--F[z],F[J]+=ua}F[J]-=it[J]}for(;F[0]==0;F.splice(0,1),--U);return F[0]?W(A,F,U):(A.s=g==3?-1:1,A.c=[A.e=0],A)},r.modulo=r.mod=function(A,M){var z,J,H=this;return A=new B(A,M),!H.c||!A.s||A.c&&!A.c[0]?new B(NaN):!A.c||H.c&&!H.c[0]?new B(H):(N==9?(J=A.s,A.s=1,z=n(H,A,0,3),A.s=J,z.s*=J):z=n(H,A,0,N),A=H.minus(z.times(A)),!A.c[0]&&N==1&&(A.s=H.s),A)},r.multipliedBy=r.times=function(A,M){var z,J,H,nt,at,lt,R,U,F,it,Q,Y,K,ct,pt,gt=this,St=gt.c,Dt=(A=new B(A,M)).c;if(!St||!Dt||!St[0]||!Dt[0])return!gt.s||!A.s||St&&!St[0]&&!Dt||Dt&&!Dt[0]&&!St?A.c=A.e=A.s=null:(A.s*=gt.s,!St||!Dt?A.c=A.e=null:(A.c=[0],A.e=0)),A;for(J=Hr(gt.e/ye)+Hr(A.e/ye),A.s*=gt.s,R=St.length,it=Dt.length,R<it&&(K=St,St=Dt,Dt=K,H=R,R=it,it=H),H=R+it,K=[];H--;K.push(0));for(ct=ua,pt=io,H=it;--H>=0;){for(z=0,Q=Dt[H]%pt,Y=Dt[H]/pt|0,at=R,nt=H+at;nt>H;)U=St[--at]%pt,F=St[at]/pt|0,lt=Y*U+F*Q,U=Q*U+lt%pt*pt+K[nt]+z,z=(U/ct|0)+(lt/pt|0)+Y*F,K[nt--]=U%ct;K[nt]=z}return z?++J:K.splice(0,1),W(A,K,J)},r.negated=function(){var A=new B(this);return A.s=-A.s||null,A},r.plus=function(A,M){var z,J=this,H=J.s;if(A=new B(A,M),M=A.s,!H||!M)return new B(NaN);if(H!=M)return A.s=-M,J.minus(A);var nt=J.e/ye,at=A.e/ye,lt=J.c,R=A.c;if(!nt||!at){if(!lt||!R)return new B(H/0);if(!lt[0]||!R[0])return R[0]?A:new B(lt[0]?J:H*0)}if(nt=Hr(nt),at=Hr(at),lt=lt.slice(),H=nt-at){for(H>0?(at=nt,z=R):(H=-H,z=lt),z.reverse();H--;z.push(0));z.reverse()}for(H=lt.length,M=R.length,H-M<0&&(z=R,R=lt,lt=z,M=H),H=0;M;)H=(lt[--M]=lt[M]+R[M]+H)/ua|0,lt[M]=ua===lt[M]?0:lt[M]%ua;return H&&(lt=[H].concat(lt),++at),W(A,lt,at)},r.precision=r.sd=function(A,M){var z,J,H,nt=this;if(A!=null&&A!==!!A)return Dn(A,1,hi),M==null?M=g:Dn(M,0,8),$(new B(nt),A,M);if(!(z=nt.c))return null;if(H=z.length-1,J=H*ye+1,H=z[H]){for(;H%10==0;H/=10,J--);for(H=z[0];H>=10;H/=10,J++);}return A&&nt.e+1>J&&(J=nt.e+1),J},r.shiftedBy=function(A){return Dn(A,-Ip,Ip),this.times("1e"+A)},r.squareRoot=r.sqrt=function(){var A,M,z,J,H,nt=this,at=nt.c,lt=nt.s,R=nt.e,U=f+4,F=new B("0.5");if(lt!==1||!at||!at[0])return new B(!lt||lt<0&&(!at||at[0])?NaN:at?nt:1/0);if(lt=Math.sqrt(+tt(nt)),lt==0||lt==1/0?(M=Gr(at),(M.length+R)%2==0&&(M+="0"),lt=Math.sqrt(+M),R=Hr((R+1)/2)-(R<0||R%2),lt==1/0?M="5e"+R:(M=lt.toExponential(),M=M.slice(0,M.indexOf("e")+1)+R),z=new B(M)):z=new B(lt+""),z.c[0]){for(R=z.e,lt=R+U,lt<3&&(lt=0);;)if(H=z,z=F.times(H.plus(n(nt,H,U,1))),Gr(H.c).slice(0,lt)===(M=Gr(z.c)).slice(0,lt))if(z.e<R&&--lt,M=M.slice(lt-3,lt+1),M=="9999"||!J&&M=="4999"){if(!J&&($(H,H.e+f+2,0),H.times(H).eq(nt))){z=H;break}U+=4,lt+=4,J=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&($(z,z.e+f+2,1),A=!z.times(z).eq(nt));break}}return $(z,z.e+f+1,g,A)},r.toExponential=function(A,M){return A!=null&&(Dn(A,0,hi),A++),X(this,A,M,1)},r.toFixed=function(A,M){return A!=null&&(Dn(A,0,hi),A=A+this.e+1),X(this,A,M)},r.toFormat=function(A,M,z){var J,H=this;if(z==null)A!=null&&M&&typeof M=="object"?(z=M,M=null):A&&typeof A=="object"?(z=A,A=M=null):z=Z;else if(typeof z!="object")throw Error(lr+"Argument not an object: "+z);if(J=H.toFixed(A,M),H.c){var nt,at=J.split("."),lt=+z.groupSize,R=+z.secondaryGroupSize,U=z.groupSeparator||"",F=at[0],it=at[1],Q=H.s<0,Y=Q?F.slice(1):F,K=Y.length;if(R&&(nt=lt,lt=R,R=nt,K-=nt),lt>0&&K>0){for(nt=K%lt||lt,F=Y.substr(0,nt);nt<K;nt+=lt)F+=U+Y.substr(nt,lt);R>0&&(F+=U+Y.slice(nt)),Q&&(F="-"+F)}J=it?F+(z.decimalSeparator||"")+((R=+z.fractionGroupSize)?it.replace(new RegExp("\\d{"+R+"}\\B","g"),"$&"+(z.fractionGroupSeparator||"")):it):F}return(z.prefix||"")+J+(z.suffix||"")},r.toFraction=function(A){var M,z,J,H,nt,at,lt,R,U,F,it,Q,Y=this,K=Y.c;if(A!=null&&(lt=new B(A),!lt.isInteger()&&(lt.c||lt.s!==1)||lt.lt(c)))throw Error(lr+"Argument "+(lt.isInteger()?"out of range: ":"not an integer: ")+tt(lt));if(!K)return new B(Y);for(M=new B(c),U=z=new B(c),J=R=new B(c),Q=Gr(K),nt=M.e=Q.length-Y.e-1,M.c[0]=Pp[(at=nt%ye)<0?ye+at:at],A=!A||lt.comparedTo(M)>0?nt>0?M:U:lt,at=x,x=1/0,lt=new B(Q),R.c[0]=0;F=n(lt,M,0,1),H=z.plus(F.times(J)),H.comparedTo(A)!=1;)z=J,J=H,U=R.plus(F.times(H=U)),R=H,M=lt.minus(F.times(H=M)),lt=H;return H=n(A.minus(z),J,0,1),R=R.plus(H.times(U)),z=z.plus(H.times(J)),R.s=U.s=Y.s,nt=nt*2,it=n(U,J,nt,g).minus(Y).abs().comparedTo(n(R,z,nt,g).minus(Y).abs())<1?[U,J]:[R,z],x=at,it},r.toNumber=function(){return+tt(this)},r.toPrecision=function(A,M){return A!=null&&Dn(A,1,hi),X(this,A,M,2)},r.toString=function(A){var M,z=this,J=z.s,H=z.e;return H===null?J?(M="Infinity",J<0&&(M="-"+M)):M="NaN":(A==null?M=H<=y||H>=v?Mh(Gr(z.c),H):ps(Gr(z.c),H,"0"):A===10&&et?(z=$(new B(z),f+H+1,g),M=ps(Gr(z.c),z.e,"0")):(Dn(A,2,rt.length,"Base"),M=i(ps(Gr(z.c),H,"0"),10,A,J,!0)),J<0&&z.c[0]&&(M="-"+M)),M},r.valueOf=r.toJSON=function(){return tt(this)},r._isBigNumber=!0,r[Symbol.toStringTag]="BigNumber",r[Symbol.for("nodejs.util.inspect.custom")]=r.valueOf,e!=null&&B.set(e),B}function Hr(e){var n=e|0;return e>0||e===n?n:n-1}function Gr(e){for(var n,i,l=1,r=e.length,c=e[0]+"";l<r;){for(n=e[l++]+"",i=ye-n.length;i--;n="0"+n);c+=n}for(r=c.length;c.charCodeAt(--r)===48;);return c.slice(0,r+1||1)}function Yo(e,n){var i,l,r=e.c,c=n.c,f=e.s,g=n.s,y=e.e,v=n.e;if(!f||!g)return null;if(i=r&&!r[0],l=c&&!c[0],i||l)return i?l?0:-g:f;if(f!=g)return f;if(i=f<0,l=y==v,!r||!c)return l?0:!r^i?1:-1;if(!l)return y>v^i?1:-1;for(g=(y=r.length)<(v=c.length)?y:v,f=0;f<g;f++)if(r[f]!=c[f])return r[f]>c[f]^i?1:-1;return y==v?0:y>v^i?1:-1}function Dn(e,n,i,l){if(e<n||e>i||e!==qr(e))throw Error(lr+(l||"Argument")+(typeof e=="number"?e<n||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Nh(e){var n=e.c.length-1;return Hr(e.e/ye)==n&&e.c[n]%2!=0}function Mh(e,n){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(n<0?"e":"e+")+n}function ps(e,n,i){var l,r;if(n<0){for(r=i+".";++n;r+=i);e=r+e}else if(l=e.length,++n>l){for(r=i,n-=l;--n;r+=i);e+=r}else n<l&&(e=e.slice(0,n)+"."+e.slice(n));return e}var Ma=rx(),iC=class{key;left=null;right=null;constructor(e){this.key=e}},Yu=class extends iC{constructor(e){super(e)}},rC=class{size=0;modificationCount=0;splayCount=0;splay(e){const n=this.root;if(n==null)return this.compare(e,e),-1;let i=null,l=null,r=null,c=null,f=n;const g=this.compare;let y;for(;;)if(y=g(f.key,e),y>0){let v=f.left;if(v==null||(y=g(v.key,e),y>0&&(f.left=v.right,v.right=f,f=v,v=f.left,v==null)))break;i==null?l=f:i.left=f,i=f,f=v}else if(y<0){let v=f.right;if(v==null||(y=g(v.key,e),y<0&&(f.right=v.left,v.left=f,f=v,v=f.right,v==null)))break;r==null?c=f:r.right=f,r=f,f=v}else break;return r!=null&&(r.right=f.left,f.left=c),i!=null&&(i.left=f.right,f.right=l),this.root!==f&&(this.root=f,this.splayCount++),y}splayMin(e){let n=e,i=n.left;for(;i!=null;){const l=i;n.left=l.right,l.right=n,n=l,i=n.left}return n}splayMax(e){let n=e,i=n.right;for(;i!=null;){const l=i;n.right=l.left,l.left=n,n=l,i=n.right}return n}_delete(e){if(this.root==null||this.splay(e)!=0)return null;let i=this.root;const l=i,r=i.left;if(this.size--,r==null)this.root=i.right;else{const c=i.right;i=this.splayMax(r),i.right=c,this.root=i}return this.modificationCount++,l}addNewRoot(e,n){this.size++,this.modificationCount++;const i=this.root;if(i==null){this.root=e;return}n<0?(e.left=i,e.right=i.right,i.right=null):(e.right=i,e.left=i.left,i.left=null),this.root=e}_first(){const e=this.root;return e==null?null:(this.root=this.splayMin(e),this.root)}_last(){const e=this.root;return e==null?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&this.splay(e)==0}defaultCompare(){return(e,n)=>e<n?-1:e>n?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},Kh=class tc extends rC{root=null;compare;validKey;constructor(n,i){super(),this.compare=n??this.defaultCompare(),this.validKey=i??(l=>l!=null&&l!=null)}delete(n){return this.validKey(n)?this._delete(n)!=null:!1}deleteAll(n){for(const i of n)this.delete(i)}forEach(n){const i=this[Symbol.iterator]();let l;for(;l=i.next(),!l.done;)n(l.value,l.value,this)}add(n){const i=this.splay(n);return i!=0&&this.addNewRoot(new Yu(n),i),this}addAndReturn(n){const i=this.splay(n);return i!=0&&this.addNewRoot(new Yu(n),i),this.root.key}addAll(n){for(const i of n)this.add(i)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(n){if(n==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(n)<0)return this.root.key;let l=this.root.left;if(l==null)return null;let r=l.right;for(;r!=null;)l=r,r=l.right;return l.key}firstAfter(n){if(n==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(n)>0)return this.root.key;let l=this.root.right;if(l==null)return null;let r=l.left;for(;r!=null;)l=r,r=l.left;return l.key}retainAll(n){const i=new tc(this.compare,this.validKey),l=this.modificationCount;for(const r of n){if(l!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(r)&&this.splay(r)==0&&i.add(this.root.key)}i.size!=this.size&&(this.root=i.root,this.size=i.size,this.modificationCount++)}lookup(n){return!this.validKey(n)||this.splay(n)!=0?null:this.root.key}intersection(n){const i=new tc(this.compare,this.validKey);for(const l of this)n.has(l)&&i.add(l);return i}difference(n){const i=new tc(this.compare,this.validKey);for(const l of this)n.has(l)||i.add(l);return i}union(n){const i=this.clone();return i.addAll(n),i}clone(){const n=new tc(this.compare,this.validKey);return n.size=this.size,n.root=this.copyNode(this.root),n}copyNode(n){if(n==null)return null;function i(r,c){let f,g;do{if(f=r.left,g=r.right,f!=null){const y=new Yu(f.key);c.left=y,i(f,y)}if(g!=null){const y=new Yu(g.key);c.right=y,r=g,c=y}}while(g!=null)}const l=new Yu(n.key);return i(n,l),l}toSet(){return this.clone()}entries(){return new sC(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new aC(this.wrap())}[Symbol.toStringTag]="[object Set]"},ax=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;e!=null;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let i=this.tree.getRoot();for(;i!=null;)this.path.push(i),i=i.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],n=e.right;if(n!=null){for(;n!=null;)this.path.push(n),n=n.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},aC=class extends ax{getValue(e){return e.key}},sC=class extends ax{getValue(e){return[e.key,e.key]}},sx=e=>()=>e,Kp=e=>{const n=e?(i,l)=>l.minus(i).abs().isLessThanOrEqualTo(e):sx(!1);return(i,l)=>n(i,l)?0:i.comparedTo(l)};function oC(e){const n=e?(i,l,r,c,f)=>i.exponentiatedBy(2).isLessThanOrEqualTo(c.minus(l).exponentiatedBy(2).plus(f.minus(r).exponentiatedBy(2)).times(e)):sx(!1);return(i,l,r)=>{const c=i.x,f=i.y,g=r.x,y=r.y,v=f.minus(y).times(l.x.minus(g)).minus(c.minus(g).times(l.y.minus(y)));return n(v,c,f,g,y)?0:v.comparedTo(0)}}var lC=e=>e,uC=e=>{if(e){const n=new Kh(Kp(e)),i=new Kh(Kp(e)),l=(c,f)=>f.addAndReturn(c),r=c=>({x:l(c.x,n),y:l(c.y,i)});return r({x:new Ma(0),y:new Ma(0)}),r}return lC},$p=e=>({set:n=>{Ss=$p(n)},reset:()=>$p(e),compare:Kp(e),snap:uC(e),orient:oC(e)}),Ss=$p(),Gu=(e,n)=>e.ll.x.isLessThanOrEqualTo(n.x)&&n.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(n.y)&&n.y.isLessThanOrEqualTo(e.ur.y),tg=(e,n)=>{if(n.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(n.ll.x)||n.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(n.ll.y))return null;const i=e.ll.x.isLessThan(n.ll.x)?n.ll.x:e.ll.x,l=e.ur.x.isLessThan(n.ur.x)?e.ur.x:n.ur.x,r=e.ll.y.isLessThan(n.ll.y)?n.ll.y:e.ll.y,c=e.ur.y.isLessThan(n.ur.y)?e.ur.y:n.ur.y;return{ll:{x:i,y:r},ur:{x:l,y:c}}},Uh=(e,n)=>e.x.times(n.y).minus(e.y.times(n.x)),ox=(e,n)=>e.x.times(n.x).plus(e.y.times(n.y)),$h=e=>ox(e,e).sqrt(),cC=(e,n,i)=>{const l={x:n.x.minus(e.x),y:n.y.minus(e.y)},r={x:i.x.minus(e.x),y:i.y.minus(e.y)};return Uh(r,l).div($h(r)).div($h(l))},hC=(e,n,i)=>{const l={x:n.x.minus(e.x),y:n.y.minus(e.y)},r={x:i.x.minus(e.x),y:i.y.minus(e.y)};return ox(r,l).div($h(r)).div($h(l))},$v=(e,n,i)=>n.y.isZero()?null:{x:e.x.plus(n.x.div(n.y).times(i.minus(e.y))),y:i},t0=(e,n,i)=>n.x.isZero()?null:{x:i,y:e.y.plus(n.y.div(n.x).times(i.minus(e.x)))},fC=(e,n,i,l)=>{if(n.x.isZero())return t0(i,l,e.x);if(l.x.isZero())return t0(e,n,i.x);if(n.y.isZero())return $v(i,l,e.y);if(l.y.isZero())return $v(e,n,i.y);const r=Uh(n,l);if(r.isZero())return null;const c={x:i.x.minus(e.x),y:i.y.minus(e.y)},f=Uh(c,n).div(r),g=Uh(c,l).div(r),y=e.x.plus(g.times(n.x)),v=i.x.plus(f.times(l.x)),E=e.y.plus(g.times(n.y)),x=i.y.plus(f.times(l.y)),D=y.plus(v).div(2),N=E.plus(x).div(2);return{x:D,y:N}},Aa=class lx{point;isLeft;segment;otherSE;consumedBy;static compare(n,i){const l=lx.comparePoints(n.point,i.point);return l!==0?l:(n.point!==i.point&&n.link(i),n.isLeft!==i.isLeft?n.isLeft?1:-1:tf.compare(n.segment,i.segment))}static comparePoints(n,i){return n.x.isLessThan(i.x)?-1:n.x.isGreaterThan(i.x)?1:n.y.isLessThan(i.y)?-1:n.y.isGreaterThan(i.y)?1:0}constructor(n,i){n.events===void 0?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=i}link(n){if(n.point===this.point)throw new Error("Tried to link already linked events");const i=n.point.events;for(let l=0,r=i.length;l<r;l++){const c=i[l];this.point.events.push(c),c.point=this.point}this.checkForConsuming()}checkForConsuming(){const n=this.point.events.length;for(let i=0;i<n;i++){const l=this.point.events[i];if(l.segment.consumedBy===void 0)for(let r=i+1;r<n;r++){const c=this.point.events[r];c.consumedBy===void 0&&l.otherSE.point.events===c.otherSE.point.events&&l.segment.consume(c.segment)}}}getAvailableLinkedEvents(){const n=[];for(let i=0,l=this.point.events.length;i<l;i++){const r=this.point.events[i];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&n.push(r)}return n}getLeftmostComparator(n){const i=new Map,l=r=>{const c=r.otherSE;i.set(r,{sine:cC(this.point,n.point,c.point),cosine:hC(this.point,n.point,c.point)})};return(r,c)=>{i.has(r)||l(r),i.has(c)||l(c);const{sine:f,cosine:g}=i.get(r),{sine:y,cosine:v}=i.get(c);return f.isGreaterThanOrEqualTo(0)&&y.isGreaterThanOrEqualTo(0)?g.isLessThan(v)?1:g.isGreaterThan(v)?-1:0:f.isLessThan(0)&&y.isLessThan(0)?g.isLessThan(v)?-1:g.isGreaterThan(v)?1:0:y.isLessThan(f)?-1:y.isGreaterThan(f)?1:0}}},dC=class eg{events;poly;_isExteriorRing;_enclosingRing;static factory(n){const i=[];for(let l=0,r=n.length;l<r;l++){const c=n[l];if(!c.isInResult()||c.ringOut)continue;let f=null,g=c.leftSE,y=c.rightSE;const v=[g],E=g.point,x=[];for(;f=g,g=y,v.push(g),g.point!==E;)for(;;){const D=g.getAvailableLinkedEvents();if(D.length===0){const Z=v[0].point,rt=v[v.length-1].point;throw new Error(`Unable to complete output ring starting at [${Z.x}, ${Z.y}]. Last matching segment found ends at [${rt.x}, ${rt.y}].`)}if(D.length===1){y=D[0].otherSE;break}let N=null;for(let Z=0,rt=x.length;Z<rt;Z++)if(x[Z].point===g.point){N=Z;break}if(N!==null){const Z=x.splice(N)[0],rt=v.splice(Z.index);rt.unshift(rt[0].otherSE),i.push(new eg(rt.reverse()));continue}x.push({index:v.length,point:g.point});const P=g.getLeftmostComparator(f);y=D.sort(P)[0].otherSE;break}i.push(new eg(v))}return i}constructor(n){this.events=n;for(let i=0,l=n.length;i<l;i++)n[i].segment.ringOut=this;this.poly=null}getGeom(){let n=this.events[0].point;const i=[n];for(let v=1,E=this.events.length-1;v<E;v++){const x=this.events[v].point,D=this.events[v+1].point;Ss.orient(x,n,D)!==0&&(i.push(x),n=x)}if(i.length===1)return null;const l=i[0],r=i[1];Ss.orient(l,n,r)===0&&i.shift(),i.push(i[0]);const c=this.isExteriorRing()?1:-1,f=this.isExteriorRing()?0:i.length-1,g=this.isExteriorRing()?i.length:-1,y=[];for(let v=f;v!=g;v+=c)y.push([i[v].x.toNumber(),i[v].y.toNumber()]);return y}isExteriorRing(){if(this._isExteriorRing===void 0){const n=this.enclosingRing();this._isExteriorRing=n?!n.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let n=this.events[0];for(let r=1,c=this.events.length;r<c;r++){const f=this.events[r];Aa.compare(n,f)>0&&(n=f)}let i=n.segment.prevInResult(),l=i?i.prevInResult():null;for(;;){if(!i)return null;if(!l)return i.ringOut;if(l.ringOut!==i.ringOut)return l.ringOut?.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut?.enclosingRing();i=l.prevInResult(),l=i?i.prevInResult():null}}},e0=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=this.exteriorRing.getGeom();if(e===null)return null;const n=[e];for(let i=0,l=this.interiorRings.length;i<l;i++){const r=this.interiorRings[i].getGeom();r!==null&&n.push(r)}return n}},pC=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let n=0,i=this.polys.length;n<i;n++){const l=this.polys[n].getGeom();l!==null&&e.push(l)}return e}_composePolys(e){const n=[];for(let i=0,l=e.length;i<l;i++){const r=e[i];if(!r.poly)if(r.isExteriorRing())n.push(new e0(r));else{const c=r.enclosingRing();c?.poly||n.push(new e0(c)),c?.poly?.addInterior(r)}}return n}},gC=class{queue;tree;segments;constructor(e,n=tf.compare){this.queue=e,this.tree=new Kh(n),this.segments=[]}process(e){const n=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(n),i;e.isLeft&&this.tree.add(n);let l=n,r=n;do l=this.tree.lastBefore(l);while(l!=null&&l.consumedBy!=null);do r=this.tree.firstAfter(r);while(r!=null&&r.consumedBy!=null);if(e.isLeft){let c=null;if(l){const g=l.getIntersection(n);if(g!==null&&(n.isAnEndpoint(g)||(c=g),!l.isAnEndpoint(g))){const y=this._splitSafely(l,g);for(let v=0,E=y.length;v<E;v++)i.push(y[v])}}let f=null;if(r){const g=r.getIntersection(n);if(g!==null&&(n.isAnEndpoint(g)||(f=g),!r.isAnEndpoint(g))){const y=this._splitSafely(r,g);for(let v=0,E=y.length;v<E;v++)i.push(y[v])}}if(c!==null||f!==null){let g=null;c===null?g=f:f===null?g=c:g=Aa.comparePoints(c,f)<=0?c:f,this.queue.delete(n.rightSE),i.push(n.rightSE);const y=n.split(g);for(let v=0,E=y.length;v<E;v++)i.push(y[v])}i.length>0?(this.tree.delete(n),i.push(e)):(this.segments.push(n),n.prev=l)}else{if(l&&r){const c=l.getIntersection(r);if(c!==null){if(!l.isAnEndpoint(c)){const f=this._splitSafely(l,c);for(let g=0,y=f.length;g<y;g++)i.push(f[g])}if(!r.isAnEndpoint(c)){const f=this._splitSafely(r,c);for(let g=0,y=f.length;g<y;g++)i.push(f[g])}}}this.tree.delete(n)}return i}_splitSafely(e,n){this.tree.delete(e);const i=e.rightSE;this.queue.delete(i);const l=e.split(n);return l.push(i),e.consumedBy===void 0&&this.tree.add(e),l}},mC=class{type;numMultiPolys;run(e,n,i){ec.type=e;const l=[new i0(n,!0)];for(let v=0,E=i.length;v<E;v++)l.push(new i0(i[v],!1));if(ec.numMultiPolys=l.length,ec.type==="difference"){const v=l[0];let E=1;for(;E<l.length;)tg(l[E].bbox,v.bbox)!==null?E++:l.splice(E,1)}if(ec.type==="intersection")for(let v=0,E=l.length;v<E;v++){const x=l[v];for(let D=v+1,N=l.length;D<N;D++)if(tg(x.bbox,l[D].bbox)===null)return[]}const r=new Kh(Aa.compare);for(let v=0,E=l.length;v<E;v++){const x=l[v].getSweepEvents();for(let D=0,N=x.length;D<N;D++)r.add(x[D])}const c=new gC(r);let f=null;for(r.size!=0&&(f=r.first(),r.delete(f));f;){const v=c.process(f);for(let E=0,x=v.length;E<x;E++){const D=v[E];D.consumedBy===void 0&&r.add(D)}r.size!=0?(f=r.first(),r.delete(f)):f=null}Ss.reset();const g=dC.factory(c.segments);return new pC(g).getGeom()}},ec=new mC,Zl=ec,_C=0,tf=class Yh{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(n,i){const l=n.leftSE.point.x,r=i.leftSE.point.x,c=n.rightSE.point.x,f=i.rightSE.point.x;if(f.isLessThan(l))return 1;if(c.isLessThan(r))return-1;const g=n.leftSE.point.y,y=i.leftSE.point.y,v=n.rightSE.point.y,E=i.rightSE.point.y;if(l.isLessThan(r)){if(y.isLessThan(g)&&y.isLessThan(v))return 1;if(y.isGreaterThan(g)&&y.isGreaterThan(v))return-1;const x=n.comparePoint(i.leftSE.point);if(x<0)return 1;if(x>0)return-1;const D=i.comparePoint(n.rightSE.point);return D!==0?D:-1}if(l.isGreaterThan(r)){if(g.isLessThan(y)&&g.isLessThan(E))return-1;if(g.isGreaterThan(y)&&g.isGreaterThan(E))return 1;const x=i.comparePoint(n.leftSE.point);if(x!==0)return x;const D=n.comparePoint(i.rightSE.point);return D<0?1:D>0?-1:1}if(g.isLessThan(y))return-1;if(g.isGreaterThan(y))return 1;if(c.isLessThan(f)){const x=i.comparePoint(n.rightSE.point);if(x!==0)return x}if(c.isGreaterThan(f)){const x=n.comparePoint(i.rightSE.point);if(x<0)return 1;if(x>0)return-1}if(!c.eq(f)){const x=v.minus(g),D=c.minus(l),N=E.minus(y),P=f.minus(r);if(x.isGreaterThan(D)&&N.isLessThan(P))return 1;if(x.isLessThan(D)&&N.isGreaterThan(P))return-1}return c.isGreaterThan(f)?1:c.isLessThan(f)||v.isLessThan(E)?-1:v.isGreaterThan(E)?1:n.id<i.id?-1:n.id>i.id?1:0}constructor(n,i,l,r){this.id=++_C,this.leftSE=n,n.segment=this,n.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=n,this.rings=l,this.windings=r}static fromRing(n,i,l){let r,c,f;const g=Aa.comparePoints(n,i);if(g<0)r=n,c=i,f=1;else if(g>0)r=i,c=n,f=-1;else throw new Error(`Tried to create degenerate segment at [${n.x}, ${n.y}]`);const y=new Aa(r,!0),v=new Aa(c,!1);return new Yh(y,v,[l],[f])}replaceRightSE(n){this.rightSE=n,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const n=this.leftSE.point.y,i=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:n.isLessThan(i)?n:i},ur:{x:this.rightSE.point.x,y:n.isGreaterThan(i)?n:i}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(n){return n.x.eq(this.leftSE.point.x)&&n.y.eq(this.leftSE.point.y)||n.x.eq(this.rightSE.point.x)&&n.y.eq(this.rightSE.point.y)}comparePoint(n){return Ss.orient(this.leftSE.point,n,this.rightSE.point)}getIntersection(n){const i=this.bbox(),l=n.bbox(),r=tg(i,l);if(r===null)return null;const c=this.leftSE.point,f=this.rightSE.point,g=n.leftSE.point,y=n.rightSE.point,v=Gu(i,g)&&this.comparePoint(g)===0,E=Gu(l,c)&&n.comparePoint(c)===0,x=Gu(i,y)&&this.comparePoint(y)===0,D=Gu(l,f)&&n.comparePoint(f)===0;if(E&&v)return D&&!x?f:!D&&x?y:null;if(E)return x&&c.x.eq(y.x)&&c.y.eq(y.y)?null:c;if(v)return D&&f.x.eq(g.x)&&f.y.eq(g.y)?null:g;if(D&&x)return null;if(D)return f;if(x)return y;const N=fC(c,this.vector(),g,n.vector());return N===null||!Gu(r,N)?null:Ss.snap(N)}split(n){const i=[],l=n.events!==void 0,r=new Aa(n,!0),c=new Aa(n,!1),f=this.rightSE;this.replaceRightSE(c),i.push(c),i.push(r);const g=new Yh(r,f,this.rings.slice(),this.windings.slice());return Aa.comparePoints(g.leftSE.point,g.rightSE.point)>0&&g.swapEvents(),Aa.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),l&&(r.checkForConsuming(),c.checkForConsuming()),i}swapEvents(){const n=this.rightSE;this.rightSE=this.leftSE,this.leftSE=n,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,l=this.windings.length;i<l;i++)this.windings[i]*=-1}consume(n){let i=this,l=n;for(;i.consumedBy;)i=i.consumedBy;for(;l.consumedBy;)l=l.consumedBy;const r=Yh.compare(i,l);if(r!==0){if(r>0){const c=i;i=l,l=c}if(i.prev===l){const c=i;i=l,l=c}for(let c=0,f=l.rings.length;c<f;c++){const g=l.rings[c],y=l.windings[c],v=i.rings.indexOf(g);v===-1?(i.rings.push(g),i.windings.push(y)):i.windings[v]+=y}l.rings=null,l.windings=null,l.consumedBy=i,l.leftSE.consumedBy=i.leftSE,l.rightSE.consumedBy=i.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const n=this.prev.consumedBy||this.prev;this._beforeState=n.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const n=this.beforeState();this._afterState={rings:n.rings.slice(0),windings:n.windings.slice(0),multiPolys:[]};const i=this._afterState.rings,l=this._afterState.windings,r=this._afterState.multiPolys;for(let g=0,y=this.rings.length;g<y;g++){const v=this.rings[g],E=this.windings[g],x=i.indexOf(v);x===-1?(i.push(v),l.push(E)):l[x]+=E}const c=[],f=[];for(let g=0,y=i.length;g<y;g++){if(l[g]===0)continue;const v=i[g],E=v.poly;if(f.indexOf(E)===-1)if(v.isExterior)c.push(E);else{f.indexOf(E)===-1&&f.push(E);const x=c.indexOf(v.poly);x!==-1&&c.splice(x,1)}}for(let g=0,y=c.length;g<y;g++){const v=c[g].multiPoly;r.indexOf(v)===-1&&r.push(v)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const n=this.beforeState().multiPolys,i=this.afterState().multiPolys;switch(Zl.type){case"union":{const l=n.length===0,r=i.length===0;this._isInResult=l!==r;break}case"intersection":{let l,r;n.length<i.length?(l=n.length,r=i.length):(l=i.length,r=n.length),this._isInResult=r===Zl.numMultiPolys&&l<r;break}case"xor":{const l=Math.abs(n.length-i.length);this._isInResult=l%2===1;break}case"difference":{const l=r=>r.length===1&&r[0].isSubject;this._isInResult=l(n)!==l(i);break}}return this._isInResult}},n0=class{poly;isExterior;segments;bbox;constructor(e,n,i){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=i,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const l=Ss.snap({x:new Ma(e[0][0]),y:new Ma(e[0][1])});this.bbox={ll:{x:l.x,y:l.y},ur:{x:l.x,y:l.y}};let r=l;for(let c=1,f=e.length;c<f;c++){if(typeof e[c][0]!="number"||typeof e[c][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const g=Ss.snap({x:new Ma(e[c][0]),y:new Ma(e[c][1])});g.x.eq(r.x)&&g.y.eq(r.y)||(this.segments.push(tf.fromRing(r,g,this)),g.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=g.x),g.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=g.y),g.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=g.x),g.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=g.y),r=g)}(!l.x.eq(r.x)||!l.y.eq(r.y))&&this.segments.push(tf.fromRing(r,l,this))}getSweepEvents(){const e=[];for(let n=0,i=this.segments.length;n<i;n++){const l=this.segments[n];e.push(l.leftSE),e.push(l.rightSE)}return e}},yC=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,n){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new n0(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,l=e.length;i<l;i++){const r=new n0(e[i],this,!1);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=n}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let n=0,i=this.interiorRings.length;n<i;n++){const l=this.interiorRings[n].getSweepEvents();for(let r=0,c=l.length;r<c;r++)e.push(l[r])}return e}},i0=class{isSubject;polys;bbox;constructor(e,n){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:new Ma(Number.POSITIVE_INFINITY),y:new Ma(Number.POSITIVE_INFINITY)},ur:{x:new Ma(Number.NEGATIVE_INFINITY),y:new Ma(Number.NEGATIVE_INFINITY)}};for(let i=0,l=e.length;i<l;i++){const r=new yC(e[i],this);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=n}getSweepEvents(){const e=[];for(let n=0,i=this.polys.length;n<i;n++){const l=this.polys[n].getSweepEvents();for(let r=0,c=l.length;r<c;r++)e.push(l[r])}return e}},oo=(e,...n)=>Zl.run("union",e,n),ux=(e,...n)=>Zl.run("intersection",e,n),vC=(e,...n)=>Zl.run("xor",e,n),cx=(e,...n)=>Zl.run("difference",e,n),SC=Ss.set;const xC=Object.freeze(Object.defineProperty({__proto__:null,difference:cx,intersection:ux,setPrecision:SC,union:oo,xor:vC},Symbol.toStringTag,{value:"Module"}));function EC(e){const n=[];if(Si(e,r=>{n.push(r.coordinates)}),n.length<2)throw new Error("Must have at least two features");const i=e.features[0].properties||{},l=cx(n[0],...n.slice(1));return l.length===0?null:l.length===1?le(l[0],i):ur(l,i)}function ng(e){if(!e)throw new Error("geojson is required");var n=[];return $n(e,function(i){n.push(i)}),Qt(n)}function bC(e,n={}){if(n=n||{},!ze(n))throw new Error("options is invalid");const{propertyName:i}=n;xs(e,"Polygon","dissolve");const l=[];if(i){const r={};Oe(e,function(f){f.properties&&(Object.prototype.hasOwnProperty.call(r,f.properties[i])||(r[f.properties[i]]=[]),r[f.properties[i]].push(f))});const c=Object.keys(r);for(let f=0;f<c.length;f++){const g=ur(oo.apply(null,r[c[f]].map(function(y){return y.geometry.coordinates})));g&&g.properties&&(g.properties[i]=c[f],l.push(g))}}else return ng(ur(oo.apply(null,e.features.map(function(r){return r.geometry.coordinates}))));return ng(Qt(l))}function TC(e,n,i=2){const l=Be(e),r=Be(n),c=l[0]-r[0],f=l[1]-r[1];return i===1?Math.abs(c)+Math.abs(f):Math.pow(Math.pow(c,i)+Math.pow(f,i),1/i)}function hx(e,n){var i,l;n=n||{};const r=n.threshold||1e4,c=n.p||2,f=(i=n.binary)!=null?i:!1,g=n.alpha||-1,y=(l=n.standardization)!=null?l:!1,v=[];Oe(e,x=>{v.push(vs(x))});const E=[];for(let x=0;x<v.length;x++)E[x]=[];for(let x=0;x<v.length;x++)for(let D=x;D<v.length;D++){x===D&&(E[x][D]=0);const N=TC(v[x],v[D],c);E[x][D]=N,E[D][x]=N}for(let x=0;x<v.length;x++)for(let D=0;D<v.length;D++){const N=E[x][D];N!==0&&(f?N<=r?E[x][D]=1:E[x][D]=0:N<=r?E[x][D]=Math.pow(N,g):E[x][D]=0)}if(y)for(let x=0;x<v.length;x++){const D=E[x].reduce((N,P)=>N+P,0);for(let N=0;N<v.length;N++)E[x][N]=E[x][N]/D}return E}function zl(e,n,i={}){const l=Be(e),r=Be(n);r[0]+=r[0]-l[0]>180?-360:l[0]-r[0]>180?360:0;const c=wC(l,r);return Xo(c,"meters",i.units)}function wC(e,n,i){i=i===void 0?Wn:Number(i);const l=i,r=e[1]*Math.PI/180,c=n[1]*Math.PI/180,f=c-r;let g=Math.abs(n[0]-e[0])*Math.PI/180;g>Math.PI&&(g-=2*Math.PI);const y=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),v=Math.abs(y)>1e-11?f/y:Math.cos(r);return Math.sqrt(f*f+v*v*g*g)*l}function _f(e,n,i,l={}){const r=n<0;let c=Xo(Math.abs(n),l.units,"meters");r&&(c=-Math.abs(c));const f=Be(e),g=CC(f,c,i);return g[0]+=g[0]-f[0]>180?-360:f[0]-g[0]>180?360:0,ue(g,l.properties)}function CC(e,n,i,l){l=l===void 0?Wn:Number(l);const r=n/l,c=e[0]*Math.PI/180,f=Qn(e[1]),g=Qn(i),y=r*Math.cos(g);let v=f+y;Math.abs(v)>Math.PI/2&&(v=v>0?Math.PI-v:-Math.PI-v);const E=Math.log(Math.tan(v/2+Math.PI/4)/Math.tan(f/2+Math.PI/4)),x=Math.abs(E)>1e-11?y/E:Math.cos(f),D=r*Math.sin(g)/x;return[((c+D)*180/Math.PI+540)%360-180,v*180/Math.PI]}function fx(e,n,i){if(i=i||{},!ze(i))throw new Error("options is invalid");const l=i.pivot,r=i.mutate;if(!e)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("angle is required");if(n===0)return e;const c=l??vs(e);return(r===!1||r===void 0)&&(e=oi(e)),_n(e,function(f){const y=Jo(c,f)+n,v=zl(c,f),E=ce(_f(c,v,y));f[0]=E[0],f[1]=E[1]}),e}function dx(e,n,i,l){l=l||{};let r=l.steps||64;const c=l.units||"kilometers";let f=l.angle||0;const g=l.pivot||e,y=l.properties||{};if(!e)throw new Error("center is required");if(!n)throw new Error("xSemiAxis is required");if(!i)throw new Error("ySemiAxis is required");if(!ze(l))throw new Error("options must be an object");if(!Kn(r))throw new Error("steps must be a number");if(!Kn(f))throw new Error("angle must be a number");const v=Be(fx(ue(Be(e)),f,{pivot:g}));f=-90+f,r=Math.ceil(r/4);let E=[],x=[];const D=n,N=i,P=N,Z=(D-N)/(Math.PI/2),rt=(D+N)*Math.PI/4,et=.5,B=r;let X=0,V=0;for(let $=0;$<r;$++)V+=X,Z===0?X=rt/B/P:X=(-(Z*V+P)+Math.sqrt(Math.pow(Z*V+P,2)-4*(et*Z)*-(rt/B)))/(2*(et*Z)),V!=0&&E.push(V);x.push(0);for(let $=0;$<E.length;$++)x.push(E[$]);x.push(Math.PI/2);for(let $=0;$<E.length;$++)x.push(Math.PI-E[E.length-$-1]);x.push(Math.PI);for(let $=0;$<E.length;$++)x.push(Math.PI+E[$]);x.push(3*Math.PI/2);for(let $=0;$<E.length;$++)x.push(2*Math.PI-E[E.length-$-1]);x.push(0);const W=[];for(const $ of x){const tt=Math.atan2(N*Math.sin($),D*Math.cos($)),A=Math.sqrt(Math.pow(D,2)*Math.pow(N,2)/(Math.pow(D*Math.sin(tt),2)+Math.pow(N*Math.cos(tt),2)));W.push(so(v,A,f+Oa(tt),{units:c}).geometry.coordinates)}return le([W],y)}function px(e){return vc(Re(e))}function yf(e){const n=[];return e.type==="FeatureCollection"?Oe(e,function(i){_n(i,function(l){n.push(ue(l,i.properties))})}):e.type==="Feature"?_n(e,function(i){n.push(ue(i,e.properties))}):_n(e,function(i){n.push(ue(i))}),Qt(n)}function LC(e,n){var i;if(n=n||{},!ze(n))throw new Error("options is invalid");const l=(i=n.mutate)!=null?i:!1;if(!e)throw new Error("geojson is required");return(l===!1||l===void 0)&&(e=oi(e)),_n(e,function(r){var c=r[0],f=r[1];r[0]=f,r[1]=c}),e}function DC(e){const i=Math.pow(10,6),l=[];for(let r=0;r<e.length;r++){const c=e[r];c!==void 0&&(l[r]=Math.round((c+Number.EPSILON)*i)/i)}return l}const r0=Math.PI/180,a0=180/Math.PI;class ef{lon;lat;x;y;constructor(n,i){this.lon=n,this.lat=i,this.x=r0*n,this.y=r0*i}view(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)}antipode(){const n=-1*this.lat,i=this.lon<0?180+this.lon:(180-this.lon)*-1;return new ef(i,n)}}class AC{properties={};geometries=[];constructor(n){n&&(this.properties=n)}json(){if(this.geometries.length===0)return{type:"Feature",geometry:{type:"LineString",coordinates:null},properties:this.properties};if(this.geometries.length===1){const i=this.geometries[0];return i?{type:"Feature",geometry:{type:"LineString",coordinates:i.coords},properties:this.properties}:{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:this.properties}}return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.geometries.filter(i=>i!==void 0).map(i=>i.coords)},properties:this.properties}}wkt(){if(this.geometries.length===0)return"";let n=[];for(const i of this.geometries){if(!i||i.coords.length===0){n.push("LINESTRING EMPTY");continue}const l=i.coords.filter(r=>r!==void 0).map(r=>{const c=r[0]??0,f=r[1]??0;return`${c} ${f}`});l.length===0?n.push("LINESTRING EMPTY"):n.push(`LINESTRING(${l.join(",")})`)}return n.join("; ")}}class kC{coords=[];length=0;move_to(n){this.length++,this.coords.push(n)}}class NC{start;end;properties;g;constructor(n,i,l){if(!n||n.x===void 0||n.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new ef(n.x,n.y),this.end=new ef(i.x,i.y),this.properties=l||{};const r=this.start.x-this.end.x,c=this.start.y-this.end.y,f=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(f)),this.g===Math.PI)throw new Error("it appears "+this.start.view()+" and "+this.end.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+i)}interpolate(n){const i=Math.sin((1-n)*this.g)/Math.sin(this.g),l=Math.sin(n*this.g)/Math.sin(this.g),r=i*Math.cos(this.start.y)*Math.cos(this.start.x)+l*Math.cos(this.end.y)*Math.cos(this.end.x),c=i*Math.cos(this.start.y)*Math.sin(this.start.x)+l*Math.cos(this.end.y)*Math.sin(this.end.x),f=i*Math.sin(this.start.y)+l*Math.sin(this.end.y),g=a0*Math.atan2(f,Math.sqrt(Math.pow(r,2)+Math.pow(c,2)));return[a0*Math.atan2(c,r),g]}Arc(n,i){let l=[];if(!n||n<=2)l.push([this.start.lon,this.start.lat]),l.push([this.end.lon,this.end.lat]);else{const D=1/(n-1);for(let N=0;N<n;++N){const P=D*N,Z=this.interpolate(P);l.push(Z)}}let r=!1,c=0;const f=i?.offset??10,g=180-f,y=-180+f,v=360-f;for(let D=1;D<l.length;++D){const N=l[D-1]?.[0]??0,P=l[D]?.[0]??0,Z=Math.abs(P-N);Z>v&&(P>g&&N<y||N>g&&P<y)?r=!0:Z>c&&(c=Z)}const E=[];if(r&&c<f){let D=[];E.push(D);for(let N=0;N<l.length;++N){const P=parseFloat((l[N]?.[0]??0).toString());if(N>0&&Math.abs(P-(l[N-1]?.[0]??0))>v){const Z=parseFloat((l[N-1]?.[0]??0).toString()),rt=parseFloat((l[N-1]?.[1]??0).toString()),et=parseFloat((l[N]?.[0]??0).toString()),B=parseFloat((l[N]?.[1]??0).toString());if(Z>-180&&Z<y&&et===180&&N+1<l.length&&(l[N-1]?.[0]??0)>-180&&(l[N-1]?.[0]??0)<y){D.push([-180,l[N]?.[1]??0]),N++,D.push([l[N]?.[0]??0,l[N]?.[1]??0]);continue}else if(Z>g&&Z<180&&et===-180&&N+1<l.length&&(l[N-1]?.[0]??0)>g&&(l[N-1]?.[0]??0)<180){D.push([180,l[N]?.[1]??0]),N++,D.push([l[N]?.[0]??0,l[N]?.[1]??0]);continue}if(Z<=180&&et>=180&&Z<et){const X=(180-Z)/(et-Z),V=X*B+(1-X)*rt;D.push([(l[N-1]?.[0]??0)>g?180:-180,V]),D=[],D.push([(l[N-1]?.[0]??0)>g?-180:180,V]),E.push(D)}else D=[],E.push(D);D.push([P,l[N]?.[1]??0])}else D.push([l[N]?.[0]??0,l[N]?.[1]??0])}}else{const D=[];E.push(D);for(let N=0;N<l.length;++N)D.push([l[N]?.[0]??0,l[N]?.[1]??0])}const x=new AC(this.properties);for(let D=0;D<E.length;++D){const N=new kC;x.geometries.push(N);const P=E[D];if(P)for(let Z=0;Z<P.length;++Z){const rt=P[Z];rt&&N.move_to(DC([rt[0],rt[1]]))}}return x}}function MC(e,n,i={}){if(typeof i!="object")throw new Error("options is invalid");const{properties:l={},npoints:r=100,offset:c=10}=i,f=Be(e),g=Be(n);if(f[0]===g[0]&&f[1]===g[1]){const E=Array(r).fill([f[0],f[1]]);return be(E,l)}return new NC({x:f[0],y:f[1]},{x:g[0],y:g[1]},l||{}).Arc(r,{offset:c}).json()}function fc(e,n={}){const i=[];if(Si(e,r=>{i.push(r.coordinates)}),i.length<2)throw new Error("Must specify at least 2 geometries");const l=ux(i[0],...i.slice(1));return l.length===0?null:l.length===1?le(l[0],n.properties):ur(l,n.properties)}function gx(e,n,i={}){const l=JSON.stringify(i.properties||{}),[r,c,f,g]=e,y=(c+g)/2,v=(r+f)/2,x=n*2/fn([r,y],[f,y],i)*(f-r),N=n*2/fn([v,c],[v,g],i)*(g-c),P=x/2,Z=P*2,rt=Math.sqrt(3)/2*N,et=f-r,B=g-c,X=3/4*Z,V=rt,W=(et-Z)/(Z-P/2),$=Math.floor(W),tt=($*X-P/2-et)/2-P/2+X/2,A=Math.floor((B-rt)/rt);let M=(B-A*rt)/2;const z=A*rt-B>rt/2;z&&(M-=rt/4);const J=[],H=[];for(let at=0;at<6;at++){const lt=2*Math.PI/6*at;J.push(Math.cos(lt)),H.push(Math.sin(lt))}const nt=[];for(let at=0;at<=$;at++)for(let lt=0;lt<=A;lt++){const R=at%2===1;if(lt===0&&R||lt===0&&z)continue;const U=at*X+r-tt;let F=lt*V+c+M;if(R&&(F-=rt/2),i.triangles===!0)RC([U,F],x/2,N/2,JSON.parse(l),J,H).forEach(function(it){i.mask?fc(Qt([i.mask,it]))&&nt.push(it):nt.push(it)});else{const it=OC([U,F],x/2,N/2,JSON.parse(l),J,H);i.mask?fc(Qt([i.mask,it]))&&nt.push(it):nt.push(it)}}return Qt(nt)}function OC(e,n,i,l,r,c){const f=[];for(let g=0;g<6;g++){const y=e[0]+n*r[g],v=e[1]+i*c[g];f.push([y,v])}return f.push(f[0].slice()),le([f],l)}function RC(e,n,i,l,r,c){const f=[];for(let g=0;g<6;g++){const y=[];y.push(e),y.push([e[0]+n*r[g],e[1]+i*c[g]]),y.push([e[0]+n*r[(g+1)%6],e[1]+i*c[(g+1)%6]]),y.push(e),f.push(le([y],l))}return f}function mx(e,n,i={}){i.mask&&!i.units&&(i.units="kilometers");for(var l=[],r=e[0],c=e[1],f=e[2],g=e[3],y=n/fn([r,c],[f,c],i),v=y*(f-r),E=n/fn([r,c],[r,g],i),x=E*(g-c),D=f-r,N=g-c,P=Math.floor(D/v),Z=Math.floor(N/x),rt=(D-P*v)/2,et=(N-Z*x)/2,B=r+rt;B<=f;){for(var X=c+et;X<=g;){var V=ue([B,X],i.properties);i.mask?CS(V,i.mask)&&l.push(V):l.push(V),X+=x}B+=v}return Qt(l)}function _x(e,n,i,l={}){const r=[],c=e[0],f=e[1],g=e[2],y=e[3],v=g-c,E=Xo(n,l.units,"degrees"),x=y-f,D=Xo(i,l.units,"degrees"),N=Math.floor(Math.abs(v)/E),P=Math.floor(Math.abs(x)/D),Z=(v-N*E)/2,rt=(x-P*D)/2;let et=c+Z;for(let B=0;B<N;B++){let X=f+rt;for(let V=0;V<P;V++){const W=le([[[et,X],[et,X+D],[et+E,X+D],[et+E,X],[et,X]]],l.properties);l.mask?TS(l.mask,W)&&r.push(W):r.push(W),X+=D}et+=E}return Qt(r)}function Pg(e,n,i={}){return _x(e,n,n,i)}function yx(e,n,i={}){for(var l=[],r=n/fn([e[0],e[1]],[e[2],e[1]],i),c=r*(e[2]-e[0]),f=n/fn([e[0],e[1]],[e[0],e[3]],i),g=f*(e[3]-e[1]),y=0,v=e[0];v<=e[2];){for(var E=0,x=e[1];x<=e[3];){var D=null,N=null;y%2===0&&E%2===0?(D=le([[[v,x],[v,x+g],[v+c,x],[v,x]]],i.properties),N=le([[[v,x+g],[v+c,x+g],[v+c,x],[v,x+g]]],i.properties)):y%2===0&&E%2===1?(D=le([[[v,x],[v+c,x+g],[v+c,x],[v,x]]],i.properties),N=le([[[v,x],[v,x+g],[v+c,x+g],[v,x]]],i.properties)):E%2===0&&y%2===1?(D=le([[[v,x],[v,x+g],[v+c,x+g],[v,x]]],i.properties),N=le([[[v,x],[v+c,x+g],[v+c,x],[v,x]]],i.properties)):E%2===1&&y%2===1&&(D=le([[[v,x],[v,x+g],[v+c,x],[v,x]]],i.properties),N=le([[[v,x+g],[v+c,x+g],[v+c,x],[v,x+g]]],i.properties)),i.mask?(fc(Qt([i.mask,D]))&&l.push(D),fc(Qt([i.mask,N]))&&l.push(N)):(l.push(D),l.push(N)),x+=g,E++}y++,v+=c}return Qt(l)}function IC(e,n,i){var l,r,c,f;if(i=i||{},typeof i!="object")throw new Error("options is invalid");if(!e)throw new Error("points is required");if(xs(e,"Point","input must contain Points"),!n)throw new Error("cellSize is required");var g=(l=i.gridType)!=null?l:"square",y=(r=i.property)!=null?r:"elevation",v=(c=i.weight)!=null?c:1,E=(f=i.bbox)!=null?f:Re(e);if(v!==void 0&&typeof v!="number")throw new Error("weight must be a number");oc(E);var x;switch(g){case"point":case"points":x=mx(E,n,i);break;case"square":case"squares":x=Pg(E,n,i);break;case"hex":case"hexes":x=gx(E,n,i);break;case"triangle":case"triangles":x=yx(E,n,i);break;default:throw new Error("invalid gridType")}var D=[];return Oe(x,function(N){var P,Z=0,rt=0;Oe(e,function(B){var X,V=g==="point"?N:vs(N),W=fn(V,B,i),$;if(y!==void 0&&($=(X=B.properties)==null?void 0:X[y]),$===void 0&&($=B.geometry.coordinates[2]),$===void 0)throw new Error("zValue is missing");W===0&&(Z=$);var tt=1/Math.pow(W,v);rt+=tt,Z+=tt*$});var et=oi(N);(P=et.properties)!=null||(et.properties={}),et.properties[y]=Z/rt,D.push(et)}),Qt(D)}var PC=Object.defineProperty,s0=Object.getOwnPropertySymbols,BC=Object.prototype.hasOwnProperty,zC=Object.prototype.propertyIsEnumerable,o0=(e,n,i)=>n in e?PC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,l0=(e,n)=>{for(var i in n||(n={}))BC.call(n,i)&&o0(e,i,n[i]);if(s0)for(var i of s0(n))zC.call(n,i)&&o0(e,i,n[i]);return e};function FC(e,n={}){if(!ze(n))throw new Error("options is invalid");const{zProperty:i="elevation",flip:l=!1,flags:r=!1}=n;xs(e,"Point","input must contain Points");for(var c=jC(e,l),f=[],g=0;g<c.length;g++){for(var y=c[g],v=[],E=0;E<y.length;E++){var x=y[E];x.properties==null&&(x.properties={}),x.properties[i]?v.push(x.properties[i]):v.push(0),r===!0&&(x.properties.matrixPosition=[g,E])}f.push(v)}return f}function jC(e,n){var i={};Oe(e,r=>{var c=ce(r)[1];i[c]||(i[c]=[]),i[c].push(r)});const l=[];for(const r of Object.values(i))l.push(r.sort((c,f)=>ce(c)[0]-ce(f)[0]));return l.sort(n?(r,c)=>ce(r[0])[1]-ce(c[0])[1]:(r,c)=>ce(c[0])[1]-ce(r[0])[1]),l}function UC(e,n,i){if(i=i||{},!ze(i))throw new Error("options is invalid");const l=i.zProperty||"elevation",r=i.commonProperties||{},c=i.breaksProperties||[];if(xs(e,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks is not an Array");if(!ze(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(c))throw new Error("breaksProperties is not an Array");const f=FC(e,{zProperty:l,flip:!0}),g=f[0].length;if(f.length<2||g<2)throw new Error("Matrix of points must be at least 2x2");for(let E=1;E<f.length;E++)if(f[E].length!==g)throw new Error("Matrix of points is not uniform in the x dimension");let y=YC(f,n,l);y=qC(y,f,e);const v=y.map((E,x)=>{if(c[x]&&!ze(c[x]))throw new Error("Each mappedProperty is required to be an Object");const D=l0(l0({},r),c[x]);return D[l]=E[l],ur(E.groupedRings,D)});return Qt(v)}function YC(e,n,i){const l=[];let r;for(let c=1;c<n.length;c++){c===1&&(r=u0(e,+n[0]));const f=+n[c],g=+n[c-1],y=u0(e,f),v=y.map(N=>N.map(P=>[P[0],P[1]]).reverse()),E=GC(r.concat(v),e),x=HC(E),D=ZC(x);if(D.length===0&&e[0][0]<f&&e[0][0]>=g){const N=e[0].length,P=e.length;D.push([[[0,0],[N-1,0],[N-1,P-1],[0,P-1],[0,0]]])}l.push({groupedRings:D,[i]:g+"-"+f}),r=y}return l}function u0(e,n){const i=[],l=e[0].length,r=e.length;for(let f=0;f<r-1;f++)for(let g=0;g<l-1;g++){const y=e[f+1][g+1],v=e[f][g+1],E=e[f][g],x=e[f+1][g];switch((x>=n?8:0)|(y>=n?4:0)|(v>=n?2:0)|(E>=n?1:0)){case 0:continue;case 1:i.push([[g+c(E,v),f],[g,f+c(E,x)]]);break;case 2:i.push([[g+1,f+c(v,y)],[g+c(E,v),f]]);break;case 3:i.push([[g+1,f+c(v,y)],[g,f+c(E,x)]]);break;case 4:i.push([[g+c(x,y),f+1],[g+1,f+c(v,y)]]);break;case 5:{(x+y+v+E)/4>=n?i.push([[g+c(x,y),f+1],[g,f+c(E,x)]],[[g+c(E,v),f],[g+1,f+c(v,y)]]):i.push([[g+c(x,y),f+1],[g+1,f+c(v,y)]],[[g+c(E,v),f],[g,f+c(E,x)]]);break}case 6:i.push([[g+c(x,y),f+1],[g+c(E,v),f]]);break;case 7:i.push([[g+c(x,y),f+1],[g,f+c(E,x)]]);break;case 8:i.push([[g,f+c(E,x)],[g+c(x,y),f+1]]);break;case 9:i.push([[g+c(E,v),f],[g+c(x,y),f+1]]);break;case 10:{(x+y+v+E)/4>=n?i.push([[g,f+c(E,x)],[g+c(E,v),f]],[[g+1,f+c(v,y)],[g+c(x,y),f+1]]):i.push([[g,f+c(E,x)],[g+c(x,y),f+1]],[[g+1,f+c(v,y)],[g+c(E,v),f]]);break}case 11:i.push([[g+1,f+c(v,y)],[g+c(x,y),f+1]]);break;case 12:i.push([[g,f+c(E,x)],[g+1,f+c(v,y)]]);break;case 13:i.push([[g+c(E,v),f],[g+1,f+c(v,y)]]);break;case 14:i.push([[g,f+c(E,x)],[g+c(E,v),f]]);break;case 15:continue}}return i;function c(f,g){if(f===g)return .5;let y=(n-f)/(g-f);return y>1?1:y<0?0:y}}function GC(e,n){const i=n.length,l=n[0].length,r=[],c=[];for(;e.length>0;){const f=[...e.shift()];r.push(f);let g;do{g=!1;for(let y=0;y<e.length;y++){const v=e[y];if(v[0][0]===f[f.length-1][0]&&v[0][1]===f[f.length-1][1]){g=!0,f.push(v[1]),e.splice(y,1);break}if(v[1][0]===f[0][0]&&v[1][1]===f[0][1]){g=!0,f.unshift(v[0]),e.splice(y,1);break}}}while(g)}for(;r.length>0;){const f=r[0];if(f[0][0]===f[f.length-1][0]&&f[0][1]===f[f.length-1][1]){c.push(f),r.shift();continue}const g=f[f.length-1];let y,v;if(g[0]===0&&g[1]!==0)y=Oh(r,E=>E[0][0]===0&&E[0][1]<g[1],(E,x)=>x[0][1]-E[0][1]),v=[0,0];else if(g[1]===0&&g[0]!==l-1)y=Oh(r,E=>E[0][1]===0&&E[0][0]>g[0],(E,x)=>E[0][0]-x[0][0]),v=[l-1,0];else if(g[0]===l-1&&g[1]!==i-1)y=Oh(r,E=>E[0][0]===l-1&&E[0][1]>g[1],(E,x)=>E[0][1]-x[0][1]),v=[l-1,i-1];else if(g[1]===i-1&&g[0]!==0)y=Oh(r,E=>E[0][1]===i-1&&E[0][0]<g[0],(E,x)=>x[0][0]-E[0][0]),v=[0,i-1];else throw new Error("Contour not closed but is not along an edge");if(y===-1)f.push(v);else if(y===0)f.push([f[0][0],f[0][1]]),c.push(f),r.shift();else{const E=r[y];r.splice(y,1);for(const x of E)f.push(x)}}for(let f=0;f<c.length;f++)c[f].length<4&&(c.splice(f,1),f--);return c}function qC(e,n,i){const l=Re(i),r=l[2]-l[0],c=l[3]-l[1],f=l[0],g=l[1],y=n[0].length-1,v=n.length-1,E=r/y,x=c/v;return e.map(function(D){return D.groupedRings=D.groupedRings.map(function(N){return N.map(function(P){return P.map(Z=>[Z[0]*E+f,Z[1]*x+g])})}),D})}function HC(e){const n=e.map(function(i){return{ring:i,area:yc(le([i]))}});return n.sort(function(i,l){return l.area-i.area}),n.map(function(i){return i.ring})}function ZC(e){const n=e.map(l=>({lrCoordinates:l,grouped:!1})),i=[];for(;!XC(n);)for(let l=0;l<n.length;l++)if(!n[l].grouped){const r=[];r.push(n[l].lrCoordinates),n[l].grouped=!0;const c=le([n[l].lrCoordinates]);t:for(let f=l+1;f<n.length;f++)if(!n[f].grouped){const g=le([n[f].lrCoordinates]);if(c0(g,c)){for(let y=1;y<r.length;y++)if(c0(g,le([r[y]])))continue t;r.push(n[f].lrCoordinates),n[f].grouped=!0}}i.push(r)}return i}function c0(e,n){const i=yf(e);for(let l=0;l<i.features.length;l++)if(!ae(i.features[l],n))return!1;return!0}function XC(e){for(let n=0;n<e.length;n++)if(e[n].grouped===!1)return!1;return!0}function Oh(e,n,i){let l=-1;for(let r=0;r<e.length;r++)n(e[r])&&(l===-1||i(e[l],e[r])>0)&&(l=r);return l}var JC=Object.defineProperty,h0=Object.getOwnPropertySymbols,VC=Object.prototype.hasOwnProperty,WC=Object.prototype.propertyIsEnumerable,f0=(e,n,i)=>n in e?JC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,d0=(e,n)=>{for(var i in n||(n={}))VC.call(n,i)&&f0(e,i,n[i]);if(h0)for(var i of h0(n))WC.call(n,i)&&f0(e,i,n[i]);return e};function QC(e,n={}){if(!ze(n))throw new Error("options is invalid");const{zProperty:i="elevation",flip:l=!1,flags:r=!1}=n;xs(e,"Point","input must contain Points");for(var c=KC(e,l),f=[],g=0;g<c.length;g++){for(var y=c[g],v=[],E=0;E<y.length;E++){var x=y[E];x.properties==null&&(x.properties={}),x.properties[i]?v.push(x.properties[i]):v.push(0),r===!0&&(x.properties.matrixPosition=[g,E])}f.push(v)}return f}function KC(e,n){var i={};Oe(e,r=>{var c=ce(r)[1];i[c]||(i[c]=[]),i[c].push(r)});const l=[];for(const r of Object.values(i))l.push(r.sort((c,f)=>ce(c)[0]-ce(f)[0]));return l.sort(n?(r,c)=>ce(r[0])[1]-ce(c[0])[1]:(r,c)=>ce(c[0])[1]-ce(r[0])[1]),l}function $C(e,n,i){if(i=i||{},!ze(i))throw new Error("options is invalid");const l=i.zProperty||"elevation",r=i.commonProperties||{},c=i.breaksProperties||[];if(xs(e,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks must be an Array");if(!ze(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(c))throw new Error("breaksProperties must be an Array");const f=QC(e,{zProperty:l,flip:!0}),g=f[0].length;if(f.length<2||g<2)throw new Error("Matrix of points must be at least 2x2");for(let E=1;E<f.length;E++)if(f[E].length!==g)throw new Error("Matrix of points is not uniform in the x dimension");const y=tL(f,n,l,r,c),v=nL(y,f,e);return Qt(v)}function tL(e,n,i,l,r){const c=[];for(let f=0;f<n.length;f++){const g=+n[f],y=d0(d0({},l),r[f]);y[i]=g;const v=uo(eL(e,g),y);c.push(v)}return c}function eL(e,n){const i=[],l=e.length,r=e[0].length;for(let g=0;g<l-1;g++)for(let y=0;y<r-1;y++){const v=e[g+1][y+1],E=e[g][y+1],x=e[g][y],D=e[g+1][y];switch((D>=n?8:0)|(v>=n?4:0)|(E>=n?2:0)|(x>=n?1:0)){case 0:continue;case 1:i.push([[y+f(x,E),g],[y,g+f(x,D)]]);break;case 2:i.push([[y+1,g+f(E,v)],[y+f(x,E),g]]);break;case 3:i.push([[y+1,g+f(E,v)],[y,g+f(x,D)]]);break;case 4:i.push([[y+f(D,v),g+1],[y+1,g+f(E,v)]]);break;case 5:{(D+v+E+x)/4>=n?i.push([[y+f(D,v),g+1],[y,g+f(x,D)]],[[y+f(x,E),g],[y+1,g+f(E,v)]]):i.push([[y+f(D,v),g+1],[y+1,g+f(E,v)]],[[y+f(x,E),g],[y,g+f(x,D)]]);break}case 6:i.push([[y+f(D,v),g+1],[y+f(x,E),g]]);break;case 7:i.push([[y+f(D,v),g+1],[y,g+f(x,D)]]);break;case 8:i.push([[y,g+f(x,D)],[y+f(D,v),g+1]]);break;case 9:i.push([[y+f(x,E),g],[y+f(D,v),g+1]]);break;case 10:{(D+v+E+x)/4>=n?i.push([[y,g+f(x,D)],[y+f(x,E),g]],[[y+1,g+f(E,v)],[y+f(D,v),g+1]]):i.push([[y,g+f(x,D)],[y+f(D,v),g+1]],[[y+1,g+f(E,v)],[y+f(x,E),g]]);break}case 11:i.push([[y+1,g+f(E,v)],[y+f(D,v),g+1]]);break;case 12:i.push([[y,g+f(x,D)],[y+1,g+f(E,v)]]);break;case 13:i.push([[y+f(x,E),g],[y+1,g+f(E,v)]]);break;case 14:i.push([[y,g+f(x,D)],[y+f(x,E),g]]);break;case 15:continue}}const c=[];for(;i.length>0;){const g=[...i.shift()];c.push(g);let y;do{y=!1;for(let v=0;v<i.length;v++){const E=i[v];if(E[0][0]===g[g.length-1][0]&&E[0][1]===g[g.length-1][1]){y=!0,g.push(E[1]),i.splice(v,1);break}if(E[1][0]===g[0][0]&&E[1][1]===g[0][1]){y=!0,g.unshift(E[0]),i.splice(v,1);break}}}while(y)}return c;function f(g,y){if(g===y)return .5;let v=(n-g)/(y-g);return v>1?1:v<0?0:v}}function nL(e,n,i){const l=Re(i),r=l[2]-l[0],c=l[3]-l[1],f=l[0],g=l[1],y=n[0].length-1,v=n.length-1,E=r/y,x=c/v,D=N=>{N[0]=N[0]*E+f,N[1]=N[1]*x+g};return e.forEach(N=>{_n(N,D)}),e}function iL(e){let n,i;const l={type:"FeatureCollection",features:[]};if(e.type==="Feature"?i=e.geometry:i=e,i.type==="LineString")n=[i.coordinates];else if(i.type==="MultiLineString")n=i.coordinates;else if(i.type==="MultiPolygon")n=[].concat(...i.coordinates);else if(i.type==="Polygon")n=i.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return n.forEach(r=>{n.forEach(c=>{for(let f=0;f<r.length-1;f++)for(let g=f;g<c.length-1;g++){if(r===c&&(Math.abs(f-g)===1||f===0&&g===r.length-2&&r[f][0]===r[r.length-1][0]&&r[f][1]===r[r.length-1][1]))continue;const y=rL(r[f][0],r[f][1],r[f+1][0],r[f+1][1],c[g][0],c[g][1],c[g+1][0],c[g+1][1]);y&&l.features.push(ue([y[0],y[1]]))}})}),l}function rL(e,n,i,l,r,c,f,g){let y,v,E,x,D;const N={x:null,y:null,onLine1:!1,onLine2:!1};return y=(g-c)*(i-e)-(f-r)*(l-n),y===0?N.x!==null&&N.y!==null?N:!1:(v=n-c,E=e-r,x=(f-r)*v-(g-c)*E,D=(i-e)*v-(l-n)*E,v=x/y,E=D/y,N.x=e+v*(i-e),N.y=n+v*(l-n),v>=0&&v<=1&&(N.onLine1=!0),E>=0&&E<=1&&(N.onLine2=!0),N.onLine1&&N.onLine2?[N.x,N.y]:!1)}function vx(e,n={}){return _g(e,(i,l)=>{const r=l.geometry.coordinates;return i+fn(r[0],r[1],n)},0)}function Sx(e,n,i,l,r={}){const c=r.steps||64,f=p0(i),g=p0(l),y=!Array.isArray(e)&&e.type==="Feature"?e.properties:{};if(f===g)return be(pf(e,n,r).geometry.coordinates[0],y);const v=f,E=f<g?g:g+360;let x=v;const D=[];let N=0;const P=(E-v)/c;for(;x<=E;)D.push(so(e,n,x,r).geometry.coordinates),N++,x=v+N*P;return be(D,y)}function p0(e){let n=e%360;return n<0&&(n+=360),n}function xx(e,n,i,l={}){if(!ze(l))throw new Error("options is invalid");const{units:r="kilometers"}=l;var c,f=[];if(e.type==="Feature")c=e.geometry.coordinates;else if(e.type==="LineString")c=e.coordinates;else throw new Error("input must be a LineString Feature or Geometry");const g=c.length;let y=0,v,E,x;for(let N=0;N<c.length&&!(n>=y&&N===c.length-1);N++){if(y>n&&f.length===0){let P=n-y;if(!P)return f.push(c[N]),be(f);E=ao(c[N],c[N-1])-180,x=so(c[N],P,E,{units:r}),f.push(x.geometry.coordinates)}if(y>=i)return v=i-y,v?(E=ao(c[N],c[N-1])-180,x=so(c[N],v,E,{units:r}),f.push(x.geometry.coordinates),be(f)):(f.push(c[N]),be(f));if(y>=n&&f.push(c[N]),N===c.length-1)return be(f);y+=fn(c[N],c[N+1],{units:r})}if(y<n&&c.length===g)throw new Error("Start position is beyond line");var D=c[c.length-1];return be([D,D])}function aL(e,n,i={}){if(!ze(i))throw new Error("options is invalid");const{units:l="kilometers",reverse:r=!1}=i;if(!e)throw new Error("geojson is required");if(n<=0)throw new Error("segmentLength must be greater than 0");const c=[];return $n(e,f=>{r&&(f.geometry.coordinates=f.geometry.coordinates.reverse()),sL(f,n,l,g=>{c.push(g)})}),Qt(c)}function sL(e,n,i,l){var r=vx(e,{units:i});if(r<=n)return l(e);var c=r/n;Number.isInteger(c)||(c=Math.floor(c)+1);for(var f=0;f<c;f++){var g=xx(e,n*f,n*(f+1),{units:i});l(g)}}function nf(e){var n=e[0],i=e[1];return[i[0]-n[0],i[1]-n[1]]}function ig(e,n){return e[0]*n[1]-n[0]*e[1]}function oL(e,n){return[e[0]+n[0],e[1]+n[1]]}function lL(e,n){return[e[0]-n[0],e[1]-n[1]]}function uL(e,n){return[e*n[0],e*n[1]]}function cL(e,n){var i=e[0],l=nf(e),r=n[0],c=nf(n),f=ig(l,c),g=lL(r,i),y=ig(g,c),v=y/f,E=oL(i,uL(v,l));return E}function hL(e,n){var i=nf(e),l=nf(n);return ig(i,l)===0}function fL(e,n){return hL(e,n)?!1:cL(e,n)}function dL(e,n,i={}){if(i=i||{},!ze(i))throw new Error("options is invalid");const{units:l="kilometers"}=i;if(!e)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("distance is required");var r=cr(e),c=e.type==="Feature"?e.properties:{};switch(r){case"LineString":return g0(e,n,l);case"MultiLineString":var f=[];return $n(e,function(g){f.push(g0(g,n,l).geometry.coordinates)}),uo(f,c);default:throw new Error("geometry "+r+" is not supported")}}function g0(e,n,i){var l=[],r=cg(n,i),c=ce(e),f=[];return c.forEach(function(g,y){if(y!==c.length-1){var v=pL(g,c[y+1],r);if(l.push(v),y>0){var E=l[y-1],x=fL(v,E);x!==!1&&(E[1]=x,v[0]=x),f.push(E[0]),y===c.length-2&&(f.push(v[0]),f.push(v[1]))}c.length===2&&(f.push(v[0]),f.push(v[1]))}}),be(f,e.type==="Feature"?e.properties:{})}function pL(e,n,i){var l=Math.sqrt((e[0]-n[0])*(e[0]-n[0])+(e[1]-n[1])*(e[1]-n[1])),r=e[0]+i*(n[1]-e[1])/l,c=n[0]+i*(n[1]-e[1])/l,f=e[1]+i*(e[0]-n[0])/l,g=n[1]+i*(e[0]-n[0])/l;return[[r,f],[c,g]]}function gL(e,n,i){const l=ce(i);if(cr(i)!=="LineString")throw new Error("line must be a LineString");const r=ms(i,e),c=ms(i,n),f=r.properties.index<=c.properties.index?[r,c]:[c,r],g=[f[0].geometry.coordinates];for(let y=f[0].properties.index+1;y<f[1].properties.index+1;y++)g.push(l[y]);return g.push(f[1].geometry.coordinates),be(g,i.type==="Feature"?i.properties:{})}function mL(e,n={}){var i,l,r,c=n.properties,f=(i=n.autoComplete)!=null?i:!0,g=(l=n.orderCoords)!=null?l:!0,y=(r=n.mutate)!=null?r:!1;if(y||(e=oi(e)),e.type==="FeatureCollection"){var v=[];return e.features.forEach(function(E){v.push(ce(m0(E,{},f,g)))}),ur(v,c)}else return m0(e,c,f,g)}function m0(e,n,i,l){n=n||(e.type==="Feature"?e.properties:{});var r=cn(e),c=r.coordinates,f=r.type;if(!c.length)throw new Error("line must contain coordinates");switch(f){case"LineString":return i&&(c=_0(c)),le([c],n);case"MultiLineString":var g=[],y=0;return c.forEach(function(v){if(i&&(v=_0(v)),l){var E=_L(Re(be(v)));E>y?(g.unshift(v),y=E):g.push(v)}else g.push(v)}),le(g,n);default:throw new Error("geometry type "+f+" is not supported")}}function _0(e){var n=e[0],i=n[0],l=n[1],r=e[e.length-1],c=r[0],f=r[1];return(i!==c||l!==f)&&e.push(n),e}function _L(e){var n=e[0],i=e[1],l=e[2],r=e[3];return Math.abs(n-l)*Math.abs(i-r)}function yL(e,n,i){var l;const r=(l=i?.mutate)!=null?l:!1;let c=n;n&&r===!1&&(c=oi(n));const f=SL(c);let g=null;return e.type==="FeatureCollection"?g=vL(e):e.type==="Feature"?g=rg(oo(e.geometry.coordinates)):g=rg(oo(e.coordinates)),g.geometry.coordinates.forEach(function(y){f.geometry.coordinates.push(y[0])}),f}function vL(e){const n=e.features.length===2?oo(e.features[0].geometry.coordinates,e.features[1].geometry.coordinates):oo.apply(xC,e.features.map(function(i){return i.geometry.coordinates}));return rg(n)}function rg(e){return ur(e)}function SL(e){let i=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return e&&(e.type==="Feature"?i=e.geometry.coordinates:i=e.coordinates),le(i)}function xL(e,n){const i=fn(e,n),l=ao(e,n);return so(e,i/2,l)}function EL(e,n){var i,l;const r=n.inputField,c=n.threshold||1e5,f=n.p||2,g=(i=n.binary)!=null?i:!1,y=n.alpha||-1,v=(l=n.standardization)!=null?l:!0,E=hx(e,{alpha:y,binary:g,p:f,standardization:v,threshold:c}),x=[];Oe(e,z=>{const J=z.properties||{};x.push(J[r])});const D=Ex(x),N=bL(x);let P=0,Z=0,rt=0,et=0;const B=E.length;for(let z=0;z<B;z++){let J=0;for(let H=0;H<B;H++)P+=E[z][H]*(x[z]-D)*(x[H]-D),Z+=E[z][H],rt+=Math.pow(E[z][H]+E[H][z],2),J+=E[z][H]+E[H][z];et+=Math.pow(J,2)}rt=.5*rt;const X=P/Z/N,V=-1/(B-1),W=B*B*rt-B*et+3*(Z*Z),$=(B-1)*(B+1)*(Z*Z),tt=W/$-V*V,A=Math.sqrt(tt),M=(X-V)/A;return{expectedMoranIndex:V,moranIndex:X,stdNorm:A,zNorm:M}}function Ex(e){let n=0;for(const i of e)n+=i;return n/e.length}function bL(e){const n=Ex(e);let i=0;for(const l of e)i+=Math.pow(l-n,2);return i/e.length}var TL=Object.defineProperty,wL=Object.defineProperties,CL=Object.getOwnPropertyDescriptors,y0=Object.getOwnPropertySymbols,LL=Object.prototype.hasOwnProperty,DL=Object.prototype.propertyIsEnumerable,v0=(e,n,i)=>n in e?TL(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,S0=(e,n)=>{for(var i in n||(n={}))LL.call(n,i)&&v0(e,i,n[i]);if(y0)for(var i of y0(n))DL.call(n,i)&&v0(e,i,n[i]);return e},x0=(e,n)=>wL(e,CL(n));function vf(e,n,i={}){if(!e)throw new Error("targetPoint is required");if(!n)throw new Error("points is required");let l=1/0,r=0;Oe(n,(f,g)=>{const y=fn(e,f,i);y<l&&(r=g,l=y)});const c=oi(n.features[r]);return x0(S0({},c),{properties:x0(S0({},c.properties),{featureIndex:r,distanceToPoint:l})})}function AL(e,n){n=n||{};const i=n.studyArea||vc(Re(e)),l=n.properties||{},r=n.units||"kilometers",c=[];Oe(e,x=>{c.push(vs(x))});const f=c.length,g=c.map((x,D)=>{const N=Qt(c.filter((P,Z)=>Z!==D));return fn(x,vf(x,N).geometry.coordinates,{units:r})}).reduce((x,D)=>x+D,0)/f,y=f/hg(yc(i),"meters",r),v=1/(2*Math.sqrt(y)),E=.26136/Math.sqrt(f*y);return l.nearestNeighborAnalysis={units:r,arealUnits:r+"",observedMeanDistance:g,expectedMeanDistance:v,nearestNeighborIndex:g/v,numberOfPoints:f,zScore:(g-v)/E},i.properties=l,i}function Bg(e,n,i={}){var l,r;const c=(l=i.method)!=null?l:"geodesic",f=(r=i.units)!=null?r:"kilometers";if(!e)throw new Error("pt is required");if(Array.isArray(e)?e=ue(e):e.type==="Point"?e=bn(e):lc(e,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=be(n):n.type==="LineString"?n=bn(n):lc(n,"LineString","line");let g=1/0;const y=e.geometry.coordinates;return gs(n,v=>{if(v){const E=v.geometry.coordinates[0],x=v.geometry.coordinates[1],D=kL(y,E,x,{method:c});D<g&&(g=D)}}),Xo(g,"degrees",f)}function kL(e,n,i,l){if(l.method==="geodesic")return ms(be([n,i]).geometry,e,{units:"degrees"}).properties.dist;const r=[i[0]-n[0],i[1]-n[1]],c=[e[0]-n[0],e[1]-n[1]],f=E0(c,r);if(f<=0)return zl(e,n,{units:"degrees"});const g=E0(r,r);if(g<=f)return zl(e,i,{units:"degrees"});const y=f/g,v=[n[0]+y*r[0],n[1]+y*r[1]];return zl(e,v,{units:"degrees"})}function E0(e,n){return e[0]*n[0]+e[1]*n[1]}var NL=Object.defineProperty,b0=Object.getOwnPropertySymbols,ML=Object.prototype.hasOwnProperty,OL=Object.prototype.propertyIsEnumerable,T0=(e,n,i)=>n in e?NL(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Bp=(e,n)=>{for(var i in n||(n={}))ML.call(n,i)&&T0(e,i,n[i]);if(b0)for(var i of b0(n))OL.call(n,i)&&T0(e,i,n[i]);return e};function RL(e,n,i={}){const l=i.units,r=i.properties||{},c=IL(e);if(!c.features.length)throw new Error("points must contain features");if(!n)throw new Error("line is required");if(cr(n)!=="LineString")throw new Error("line must be a LineString");let f=1/0,g=null;return Oe(c,y=>{const v=Bg(y,n,{units:l});v<f&&(f=v,g=y)}),g&&(g.properties=Bp(Bp(Bp({},{dist:f}),g.properties),r)),g}function IL(e){const n=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return Si(e,l=>{l.type==="Point"&&n.push({type:"Feature",properties:{},geometry:l})}),{type:"FeatureCollection",features:n};case"FeatureCollection":return e.features=e.features.filter(l=>l.geometry.type==="Point"),e;default:throw new Error("points must be a Point Collection")}}function PL(e,n){const i=Be(e),c=cn(n).coordinates[0];if(c.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");const f=n.type==="Feature"&&n.properties||{},g=f.a,y=f.b,v=f.c,E=i[0],x=i[1],D=c[0][0],N=c[0][1],P=g!==void 0?g:c[0][2],Z=c[1][0],rt=c[1][1],et=y!==void 0?y:c[1][2],B=c[2][0],X=c[2][1],V=v!==void 0?v:c[2][2];return(V*(E-D)*(x-rt)+P*(E-Z)*(x-X)+et*(E-B)*(x-N)-et*(E-D)*(x-X)-V*(E-Z)*(x-N)-P*(E-B)*(x-rt))/((E-D)*(x-rt)+(E-Z)*(x-X)+(E-B)*(x-N)-(E-D)*(x-X)-(E-Z)*(x-N)-(E-B)*(x-rt))}function BL(e){const n=zL(e),i=df(n);let l=!1,r=0;for(;!l&&r<n.features.length;){const c=n.features[r].geometry;let f,g,y,v,E,x,D=!1;if(c.type==="Point")i.geometry.coordinates[0]===c.coordinates[0]&&i.geometry.coordinates[1]===c.coordinates[1]&&(l=!0);else if(c.type==="MultiPoint"){let N=!1,P=0;for(;!N&&P<c.coordinates.length;)i.geometry.coordinates[0]===c.coordinates[P][0]&&i.geometry.coordinates[1]===c.coordinates[P][1]&&(l=!0,N=!0),P++}else if(c.type==="LineString"){let N=0;for(;!D&&N<c.coordinates.length-1;)f=i.geometry.coordinates[0],g=i.geometry.coordinates[1],y=c.coordinates[N][0],v=c.coordinates[N][1],E=c.coordinates[N+1][0],x=c.coordinates[N+1][1],w0(f,g,y,v,E,x)&&(D=!0,l=!0),N++}else if(c.type==="MultiLineString"){let N=0;for(;N<c.coordinates.length;){D=!1;let P=0;const Z=c.coordinates[N];for(;!D&&P<Z.length-1;)f=i.geometry.coordinates[0],g=i.geometry.coordinates[1],y=Z[P][0],v=Z[P][1],E=Z[P+1][0],x=Z[P+1][1],w0(f,g,y,v,E,x)&&(D=!0,l=!0),P++;N++}}else(c.type==="Polygon"||c.type==="MultiPolygon")&&ae(i,c)&&(l=!0);r++}if(l)return i;{const c=Qt([]);for(let f=0;f<n.features.length;f++)c.features=c.features.concat(yf(n.features[f]).features);return ue(vf(i,c).geometry.coordinates)}}function zL(e){return e.type!=="FeatureCollection"?e.type!=="Feature"?Qt([bn(e)]):Qt([e]):e}function w0(e,n,i,l,r,c){const f=Math.sqrt((r-i)*(r-i)+(c-l)*(c-l)),g=Math.sqrt((e-i)*(e-i)+(n-l)*(n-l)),y=Math.sqrt((r-e)*(r-e)+(c-n)*(c-n));return f===g+y}function bx(e,n){const i=[];return Oe(e,function(l){let r=!1;if(l.geometry.type==="Point")Si(n,function(f){ae(l,f)&&(r=!0)}),r&&i.push(l);else if(l.geometry.type==="MultiPoint"){var c=[];Si(n,function(f){_n(l,function(g){ae(g,f)&&(r=!0,c.push(g))})}),r&&i.push(mc(c,l.properties))}else throw new Error("Input geometry must be a Point or MultiPoint")}),Qt(i)}function ag(e,n,i={}){var l,r;const c=(l=i.method)!=null?l:"geodesic",f=(r=i.units)!=null?r:"kilometers";if(!e)throw new Error("point is required");if(!n)throw new Error("polygon or multi-polygon is required");const g=cn(n);if(g.type==="MultiPolygon"){const E=g.coordinates.map(x=>ag(e,le(x),{method:c,units:f}));return Math.min(...E.map(Math.abs))*(ae(e,n)?-1:1)}if(g.coordinates.length>1){const[E,...x]=g.coordinates.map(N=>ag(e,le([N]),{method:c,units:f}));if(E>=0)return E;const D=Math.min(...x);return D<0?Math.abs(D):Math.max(D*-1,E)}const y=Yl(g);let v=1/0;return $n(y,E=>{v=Math.min(v,Bg(e,E,{method:c,units:f}))}),ae(e,g)?-v:v}function FL(e){return(e>0)-(e<0)||+e}function zg(e,n,i){const l=n[0]-e[0],r=n[1]-e[1],c=i[0]-n[0],f=i[1]-n[1];return FL(l*f-c*r)}function jL(e,n){const i=e.geometry.coordinates[0].map(f=>f[0]),l=e.geometry.coordinates[0].map(f=>f[1]),r=n.geometry.coordinates[0].map(f=>f[0]),c=n.geometry.coordinates[0].map(f=>f[1]);return Math.max.apply(null,i)===Math.max.apply(null,r)&&Math.max.apply(null,l)===Math.max.apply(null,c)&&Math.min.apply(null,i)===Math.min.apply(null,r)&&Math.min.apply(null,l)===Math.min.apply(null,c)}function C0(e,n){return n.geometry.coordinates[0].every(i=>ae(ue(i),e))}function UL(e,n){return e[0]===n[0]&&e[1]===n[1]}var L0=class Tx{static buildId(n){return n.join(",")}constructor(n){this.id=Tx.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}removeInnerEdge(n){this.innerEdges=this.innerEdges.filter(i=>i.from.id!==n.from.id)}removeOuterEdge(n){this.outerEdges=this.outerEdges.filter(i=>i.to.id!==n.to.id)}addOuterEdge(n){this.outerEdges.push(n),this.outerEdgesSorted=!1}sortOuterEdges(){this.outerEdgesSorted||(this.outerEdges.sort((n,i)=>{const l=n.to,r=i.to;if(l.coordinates[0]-this.coordinates[0]>=0&&r.coordinates[0]-this.coordinates[0]<0)return 1;if(l.coordinates[0]-this.coordinates[0]<0&&r.coordinates[0]-this.coordinates[0]>=0)return-1;if(l.coordinates[0]-this.coordinates[0]===0&&r.coordinates[0]-this.coordinates[0]===0)return l.coordinates[1]-this.coordinates[1]>=0||r.coordinates[1]-this.coordinates[1]>=0?l.coordinates[1]-r.coordinates[1]:r.coordinates[1]-l.coordinates[1];const c=zg(this.coordinates,l.coordinates,r.coordinates);if(c<0)return 1;if(c>0)return-1;const f=Math.pow(l.coordinates[0]-this.coordinates[0],2)+Math.pow(l.coordinates[1]-this.coordinates[1],2),g=Math.pow(r.coordinates[0]-this.coordinates[0],2)+Math.pow(r.coordinates[1]-this.coordinates[1],2);return f-g}),this.outerEdgesSorted=!0)}getOuterEdges(){return this.sortOuterEdges(),this.outerEdges}getOuterEdge(n){return this.sortOuterEdges(),this.outerEdges[n]}addInnerEdge(n){this.innerEdges.push(n)}},YL=class wx{getSymetric(){return this.symetric||(this.symetric=new wx(this.to,this.from),this.symetric.symetric=this),this.symetric}constructor(n,i){this.from=n,this.to=i,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}deleteEdge(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}isEqual(n){return this.from.id===n.from.id&&this.to.id===n.to.id}toString(){return`Edge { ${this.from.id} -> ${this.to.id} }`}toLineString(){return be([this.from.coordinates,this.to.coordinates])}compareTo(n){return zg(n.from.coordinates,n.to.coordinates,this.to.coordinates)}},Cx=class{constructor(){this.edges=[],this.polygon=void 0,this.envelope=void 0}push(e){this.edges.push(e),this.polygon=this.envelope=void 0}get(e){return this.edges[e]}get length(){return this.edges.length}forEach(e){this.edges.forEach(e)}map(e){return this.edges.map(e)}some(e){return this.edges.some(e)}isValid(){return!0}isHole(){const e=this.edges.reduce((r,c,f)=>(c.from.coordinates[1]>this.edges[r].from.coordinates[1]&&(r=f),r),0),n=(e===0?this.length:e)-1,i=(e+1)%this.length,l=zg(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return l===0?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:l>0}toMultiPoint(){return mc(this.edges.map(e=>e.from.coordinates))}toPolygon(){if(this.polygon)return this.polygon;const e=this.edges.map(n=>n.from.coordinates);return e.push(this.edges[0].from.coordinates),this.polygon=le([e])}getEnvelope(){return this.envelope?this.envelope:this.envelope=px(this.toPolygon())}static findEdgeRingContaining(e,n){const i=e.getEnvelope();let l,r;return n.forEach(c=>{const f=c.getEnvelope();if(r&&(l=r.getEnvelope()),!jL(f,i)&&C0(f,i)){const g=e.map(v=>v.from.coordinates);let y;for(const v of g)c.some(E=>UL(v,E.from.coordinates))||(y=v);y&&c.inside(ue(y))&&(!r||C0(l,f))&&(r=c)}}),r}inside(e){return ae(e,this.toPolygon())}};function GL(e){if(!e)throw new Error("No geojson passed");if(e.type!=="FeatureCollection"&&e.type!=="GeometryCollection"&&e.type!=="MultiLineString"&&e.type!=="LineString"&&e.type!=="Feature")throw new Error(`Invalid input type '${e.type}'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature`)}var qL=class Lx{static fromGeoJson(n){GL(n);const i=new Lx;return $n(n,l=>{lc(l,"LineString","Graph::fromGeoJson"),dg(l,(r,c)=>{if(r){const f=i.getNode(r),g=i.getNode(c);i.addEdge(f,g)}return c})}),i}getNode(n){const i=L0.buildId(n);let l=this.nodes[i];return l||(l=this.nodes[i]=new L0(n)),l}addEdge(n,i){const l=new YL(n,i),r=l.getSymetric();this.edges.push(l),this.edges.push(r)}constructor(){this.edges=[],this.nodes={}}deleteDangles(){Object.keys(this.nodes).map(n=>this.nodes[n]).forEach(n=>this._removeIfDangle(n))}_removeIfDangle(n){if(n.innerEdges.length<=1){const i=n.getOuterEdges().map(l=>l.to);this.removeNode(n),i.forEach(l=>this._removeIfDangle(l))}}deleteCutEdges(){this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(n=>{n.label===n.symetric.label&&(this.removeEdge(n.symetric),this.removeEdge(n))})}_computeNextCWEdges(n){typeof n>"u"?Object.keys(this.nodes).forEach(i=>this._computeNextCWEdges(this.nodes[i])):n.getOuterEdges().forEach((i,l)=>{n.getOuterEdge((l===0?n.getOuterEdges().length:l)-1).symetric.next=i})}_computeNextCCWEdges(n,i){const l=n.getOuterEdges();let r,c;for(let f=l.length-1;f>=0;--f){let g=l[f],y=g.symetric,v,E;g.label===i&&(v=g),y.label===i&&(E=y),!(!v||!E)&&(E&&(c=E),v&&(c&&(c.next=v,c=void 0),r||(r=v)))}c&&(c.next=r)}_findLabeledEdgeRings(){const n=[];let i=0;return this.edges.forEach(l=>{if(l.label>=0)return;n.push(l);let r=l;do r.label=i,r=r.next;while(!l.isEqual(r));i++}),n}getEdgeRings(){this._computeNextCWEdges(),this.edges.forEach(i=>{i.label=void 0}),this._findLabeledEdgeRings().forEach(i=>{this._findIntersectionNodes(i).forEach(l=>{this._computeNextCCWEdges(l,i.label)})});const n=[];return this.edges.forEach(i=>{i.ring||n.push(this._findEdgeRing(i))}),n}_findIntersectionNodes(n){const i=[];let l=n;do{let r=0;l.from.getOuterEdges().forEach(c=>{c.label===n.label&&++r}),r>1&&i.push(l.from),l=l.next}while(!n.isEqual(l));return i}_findEdgeRing(n){let i=n;const l=new Cx;do l.push(i),i.ring=l,i=i.next;while(!n.isEqual(i));return l}removeNode(n){n.getOuterEdges().forEach(i=>this.removeEdge(i)),n.innerEdges.forEach(i=>this.removeEdge(i)),delete this.nodes[n.id]}removeEdge(n){this.edges=this.edges.filter(i=>!i.isEqual(n)),n.deleteEdge()}};function HL(e){const n=qL.fromGeoJson(e);n.deleteDangles(),n.deleteCutEdges();const i=[],l=[];return n.getEdgeRings().filter(r=>r.isValid()).forEach(r=>{r.isHole()?i.push(r):l.push(r)}),i.forEach(r=>{Cx.findEdgeRingContaining(r,l)&&l.push(r)}),Qt(l.map(r=>r.toPolygon()))}function ZL(e,n){n=n||{},n.iterations=n.iterations||1;const{iterations:i}=n,l=[];if(!e)throw new Error("inputPolys is required");return Si(e,function(r,c,f){if(r.type==="Polygon"){let g=[[]];for(let y=0;y<i;y++){let v=[],E=r;y>0&&(E=le(g).geometry),XL(E,v),g=v.slice(0)}l.push(le(g,f))}else if(r.type==="MultiPolygon"){let g=[[[]]];for(let y=0;y<i;y++){let v=[],E=r;y>0&&(E=ur(g).geometry),JL(E,v),g=v.slice(0)}l.push(ur(g,f))}else throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}),Qt(l)}function XL(e,n){var i,l;_n(e,function(r,c,f,g,y){if(l!==y)n.push([]);else{var v=i[0],E=i[1],x=r[0],D=r[1];n[y].push([.75*v+.25*x,.75*E+.25*D]),n[y].push([.25*v+.75*x,.25*E+.75*D])}i=r,l=y},!1),n.forEach(function(r){r.push(r[0])})}function JL(e,n){let i,l,r;_n(e,function(c,f,g,y,v){if(l!==y)n.push([[]]);else if(r!==v)n[y].push([]);else{var E=i[0],x=i[1],D=c[0],N=c[1];n[y][v].push([.75*E+.25*D,.75*x+.25*N]),n[y][v].push([.25*E+.75*D,.25*x+.75*N])}i=c,l=y,r=v},!1),n.forEach(function(c){c.forEach(function(f){f.push(f[0])})})}function VL(e,n){const i=ce(e),l=ce(n);let r=[],c=[],f;const g=Re(n);let y=0,v=null;switch(i[0]>g[0]&&i[0]<g[2]&&i[1]>g[1]&&i[1]<g[3]&&(v=vf(e,yf(n)),y=v.properties.featureIndex),cr(n)){case"Polygon":r=l[0][y],c=l[0][0],v!==null&&v.geometry.coordinates[1]<i[1]&&(c=l[0][y]),f=dc(l[0][0],l[0][l[0].length-1],i),[r,c]=D0(l[0],i,f,r,c);break;case"MultiPolygon":for(var x=0,D=0,N=0,P=0;P<l[0].length;P++){x=P;for(var Z=!1,rt=0;rt<l[0][P].length;rt++){if(D=rt,N===y){Z=!0;break}N++}if(Z)break}r=l[0][x][D],c=l[0][x][D],f=dc(l[0][0][0],l[0][0][l[0][0].length-1],i),l.forEach(function(et){[r,c]=D0(et[0],i,f,r,c)});break}return Qt([ue(r),ue(c)])}function D0(e,n,i,l,r){for(let c=0;c<e.length;c++){const f=e[c];let g=e[c+1];c===e.length-1&&(g=e[0]);const y=dc(f,g,n);i<=0&&y>0?QL(n,f,l)||(l=f):i>0&&y<=0&&(WL(n,f,r)||(r=f)),i=y}return[l,r]}function WL(e,n,i){return dc(e,n,i)>0}function QL(e,n,i){return dc(e,n,i)<0}function dc(e,n,i){return(n[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(n[1]-e[1])}function Dx(e,n={}){return kx(e,"mercator",n)}function Ax(e,n={}){return kx(e,"wgs84",n)}function kx(e,n,i={}){i=i||{};var l=i.mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&Kn(e[0])?e=n==="mercator"?A0(e):k0(e):(l!==!0&&(e=oi(e)),_n(e,function(r){var c=n==="mercator"?A0(r):k0(r);r[0]=c[0],r[1]=c[1]})),e}function A0(e){var n=Math.PI/180,i=6378137,l=20037508342789244e-9,r=Math.abs(e[0])<=180?e[0]:e[0]-KL(e[0])*360,c=[i*r*n,i*Math.log(Math.tan(Math.PI*.25+.5*e[1]*n))];return c[0]>l&&(c[0]=l),c[0]<-l&&(c[0]=-l),c[1]>l&&(c[1]=l),c[1]<-l&&(c[1]=-l),c}function k0(e){var n=180/Math.PI,i=6378137;return[e[0]*n/i,(Math.PI*.5-2*Math.atan(Math.exp(-e[1]/i)))*n]}function KL(e){return e<0?-1:e>0?1:0}const $L=Object.freeze(Object.defineProperty({__proto__:null,toMercator:Dx,toWgs84:Ax},Symbol.toStringTag,{value:"Module"}));function tD(e,n){n=n||{};const i=n.studyBbox||Re(e),l=n.confidenceLevel||20,r=e.features,c=r.length,f=yc(vc(i)),g=Math.sqrt(f/c*2),v=Pg(i,g,{units:"meters"}).features,E={};for(let tt=0;tt<v.length;tt++)E[tt]={box:Re(v[tt]),cnt:0};let x=0;for(const tt of r)for(const A of Object.keys(E)){const M=E[A].box;if(nD(Be(tt),M)){E[A].cnt+=1,x+=1;break}}let D=0;for(const tt of Object.keys(E)){const A=E[tt].cnt;A>D&&(D=A)}const N=[],P=Object.keys(E).length,Z=x/P;let rt=0;for(let tt=0;tt<D+1;tt++)rt+=Math.exp(-Z)*Math.pow(Z,tt)/iD(tt),N.push(rt);const et=[];let B=0;for(let tt=0;tt<D+1;tt++){for(const M of Object.keys(E))E[M].cnt===tt&&(B+=1);const A=B/P;et.push(A)}let X=0;for(let tt=0;tt<D+1;tt++){const A=Math.abs(N[tt]-et[tt]);A>X&&(X=A)}const W=eD[l]/Math.sqrt(P),$={criticalValue:W,isRandom:!0,maxAbsoluteDifference:X,observedDistribution:et};return X>W&&($.isRandom=!1),$}var eD={20:1.07275,15:1.13795,10:1.22385,5:1.3581,2:1.51743,1:1.62762};function nD(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}function iD(e){const n=[];function i(l){return l===0||l===1?1:n[l]>0?n[l]:n[l]=i(l-1)*l}return i(e)}function Nx(e){return xf(e),Sf(e)}function Sf(e){return Array.isArray(e)?N0(e):e&&e.bbox?N0(e.bbox):[aD(),sD()]}function xf(e){e!=null&&(Array.isArray(e)?oc(e):e.bbox!=null&&oc(e.bbox))}function Mx(e,n={}){xf(n.bbox),e==null&&(e=1);const i=[];for(let l=0;l<e;l++)i.push(ue(Sf(n.bbox)));return Qt(i)}function Ox(e,n={}){xf(n.bbox),e==null&&(e=1),(n.bbox===void 0||n.bbox===null)&&(n.bbox=[-180,-90,180,90]),(!Kn(n.num_vertices)||n.num_vertices===void 0)&&(n.num_vertices=10),(!Kn(n.max_radial_length)||n.max_radial_length===void 0)&&(n.max_radial_length=10);const i=Math.abs(n.bbox[0]-n.bbox[2]),l=Math.abs(n.bbox[1]-n.bbox[3]),r=Math.min(i/2,l/2);if(n.max_radial_length>r)throw new Error("max_radial_length is greater than the radius of the bbox");const c=[n.bbox[0]+n.max_radial_length,n.bbox[1]+n.max_radial_length,n.bbox[2]-n.max_radial_length,n.bbox[3]-n.max_radial_length],f=[];for(let g=0;g<e;g++){let y=[];const v=[...Array(n.num_vertices+1)].map(Math.random);v.forEach((E,x,D)=>{D[x]=x>0?E+D[x-1]:E}),v.forEach(E=>{E=E*2*Math.PI/v[v.length-1];const x=Math.random();y.push([x*(n.max_radial_length||10)*Math.sin(E),x*(n.max_radial_length||10)*Math.cos(E)])}),y[y.length-1]=y[0],y=y.reverse().map(rD(Sf(c))),f.push(le([y]))}return Qt(f)}function Rx(e,n={}){if(n=n||{},!ze(n))throw new Error("options is invalid");const i=n.bbox;xf(i);let l=n.num_vertices,r=n.max_length,c=n.max_rotation;e==null&&(e=1),(!Kn(l)||l===void 0||l<2)&&(l=10),(!Kn(r)||r===void 0)&&(r=1e-4),(!Kn(c)||c===void 0)&&(c=Math.PI/8);const f=[];for(let g=0;g<e;g++){const v=[Sf(i)];for(let E=0;E<l-1;E++){const D=(E===0?Math.random()*2*Math.PI:Math.tan((v[E][1]-v[E-1][1])/(v[E][0]-v[E-1][0])))+(Math.random()-.5)*c*2,N=Math.random()*r;v.push([v[E][0]+N*Math.cos(D),v[E][1]+N*Math.sin(D)])}f.push(be(v))}return Qt(f)}function rD(e){return n=>[n[0]+e[0],n[1]+e[1]]}function Ix(){return Math.random()-.5}function aD(){return Ix()*360}function sD(){return Ix()*180}function N0(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}const oD=Object.freeze(Object.defineProperty({__proto__:null,randomLineString:Rx,randomPoint:Mx,randomPolygon:Ox,randomPosition:Nx},Symbol.toStringTag,{value:"Module"}));function lD(e,n={}){var i,l;if(n=n||{},!ze(n))throw new Error("options is invalid");const r=(i=n.mutate)!=null?i:!1,c=(l=n.reverse)!=null?l:!1;if(!e)throw new Error("<geojson> is required");if(typeof c!="boolean")throw new Error("<reverse> must be a boolean");if(typeof r!="boolean")throw new Error("<mutate> must be a boolean");!r&&e.type!=="Point"&&e.type!=="MultiPoint"&&(e=oi(e));const f=[];switch(e.type){case"GeometryCollection":return Si(e,function(g){Gh(g,c)}),e;case"FeatureCollection":return Oe(e,function(g){const y=Gh(g,c);Oe(y,function(v){f.push(v)})}),Qt(f)}return Gh(e,c)}function Gh(e,n){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return Si(e,function(l){Gh(l,n)}),e;case"LineString":return M0(ce(e),n),e;case"Polygon":return O0(ce(e),n),e;case"MultiLineString":return ce(e).forEach(function(l){M0(l,n)}),e;case"MultiPolygon":return ce(e).forEach(function(l){O0(l,n)}),e;case"Point":case"MultiPoint":return e}}function M0(e,n){Zh(e)===n&&e.reverse()}function O0(e,n){Zh(e[0])!==n&&e[0].reverse();for(let i=1;i<e.length;i++)Zh(e[i])===n&&e[i].reverse()}function uD(e,n){if(!e)throw new Error("fc is required");if(n==null)throw new Error("num is required");if(typeof n!="number")throw new Error("num must be a number");var i=Qt(cD(e.features,n));return i}function cD(e,n){for(var i=e.slice(0),l=e.length,r=l-n,c,f;l-- >r;)f=Math.floor((l+1)*Math.random()),c=i[f],i[f]=i[l],i[l]=c;return i.slice(r)}function hD(e,n,i,l,r={}){if(r=r||{},!ze(r))throw new Error("options is invalid");const c=r.properties;if(!e)throw new Error("center is required");if(i==null)throw new Error("bearing1 is required");if(l==null)throw new Error("bearing2 is required");if(!n)throw new Error("radius is required");if(typeof r!="object")throw new Error("options must be an object");if(R0(i)===R0(l))return pf(e,n,r);const f=ce(e),g=Sx(e,n,i,l,r),y=[[f]];return _n(g,function(v){y[0].push(v)}),y[0].push(f),le(y,c)}function R0(e){let n=e%360;return n<0&&(n+=360),n}function Px(e,n,i){if(i=i||{},!ze(i))throw new Error("options is invalid");const l=i.origin||"centroid",r=i.mutate||!1;if(!e)throw new Error("geojson required");if(typeof n!="number"||n<=0)throw new Error("invalid factor");const c=Array.isArray(l)||typeof l=="object";return r!==!0&&(e=oi(e)),e.type==="FeatureCollection"&&!c?(Oe(e,function(f,g){e.features[g]=I0(f,n,l)}),e):I0(e,n,l)}function I0(e,n,i){const l=cr(e)==="Point",r=fD(e,i);return n===1||l||(_n(e,function(c){const f=zl(r,c),g=Jo(r,c),y=f*n,v=ce(_f(r,y,g));c[0]=v[0],c[1]=v[1],c.length===3&&(c[2]*=n)}),delete e.bbox),e}function fD(e,n){if(n==null&&(n="centroid"),Array.isArray(n)||typeof n=="object")return Be(n);const i=e.bbox?e.bbox:Re(e,{recompute:!0}),l=i[0],r=i[1],c=i[2],f=i[3];switch(n){case"sw":case"southwest":case"westsouth":case"bottomleft":return ue([l,r]);case"se":case"southeast":case"eastsouth":case"bottomright":return ue([c,r]);case"nw":case"northwest":case"westnorth":case"topleft":return ue([l,f]);case"ne":case"northeast":case"eastnorth":case"topright":return ue([c,f]);case"center":return df(e);case void 0:case null:case"centroid":return vs(e);default:throw new Error("invalid origin")}}function P0(e){for(var n=e,i=[];n.parent;)i.unshift(n),n=n.parent;return i}function dD(){return new mD(function(e){return e.f})}var rf={search:function(e,n,i,l={}){var r;e.cleanDirty(),l=l||{};var c=rf.heuristics.manhattan,f=(r=l.closest)!=null?r:!1,g=dD(),y=n;for(n.h=c(n,i),g.push(n);g.size()>0;){var v=g.pop();if(v===i)return P0(v);v.closed=!0;for(var E=e.neighbors(v),x=0,D=E.length;x<D;++x){var N=E[x];if(!(N.closed||N.isWall())){var P=v.g+N.getCost(v),Z=N.visited;(!Z||P<N.g)&&(N.visited=!0,N.parent=v,N.h=N.h||c(N,i),N.g=P,N.f=N.g+N.h,e.markDirty(N),f&&(N.h<y.h||N.h===y.h&&N.g<y.g)&&(y=N),Z?g.rescoreElement(N):g.push(N))}}}return f?P0(y):[]},heuristics:{manhattan:function(e,n){var i=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return i+l},diagonal:function(e,n){var i=1,l=Math.sqrt(2),r=Math.abs(n.x-e.x),c=Math.abs(n.y-e.y);return i*(r+c)+(l-2*i)*Math.min(r,c)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=void 0}},pD=class{constructor(e,n={}){this.nodes=[],this.grid=[],this.dirtyNodes=[],this.diagonal=!!n.diagonal;for(var i=0;i<e.length;i++){this.grid[i]=[];for(var l=0,r=e[i];l<r.length;l++){var c=new gD(i,l,r[l]);this.grid[i][l]=c,this.nodes.push(c)}}this.init()}init(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)rf.cleanNode(this.nodes[e])}cleanDirty(){for(var e=0;e<this.dirtyNodes.length;e++)rf.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]}markDirty(e){this.dirtyNodes.push(e)}neighbors(e){var n=[],i=e.x,l=e.y,r=this.grid;return r[i-1]&&r[i-1][l]&&n.push(r[i-1][l]),r[i+1]&&r[i+1][l]&&n.push(r[i+1][l]),r[i]&&r[i][l-1]&&n.push(r[i][l-1]),r[i]&&r[i][l+1]&&n.push(r[i][l+1]),this.diagonal&&(r[i-1]&&r[i-1][l-1]&&n.push(r[i-1][l-1]),r[i+1]&&r[i+1][l-1]&&n.push(r[i+1][l-1]),r[i-1]&&r[i-1][l+1]&&n.push(r[i-1][l+1]),r[i+1]&&r[i+1][l+1]&&n.push(r[i+1][l+1])),n}toString(){for(var e=[],n=this.grid,i,l,r,c,f=0,g=n.length;f<g;f++){for(i=[],l=n[f],r=0,c=l.length;r<c;r++)i.push(l[r].weight);e.push(i.join(" "))}return e.join(`
`)}},gD=class{constructor(e,n,i){this.visited=!1,this.h=0,this.g=0,this.f=0,this.closed=!1,this.x=e,this.y=n,this.weight=i}toString(){return"["+this.x+" "+this.y+"]"}getCost(e){return e&&e.x!==this.x&&e.y!==this.y?this.weight*1.41421:this.weight}isWall(){return this.weight===0}},mD=class{constructor(e){this.content=[],this.scoreFunction=e}push(e){this.content.push(e),this.sinkDown(this.content.length-1)}pop(){var e=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),e}remove(e){var n=this.content.indexOf(e),i=this.content.pop();n!==this.content.length-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.sinkDown(n):this.bubbleUp(n))}size(){return this.content.length}rescoreElement(e){this.sinkDown(this.content.indexOf(e))}sinkDown(e){for(var n=this.content[e];e>0;){var i=(e+1>>1)-1,l=this.content[i];if(this.scoreFunction(n)<this.scoreFunction(l))this.content[i]=n,this.content[e]=l,e=i;else break}}bubbleUp(e){for(var n=this.content.length,i=this.content[e],l=this.scoreFunction(i);;){var r=e+1<<1,c=r-1,f=null,g;if(c<n){var y=this.content[c];g=this.scoreFunction(y),g<l&&(f=c)}if(r<n){var v=this.content[r],E=this.scoreFunction(v);E<(f===null?l:g)&&(f=r)}if(f!==null)this.content[e]=this.content[f],this.content[f]=i,e=f;else break}}};function _D(e,n,i={}){if(i=i||{},!ze(i))throw new Error("options is invalid");let l=i.obstacles||Qt([]),r=i.resolution||100;if(!e)throw new Error("start is required");if(!n)throw new Error("end is required");if(!Kn(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");const c=Be(e),f=Be(n);if(e=ue(c),n=ue(f),l.type==="FeatureCollection"){if(l.features.length===0)return be([c,f])}else if(l.type==="Feature"&&l.geometry.type==="Polygon")l=Qt([l]);else if(l.type==="Polygon")l=Qt([bn(cn(l))]);else throw new Error("invalid obstacles");const g=l;g.features.push(e),g.features.push(n);const y=Re(Px(vc(Re(g)),1.15)),[v,E,x,D]=y;g.features.pop(),g.features.pop();const N=fn([v,E],[x,E],i)/r,P=(x-v)/N,Z=fn([v,E],[v,D],i)/r,rt=(D-E)/Z,et=N%1*P/2,B=Z%1*rt/2,X=[],V=[];let W,$,tt=1/0,A=1/0,M=D-B,z=0;for(;M>=E;){const R=[],U=[];let F=v+et,it=0;for(;F<=x;){const Q=ue([F,M]),Y=yD(Q,l);R.push(Y?0:1),U.push(F+"|"+M);const K=fn(Q,e);!Y&&K<tt&&(tt=K,W={x:it,y:z});const ct=fn(Q,n);!Y&&ct<A&&(A=ct,$={x:it,y:z}),F+=P,it++}V.push(R),X.push(U),M-=rt,z++}const J=new pD(V,{diagonal:!0}),H=J.grid[W.y][W.x],nt=J.grid[$.y][$.x],at=rf.search(J,H,nt),lt=[c];return at.forEach(function(R){const U=X[R.x][R.y].split("|");lt.push([+U[0],+U[1]])}),lt.push(f),Vo(be(lt))}function yD(e,n){for(let i=0;i<n.features.length;i++)if(ae(e,n.features[i]))return!0;return!1}function vD(e,n){var i=e[0]-n[0],l=e[1]-n[1];return i*i+l*l}function SD(e,n,i){var l=n[0],r=n[1],c=i[0]-l,f=i[1]-r;if(c!==0||f!==0){var g=((e[0]-l)*c+(e[1]-r)*f)/(c*c+f*f);g>1?(l=i[0],r=i[1]):g>0&&(l+=c*g,r+=f*g)}return c=e[0]-l,f=e[1]-r,c*c+f*f}function xD(e,n){for(var i=e[0],l=[i],r,c=1,f=e.length;c<f;c++)r=e[c],vD(r,i)>n&&(l.push(r),i=r);return i!==r&&l.push(r),l}function sg(e,n,i,l,r){for(var c=l,f,g=n+1;g<i;g++){var y=SD(e[g],e[n],e[i]);y>c&&(f=g,c=y)}c>l&&(f-n>1&&sg(e,n,f,l,r),r.push(e[f]),i-f>1&&sg(e,f,i,l,r))}function ED(e,n){var i=e.length-1,l=[e[0]];return sg(e,0,i,n,l),l.push(e[i]),l}function af(e,n,i){if(e.length<=2)return e;var l=n!==void 0?n*n:1;return e=i?e:xD(e,l),e=ED(e,l),e}function bD(e,n={}){var i,l,r;if(n=n??{},!ze(n))throw new Error("options is invalid");const c=(i=n.tolerance)!=null?i:1,f=(l=n.highQuality)!=null?l:!1,g=(r=n.mutate)!=null?r:!1;if(!e)throw new Error("geojson is required");if(c&&c<0)throw new Error("invalid tolerance");return g!==!0&&(e=oi(e)),Si(e,function(y){TD(y,c,f)}),e}function TD(e,n,i){const l=e.type;if(l==="Point"||l==="MultiPoint")return e;if(Vo(e,{mutate:!0}),l!=="GeometryCollection")switch(l){case"LineString":e.coordinates=af(e.coordinates,n,i);break;case"MultiLineString":e.coordinates=e.coordinates.map(r=>af(r,n,i));break;case"Polygon":e.coordinates=B0(e.coordinates,n,i);break;case"MultiPolygon":e.coordinates=e.coordinates.map(r=>B0(r,n,i))}return e}function B0(e,n,i){return e.map(function(l){if(l.length<4)throw new Error("invalid polygon");let r=n,c=af(l,r,i);for(;!z0(c)&&r>=Number.EPSILON;)r-=r*.01,c=af(l,r,i);return z0(c)?((c[c.length-1][0]!==c[0][0]||c[c.length-1][1]!==c[0][1])&&c.push(c[0]),c):l})}function z0(e){return e.length<3?!1:!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}function wD(e){var n=e[0],i=e[1],l=e[2],r=e[3],c=fn(e.slice(0,2),[l,i]),f=fn(e.slice(0,2),[n,r]);if(c>=f){var g=(i+r)/2;return[n,g-(l-n)/2,l,g+(l-n)/2]}else{var y=(n+l)/2;return[y-(r-i)/2,i,y+(r-i)/2,r]}}function CD(e,n){var i;if(n=n||{},!ze(n))throw new Error("options is invalid");const l=n.steps||64,r=n.weight,c=n.properties||{};if(!Kn(l))throw new Error("steps must be a number");if(!ze(c))throw new Error("properties must be a number");const f=uc(e).length,g=Cg(e,{weight:r});let y=0,v=0,E=0;Oe(e,function(A){var M;const z=r&&((M=A.properties)==null?void 0:M[r])||1,J=F0(ce(A),ce(g));y+=Math.pow(J.x,2)*z,v+=Math.pow(J.y,2)*z,E+=J.x*J.y*z});const x=y-v,D=Math.sqrt(Math.pow(x,2)+4*Math.pow(E,2)),N=2*E,P=Math.atan((x+D)/N),Z=P*180/Math.PI;let rt=0,et=0,B=0;Oe(e,function(A){var M;const z=r&&((M=A.properties)==null?void 0:M[r])||1,J=F0(ce(A),ce(g));rt+=Math.pow(J.x*Math.cos(P)-J.y*Math.sin(P),2)*z,et+=Math.pow(J.x*Math.sin(P)+J.y*Math.cos(P),2)*z,B+=z});const X=Math.sqrt(2*rt/B),V=Math.sqrt(2*et/B),W=dx(g,X,V,{units:"degrees",angle:Z,steps:l,properties:c}),$=bx(e,Qt([W])),tt={meanCenterCoordinates:ce(g),semiMajorAxis:X,semiMinorAxis:V,numberOfFeatures:f,angle:Z,percentageWithinEllipse:100*uc($).length/f};return W.properties=(i=W.properties)!=null?i:{},W.properties.standardDeviationalEllipse=tt,W}function F0(e,n){return{x:e[0]-n[0],y:e[1]-n[1]}}function LD(e,n,i,l){return e=oi(e),n=oi(n),Oe(e,function(r){r.properties||(r.properties={}),Oe(n,function(c){r.properties&&c.properties&&r.properties[l]===void 0&&ae(r,c)&&(r.properties[l]=c.properties[i])})}),e}var Rh={exports:{}},j0;function DD(){if(j0)return Rh.exports;j0=1,Rh.exports=e,Rh.exports.default=e;function e(R,U,F){F=F||2;var it=U&&U.length,Q=it?U[0]*F:R.length,Y=n(R,0,Q,F,!0),K=[];if(!Y||Y.next===Y.prev)return K;var ct,pt,gt,St,Dt,ht,It;if(it&&(Y=y(R,U,Y,F)),R.length>80*F){ct=gt=R[0],pt=St=R[1];for(var Ot=F;Ot<Q;Ot+=F)Dt=R[Ot],ht=R[Ot+1],Dt<ct&&(ct=Dt),ht<pt&&(pt=ht),Dt>gt&&(gt=Dt),ht>St&&(St=ht);It=Math.max(gt-ct,St-pt),It=It!==0?32767/It:0}return l(Y,K,F,ct,pt,It,0),K}function n(R,U,F,it,Q){var Y,K;if(Q===lt(R,U,F,it)>0)for(Y=U;Y<F;Y+=it)K=H(Y,R[Y],R[Y+1],K);else for(Y=F-it;Y>=U;Y-=it)K=H(Y,R[Y],R[Y+1],K);return K&&V(K,K.next)&&(nt(K),K=K.next),K}function i(R,U){if(!R)return R;U||(U=R);var F=R,it;do if(it=!1,!F.steiner&&(V(F,F.next)||X(F.prev,F,F.next)===0)){if(nt(F),F=U=F.prev,F===F.next)break;it=!0}else F=F.next;while(it||F!==U);return U}function l(R,U,F,it,Q,Y,K){if(R){!K&&Y&&N(R,it,Q,Y);for(var ct=R,pt,gt;R.prev!==R.next;){if(pt=R.prev,gt=R.next,Y?c(R,it,Q,Y):r(R)){U.push(pt.i/F|0),U.push(R.i/F|0),U.push(gt.i/F|0),nt(R),R=gt.next,ct=gt.next;continue}if(R=gt,R===ct){K?K===1?(R=f(i(R),U,F),l(R,U,F,it,Q,Y,2)):K===2&&g(R,U,F,it,Q,Y):l(i(R),U,F,it,Q,Y,1);break}}}}function r(R){var U=R.prev,F=R,it=R.next;if(X(U,F,it)>=0)return!1;for(var Q=U.x,Y=F.x,K=it.x,ct=U.y,pt=F.y,gt=it.y,St=Q<Y?Q<K?Q:K:Y<K?Y:K,Dt=ct<pt?ct<gt?ct:gt:pt<gt?pt:gt,ht=Q>Y?Q>K?Q:K:Y>K?Y:K,It=ct>pt?ct>gt?ct:gt:pt>gt?pt:gt,Ot=it.next;Ot!==U;){if(Ot.x>=St&&Ot.x<=ht&&Ot.y>=Dt&&Ot.y<=It&&et(Q,ct,Y,pt,K,gt,Ot.x,Ot.y)&&X(Ot.prev,Ot,Ot.next)>=0)return!1;Ot=Ot.next}return!0}function c(R,U,F,it){var Q=R.prev,Y=R,K=R.next;if(X(Q,Y,K)>=0)return!1;for(var ct=Q.x,pt=Y.x,gt=K.x,St=Q.y,Dt=Y.y,ht=K.y,It=ct<pt?ct<gt?ct:gt:pt<gt?pt:gt,Ot=St<Dt?St<ht?St:ht:Dt<ht?Dt:ht,At=ct>pt?ct>gt?ct:gt:pt>gt?pt:gt,ft=St>Dt?St>ht?St:ht:Dt>ht?Dt:ht,Xt=Z(It,Ot,U,F,it),Zt=Z(At,ft,U,F,it),zt=R.prevZ,jt=R.nextZ;zt&&zt.z>=Xt&&jt&&jt.z<=Zt;){if(zt.x>=It&&zt.x<=At&&zt.y>=Ot&&zt.y<=ft&&zt!==Q&&zt!==K&&et(ct,St,pt,Dt,gt,ht,zt.x,zt.y)&&X(zt.prev,zt,zt.next)>=0||(zt=zt.prevZ,jt.x>=It&&jt.x<=At&&jt.y>=Ot&&jt.y<=ft&&jt!==Q&&jt!==K&&et(ct,St,pt,Dt,gt,ht,jt.x,jt.y)&&X(jt.prev,jt,jt.next)>=0))return!1;jt=jt.nextZ}for(;zt&&zt.z>=Xt;){if(zt.x>=It&&zt.x<=At&&zt.y>=Ot&&zt.y<=ft&&zt!==Q&&zt!==K&&et(ct,St,pt,Dt,gt,ht,zt.x,zt.y)&&X(zt.prev,zt,zt.next)>=0)return!1;zt=zt.prevZ}for(;jt&&jt.z<=Zt;){if(jt.x>=It&&jt.x<=At&&jt.y>=Ot&&jt.y<=ft&&jt!==Q&&jt!==K&&et(ct,St,pt,Dt,gt,ht,jt.x,jt.y)&&X(jt.prev,jt,jt.next)>=0)return!1;jt=jt.nextZ}return!0}function f(R,U,F){var it=R;do{var Q=it.prev,Y=it.next.next;!V(Q,Y)&&W(Q,it,it.next,Y)&&M(Q,Y)&&M(Y,Q)&&(U.push(Q.i/F|0),U.push(it.i/F|0),U.push(Y.i/F|0),nt(it),nt(it.next),it=R=Y),it=it.next}while(it!==R);return i(it)}function g(R,U,F,it,Q,Y){var K=R;do{for(var ct=K.next.next;ct!==K.prev;){if(K.i!==ct.i&&B(K,ct)){var pt=J(K,ct);K=i(K,K.next),pt=i(pt,pt.next),l(K,U,F,it,Q,Y,0),l(pt,U,F,it,Q,Y,0);return}ct=ct.next}K=K.next}while(K!==R)}function y(R,U,F,it){var Q=[],Y,K,ct,pt,gt;for(Y=0,K=U.length;Y<K;Y++)ct=U[Y]*it,pt=Y<K-1?U[Y+1]*it:R.length,gt=n(R,ct,pt,it,!1),gt===gt.next&&(gt.steiner=!0),Q.push(rt(gt));for(Q.sort(v),Y=0;Y<Q.length;Y++)F=E(Q[Y],F);return F}function v(R,U){return R.x-U.x}function E(R,U){var F=x(R,U);if(!F)return U;var it=J(F,R);return i(it,it.next),i(F,F.next)}function x(R,U){var F=U,it=R.x,Q=R.y,Y=-1/0,K;do{if(Q<=F.y&&Q>=F.next.y&&F.next.y!==F.y){var ct=F.x+(Q-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(ct<=it&&ct>Y&&(Y=ct,K=F.x<F.next.x?F:F.next,ct===it))return K}F=F.next}while(F!==U);if(!K)return null;var pt=K,gt=K.x,St=K.y,Dt=1/0,ht;F=K;do it>=F.x&&F.x>=gt&&it!==F.x&&et(Q<St?it:Y,Q,gt,St,Q<St?Y:it,Q,F.x,F.y)&&(ht=Math.abs(Q-F.y)/(it-F.x),M(F,R)&&(ht<Dt||ht===Dt&&(F.x>K.x||F.x===K.x&&D(K,F)))&&(K=F,Dt=ht)),F=F.next;while(F!==pt);return K}function D(R,U){return X(R.prev,R,U.prev)<0&&X(U.next,R,R.next)<0}function N(R,U,F,it){var Q=R;do Q.z===0&&(Q.z=Z(Q.x,Q.y,U,F,it)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==R);Q.prevZ.nextZ=null,Q.prevZ=null,P(Q)}function P(R){var U,F,it,Q,Y,K,ct,pt,gt=1;do{for(F=R,R=null,Y=null,K=0;F;){for(K++,it=F,ct=0,U=0;U<gt&&(ct++,it=it.nextZ,!!it);U++);for(pt=gt;ct>0||pt>0&&it;)ct!==0&&(pt===0||!it||F.z<=it.z)?(Q=F,F=F.nextZ,ct--):(Q=it,it=it.nextZ,pt--),Y?Y.nextZ=Q:R=Q,Q.prevZ=Y,Y=Q;F=it}Y.nextZ=null,gt*=2}while(K>1);return R}function Z(R,U,F,it,Q){return R=(R-F)*Q|0,U=(U-it)*Q|0,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,R|U<<1}function rt(R){var U=R,F=R;do(U.x<F.x||U.x===F.x&&U.y<F.y)&&(F=U),U=U.next;while(U!==R);return F}function et(R,U,F,it,Q,Y,K,ct){return(Q-K)*(U-ct)>=(R-K)*(Y-ct)&&(R-K)*(it-ct)>=(F-K)*(U-ct)&&(F-K)*(Y-ct)>=(Q-K)*(it-ct)}function B(R,U){return R.next.i!==U.i&&R.prev.i!==U.i&&!A(R,U)&&(M(R,U)&&M(U,R)&&z(R,U)&&(X(R.prev,R,U.prev)||X(R,U.prev,U))||V(R,U)&&X(R.prev,R,R.next)>0&&X(U.prev,U,U.next)>0)}function X(R,U,F){return(U.y-R.y)*(F.x-U.x)-(U.x-R.x)*(F.y-U.y)}function V(R,U){return R.x===U.x&&R.y===U.y}function W(R,U,F,it){var Q=tt(X(R,U,F)),Y=tt(X(R,U,it)),K=tt(X(F,it,R)),ct=tt(X(F,it,U));return!!(Q!==Y&&K!==ct||Q===0&&$(R,F,U)||Y===0&&$(R,it,U)||K===0&&$(F,R,it)||ct===0&&$(F,U,it))}function $(R,U,F){return U.x<=Math.max(R.x,F.x)&&U.x>=Math.min(R.x,F.x)&&U.y<=Math.max(R.y,F.y)&&U.y>=Math.min(R.y,F.y)}function tt(R){return R>0?1:R<0?-1:0}function A(R,U){var F=R;do{if(F.i!==R.i&&F.next.i!==R.i&&F.i!==U.i&&F.next.i!==U.i&&W(F,F.next,R,U))return!0;F=F.next}while(F!==R);return!1}function M(R,U){return X(R.prev,R,R.next)<0?X(R,U,R.next)>=0&&X(R,R.prev,U)>=0:X(R,U,R.prev)<0||X(R,R.next,U)<0}function z(R,U){var F=R,it=!1,Q=(R.x+U.x)/2,Y=(R.y+U.y)/2;do F.y>Y!=F.next.y>Y&&F.next.y!==F.y&&Q<(F.next.x-F.x)*(Y-F.y)/(F.next.y-F.y)+F.x&&(it=!it),F=F.next;while(F!==R);return it}function J(R,U){var F=new at(R.i,R.x,R.y),it=new at(U.i,U.x,U.y),Q=R.next,Y=U.prev;return R.next=U,U.prev=R,F.next=Q,Q.prev=F,it.next=F,F.prev=it,Y.next=it,it.prev=Y,it}function H(R,U,F,it){var Q=new at(R,U,F);return it?(Q.next=it.next,Q.prev=it,it.next.prev=Q,it.next=Q):(Q.prev=Q,Q.next=Q),Q}function nt(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function at(R,U,F){this.i=R,this.x=U,this.y=F,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(R,U,F,it){var Q=U&&U.length,Y=Q?U[0]*F:R.length,K=Math.abs(lt(R,0,Y,F));if(Q)for(var ct=0,pt=U.length;ct<pt;ct++){var gt=U[ct]*F,St=ct<pt-1?U[ct+1]*F:R.length;K-=Math.abs(lt(R,gt,St,F))}var Dt=0;for(ct=0;ct<it.length;ct+=3){var ht=it[ct]*F,It=it[ct+1]*F,Ot=it[ct+2]*F;Dt+=Math.abs((R[ht]-R[Ot])*(R[It+1]-R[ht+1])-(R[ht]-R[It])*(R[Ot+1]-R[ht+1]))}return K===0&&Dt===0?0:Math.abs((Dt-K)/K)};function lt(R,U,F,it){for(var Q=0,Y=U,K=F-it;Y<F;Y+=it)Q+=(R[K]-R[Y])*(R[Y+1]+R[K+1]),K=Y;return Q}return e.flatten=function(R){for(var U=R[0][0].length,F={vertices:[],holes:[],dimensions:U},it=0,Q=0;Q<R.length;Q++){for(var Y=0;Y<R[Q].length;Y++)for(var K=0;K<U;K++)F.vertices.push(R[Q][Y][K]);Q>0&&(it+=R[Q-1].length,F.holes.push(it))}return F},Rh.exports}var AD=DD();const kD=lo(AD);function ND(e){if(!e.geometry||e.geometry.type!=="Polygon"&&e.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");const n={type:"FeatureCollection",features:[]};return e.geometry.type==="Polygon"?n.features=U0(e.geometry.coordinates):e.geometry.coordinates.forEach(function(i){n.features=n.features.concat(U0(i))}),n}function U0(e){const n=MD(e),i=3,l=kD(n.vertices,n.holes,i),r=[],c=[];l.forEach(function(g,y){const v=l[y];n.vertices[v*i+2]!==void 0?c.push([n.vertices[v*i],n.vertices[v*i+1],n.vertices[v*i+2]]):c.push([n.vertices[v*i],n.vertices[v*i+1]])});for(var f=0;f<c.length;f+=3){const g=c.slice(f,f+3);g.push(c[f]),r.push(le([g]))}return r}function MD(e){const i={vertices:[],holes:[],dimensions:3};let l=0;for(let r=0;r<e.length;r++){for(let c=0;c<e[r].length;c++)for(let f=0;f<3;f++)i.vertices.push(e[r][c][f]);r>0&&(l+=e[r-1].length,i.holes.push(l))}return i}function OD(e,n,i,l){if(l=l||{},!ze(l))throw new Error("options is invalid");var r=l.units,c=l.zTranslation,f=l.mutate;if(!e)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("distance is required");if(c&&typeof c!="number"&&isNaN(c))throw new Error("zTranslation is not a number");if(c=c!==void 0?c:0,n===0&&c===0)return e;if(i==null||isNaN(i))throw new Error("direction is required");return n<0&&(n=-n,i=i+180),(f===!1||f===void 0)&&(e=oi(e)),_n(e,function(g){var y=ce(_f(g,n,i,{units:r}));g[0]=y[0],g[1]=y[1],c&&g.length===3&&(g[2]+=c)}),e}function RD(e,n={}){const i=[];if(Si(e,r=>{i.push(r.coordinates)}),i.length<2)throw new Error("Must have at least 2 geometries");const l=oo(i[0],...i.slice(1));return l.length===0?null:l.length===1?le(l[0],n.properties):ur(l,n.properties)}function ID(e,n){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");for(var i=e.geometry.coordinates,l=[],r={},c=[],f=0;f<i.length;f++)for(var g=0;g<i[f].length-1;g++)c.push(N(f,g));var y=new hf;y.load(c);for(var v=0;v<i.length;v++)for(var E=0;E<i[v].length-1;E++){var x=y.search(N(v,E));x.forEach(function(P){var Z=P.ring,rt=P.edge;D(v,E,Z,rt)})}return l;function D(P,Z,rt,et){var B=i[P][Z],X=i[P][Z+1],V=i[rt][et],W=i[rt][et+1],$=PD(B,X,V,W);if($!==null){var tt,A;if(X[0]!==B[0]?tt=($[0]-B[0])/(X[0]-B[0]):tt=($[1]-B[1])/(X[1]-B[1]),W[0]!==V[0]?A=($[0]-V[0])/(W[0]-V[0]):A=($[1]-V[1])/(W[1]-V[1]),!(tt>=1||tt<=0||A>=1||A<=0)){var M=$,z=!r[M.toString()];z&&(r[M.toString()]=!0),n&&l.push(n($,P,Z,B,X,tt,rt,et,V,W,A,z))}}}function N(P,Z){var rt=i[P][Z],et=i[P][Z+1],B,X,V,W;return rt[0]<et[0]?(B=rt[0],X=et[0]):(B=et[0],X=rt[0]),rt[1]<et[1]?(V=rt[1],W=et[1]):(V=et[1],W=rt[1]),{minX:B,minY:V,maxX:X,maxY:W,ring:P,edge:Z}}}function PD(e,n,i,l){if(nc(e,i)||nc(e,l)||nc(n,i)||nc(l,i))return null;var r=e[0],c=e[1],f=n[0],g=n[1],y=i[0],v=i[1],E=l[0],x=l[1],D=(r-f)*(v-x)-(c-g)*(y-E);if(D===0)return null;var N=((r*g-c*f)*(y-E)-(r-f)*(y*x-v*E))/D,P=((r*g-c*f)*(v-x)-(c-g)*(y*x-v*E))/D;return[N,P]}function nc(e,n){if(!e||!n||e.length!==n.length)return!1;for(var i=0,l=e.length;i<l;i++)if(e[i]instanceof Array&&n[i]instanceof Array){if(!nc(e[i],n[i]))return!1}else if(e[i]!==n[i])return!1;return!0}function BD(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var n=e.geometry.coordinates.length,i=[],et=0;et<n;et++){var l=e.geometry.coordinates[et];ic(l[0],l[l.length-1])||l.push(l[0]);for(var r=0;r<l.length-1;r++)i.push(l[r])}if(!FD(i))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=i.length,f=ID(e,function(ct,pt,gt,St,Dt,ht,It,Ot,At,ft,Xt,Zt){return[ct,pt,gt,St,Dt,ht,It,Ot,At,ft,Xt,Zt]}),g=f.length;if(g==0){for(var $=[],et=0;et<n;et++)$.push(le([e.geometry.coordinates[et]],{parent:-1,winding:zD(e.geometry.coordinates[et])}));let ct=Qt($);return it(ct),Q(ct),ct}for(var y=[],v=[],et=0;et<n;et++){y.push([]);for(var r=0;r<e.geometry.coordinates[et].length-1;r++)y[et].push([new Y0(e.geometry.coordinates[et][Pl(r+1,e.geometry.coordinates[et].length-1)],1,[et,r],[et,Pl(r+1,e.geometry.coordinates[et].length-1)],void 0)]),v.push(new G0(e.geometry.coordinates[et][r],[et,Pl(r-1,e.geometry.coordinates[et].length-1)],[et,r],void 0,void 0,!1,!0))}for(var et=0;et<g;et++)y[f[et][1]][f[et][2]].push(new Y0(f[et][0],f[et][5],[f[et][1],f[et][2]],[f[et][6],f[et][7]],void 0)),f[et][11]&&v.push(new G0(f[et][0],[f[et][1],f[et][2]],[f[et][6],f[et][7]],void 0,void 0,!0,!0));for(var E=v.length,et=0;et<y.length;et++)for(var r=0;r<y[et].length;r++)y[et][r].sort(function(pt,gt){return pt.param<gt.param?-1:1});for(var x=[],et=0;et<E;et++)x.push({minX:v[et].coord[0],minY:v[et].coord[1],maxX:v[et].coord[0],maxY:v[et].coord[1],index:et});var D=new hf;D.load(x);for(var et=0;et<y.length;et++)for(var r=0;r<y[et].length;r++)for(var N=0;N<y[et][r].length;N++){let pt;N==y[et][r].length-1?pt=y[et][Pl(r+1,e.geometry.coordinates[et].length-1)][0].coord:pt=y[et][r][N+1].coord;var P=D.search({minX:pt[0],minY:pt[1],maxX:pt[0],maxY:pt[1]})[0];y[et][r][N].nxtIsectAlongEdgeIn=P.index}for(var et=0;et<y.length;et++)for(var r=0;r<y[et].length;r++)for(var N=0;N<y[et][r].length;N++){let gt=y[et][r][N].coord;var P=D.search({minX:gt[0],minY:gt[1],maxX:gt[0],maxY:gt[1]})[0],Z=P.index;Z<c?v[Z].nxtIsectAlongRingAndEdge2=y[et][r][N].nxtIsectAlongEdgeIn:ic(v[Z].ringAndEdge1,y[et][r][N].ringAndEdgeIn)?v[Z].nxtIsectAlongRingAndEdge1=y[et][r][N].nxtIsectAlongEdgeIn:v[Z].nxtIsectAlongRingAndEdge2=y[et][r][N].nxtIsectAlongEdgeIn}for(var rt=[],et=0,r=0;r<n;r++){for(var B=et,N=0;N<e.geometry.coordinates[r].length-1;N++)v[et].coord[0]<v[B].coord[0]&&(B=et),et++;for(var X=v[B].nxtIsectAlongRingAndEdge2,N=0;N<v.length;N++)if(v[N].nxtIsectAlongRingAndEdge1==B||v[N].nxtIsectAlongRingAndEdge2==B){var V=N;break}var W=qh([v[V].coord,v[B].coord,v[X].coord],!0)?1:-1;rt.push({isect:B,parent:-1,winding:W})}rt.sort(function(K,ct){return v[K.isect].coord>v[ct.isect].coord?-1:1});for(var $=[];rt.length>0;){var tt=rt.pop(),A=tt.isect,M=tt.parent,z=tt.winding,J=$.length,H=[v[A].coord],nt=A;if(v[A].ringAndEdge1Walkable)var at=v[A].ringAndEdge1,lt=v[A].nxtIsectAlongRingAndEdge1;else var at=v[A].ringAndEdge2,lt=v[A].nxtIsectAlongRingAndEdge2;for(;!ic(v[A].coord,v[lt].coord);){H.push(v[lt].coord);for(var R=void 0,et=0;et<rt.length;et++)if(rt[et].isect==lt){R=et;break}if(R!=null&&rt.splice(R,1),ic(at,v[lt].ringAndEdge1)){if(at=v[lt].ringAndEdge2,v[lt].ringAndEdge2Walkable=!1,v[lt].ringAndEdge1Walkable){var U={isect:lt};qh([v[nt].coord,v[lt].coord,v[v[lt].nxtIsectAlongRingAndEdge2].coord],z==1)?(U.parent=M,U.winding=-z):(U.parent=J,U.winding=z),rt.push(U)}nt=lt,lt=v[lt].nxtIsectAlongRingAndEdge2}else{if(at=v[lt].ringAndEdge1,v[lt].ringAndEdge1Walkable=!1,v[lt].ringAndEdge2Walkable){var U={isect:lt};qh([v[nt].coord,v[lt].coord,v[v[lt].nxtIsectAlongRingAndEdge1].coord],z==1)?(U.parent=M,U.winding=-z):(U.parent=J,U.winding=z),rt.push(U)}nt=lt,lt=v[lt].nxtIsectAlongRingAndEdge1}}H.push(v[lt].coord),$.push(le([H],{index:J,parent:M,winding:z,netWinding:void 0}))}let F=Qt($);it(F),Q(F);function it(K){for(var ct=[],pt=0;pt<K.features.length;pt++)K.features[pt].properties.parent==-1&&ct.push(pt);if(ct.length>1)for(var pt=0;pt<ct.length;pt++){for(var gt=-1,St=1/0,Dt=0;Dt<K.features.length;Dt++)ct[pt]!=Dt&&ae(K.features[ct[pt]].geometry.coordinates[0][0],K.features[Dt],{ignoreBoundary:!0})&&yc(K.features[Dt])<St&&(gt=Dt);K.features[ct[pt]].properties.parent=gt}}function Q(K){for(var ct=0;ct<K.features.length;ct++)if(K.features[ct].properties.parent==-1){var pt=K.features[ct].properties.winding;K.features[ct].properties.netWinding=pt,Y(K,ct,pt)}}function Y(K,ct,pt){for(var gt=0;gt<K.features.length;gt++)if(K.features[gt].properties.parent==ct){var St=pt+K.features[gt].properties.winding;K.features[gt].properties.netWinding=St,Y(K,gt,St)}}return F}var Y0=class{constructor(e,n,i,l,r){this.coord=e,this.param=n,this.ringAndEdgeIn=i,this.ringAndEdgeOut=l,this.nxtIsectAlongEdgeIn=r}},G0=class{constructor(e,n,i,l,r,c,f){this.coord=e,this.ringAndEdge1=n,this.ringAndEdge2=i,this.nxtIsectAlongRingAndEdge1=l,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=c,this.ringAndEdge2Walkable=f}};function qh(e,n){if(typeof n>"u"&&(n=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");var i=(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0]);return i>=0==n}function zD(e){for(var n=0,i=0;i<e.length-1;i++)e[i][0]<e[n][0]&&(n=i);if(qh([e[Pl(n-1,e.length-1)],e[n],e[Pl(n+1,e.length-1)]],!0))var l=1;else var l=-1;return l}function ic(e,n){if(!e||!n||e.length!=n.length)return!1;for(var i=0,l=e.length;i<l;i++)if(e[i]instanceof Array&&n[i]instanceof Array){if(!ic(e[i],n[i]))return!1}else if(e[i]!=n[i])return!1;return!0}function Pl(e,n){return(e%n+n)%n}function FD(e){for(var n={},i=1,l=0,r=e.length;l<r;++l){if(Object.prototype.hasOwnProperty.call(n,e[l].toString())){i=0;break}n[e[l].toString()]=1}return i}function jD(e){var n=[];return $n(e,function(i){i.geometry.type==="Polygon"&&Oe(BD(i),function(l){n.push(le(l.geometry.coordinates,i.properties))})}),Qt(n)}function q0(e){return function(){return e}}function UD(e){return e[0]}function YD(e){return e[1]}function sf(){this._=null}function Ef(e){e.U=e.C=e.L=e.R=e.P=e.N=null}sf.prototype={constructor:sf,insert:function(e,n){var i,l,r;if(e){if(n.P=e,n.N=e.N,e.N&&(e.N.P=n),e.N=n,e.R){for(e=e.R;e.L;)e=e.L;e.L=n}else e.R=n;i=e}else this._?(e=H0(this._),n.P=null,n.N=e,e.P=e.L=n,i=e):(n.P=n.N=null,this._=n,i=null);for(n.L=n.R=null,n.U=i,n.C=!0,e=n;i&&i.C;)l=i.U,i===l.L?(r=l.R,r&&r.C?(i.C=r.C=!1,l.C=!0,e=l):(e===i.R&&(qu(this,i),e=i,i=e.U),i.C=!1,l.C=!0,Hu(this,l))):(r=l.L,r&&r.C?(i.C=r.C=!1,l.C=!0,e=l):(e===i.L&&(Hu(this,i),e=i,i=e.U),i.C=!1,l.C=!0,qu(this,l))),i=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n=e.U,i,l=e.L,r=e.R,c,f;if(l?r?c=H0(r):c=l:c=r,n?n.L===e?n.L=c:n.R=c:this._=c,l&&r?(f=c.C,c.C=e.C,c.L=l,l.U=c,c!==r?(n=c.U,c.U=e.U,e=c.R,n.L=e,c.R=r,r.U=c):(c.U=n,n=c,e=c.R)):(f=e.C,e=c),e&&(e.U=n),!f){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===n.L){if(i=n.R,i.C&&(i.C=!1,n.C=!0,qu(this,n),i=n.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,Hu(this,i),i=n.R),i.C=n.C,n.C=i.R.C=!1,qu(this,n),e=this._;break}}else if(i=n.L,i.C&&(i.C=!1,n.C=!0,Hu(this,n),i=n.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,qu(this,i),i=n.L),i.C=n.C,n.C=i.L.C=!1,Hu(this,n),e=this._;break}i.C=!0,e=n,n=n.U}while(!e.C);e&&(e.C=!1)}}};function qu(e,n){var i=n,l=n.R,r=i.U;r?r.L===i?r.L=l:r.R=l:e._=l,l.U=r,i.U=l,i.R=l.L,i.R&&(i.R.U=i),l.L=i}function Hu(e,n){var i=n,l=n.L,r=i.U;r?r.L===i?r.L=l:r.R=l:e._=l,l.U=r,i.U=l,i.L=l.R,i.L&&(i.L.U=i),l.R=i}function H0(e){for(;e.L;)e=e.L;return e}function rc(e,n,i,l){var r=[null,null],c=Mi.push(r)-1;return r.left=e,r.right=n,i&&of(r,e,n,i),l&&of(r,n,e,l),Lr[e.index].halfedges.push(c),Lr[n.index].halfedges.push(c),r}function Zu(e,n,i){var l=[n,i];return l.left=e,l}function of(e,n,i,l){!e[0]&&!e[1]?(e[0]=l,e.left=n,e.right=i):e.left===i?e[1]=l:e[0]=l}function GD(e,n,i,l,r){var c=e[0],f=e[1],g=c[0],y=c[1],v=f[0],E=f[1],x=0,D=1,N=v-g,P=E-y,Z;if(Z=n-g,!(!N&&Z>0)){if(Z/=N,N<0){if(Z<x)return;Z<D&&(D=Z)}else if(N>0){if(Z>D)return;Z>x&&(x=Z)}if(Z=l-g,!(!N&&Z<0)){if(Z/=N,N<0){if(Z>D)return;Z>x&&(x=Z)}else if(N>0){if(Z<x)return;Z<D&&(D=Z)}if(Z=i-y,!(!P&&Z>0)){if(Z/=P,P<0){if(Z<x)return;Z<D&&(D=Z)}else if(P>0){if(Z>D)return;Z>x&&(x=Z)}if(Z=r-y,!(!P&&Z<0)){if(Z/=P,P<0){if(Z>D)return;Z>x&&(x=Z)}else if(P>0){if(Z<x)return;Z<D&&(D=Z)}return!(x>0)&&!(D<1)||(x>0&&(e[0]=[g+x*N,y+x*P]),D<1&&(e[1]=[g+D*N,y+D*P])),!0}}}}}function qD(e,n,i,l,r){var c=e[1];if(c)return!0;var f=e[0],g=e.left,y=e.right,v=g[0],E=g[1],x=y[0],D=y[1],N=(v+x)/2,P=(E+D)/2,Z,rt;if(D===E){if(N<n||N>=l)return;if(v>x){if(!f)f=[N,i];else if(f[1]>=r)return;c=[N,r]}else{if(!f)f=[N,r];else if(f[1]<i)return;c=[N,i]}}else if(Z=(v-x)/(D-E),rt=P-Z*N,Z<-1||Z>1)if(v>x){if(!f)f=[(i-rt)/Z,i];else if(f[1]>=r)return;c=[(r-rt)/Z,r]}else{if(!f)f=[(r-rt)/Z,r];else if(f[1]<i)return;c=[(i-rt)/Z,i]}else if(E<D){if(!f)f=[n,Z*n+rt];else if(f[0]>=l)return;c=[l,Z*l+rt]}else{if(!f)f=[l,Z*l+rt];else if(f[0]<n)return;c=[n,Z*n+rt]}return e[0]=f,e[1]=c,!0}function HD(e,n,i,l){for(var r=Mi.length,c;r--;)(!qD(c=Mi[r],e,n,i,l)||!GD(c,e,n,i,l)||!(Math.abs(c[0][0]-c[1][0])>un||Math.abs(c[0][1]-c[1][1])>un))&&delete Mi[r]}function ZD(e){return Lr[e.index]={site:e,halfedges:[]}}function XD(e,n){var i=e.site,l=n.left,r=n.right;return i===r&&(r=l,l=i),r?Math.atan2(r[1]-l[1],r[0]-l[0]):(i===l?(l=n[1],r=n[0]):(l=n[0],r=n[1]),Math.atan2(l[0]-r[0],r[1]-l[1]))}function Bx(e,n){return n[+(n.left!==e.site)]}function JD(e,n){return n[+(n.left===e.site)]}function VD(){for(var e=0,n=Lr.length,i,l,r,c;e<n;++e)if((i=Lr[e])&&(c=(l=i.halfedges).length)){var f=new Array(c),g=new Array(c);for(r=0;r<c;++r)f[r]=r,g[r]=XD(i,Mi[l[r]]);for(f.sort(function(y,v){return g[v]-g[y]}),r=0;r<c;++r)g[r]=l[f[r]];for(r=0;r<c;++r)l[r]=g[r]}}function WD(e,n,i,l){var r=Lr.length,c,f,g,y,v,E,x,D,N,P,Z,rt,et=!0;for(c=0;c<r;++c)if(f=Lr[c]){for(g=f.site,v=f.halfedges,y=v.length;y--;)Mi[v[y]]||v.splice(y,1);for(y=0,E=v.length;y<E;)P=JD(f,Mi[v[y]]),Z=P[0],rt=P[1],x=Bx(f,Mi[v[++y%E]]),D=x[0],N=x[1],(Math.abs(Z-D)>un||Math.abs(rt-N)>un)&&(v.splice(y,0,Mi.push(Zu(g,P,Math.abs(Z-e)<un&&l-rt>un?[e,Math.abs(D-e)<un?N:l]:Math.abs(rt-l)<un&&i-Z>un?[Math.abs(N-l)<un?D:i,l]:Math.abs(Z-i)<un&&rt-n>un?[i,Math.abs(D-i)<un?N:n]:Math.abs(rt-n)<un&&Z-e>un?[Math.abs(N-n)<un?D:e,n]:null))-1),++E);E&&(et=!1)}if(et){var B,X,V,W=1/0;for(c=0,et=null;c<r;++c)(f=Lr[c])&&(g=f.site,B=g[0]-e,X=g[1]-n,V=B*B+X*X,V<W&&(W=V,et=f));if(et){var $=[e,n],tt=[e,l],A=[i,l],M=[i,n];et.halfedges.push(Mi.push(Zu(g=et.site,$,tt))-1,Mi.push(Zu(g,tt,A))-1,Mi.push(Zu(g,A,M))-1,Mi.push(Zu(g,M,$))-1)}}for(c=0;c<r;++c)(f=Lr[c])&&(f.halfedges.length||delete Lr[c])}var zx=[],Fg;function QD(){Ef(this),this.x=this.y=this.arc=this.site=this.cy=null}function Bl(e){var n=e.P,i=e.N;if(!(!n||!i)){var l=n.site,r=e.site,c=i.site;if(l!==c){var f=r[0],g=r[1],y=l[0]-f,v=l[1]-g,E=c[0]-f,x=c[1]-g,D=2*(y*x-v*E);if(!(D>=-1e-12)){var N=y*y+v*v,P=E*E+x*x,Z=(x*N-v*P)/D,rt=(y*P-E*N)/D,et=zx.pop()||new QD;et.arc=e,et.site=r,et.x=Z+f,et.y=(et.cy=rt+g)+Math.sqrt(Z*Z+rt*rt),e.circle=et;for(var B=null,X=pc._;X;)if(et.y<X.y||et.y===X.y&&et.x<=X.x)if(X.L)X=X.L;else{B=X.P;break}else if(X.R)X=X.R;else{B=X;break}pc.insert(B,et),B||(Fg=et)}}}}function Fl(e){var n=e.circle;n&&(n.P||(Fg=n.N),pc.remove(n),zx.push(n),Ef(n),e.circle=null)}var Fx=[];function KD(){Ef(this),this.edge=this.site=this.circle=null}function Z0(e){var n=Fx.pop()||new KD;return n.site=e,n}function zp(e){Fl(e),jl.remove(e),Fx.push(e),Ef(e)}function $D(e){var n=e.circle,i=n.x,l=n.cy,r=[i,l],c=e.P,f=e.N,g=[e];zp(e);for(var y=c;y.circle&&Math.abs(i-y.circle.x)<un&&Math.abs(l-y.circle.cy)<un;)c=y.P,g.unshift(y),zp(y),y=c;g.unshift(y),Fl(y);for(var v=f;v.circle&&Math.abs(i-v.circle.x)<un&&Math.abs(l-v.circle.cy)<un;)f=v.N,g.push(v),zp(v),v=f;g.push(v),Fl(v);var E=g.length,x;for(x=1;x<E;++x)v=g[x],y=g[x-1],of(v.edge,y.site,v.site,r);y=g[0],v=g[E-1],v.edge=rc(y.site,v.site,null,r),Bl(y),Bl(v)}function tA(e){for(var n=e[0],i=e[1],l,r,c,f,g=jl._;g;)if(c=jx(g,i)-n,c>un)g=g.L;else if(f=n-eA(g,i),f>un){if(!g.R){l=g;break}g=g.R}else{c>-un?(l=g.P,r=g):f>-un?(l=g,r=g.N):l=r=g;break}ZD(e);var y=Z0(e);if(jl.insert(l,y),!(!l&&!r)){if(l===r){Fl(l),r=Z0(l.site),jl.insert(y,r),y.edge=r.edge=rc(l.site,y.site),Bl(l),Bl(r);return}if(!r){y.edge=rc(l.site,y.site);return}Fl(l),Fl(r);var v=l.site,E=v[0],x=v[1],D=e[0]-E,N=e[1]-x,P=r.site,Z=P[0]-E,rt=P[1]-x,et=2*(D*rt-N*Z),B=D*D+N*N,X=Z*Z+rt*rt,V=[(rt*B-N*X)/et+E,(D*X-Z*B)/et+x];of(r.edge,v,P,V),y.edge=rc(v,e,null,V),r.edge=rc(e,P,null,V),Bl(l),Bl(r)}}function jx(e,n){var i=e.site,l=i[0],r=i[1],c=r-n;if(!c)return l;var f=e.P;if(!f)return-1/0;i=f.site;var g=i[0],y=i[1],v=y-n;if(!v)return g;var E=g-l,x=1/c-1/v,D=E/v;return x?(-D+Math.sqrt(D*D-2*x*(E*E/(-2*v)-y+v/2+r-c/2)))/x+l:(l+g)/2}function eA(e,n){var i=e.N;if(i)return jx(i,n);var l=e.site;return l[1]===n?l[0]:1/0}var un=1e-6,jl,Lr,pc,Mi;function nA(e,n,i){return(e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1])}function iA(e,n){return n[1]-e[1]||n[0]-e[0]}function og(e,n){var i=e.sort(iA).pop(),l,r,c;for(Mi=[],Lr=new Array(e.length),jl=new sf,pc=new sf;;)if(c=Fg,i&&(!c||i[1]<c.y||i[1]===c.y&&i[0]<c.x))(i[0]!==l||i[1]!==r)&&(tA(i),l=i[0],r=i[1]),i=e.pop();else if(c)$D(c.arc);else break;if(VD(),n){var f=+n[0][0],g=+n[0][1],y=+n[1][0],v=+n[1][1];HD(f,g,y,v),WD(f,g,y,v)}this.edges=Mi,this.cells=Lr,jl=pc=Mi=Lr=null}og.prototype={constructor:og,polygons:function(){var e=this.edges;return this.cells.map(function(n){var i=n.halfedges.map(function(l){return Bx(n,e[l])});return i.data=n.site.data,i})},triangles:function(){var e=[],n=this.edges;return this.cells.forEach(function(i,l){if(g=(c=i.halfedges).length)for(var r=i.site,c,f=-1,g,y,v=n[c[g-1]],E=v.left===r?v.right:v.left;++f<g;)y=E,v=n[c[f]],E=v.left===r?v.right:v.left,y&&E&&l<y.index&&l<E.index&&nA(r,y,E)<0&&e.push([r.data,y.data,E.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,n,i){for(var l=this,r,c=l._found||0,f=l.cells.length,g;!(g=l.cells[c]);)if(++c>=f)return null;var y=e-g.site[0],v=n-g.site[1],E=y*y+v*v;do g=l.cells[r=c],c=null,g.halfedges.forEach(function(x){var D=l.edges[x],N=D.left;if(!((N===g.site||!N)&&!(N=D.right))){var P=e-N[0],Z=n-N[1],rt=P*P+Z*Z;rt<E&&(E=rt,c=N.index)}});while(c!==null);return l._found=r,i==null||E<=i*i?g.site:null}};function rA(){var e=UD,n=YD,i=null;function l(r){return new og(r.map(function(c,f){var g=[Math.round(e(c,f,r)/un)*un,Math.round(n(c,f,r)/un)*un];return g.index=f,g.data=c,g}),i)}return l.polygons=function(r){return l(r).polygons()},l.links=function(r){return l(r).links()},l.triangles=function(r){return l(r).triangles()},l.x=function(r){return arguments.length?(e=typeof r=="function"?r:q0(+r),l):e},l.y=function(r){return arguments.length?(n=typeof r=="function"?r:q0(+r),l):n},l.extent=function(r){return arguments.length?(i=r==null?null:[[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]],l):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},l.size=function(r){return arguments.length?(i=r==null?null:[[0,0],[+r[0],+r[1]]],l):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},l}function aA(e){return e=e.slice(),e.push(e[0]),le([e])}function sA(e,n){if(n=n||{},!ze(n))throw new Error("options is invalid");const i=n.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(i))throw new Error("bbox is invalid");return xs(e,"Point","points"),Qt(rA().x(l=>l.geometry.coordinates[0]).y(l=>l.geometry.coordinates[1]).extent([[i[0],i[1]],[i[2],i[3]]]).polygons(e.features).map(function(l,r){return Object.assign(aA(l),{properties:gf(e.features[r].properties)})}))}const oA=Object.freeze(Object.defineProperty({__proto__:null,along:OE,angle:RE,applyFilter:mf,area:yc,areaFactors:Hh,azimuthToBearing:lS,bbox:Re,bboxClip:jE,bboxPolygon:vc,bearing:ao,bearingToAzimuth:Ul,bezierSpline:qE,booleanClockwise:Zh,booleanConcave:HE,booleanContains:Mb,booleanCrosses:bS,booleanDisjoint:wg,booleanEqual:Wu,booleanIntersects:TS,booleanOverlap:nT,booleanParallel:iT,booleanPointInPolygon:ae,booleanPointOnLine:pe,booleanTouches:aT,booleanValid:sT,booleanWithin:CS,buffer:VT,center:df,centerMean:Cg,centerMedian:QT,centerOfMass:XS,centroid:vs,circle:pf,cleanCoords:Vo,clone:oi,cloneProperties:gf,clusterEach:Dg,clusterReduce:QS,clusters:fw,clustersDbscan:_w,clustersKmeans:Ew,collect:bw,collectionOf:xs,combine:Tw,concave:tC,containsNumber:fg,convertArea:hg,convertLength:Xo,convex:ZS,coordAll:uc,coordEach:_n,coordReduce:dg,createBins:Ag,degreesToRadians:Qn,destination:so,difference:EC,dissolve:bC,distance:fn,distanceWeight:hx,earthRadius:Wn,ellipse:dx,envelope:px,explode:yf,factors:cf,feature:bn,featureCollection:Qt,featureEach:Oe,featureOf:lc,featureReduce:gg,filterProperties:KS,findPoint:pS,findSegment:dS,flatten:ng,flattenEach:$n,flattenReduce:fS,flip:LC,geojsonRbush:ff,geojsonType:cS,geomEach:Si,geomReduce:mg,geometry:iS,geometryCollection:ug,getCluster:WS,getCoord:Be,getCoords:ce,getGeom:cn,getType:cr,greatCircle:MC,helpers:kE,hexGrid:gx,interpolate:IC,intersect:fc,invariant:NE,isNumber:Kn,isObject:ze,isobands:UC,isolines:$C,kinks:iL,length:vx,lengthToDegrees:cg,lengthToRadians:Jl,lineArc:Sx,lineChunk:aL,lineEach:yg,lineIntersect:Ra,lineOffset:dL,lineOverlap:wS,lineReduce:vg,lineSegment:cc,lineSlice:gL,lineSliceAlong:xx,lineSplit:Sg,lineString:be,lineStrings:sS,lineToPolygon:mL,mask:yL,meta:IE,midpoint:xL,moranIndex:EL,multiLineString:uo,multiPoint:mc,multiPolygon:ur,nearestNeighborAnalysis:AL,nearestPoint:vf,nearestPointOnLine:ms,nearestPointToLine:RL,planepoint:PL,point:ue,pointGrid:mx,pointOnFeature:BL,pointToLineDistance:Bg,pointToPolygonDistance:ag,points:rS,pointsWithinPolygon:bx,polygon:le,polygonSmooth:ZL,polygonTangents:VL,polygonToLine:Yl,polygonize:HL,polygons:aS,projection:$L,propEach:pg,propReduce:hS,propertiesContainsFilter:kg,quadratAnalysis:tD,radiansToDegrees:Oa,radiansToLength:_c,random:oD,randomLineString:Rx,randomPoint:Mx,randomPolygon:Ox,randomPosition:Nx,rectangleGrid:_x,rewind:lD,rhumbBearing:Jo,rhumbDestination:_f,rhumbDistance:zl,round:oS,sample:uD,sector:hD,segmentEach:gs,segmentReduce:_g,shortestPath:_D,simplify:bD,square:wD,squareGrid:Pg,standardDeviationalEllipse:CD,tag:LD,tesselate:ND,tin:ex,toMercator:Dx,toWgs84:Ax,transformRotate:fx,transformScale:Px,transformTranslate:OD,triangleGrid:yx,truncate:mS,union:RD,unkinkPolygon:jD,validateBBox:oc,validateId:uS,voronoi:sA},Symbol.toStringTag,{value:"Module"}));var ac={exports:{}};var lA=ac.exports,X0;function uA(){return X0||(X0=1,(function(e,n){(function(i,l){l(n)})(lA,(function(i){var l="1.9.4";function r(u){var m,b,k,j;for(b=1,k=arguments.length;b<k;b++){j=arguments[b];for(m in j)u[m]=j[m]}return u}var c=Object.create||(function(){function u(){}return function(m){return u.prototype=m,new u}})();function f(u,m){var b=Array.prototype.slice;if(u.bind)return u.bind.apply(u,b.call(arguments,1));var k=b.call(arguments,2);return function(){return u.apply(m,k.length?k.concat(b.call(arguments)):arguments)}}var g=0;function y(u){return"_leaflet_id"in u||(u._leaflet_id=++g),u._leaflet_id}function v(u,m,b){var k,j,st,mt;return mt=function(){k=!1,j&&(st.apply(b,j),j=!1)},st=function(){k?j=arguments:(u.apply(b,arguments),setTimeout(mt,m),k=!0)},st}function E(u,m,b){var k=m[1],j=m[0],st=k-j;return u===k&&b?u:((u-j)%st+st)%st+j}function x(){return!1}function D(u,m){if(m===!1)return u;var b=Math.pow(10,m===void 0?6:m);return Math.round(u*b)/b}function N(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function P(u){return N(u).split(/\s+/)}function Z(u,m){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?c(u.options):{});for(var b in m)u.options[b]=m[b];return u.options}function rt(u,m,b){var k=[];for(var j in u)k.push(encodeURIComponent(b?j.toUpperCase():j)+"="+encodeURIComponent(u[j]));return(!m||m.indexOf("?")===-1?"?":"&")+k.join("&")}var et=/\{ *([\w_ -]+) *\}/g;function B(u,m){return u.replace(et,function(b,k){var j=m[k];if(j===void 0)throw new Error("No value provided for variable "+b);return typeof j=="function"&&(j=j(m)),j})}var X=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function V(u,m){for(var b=0;b<u.length;b++)if(u[b]===m)return b;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var tt=0;function A(u){var m=+new Date,b=Math.max(0,16-(m-tt));return tt=m+b,window.setTimeout(u,b)}var M=window.requestAnimationFrame||$("RequestAnimationFrame")||A,z=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function J(u,m,b){if(b&&M===A)u.call(m);else return M.call(window,f(u,m))}function H(u){u&&z.call(window,u)}var nt={__proto__:null,extend:r,create:c,bind:f,get lastId(){return g},stamp:y,throttle:v,wrapNum:E,falseFn:x,formatNum:D,trim:N,splitWords:P,setOptions:Z,getParamString:rt,template:B,isArray:X,indexOf:V,emptyImageUrl:W,requestFn:M,cancelFn:z,requestAnimFrame:J,cancelAnimFrame:H};function at(){}at.extend=function(u){var m=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,k=c(b);k.constructor=m,m.prototype=k;for(var j in this)Object.prototype.hasOwnProperty.call(this,j)&&j!=="prototype"&&j!=="__super__"&&(m[j]=this[j]);return u.statics&&r(m,u.statics),u.includes&&(lt(u.includes),r.apply(null,[k].concat(u.includes))),r(k,u),delete k.statics,delete k.includes,k.options&&(k.options=b.options?c(b.options):{},r(k.options,u.options)),k._initHooks=[],k.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var st=0,mt=k._initHooks.length;st<mt;st++)k._initHooks[st].call(this)}},m},at.include=function(u){var m=this.prototype.options;return r(this.prototype,u),u.options&&(this.prototype.options=m,this.mergeOptions(u.options)),this},at.mergeOptions=function(u){return r(this.prototype.options,u),this},at.addInitHook=function(u){var m=Array.prototype.slice.call(arguments,1),b=typeof u=="function"?u:function(){this[u].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function lt(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=X(u)?u:[u];for(var m=0;m<u.length;m++)u[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var R={on:function(u,m,b){if(typeof u=="object")for(var k in u)this._on(k,u[k],m);else{u=P(u);for(var j=0,st=u.length;j<st;j++)this._on(u[j],m,b)}return this},off:function(u,m,b){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var k in u)this._off(k,u[k],m);else{u=P(u);for(var j=arguments.length===1,st=0,mt=u.length;st<mt;st++)j?this._off(u[st]):this._off(u[st],m,b)}return this},_on:function(u,m,b,k){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(u,m,b)===!1){b===this&&(b=void 0);var j={fn:m,ctx:b};k&&(j.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(j)}},_off:function(u,m,b){var k,j,st;if(this._events&&(k=this._events[u],!!k)){if(arguments.length===1){if(this._firingCount)for(j=0,st=k.length;j<st;j++)k[j].fn=x;delete this._events[u];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var mt=this._listens(u,m,b);if(mt!==!1){var Et=k[mt];this._firingCount&&(Et.fn=x,this._events[u]=k=k.slice()),k.splice(mt,1)}}},fire:function(u,m,b){if(!this.listens(u,b))return this;var k=r({},m,{type:u,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var j=this._events[u];if(j){this._firingCount=this._firingCount+1||1;for(var st=0,mt=j.length;st<mt;st++){var Et=j[st],Ct=Et.fn;Et.once&&this.off(u,Ct,Et.ctx),Ct.call(Et.ctx||this,k)}this._firingCount--}}return b&&this._propagateEvent(k),this},listens:function(u,m,b,k){typeof u!="string"&&console.warn('"string" type argument expected');var j=m;typeof m!="function"&&(k=!!m,j=void 0,b=void 0);var st=this._events&&this._events[u];if(st&&st.length&&this._listens(u,j,b)!==!1)return!0;if(k){for(var mt in this._eventParents)if(this._eventParents[mt].listens(u,m,b,k))return!0}return!1},_listens:function(u,m,b){if(!this._events)return!1;var k=this._events[u]||[];if(!m)return!!k.length;b===this&&(b=void 0);for(var j=0,st=k.length;j<st;j++)if(k[j].fn===m&&k[j].ctx===b)return j;return!1},once:function(u,m,b){if(typeof u=="object")for(var k in u)this._on(k,u[k],m,!0);else{u=P(u);for(var j=0,st=u.length;j<st;j++)this._on(u[j],m,b,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[y(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[y(u)],this},_propagateEvent:function(u){for(var m in this._eventParents)this._eventParents[m].fire(u.type,r({layer:u.target,propagatedFrom:u.target},u),!0)}};R.addEventListener=R.on,R.removeEventListener=R.clearAllEventListeners=R.off,R.addOneTimeEventListener=R.once,R.fireEvent=R.fire,R.hasEventListeners=R.listens;var U=at.extend(R);function F(u,m,b){this.x=b?Math.round(u):u,this.y=b?Math.round(m):m}var it=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(u){return this.clone()._add(Q(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(Q(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new F(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new F(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(u){u=Q(u);var m=u.x-this.x,b=u.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(u){return u=Q(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=Q(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+D(this.x)+", "+D(this.y)+")"}};function Q(u,m,b){return u instanceof F?u:X(u)?new F(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new F(u.x,u.y):new F(u,m,b)}function Y(u,m){if(u)for(var b=m?[u,m]:u,k=0,j=b.length;k<j;k++)this.extend(b[k])}Y.prototype={extend:function(u){var m,b;if(!u)return this;if(u instanceof F||typeof u[0]=="number"||"x"in u)m=b=Q(u);else if(u=K(u),m=u.min,b=u.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(u){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var m,b;return typeof u[0]=="number"||u instanceof F?u=Q(u):u=K(u),u instanceof Y?(m=u.min,b=u.max):m=b=u,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(u){u=K(u);var m=this.min,b=this.max,k=u.min,j=u.max,st=j.x>=m.x&&k.x<=b.x,mt=j.y>=m.y&&k.y<=b.y;return st&&mt},overlaps:function(u){u=K(u);var m=this.min,b=this.max,k=u.min,j=u.max,st=j.x>m.x&&k.x<b.x,mt=j.y>m.y&&k.y<b.y;return st&&mt},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var m=this.min,b=this.max,k=Math.abs(m.x-b.x)*u,j=Math.abs(m.y-b.y)*u;return K(Q(m.x-k,m.y-j),Q(b.x+k,b.y+j))},equals:function(u){return u?(u=K(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function K(u,m){return!u||u instanceof Y?u:new Y(u,m)}function ct(u,m){if(u)for(var b=m?[u,m]:u,k=0,j=b.length;k<j;k++)this.extend(b[k])}ct.prototype={extend:function(u){var m=this._southWest,b=this._northEast,k,j;if(u instanceof gt)k=u,j=u;else if(u instanceof ct){if(k=u._southWest,j=u._northEast,!k||!j)return this}else return u?this.extend(St(u)||pt(u)):this;return!m&&!b?(this._southWest=new gt(k.lat,k.lng),this._northEast=new gt(j.lat,j.lng)):(m.lat=Math.min(k.lat,m.lat),m.lng=Math.min(k.lng,m.lng),b.lat=Math.max(j.lat,b.lat),b.lng=Math.max(j.lng,b.lng)),this},pad:function(u){var m=this._southWest,b=this._northEast,k=Math.abs(m.lat-b.lat)*u,j=Math.abs(m.lng-b.lng)*u;return new ct(new gt(m.lat-k,m.lng-j),new gt(b.lat+k,b.lng+j))},getCenter:function(){return new gt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new gt(this.getNorth(),this.getWest())},getSouthEast:function(){return new gt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof gt||"lat"in u?u=St(u):u=pt(u);var m=this._southWest,b=this._northEast,k,j;return u instanceof ct?(k=u.getSouthWest(),j=u.getNorthEast()):k=j=u,k.lat>=m.lat&&j.lat<=b.lat&&k.lng>=m.lng&&j.lng<=b.lng},intersects:function(u){u=pt(u);var m=this._southWest,b=this._northEast,k=u.getSouthWest(),j=u.getNorthEast(),st=j.lat>=m.lat&&k.lat<=b.lat,mt=j.lng>=m.lng&&k.lng<=b.lng;return st&&mt},overlaps:function(u){u=pt(u);var m=this._southWest,b=this._northEast,k=u.getSouthWest(),j=u.getNorthEast(),st=j.lat>m.lat&&k.lat<b.lat,mt=j.lng>m.lng&&k.lng<b.lng;return st&&mt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,m){return u?(u=pt(u),this._southWest.equals(u.getSouthWest(),m)&&this._northEast.equals(u.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pt(u,m){return u instanceof ct?u:new ct(u,m)}function gt(u,m,b){if(isNaN(u)||isNaN(m))throw new Error("Invalid LatLng object: ("+u+", "+m+")");this.lat=+u,this.lng=+m,b!==void 0&&(this.alt=+b)}gt.prototype={equals:function(u,m){if(!u)return!1;u=St(u);var b=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return b<=(m===void 0?1e-9:m)},toString:function(u){return"LatLng("+D(this.lat,u)+", "+D(this.lng,u)+")"},distanceTo:function(u){return ht.distance(this,St(u))},wrap:function(){return ht.wrapLatLng(this)},toBounds:function(u){var m=180*u/40075017,b=m/Math.cos(Math.PI/180*this.lat);return pt([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new gt(this.lat,this.lng,this.alt)}};function St(u,m,b){return u instanceof gt?u:X(u)&&typeof u[0]!="object"?u.length===3?new gt(u[0],u[1],u[2]):u.length===2?new gt(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new gt(u.lat,"lng"in u?u.lng:u.lon,u.alt):m===void 0?null:new gt(u,m,b)}var Dt={latLngToPoint:function(u,m){var b=this.projection.project(u),k=this.scale(m);return this.transformation._transform(b,k)},pointToLatLng:function(u,m){var b=this.scale(m),k=this.transformation.untransform(u,b);return this.projection.unproject(k)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(u),k=this.transformation.transform(m.min,b),j=this.transformation.transform(m.max,b);return new Y(k,j)},infinite:!1,wrapLatLng:function(u){var m=this.wrapLng?E(u.lng,this.wrapLng,!0):u.lng,b=this.wrapLat?E(u.lat,this.wrapLat,!0):u.lat,k=u.alt;return new gt(b,m,k)},wrapLatLngBounds:function(u){var m=u.getCenter(),b=this.wrapLatLng(m),k=m.lat-b.lat,j=m.lng-b.lng;if(k===0&&j===0)return u;var st=u.getSouthWest(),mt=u.getNorthEast(),Et=new gt(st.lat-k,st.lng-j),Ct=new gt(mt.lat-k,mt.lng-j);return new ct(Et,Ct)}},ht=r({},Dt,{wrapLng:[-180,180],R:6371e3,distance:function(u,m){var b=Math.PI/180,k=u.lat*b,j=m.lat*b,st=Math.sin((m.lat-u.lat)*b/2),mt=Math.sin((m.lng-u.lng)*b/2),Et=st*st+Math.cos(k)*Math.cos(j)*mt*mt,Ct=2*Math.atan2(Math.sqrt(Et),Math.sqrt(1-Et));return this.R*Ct}}),It=6378137,Ot={R:It,MAX_LATITUDE:85.0511287798,project:function(u){var m=Math.PI/180,b=this.MAX_LATITUDE,k=Math.max(Math.min(b,u.lat),-b),j=Math.sin(k*m);return new F(this.R*u.lng*m,this.R*Math.log((1+j)/(1-j))/2)},unproject:function(u){var m=180/Math.PI;return new gt((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*m,u.x*m/this.R)},bounds:(function(){var u=It*Math.PI;return new Y([-u,-u],[u,u])})()};function At(u,m,b,k){if(X(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=m,this._c=b,this._d=k}At.prototype={transform:function(u,m){return this._transform(u.clone(),m)},_transform:function(u,m){return m=m||1,u.x=m*(this._a*u.x+this._b),u.y=m*(this._c*u.y+this._d),u},untransform:function(u,m){return m=m||1,new F((u.x/m-this._b)/this._a,(u.y/m-this._d)/this._c)}};function ft(u,m,b,k){return new At(u,m,b,k)}var Xt=r({},ht,{code:"EPSG:3857",projection:Ot,transformation:(function(){var u=.5/(Math.PI*Ot.R);return ft(u,.5,-u,.5)})()}),Zt=r({},Xt,{code:"EPSG:900913"});function zt(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function jt(u,m){var b="",k,j,st,mt,Et,Ct;for(k=0,st=u.length;k<st;k++){for(Et=u[k],j=0,mt=Et.length;j<mt;j++)Ct=Et[j],b+=(j?"L":"M")+Ct.x+" "+Ct.y;b+=m?Kt.svg?"z":"x":""}return b||"M0 0"}var we=document.documentElement.style,he="ActiveXObject"in window,Mt=he&&!document.addEventListener,Je="msLaunchUri"in navigator&&!("documentMode"in document),ti=Mn("webkit"),gn=Mn("android"),Ui=Mn("android 2")||Mn("android 3"),Ht=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tn=gn&&Mn("Google")&&Ht<537&&!("AudioNode"in window),Ie=!!window.opera,yn=!Je&&Mn("chrome"),Jt=Mn("gecko")&&!ti&&!Ie&&!he,Xr=!yn&&Mn("safari"),_e=Mn("phantom"),ie="OTransition"in we,xi=navigator.platform.indexOf("Win")===0,vn=he&&"transition"in we,Nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ui,$t="MozPerspective"in we,di=!window.L_DISABLE_3D&&(vn||Nn||$t)&&!ie&&!_e,Pa=typeof orientation<"u"||Mn("mobile"),fo=Pa&&ti,Ei=Pa&&Nn,hr=!window.PointerEvent&&window.MSPointerEvent,li=!!(window.PointerEvent||hr),ca="ontouchstart"in window||!!window.TouchEvent,Yi=!window.L_NO_TOUCH&&(ca||li),Es=Pa&&Ie,ha=Pa&&Jt,Jr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yt=(function(){var u=!1;try{var m=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",x,m),window.removeEventListener("testPassiveEventSupport",x,m)}catch{}return u})(),fa=(function(){return!!document.createElement("canvas").getContext})(),Gi=!!(document.createElementNS&&zt("svg").createSVGRect),Ba=!!Gi&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),po=!Gi&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var m=u.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),bs=navigator.platform.indexOf("Mac")===0,go=navigator.platform.indexOf("Linux")===0;function Mn(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Kt={ie:he,ielt9:Mt,edge:Je,webkit:ti,android:gn,android23:Ui,androidStock:Tn,opera:Ie,chrome:yn,gecko:Jt,safari:Xr,phantom:_e,opera12:ie,win:xi,ie3d:vn,webkit3d:Nn,gecko3d:$t,any3d:di,mobile:Pa,mobileWebkit:fo,mobileWebkit3d:Ei,msPointer:hr,pointer:li,touch:Yi,touchNative:ca,mobileOpera:Es,mobileGecko:ha,retina:Jr,passiveEvents:Yt,canvas:fa,svg:Gi,vml:po,inlineSvg:Ba,mac:bs,linux:go},da=Kt.msPointer?"MSPointerDown":"pointerdown",mo=Kt.msPointer?"MSPointerMove":"pointermove",qi=Kt.msPointer?"MSPointerUp":"pointerup",On=Kt.msPointer?"MSPointerCancel":"pointercancel",je={touchstart:da,touchmove:mo,touchend:qi,touchcancel:On},fr={touchstart:dr,touchmove:kr,touchend:kr,touchcancel:kr},bi={},Dr=!1;function Vr(u,m,b){return m==="touchstart"&&pa(),fr[m]?(b=fr[m].bind(this,b),u.addEventListener(je[m],b,!1),b):(console.warn("wrong event specified:",m),x)}function Ts(u,m,b){if(!je[m]){console.warn("wrong event specified:",m);return}u.removeEventListener(je[m],b,!1)}function Ar(u){bi[u.pointerId]=u}function Wr(u){bi[u.pointerId]&&(bi[u.pointerId]=u)}function $e(u){delete bi[u.pointerId]}function pa(){Dr||(document.addEventListener(da,Ar,!0),document.addEventListener(mo,Wr,!0),document.addEventListener(qi,$e,!0),document.addEventListener(On,$e,!0),Dr=!0)}function kr(u,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in bi)m.touches.push(bi[b]);m.changedTouches=[m],u(m)}}function dr(u,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&rn(m),kr(u,m)}function dn(u){var m={},b,k;for(k in u)b=u[k],m[k]=b&&b.bind?b.bind(u):b;return u=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var ws=200;function Cs(u,m){u.addEventListener("dblclick",m);var b=0,k;function j(st){if(st.detail!==1){k=st.detail;return}if(!(st.pointerType==="mouse"||st.sourceCapabilities&&!st.sourceCapabilities.firesTouchEvents)){var mt=wn(st);if(!(mt.some(function(Ct){return Ct instanceof HTMLLabelElement&&Ct.attributes.for})&&!mt.some(function(Ct){return Ct instanceof HTMLInputElement||Ct instanceof HTMLSelectElement}))){var Et=Date.now();Et-b<=ws?(k++,k===2&&m(dn(st))):k=1,b=Et}}}return u.addEventListener("click",j),{dblclick:m,simDblclick:j}}function Nr(u,m){u.removeEventListener("dblclick",m.dblclick),u.removeEventListener("click",m.simDblclick)}var Mr=ja(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ei=ja(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Or=ei==="webkitTransition"||ei==="OTransition"?ei+"End":"transitionend";function za(u){return typeof u=="string"?document.getElementById(u):u}function Hi(u,m){var b=u.style[m]||u.currentStyle&&u.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var k=document.defaultView.getComputedStyle(u,null);b=k?k[m]:null}return b==="auto"?null:b}function Se(u,m,b){var k=document.createElement(u);return k.className=m||"",b&&b.appendChild(k),k}function Ke(u){var m=u.parentNode;m&&m.removeChild(u)}function Ti(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Bn(u){var m=u.parentNode;m&&m.lastChild!==u&&m.appendChild(u)}function Rr(u){var m=u.parentNode;m&&m.firstChild!==u&&m.insertBefore(u,m.firstChild)}function Ls(u,m){if(u.classList!==void 0)return u.classList.contains(m);var b=Fa(u);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function fe(u,m){if(u.classList!==void 0)for(var b=P(m),k=0,j=b.length;k<j;k++)u.classList.add(b[k]);else if(!Ls(u,m)){var st=Fa(u);pi(u,(st?st+" ":"")+m)}}function Pe(u,m){u.classList!==void 0?u.classList.remove(m):pi(u,N((" "+Fa(u)+" ").replace(" "+m+" "," ")))}function pi(u,m){u.className.baseVal===void 0?u.className=m:u.className.baseVal=m}function Fa(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Ue(u,m){"opacity"in u.style?u.style.opacity=m:"filter"in u.style&&_o(u,m)}function _o(u,m){var b=!1,k="DXImageTransform.Microsoft.Alpha";try{b=u.filters.item(k)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):u.style.filter+=" progid:"+k+"(opacity="+m+")"}function ja(u){for(var m=document.documentElement.style,b=0;b<u.length;b++)if(u[b]in m)return u[b];return!1}function pr(u,m,b){var k=m||new F(0,0);u.style[Mr]=(Kt.ie3d?"translate("+k.x+"px,"+k.y+"px)":"translate3d("+k.x+"px,"+k.y+"px,0)")+(b?" scale("+b+")":"")}function tn(u,m){u._leaflet_pos=m,Kt.any3d?pr(u,m):(u.style.left=m.x+"px",u.style.top=m.y+"px")}function gr(u){return u._leaflet_pos||new F(0,0)}var Zi,Oi,yo;if("onselectstart"in document)Zi=function(){se(window,"selectstart",rn)},Oi=function(){Fe(window,"selectstart",rn)};else{var Qr=ja(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zi=function(){if(Qr){var u=document.documentElement.style;yo=u[Qr],u[Qr]="none"}},Oi=function(){Qr&&(document.documentElement.style[Qr]=yo,yo=void 0)}}function Ds(){se(window,"dragstart",rn)}function Kr(){Fe(window,"dragstart",rn)}var Ve,mr;function ga(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(ui(),Ve=u,mr=u.style.outlineStyle,u.style.outlineStyle="none",se(window,"keydown",ui))}function ui(){Ve&&(Ve.style.outlineStyle=mr,Ve=void 0,mr=void 0,Fe(window,"keydown",ui))}function ni(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Un(u){var m=u.getBoundingClientRect();return{x:m.width/u.offsetWidth||1,y:m.height/u.offsetHeight||1,boundingClientRect:m}}var _r={__proto__:null,TRANSFORM:Mr,TRANSITION:ei,TRANSITION_END:Or,get:za,getStyle:Hi,create:Se,remove:Ke,empty:Ti,toFront:Bn,toBack:Rr,hasClass:Ls,addClass:fe,removeClass:Pe,setClass:pi,getClass:Fa,setOpacity:Ue,testProp:ja,setTransform:pr,setPosition:tn,getPosition:gr,get disableTextSelection(){return Zi},get enableTextSelection(){return Oi},disableImageDrag:Ds,enableImageDrag:Kr,preventOutline:ga,restoreOutline:ui,getSizedParentNode:ni,getScale:Un};function se(u,m,b,k){if(m&&typeof m=="object")for(var j in m)wi(u,j,m[j],b);else{m=P(m);for(var st=0,mt=m.length;st<mt;st++)wi(u,m[st],b,k)}return this}var Ri="_leaflet_events";function Fe(u,m,b,k){if(arguments.length===1)ma(u),delete u[Ri];else if(m&&typeof m=="object")for(var j in m)Te(u,j,m[j],b);else if(m=P(m),arguments.length===2)ma(u,function(Et){return V(m,Et)!==-1});else for(var st=0,mt=m.length;st<mt;st++)Te(u,m[st],b,k);return this}function ma(u,m){for(var b in u[Ri]){var k=b.split(/\d/)[0];(!m||m(k))&&Te(u,k,null,null,b)}}var $r={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function wi(u,m,b,k){var j=m+y(b)+(k?"_"+y(k):"");if(u[Ri]&&u[Ri][j])return this;var st=function(Et){return b.call(k||u,Et||window.event)},mt=st;!Kt.touchNative&&Kt.pointer&&m.indexOf("touch")===0?st=Vr(u,m,st):Kt.touch&&m==="dblclick"?st=Cs(u,st):"addEventListener"in u?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?u.addEventListener($r[m]||m,st,Kt.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(st=function(Et){Et=Et||window.event,Xi(u,Et)&&mt(Et)},u.addEventListener($r[m],st,!1)):u.addEventListener(m,mt,!1):u.attachEvent("on"+m,st),u[Ri]=u[Ri]||{},u[Ri][j]=st}function Te(u,m,b,k,j){j=j||m+y(b)+(k?"_"+y(k):"");var st=u[Ri]&&u[Ri][j];if(!st)return this;!Kt.touchNative&&Kt.pointer&&m.indexOf("touch")===0?Ts(u,m,st):Kt.touch&&m==="dblclick"?Nr(u,st):"removeEventListener"in u?u.removeEventListener($r[m]||m,st,!1):u.detachEvent("on"+m,st),u[Ri][j]=null}function Sn(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Ci(u){return wi(u,"wheel",Sn),this}function Ir(u){return se(u,"mousedown touchstart dblclick contextmenu",Sn),u._leaflet_disable_click=!0,this}function rn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function yr(u){return rn(u),Sn(u),this}function wn(u){if(u.composedPath)return u.composedPath();for(var m=[],b=u.target;b;)m.push(b),b=b.parentNode;return m}function _a(u,m){if(!m)return new F(u.clientX,u.clientY);var b=Un(m),k=b.boundingClientRect;return new F((u.clientX-k.left)/b.x-m.clientLeft,(u.clientY-k.top)/b.y-m.clientTop)}var As=Kt.linux&&Kt.chrome?window.devicePixelRatio:Kt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yn(u){return Kt.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/As:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Xi(u,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==u;)b=b.parentNode}catch{return!1}return b!==u}var ks={__proto__:null,on:se,off:Fe,stopPropagation:Sn,disableScrollPropagation:Ci,disableClickPropagation:Ir,preventDefault:rn,stop:yr,getPropagationPath:wn,getMousePosition:_a,getWheelDelta:Yn,isExternalTarget:Xi,addListener:se,removeListener:Fe},ta=U.extend({run:function(u,m,b,k){this.stop(),this._el=u,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(k||.5,.2),this._startPos=gr(u),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(u){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),u):(this._runFrame(1),this._complete())},_runFrame:function(u,m){var b=this._startPos.add(this._offset.multiplyBy(u));m&&b._round(),tn(this._el,b),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),de=U.extend({options:{crs:Xt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,m){m=Z(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(St(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ei&&Kt.any3d&&!Kt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),se(this._proxy,Or,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),u=this._limitCenter(St(u),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=r({animate:b.animate},b.zoom),b.pan=r({animate:b.animate,duration:b.duration},b.pan));var k=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,m,b.zoom):this._tryAnimatedPan(u,b.pan);if(k)return clearTimeout(this._sizeTimer),this}return this._resetView(u,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(u,m){return this._loaded?this.setView(this.getCenter(),u,{zoom:m}):(this._zoom=u,this)},zoomIn:function(u,m){return u=u||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,m)},zoomOut:function(u,m){return u=u||(Kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,m)},setZoomAround:function(u,m,b){var k=this.getZoomScale(m),j=this.getSize().divideBy(2),st=u instanceof F?u:this.latLngToContainerPoint(u),mt=st.subtract(j).multiplyBy(1-1/k),Et=this.containerPointToLatLng(j.add(mt));return this.setView(Et,m,{zoom:b})},_getBoundsCenterZoom:function(u,m){m=m||{},u=u.getBounds?u.getBounds():pt(u);var b=Q(m.paddingTopLeft||m.padding||[0,0]),k=Q(m.paddingBottomRight||m.padding||[0,0]),j=this.getBoundsZoom(u,!1,b.add(k));if(j=typeof m.maxZoom=="number"?Math.min(m.maxZoom,j):j,j===1/0)return{center:u.getCenter(),zoom:j};var st=k.subtract(b).divideBy(2),mt=this.project(u.getSouthWest(),j),Et=this.project(u.getNorthEast(),j),Ct=this.unproject(mt.add(Et).divideBy(2).add(st),j);return{center:Ct,zoom:j}},fitBounds:function(u,m){if(u=pt(u),!u.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(u,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,m){return this.setView(u,this._zoom,{pan:m})},panBy:function(u,m){if(u=Q(u).round(),m=m||{},!u.x&&!u.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ta,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){fe(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,m,b){if(b=b||{},b.animate===!1||!Kt.any3d)return this.setView(u,m,b);this._stop();var k=this.project(this.getCenter()),j=this.project(u),st=this.getSize(),mt=this._zoom;u=St(u),m=m===void 0?mt:m;var Et=Math.max(st.x,st.y),Ct=Et*this.getZoomScale(mt,m),Pt=j.distanceTo(k)||1,qt=1.42,ne=qt*qt;function xe(Ln){var aa=Ln?-1:1,es=Ln?Ct:Et,ru=Ct*Ct-Et*Et+aa*ne*ne*Pt*Pt,ko=2*es*ne*Pt,No=ru/ko,Ca=Math.sqrt(No*No+1)-No,sa=Ca<1e-9?-18:Math.log(Ca);return sa}function ai(Ln){return(Math.exp(Ln)-Math.exp(-Ln))/2}function Rn(Ln){return(Math.exp(Ln)+Math.exp(-Ln))/2}function zi(Ln){return ai(Ln)/Rn(Ln)}var Ge=xe(0);function qe(Ln){return Et*(Rn(Ge)/Rn(Ge+qt*Ln))}function Le(Ln){return Et*(Rn(Ge)*zi(Ge+qt*Ln)-ai(Ge))/ne}function Ta(Ln){return 1-Math.pow(1-Ln,1.5)}var nr=Date.now(),cl=(xe(1)-Ge)/qt,wa=b.duration?1e3*b.duration:1e3*cl*.8;function iu(){var Ln=(Date.now()-nr)/wa,aa=Ta(Ln)*cl;Ln<=1?(this._flyToFrame=J(iu,this),this._move(this.unproject(k.add(j.subtract(k).multiplyBy(Le(aa)/Pt)),mt),this.getScaleZoom(Et/qe(aa),mt),{flyTo:!0})):this._move(u,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),iu.call(this),this},flyToBounds:function(u,m){var b=this._getBoundsCenterZoom(u,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(u){return u=pt(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var m=this.options.minZoom;return this.options.minZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var m=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,m){this._enforcingBounds=!0;var b=this.getCenter(),k=this._limitCenter(b,this._zoom,pt(u));return b.equals(k)||this.panTo(k,m),this._enforcingBounds=!1,this},panInside:function(u,m){m=m||{};var b=Q(m.paddingTopLeft||m.padding||[0,0]),k=Q(m.paddingBottomRight||m.padding||[0,0]),j=this.project(this.getCenter()),st=this.project(u),mt=this.getPixelBounds(),Et=K([mt.min.add(b),mt.max.subtract(k)]),Ct=Et.getSize();if(!Et.contains(st)){this._enforcingBounds=!0;var Pt=st.subtract(Et.getCenter()),qt=Et.extend(st).getSize().subtract(Ct);j.x+=Pt.x<0?-qt.x:qt.x,j.y+=Pt.y<0?-qt.y:qt.y,this.panTo(this.unproject(j),m),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=r({animate:!1,pan:!0},u===!0?{animate:!0}:u);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),k=m.divideBy(2).round(),j=b.divideBy(2).round(),st=k.subtract(j);return!st.x&&!st.y?this:(u.animate&&u.pan?this.panBy(st):(u.pan&&this._rawPanBy(st),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=r({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=f(this._handleGeolocationResponse,this),b=f(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,u):navigator.geolocation.getCurrentPosition(m,b,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var m=u.code,b=u.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var m=u.coords.latitude,b=u.coords.longitude,k=new gt(m,b),j=k.toBounds(u.coords.accuracy*2),st=this._locateOptions;if(st.setView){var mt=this.getBoundsZoom(j);this.setView(k,st.maxZoom?Math.min(mt,st.maxZoom):mt)}var Et={latlng:k,bounds:j,timestamp:u.timestamp};for(var Ct in u.coords)typeof u.coords[Ct]=="number"&&(Et[Ct]=u.coords[Ct]);this.fire("locationfound",Et)}},addHandler:function(u,m){if(!m)return this;var b=this[u]=new m(this);return this._handlers.push(b),this.options[u]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Ke(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,m){var b="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),k=Se("div",b,m||this._mapPane);return u&&(this._panes[u]=k),k},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),m=this.unproject(u.getBottomLeft()),b=this.unproject(u.getTopRight());return new ct(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,m,b){u=pt(u),b=Q(b||[0,0]);var k=this.getZoom()||0,j=this.getMinZoom(),st=this.getMaxZoom(),mt=u.getNorthWest(),Et=u.getSouthEast(),Ct=this.getSize().subtract(b),Pt=K(this.project(Et,k),this.project(mt,k)).getSize(),qt=Kt.any3d?this.options.zoomSnap:1,ne=Ct.x/Pt.x,xe=Ct.y/Pt.y,ai=m?Math.max(ne,xe):Math.min(ne,xe);return k=this.getScaleZoom(ai,k),qt&&(k=Math.round(k/(qt/100))*(qt/100),k=m?Math.ceil(k/qt)*qt:Math.floor(k/qt)*qt),Math.max(j,Math.min(st,k))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,m){var b=this._getTopLeftPoint(u,m);return new Y(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(u)/b.scale(m)},getScaleZoom:function(u,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var k=b.zoom(u*b.scale(m));return isNaN(k)?1/0:k},project:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(St(u),m)},unproject:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Q(u),m)},layerPointToLatLng:function(u){var m=Q(u).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(u){var m=this.project(St(u))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(St(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(pt(u))},distance:function(u,m){return this.options.crs.distance(St(u),St(m))},containerPointToLayerPoint:function(u){return Q(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return Q(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var m=this.containerPointToLayerPoint(Q(u));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(St(u)))},mouseEventToContainerPoint:function(u){return _a(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var m=this._container=za(u);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");se(m,"scroll",this._onScroll,this),this._containerId=y(m)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Kt.any3d,fe(u,"leaflet-container"+(Kt.touch?" leaflet-touch":"")+(Kt.retina?" leaflet-retina":"")+(Kt.ielt9?" leaflet-oldie":"")+(Kt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Hi(u,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tn(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(u.markerPane,"leaflet-zoom-hide"),fe(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,m,b){tn(this._mapPane,new F(0,0));var k=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var j=this._zoom!==m;this._moveStart(j,b)._move(u,m)._moveEnd(j),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(u,m){return u&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(u,m,b,k){m===void 0&&(m=this._zoom);var j=this._zoom!==m;return this._zoom=m,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),k?b&&b.pinch&&this.fire("zoom",b):((j||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){tn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[y(this._container)]=this;var m=u?Fe:se;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Kt.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,m){for(var b=[],k,j=m==="mouseout"||m==="mouseover",st=u.target||u.srcElement,mt=!1;st;){if(k=this._targets[y(st)],k&&(m==="click"||m==="preclick")&&this._draggableMoved(k)){mt=!0;break}if(k&&k.listens(m,!0)&&(j&&!Xi(st,u)||(b.push(k),j))||st===this._container)break;st=st.parentNode}return!b.length&&!mt&&!j&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var m=u.target||u.srcElement;if(!(!this._loaded||m._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(m))){var b=u.type;b==="mousedown"&&ga(m),this._fireDOMEvent(u,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,m,b){if(u.type==="click"){var k=r({},u);k.type="preclick",this._fireDOMEvent(k,k.type,b)}var j=this._findEventTargets(u,m);if(b){for(var st=[],mt=0;mt<b.length;mt++)b[mt].listens(m,!0)&&st.push(b[mt]);j=st.concat(j)}if(j.length){m==="contextmenu"&&rn(u);var Et=j[0],Ct={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Pt=Et.getLatLng&&(!Et._radius||Et._radius<=10);Ct.containerPoint=Pt?this.latLngToContainerPoint(Et.getLatLng()):this.mouseEventToContainerPoint(u),Ct.layerPoint=this.containerPointToLayerPoint(Ct.containerPoint),Ct.latlng=Pt?Et.getLatLng():this.layerPointToLatLng(Ct.layerPoint)}for(mt=0;mt<j.length;mt++)if(j[mt].fire(m,Ct,!0),Ct.originalEvent._stopped||j[mt].options.bubblingMouseEvents===!1&&V(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,m=this._handlers.length;u<m;u++)this._handlers[u].disable()},whenReady:function(u,m){return this._loaded?u.call(m||this,{target:this}):this.on("load",u,m),this},_getMapPanePos:function(){return gr(this._mapPane)||new F(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,m){var b=u&&m!==void 0?this._getNewPixelOrigin(u,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,m){var b=this.getSize()._divideBy(2);return this.project(u,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,m,b){var k=this._getNewPixelOrigin(b,m);return this.project(u,m)._subtract(k)},_latLngBoundsToNewLayerBounds:function(u,m,b){var k=this._getNewPixelOrigin(b,m);return K([this.project(u.getSouthWest(),m)._subtract(k),this.project(u.getNorthWest(),m)._subtract(k),this.project(u.getSouthEast(),m)._subtract(k),this.project(u.getNorthEast(),m)._subtract(k)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,m,b){if(!b)return u;var k=this.project(u,m),j=this.getSize().divideBy(2),st=new Y(k.subtract(j),k.add(j)),mt=this._getBoundsOffset(st,b,m);return Math.abs(mt.x)<=1&&Math.abs(mt.y)<=1?u:this.unproject(k.add(mt),m)},_limitOffset:function(u,m){if(!m)return u;var b=this.getPixelBounds(),k=new Y(b.min.add(u),b.max.add(u));return u.add(this._getBoundsOffset(k,m))},_getBoundsOffset:function(u,m,b){var k=K(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),j=k.min.subtract(u.min),st=k.max.subtract(u.max),mt=this._rebound(j.x,-st.x),Et=this._rebound(j.y,-st.y);return new F(mt,Et)},_rebound:function(u,m){return u+m>0?Math.round(u-m)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(m))},_limitZoom:function(u){var m=this.getMinZoom(),b=this.getMaxZoom(),k=Kt.any3d?this.options.zoomSnap:1;return k&&(u=Math.round(u/k)*k),Math.max(m,Math.min(b,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,m){var b=this._getCenterOffset(u)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var u=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(m){var b=Mr,k=this._proxy.style[b];pr(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),k===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),m=this.getZoom();pr(this._proxy,this.project(u,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var k=this.getZoomScale(m),j=this._getCenterOffset(u)._divideBy(1-1/k);return b.animate!==!0&&!this.getSize().contains(j)?!1:(J(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(u,m,!0)},this),!0)},_animateZoom:function(u,m,b,k){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=m,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:m,noUpdate:k}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ya(u,m){return new de(u,m)}var gi=at.extend({options:{position:"topright"},initialize:function(u){Z(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var m=this._map;return m&&m.removeControl(this),this.options.position=u,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var m=this._container=this.onAdd(u),b=this.getPosition(),k=u._controlCorners[b];return fe(m,"leaflet-control"),b.indexOf("bottom")!==-1?k.insertBefore(m,k.firstChild):k.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),xn=function(u){return new gi(u)};de.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},m="leaflet-",b=this._controlContainer=Se("div",m+"control-container",this._container);function k(j,st){var mt=m+j+" "+m+st;u[j+st]=Se("div",mt,b)}k("top","left"),k("top","right"),k("bottom","left"),k("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Ke(this._controlCorners[u]);Ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ji=gi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,m,b,k){return b<k?-1:k<b?1:0}},initialize:function(u,m,b){Z(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var k in u)this._addLayer(u[k],k);for(k in m)this._addLayer(m[k],k,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return gi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,m){return this._addLayer(u,m),this._map?this._update():this},addOverlay:function(u,m){return this._addLayer(u,m,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var m=this._getLayer(y(u));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",m=this._container=Se("div",u),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Ir(m),Ci(m);var k=this._section=Se("section",u+"-list");b&&(this._map.on("click",this.collapse,this),se(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var j=this._layersLink=Se("a",u+"-toggle",m);j.href="#",j.title="Layers",j.setAttribute("role","button"),se(j,{keydown:function(st){st.keyCode===13&&this._expandSafely()},click:function(st){rn(st),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=Se("div",u+"-base",k),this._separator=Se("div",u+"-separator",k),this._overlaysList=Se("div",u+"-overlays",k),m.appendChild(k)},_getLayer:function(u){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&y(this._layers[m].layer)===u)return this._layers[m]},_addLayer:function(u,m,b){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(f(function(k,j){return this.options.sortFunction(k.layer,j.layer,k.name,j.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ti(this._baseLayersList),Ti(this._overlaysList),this._layerControlInputs=[];var u,m,b,k,j=0;for(b=0;b<this._layers.length;b++)k=this._layers[b],this._addItem(k),m=m||k.overlay,u=u||!k.overlay,j+=k.overlay?0:1;return this.options.hideSingleBase&&(u=u&&j>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=m&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var m=this._getLayer(y(u.target)),b=m.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(u,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(m?' checked="checked"':"")+"/>",k=document.createElement("div");return k.innerHTML=b,k.firstChild},_addItem:function(u){var m=document.createElement("label"),b=this._map.hasLayer(u.layer),k;u.overlay?(k=document.createElement("input"),k.type="checkbox",k.className="leaflet-control-layers-selector",k.defaultChecked=b):k=this._createRadioElement("leaflet-base-layers_"+y(this),b),this._layerControlInputs.push(k),k.layerId=y(u.layer),se(k,"click",this._onInputClick,this);var j=document.createElement("span");j.innerHTML=" "+u.name;var st=document.createElement("span");m.appendChild(st),st.appendChild(k),st.appendChild(j);var mt=u.overlay?this._overlaysList:this._baseLayersList;return mt.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,m,b,k=[],j=[];this._handlingClick=!0;for(var st=u.length-1;st>=0;st--)m=u[st],b=this._getLayer(m.layerId).layer,m.checked?k.push(b):m.checked||j.push(b);for(st=0;st<j.length;st++)this._map.hasLayer(j[st])&&this._map.removeLayer(j[st]);for(st=0;st<k.length;st++)this._map.hasLayer(k[st])||this._map.addLayer(k[st]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,m,b,k=this._map.getZoom(),j=u.length-1;j>=0;j--)m=u[j],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&k<b.options.minZoom||b.options.maxZoom!==void 0&&k>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,se(u,"click",rn),this.expand();var m=this;setTimeout(function(){Fe(u,"click",rn),m._preventClick=!1})}}),Qo=function(u,m,b){return new Ji(u,m,b)},Pr=gi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var m="leaflet-control-zoom",b=Se("div",m+" leaflet-bar"),k=this.options;return this._zoomInButton=this._createButton(k.zoomInText,k.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(k.zoomOutText,k.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,m,b,k,j){var st=Se("a",b,k);return st.innerHTML=u,st.href="#",st.title=m,st.setAttribute("role","button"),st.setAttribute("aria-label",m),Ir(st),se(st,"click",yr),se(st,"click",j,this),se(st,"click",this._refocusOnMap,this),st},_updateDisabled:function(){var u=this._map,m="leaflet-disabled";Pe(this._zoomInButton,m),Pe(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(fe(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(fe(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});de.mergeOptions({zoomControl:!0}),de.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pr,this.addControl(this.zoomControl))});var Ko=function(u){return new Pr(u)},ea=gi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var m="leaflet-control-scale",b=Se("div",m),k=this.options;return this._addScales(k,m+"-line",b),u.on(k.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),b},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,m,b){u.metric&&(this._mScale=Se("div",m,b)),u.imperial&&(this._iScale=Se("div",m,b))},_update:function(){var u=this._map,m=u.getSize().y/2,b=u.distance(u.containerPointToLatLng([0,m]),u.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var m=this._getRoundNum(u),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/u)},_updateImperial:function(u){var m=u*3.2808399,b,k,j;m>5280?(b=m/5280,k=this._getRoundNum(b),this._updateScale(this._iScale,k+" mi",k/b)):(j=this._getRoundNum(m),this._updateScale(this._iScale,j+" ft",j/m))},_updateScale:function(u,m,b){u.style.width=Math.round(this.options.maxWidth*b)+"px",u.innerHTML=m},_getRoundNum:function(u){var m=Math.pow(10,(Math.floor(u)+"").length-1),b=u/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),vo=function(u){return new ea(u)},Vi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ns=gi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Kt.inlineSvg?Vi+" ":"")+"Leaflet</a>"},initialize:function(u){Z(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),Ir(this._container);for(var m in u._layers)u._layers[m].getAttribution&&this.addAttribution(u._layers[m].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var m in this._attributions)this._attributions[m]&&u.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),u.length&&b.push(u.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});de.mergeOptions({attributionControl:!0}),de.addInitHook(function(){this.options.attributionControl&&new Ns().addTo(this)});var Ql=function(u){return new Ns(u)};gi.Layers=Ji,gi.Zoom=Pr,gi.Scale=ea,gi.Attribution=Ns,xn.layers=Qo,xn.zoom=Ko,xn.scale=vo,xn.attribution=Ql;var Wi=at.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wi.addTo=function(u,m){return u.addHandler(m,this),this};var Kl={Events:R},So=Kt.touch?"touchstart mousedown":"mousedown",Br=U.extend({options:{clickTolerance:3},initialize:function(u,m,b,k){Z(this,k),this._element=u,this._dragStartTarget=m||u,this._preventOutline=b},enable:function(){this._enabled||(se(this._dragStartTarget,So,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Br._dragging===this&&this.finishDrag(!0),Fe(this._dragStartTarget,So,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Ls(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Br._dragging===this&&this.finishDrag();return}if(!(Br._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Br._dragging=this,this._preventOutline&&ga(this._element),Ds(),Zi(),!this._moving)){this.fire("down");var m=u.touches?u.touches[0]:u,b=ni(this._element);this._startPoint=new F(m.clientX,m.clientY),this._startPos=gr(this._element),this._parentScale=Un(b);var k=u.type==="mousedown";se(document,k?"mousemove":"touchmove",this._onMove,this),se(document,k?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var m=u.touches&&u.touches.length===1?u.touches[0]:u,b=new F(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,rn(u),this._moved||(this.fire("dragstart"),this._moved=!0,fe(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),tn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fe(document,"mousemove touchmove",this._onMove,this),Fe(document,"mouseup touchend touchcancel",this._onUp,this),Kr(),Oi();var m=this._moved&&this._moving;this._moving=!1,Br._dragging=!1,m&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function $o(u,m,b){var k,j=[1,4,2,8],st,mt,Et,Ct,Pt,qt,ne,xe;for(st=0,qt=u.length;st<qt;st++)u[st]._code=Cn(u[st],m);for(Et=0;Et<4;Et++){for(ne=j[Et],k=[],st=0,qt=u.length,mt=qt-1;st<qt;mt=st++)Ct=u[st],Pt=u[mt],Ct._code&ne?Pt._code&ne||(xe=Ua(Pt,Ct,ne,m,b),xe._code=Cn(xe,m),k.push(xe)):(Pt._code&ne&&(xe=Ua(Pt,Ct,ne,m,b),xe._code=Cn(xe,m),k.push(xe)),k.push(Ct));u=k}return u}function tl(u,m){var b,k,j,st,mt,Et,Ct,Pt,qt;if(!u||u.length===0)throw new Error("latlngs not passed");mi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var ne=St([0,0]),xe=pt(u),ai=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());ai<1700&&(ne=vr(u));var Rn=u.length,zi=[];for(b=0;b<Rn;b++){var Ge=St(u[b]);zi.push(m.project(St([Ge.lat-ne.lat,Ge.lng-ne.lng])))}for(Et=Ct=Pt=0,b=0,k=Rn-1;b<Rn;k=b++)j=zi[b],st=zi[k],mt=j.y*st.x-st.y*j.x,Ct+=(j.x+st.x)*mt,Pt+=(j.y+st.y)*mt,Et+=mt*3;Et===0?qt=zi[0]:qt=[Ct/Et,Pt/Et];var qe=m.unproject(Q(qt));return St([qe.lat+ne.lat,qe.lng+ne.lng])}function vr(u){for(var m=0,b=0,k=0,j=0;j<u.length;j++){var st=St(u[j]);m+=st.lat,b+=st.lng,k++}return St([m/k,b/k])}var ii={__proto__:null,clipPolygon:$o,polygonCenter:tl,centroid:vr};function el(u,m){if(!m||!u.length)return u.slice();var b=m*m;return u=Eo(u,b),u=Ms(u,b),u}function xo(u,m,b){return Math.sqrt(Ga(u,m,b,!0))}function $l(u,m,b){return Ga(u,m,b)}function Ms(u,m){var b=u.length,k=typeof Uint8Array<"u"?Uint8Array:Array,j=new k(b);j[0]=j[b-1]=1,Os(u,j,m,0,b-1);var st,mt=[];for(st=0;st<b;st++)j[st]&&mt.push(u[st]);return mt}function Os(u,m,b,k,j){var st=0,mt,Et,Ct;for(Et=k+1;Et<=j-1;Et++)Ct=Ga(u[Et],u[k],u[j],!0),Ct>st&&(mt=Et,st=Ct);st>b&&(m[mt]=1,Os(u,m,b,k,mt),Os(u,m,b,mt,j))}function Eo(u,m){for(var b=[u[0]],k=1,j=0,st=u.length;k<st;k++)Ya(u[k],u[j])>m&&(b.push(u[k]),j=k);return j<st-1&&b.push(u[st-1]),b}var bo;function Li(u,m,b,k,j){var st=k?bo:Cn(u,b),mt=Cn(m,b),Et,Ct,Pt;for(bo=mt;;){if(!(st|mt))return[u,m];if(st&mt)return!1;Et=st||mt,Ct=Ua(u,m,Et,b,j),Pt=Cn(Ct,b),Et===st?(u=Ct,st=Pt):(m=Ct,mt=Pt)}}function Ua(u,m,b,k,j){var st=m.x-u.x,mt=m.y-u.y,Et=k.min,Ct=k.max,Pt,qt;return b&8?(Pt=u.x+st*(Ct.y-u.y)/mt,qt=Ct.y):b&4?(Pt=u.x+st*(Et.y-u.y)/mt,qt=Et.y):b&2?(Pt=Ct.x,qt=u.y+mt*(Ct.x-u.x)/st):b&1&&(Pt=Et.x,qt=u.y+mt*(Et.x-u.x)/st),new F(Pt,qt,j)}function Cn(u,m){var b=0;return u.x<m.min.x?b|=1:u.x>m.max.x&&(b|=2),u.y<m.min.y?b|=4:u.y>m.max.y&&(b|=8),b}function Ya(u,m){var b=m.x-u.x,k=m.y-u.y;return b*b+k*k}function Ga(u,m,b,k){var j=m.x,st=m.y,mt=b.x-j,Et=b.y-st,Ct=mt*mt+Et*Et,Pt;return Ct>0&&(Pt=((u.x-j)*mt+(u.y-st)*Et)/Ct,Pt>1?(j=b.x,st=b.y):Pt>0&&(j+=mt*Pt,st+=Et*Pt)),mt=u.x-j,Et=u.y-st,k?mt*mt+Et*Et:new F(j,st)}function mi(u){return!X(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function qa(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mi(u)}function na(u,m){var b,k,j,st,mt,Et,Ct,Pt;if(!u||u.length===0)throw new Error("latlngs not passed");mi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var qt=St([0,0]),ne=pt(u),xe=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());xe<1700&&(qt=vr(u));var ai=u.length,Rn=[];for(b=0;b<ai;b++){var zi=St(u[b]);Rn.push(m.project(St([zi.lat-qt.lat,zi.lng-qt.lng])))}for(b=0,k=0;b<ai-1;b++)k+=Rn[b].distanceTo(Rn[b+1])/2;if(k===0)Pt=Rn[0];else for(b=0,st=0;b<ai-1;b++)if(mt=Rn[b],Et=Rn[b+1],j=mt.distanceTo(Et),st+=j,st>k){Ct=(st-k)/j,Pt=[Et.x-Ct*(Et.x-mt.x),Et.y-Ct*(Et.y-mt.y)];break}var Ge=m.unproject(Q(Pt));return St([Ge.lat+qt.lat,Ge.lng+qt.lng])}var To={__proto__:null,simplify:el,pointToSegmentDistance:xo,closestPointOnSegment:$l,clipSegment:Li,_getEdgeIntersection:Ua,_getBitCode:Cn,_sqClosestPointOnSegment:Ga,isFlat:mi,_flat:qa,polylineCenter:na},Rs={project:function(u){return new F(u.lng,u.lat)},unproject:function(u){return new gt(u.y,u.x)},bounds:new Y([-180,-90],[180,90])},Is={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var m=Math.PI/180,b=this.R,k=u.lat*m,j=this.R_MINOR/b,st=Math.sqrt(1-j*j),mt=st*Math.sin(k),Et=Math.tan(Math.PI/4-k/2)/Math.pow((1-mt)/(1+mt),st/2);return k=-b*Math.log(Math.max(Et,1e-10)),new F(u.lng*m*b,k)},unproject:function(u){for(var m=180/Math.PI,b=this.R,k=this.R_MINOR/b,j=Math.sqrt(1-k*k),st=Math.exp(-u.y/b),mt=Math.PI/2-2*Math.atan(st),Et=0,Ct=.1,Pt;Et<15&&Math.abs(Ct)>1e-7;Et++)Pt=j*Math.sin(mt),Pt=Math.pow((1-Pt)/(1+Pt),j/2),Ct=Math.PI/2-2*Math.atan(st*Pt)-mt,mt+=Ct;return new gt(mt*m,u.x*m/b)}},nl={__proto__:null,LonLat:Rs,Mercator:Is,SphericalMercator:Ot},il=r({},ht,{code:"EPSG:3395",projection:Is,transformation:(function(){var u=.5/(Math.PI*Is.R);return ft(u,.5,-u,.5)})()}),wo=r({},ht,{code:"EPSG:4326",projection:Rs,transformation:ft(1/180,1,-1/180,.5)}),va=r({},Dt,{projection:Rs,transformation:ft(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,m){var b=m.lng-u.lng,k=m.lat-u.lat;return Math.sqrt(b*b+k*k)},infinite:!0});Dt.Earth=ht,Dt.EPSG3395=il,Dt.EPSG3857=Xt,Dt.EPSG900913=Zt,Dt.EPSG4326=wo,Dt.Simple=va;var Ii=U.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[y(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[y(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var m=u.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});de.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var m=y(u);return this._layers[m]?this:(this._layers[m]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var m=y(u);return this._layers[m]?(this._loaded&&u.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return y(u)in this._layers},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},_addLayers:function(u){u=u?X(u)?u:[u]:[];for(var m=0,b=u.length;m<b;m++)this.addLayer(u[m])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[y(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var m=y(u);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,m=-1/0,b=this._getZoomSpan();for(var k in this._zoomBoundLayers){var j=this._zoomBoundLayers[k].options;u=j.minZoom===void 0?u:Math.min(u,j.minZoom),m=j.maxZoom===void 0?m:Math.max(m,j.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=u===1/0?void 0:u,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sa=Ii.extend({initialize:function(u,m){Z(this,m),this._layers={};var b,k;if(u)for(b=0,k=u.length;b<k;b++)this.addLayer(u[b])},addLayer:function(u){var m=this.getLayerId(u);return this._layers[m]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var m=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(u){var m=typeof u=="number"?u:this.getLayerId(u);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var m=Array.prototype.slice.call(arguments,1),b,k;for(b in this._layers)k=this._layers[b],k[u]&&k[u].apply(k,m);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return y(u)}}),rl=function(u,m){return new Sa(u,m)},Qi=Sa.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),Sa.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),Sa.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new ct;for(var m in this._layers){var b=this._layers[m];u.extend(b.getBounds?b.getBounds():b.getLatLng())}return u}}),Co=function(u,m){return new Qi(u,m)},Ki=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){Z(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,m){var b=this._getIconUrl(u);if(!b){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var k=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(k,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),k},_setIconStyles:function(u,m){var b=this.options,k=b[m+"Size"];typeof k=="number"&&(k=[k,k]);var j=Q(k),st=Q(m==="shadow"&&b.shadowAnchor||b.iconAnchor||j&&j.divideBy(2,!0));u.className="leaflet-marker-"+m+" "+(b.className||""),st&&(u.style.marginLeft=-st.x+"px",u.style.marginTop=-st.y+"px"),j&&(u.style.width=j.x+"px",u.style.height=j.y+"px")},_createImg:function(u,m){return m=m||document.createElement("img"),m.src=u,m},_getIconUrl:function(u){return Kt.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Ha(u){return new Ki(u)}var Za=Ki.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Za.imagePath!="string"&&(Za.imagePath=this._detectIconPath()),(this.options.imagePath||Za.imagePath)+Ki.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var m=function(b,k,j){var st=k.exec(b);return st&&st[j]};return u=m(u,/^url\((['"])?(.+)\1\)$/,2),u&&m(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Se("div","leaflet-default-icon-path",document.body),m=Hi(u,"background-image")||Hi(u,"backgroundImage");if(document.body.removeChild(u),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Xa=Wi.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Br(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var m=this._marker,b=m._map,k=this._marker.options.autoPanSpeed,j=this._marker.options.autoPanPadding,st=gr(m._icon),mt=b.getPixelBounds(),Et=b.getPixelOrigin(),Ct=K(mt.min._subtract(Et).add(j),mt.max._subtract(Et).subtract(j));if(!Ct.contains(st)){var Pt=Q((Math.max(Ct.max.x,st.x)-Ct.max.x)/(mt.max.x-Ct.max.x)-(Math.min(Ct.min.x,st.x)-Ct.min.x)/(mt.min.x-Ct.min.x),(Math.max(Ct.max.y,st.y)-Ct.max.y)/(mt.max.y-Ct.max.y)-(Math.min(Ct.min.y,st.y)-Ct.min.y)/(mt.min.y-Ct.min.y)).multiplyBy(k);b.panBy(Pt,{animate:!1}),this._draggable._newPos._add(Pt),this._draggable._startPos._add(Pt),tn(m._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=J(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,u)))},_onDrag:function(u){var m=this._marker,b=m._shadow,k=gr(m._icon),j=m._map.layerPointToLatLng(k);b&&tn(b,k),m._latlng=j,u.latlng=j,u.oldLatLng=this._oldLatLng,m.fire("move",u).fire("drag",u)},_onDragEnd:function(u){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Ja=Ii.extend({options:{icon:new Za,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,m){Z(this,m),this._latlng=St(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var m=this._latlng;return this._latlng=St(u),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=u.icon.createIcon(this._icon),k=!1;b!==this._icon&&(this._icon&&this._removeIcon(),k=!0,u.title&&(b.title=u.title),b.tagName==="IMG"&&(b.alt=u.alt||"")),fe(b,m),u.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(b,"focus",this._panOnFocus,this);var j=u.icon.createShadow(this._shadow),st=!1;j!==this._shadow&&(this._removeShadow(),st=!0),j&&(fe(j,m),j.alt=""),this._shadow=j,u.opacity<1&&this._updateOpacity(),k&&this.getPane().appendChild(this._icon),this._initInteraction(),j&&st&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(this._icon,"focus",this._panOnFocus,this),Ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ke(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&tn(this._icon,u),this._shadow&&tn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xa)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xa(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Ue(this._icon,u),this._shadow&&Ue(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var m=this.options.icon.options,b=m.iconSize?Q(m.iconSize):Q(0,0),k=m.iconAnchor?Q(m.iconAnchor):Q(0,0);u.panInside(this._latlng,{paddingTopLeft:k,paddingBottomRight:b.subtract(k)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function al(u,m){return new Ja(u,m)}var $i=Ii.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return Z(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ia=$i.extend({options:{fill:!0,radius:10},initialize:function(u,m){Z(this,m),this._latlng=St(u),this._radius=this.options.radius},setLatLng:function(u){var m=this._latlng;return this._latlng=St(u),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var m=u&&u.radius||this._radius;return $i.prototype.setStyle.call(this,u),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,m=this._radiusY||u,b=this._clickTolerance(),k=[u+b,m+b];this._pxBounds=new Y(this._point.subtract(k),this._point.add(k))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lo(u,m){return new ia(u,m)}var Va=ia.extend({initialize:function(u,m,b){if(typeof m=="number"&&(m=r({},b,{radius:m})),Z(this,m),this._latlng=St(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new ct(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:$i.prototype.setStyle,_project:function(){var u=this._latlng.lng,m=this._latlng.lat,b=this._map,k=b.options.crs;if(k.distance===ht.distance){var j=Math.PI/180,st=this._mRadius/ht.R/j,mt=b.project([m+st,u]),Et=b.project([m-st,u]),Ct=mt.add(Et).divideBy(2),Pt=b.unproject(Ct).lat,qt=Math.acos((Math.cos(st*j)-Math.sin(m*j)*Math.sin(Pt*j))/(Math.cos(m*j)*Math.cos(Pt*j)))/j;(isNaN(qt)||qt===0)&&(qt=st/Math.cos(Math.PI/180*m)),this._point=Ct.subtract(b.getPixelOrigin()),this._radius=isNaN(qt)?0:Ct.x-b.project([Pt,u-qt]).x,this._radiusY=Ct.y-mt.y}else{var ne=k.unproject(k.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(ne).x}this._updateBounds()}});function sl(u,m,b){return new Va(u,m,b)}var tr=$i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,m){Z(this,m),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var m=1/0,b=null,k=Ga,j,st,mt=0,Et=this._parts.length;mt<Et;mt++)for(var Ct=this._parts[mt],Pt=1,qt=Ct.length;Pt<qt;Pt++){j=Ct[Pt-1],st=Ct[Pt];var ne=k(u,j,st,!0);ne<m&&(m=ne,b=k(u,j,st))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return na(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,m){return m=m||this._defaultShape(),u=St(u),m.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new ct,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return mi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var m=[],b=mi(u),k=0,j=u.length;k<j;k++)b?(m[k]=St(u[k]),this._bounds.extend(m[k])):m[k]=this._convertLatLngs(u[k]);return m},_project:function(){var u=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),m=new F(u,u);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(u,m,b){var k=u[0]instanceof gt,j=u.length,st,mt;if(k){for(mt=[],st=0;st<j;st++)mt[st]=this._map.latLngToLayerPoint(u[st]),b.extend(mt[st]);m.push(mt)}else for(st=0;st<j;st++)this._projectLatlngs(u[st],m,b)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,k,j,st,mt,Et,Ct;for(b=0,j=0,st=this._rings.length;b<st;b++)for(Ct=this._rings[b],k=0,mt=Ct.length;k<mt-1;k++)Et=Li(Ct[k],Ct[k+1],u,k,!0),Et&&(m[j]=m[j]||[],m[j].push(Et[0]),(Et[1]!==Ct[k+1]||k===mt-2)&&(m[j].push(Et[1]),j++))}},_simplifyPoints:function(){for(var u=this._parts,m=this.options.smoothFactor,b=0,k=u.length;b<k;b++)u[b]=el(u[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,m){var b,k,j,st,mt,Et,Ct=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(b=0,st=this._parts.length;b<st;b++)for(Et=this._parts[b],k=0,mt=Et.length,j=mt-1;k<mt;j=k++)if(!(!m&&k===0)&&xo(u,Et[j],Et[k])<=Ct)return!0;return!1}});function Do(u,m){return new tr(u,m)}tr._flat=qa;var xa=tr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var m=tr.prototype._convertLatLngs.call(this,u),b=m.length;return b>=2&&m[0]instanceof gt&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(u){tr.prototype._setLatLngs.call(this,u),mi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,m=this.options.weight,b=new F(m,m);if(u=new Y(u.min.subtract(b),u.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var k=0,j=this._rings.length,st;k<j;k++)st=$o(this._rings[k],u,!0),st.length&&this._parts.push(st)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var m=!1,b,k,j,st,mt,Et,Ct,Pt;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(st=0,Ct=this._parts.length;st<Ct;st++)for(b=this._parts[st],mt=0,Pt=b.length,Et=Pt-1;mt<Pt;Et=mt++)k=b[mt],j=b[Et],k.y>u.y!=j.y>u.y&&u.x<(j.x-k.x)*(u.y-k.y)/(j.y-k.y)+k.x&&(m=!m);return m||tr.prototype._containsPoint.call(this,u,!0)}});function ol(u,m){return new xa(u,m)}var er=Qi.extend({initialize:function(u,m){Z(this,m),this._layers={},u&&this.addData(u)},addData:function(u){var m=X(u)?u:u.features,b,k,j;if(m){for(b=0,k=m.length;b<k;b++)j=m[b],(j.geometries||j.geometry||j.features||j.coordinates)&&this.addData(j);return this}var st=this.options;if(st.filter&&!st.filter(u))return this;var mt=Gn(u,st);return mt?(mt.feature=p(u),mt.defaultOptions=mt.options,this.resetStyle(mt),st.onEachFeature&&st.onEachFeature(u,mt),this.addLayer(mt)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=r({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(m){this._setLayerStyle(m,u)},this)},_setLayerStyle:function(u,m){u.setStyle&&(typeof m=="function"&&(m=m(u.feature)),u.setStyle(m))}});function Gn(u,m){var b=u.type==="Feature"?u.geometry:u,k=b?b.coordinates:null,j=[],st=m&&m.pointToLayer,mt=m&&m.coordsToLatLng||Sr,Et,Ct,Pt,qt;if(!k&&!b)return null;switch(b.type){case"Point":return Et=mt(k),Ea(st,u,Et,m);case"MultiPoint":for(Pt=0,qt=k.length;Pt<qt;Pt++)Et=mt(k[Pt]),j.push(Ea(st,u,Et,m));return new Qi(j);case"LineString":case"MultiLineString":return Ct=Wa(k,b.type==="LineString"?0:1,mt),new tr(Ct,m);case"Polygon":case"MultiPolygon":return Ct=Wa(k,b.type==="Polygon"?1:2,mt),new xa(Ct,m);case"GeometryCollection":for(Pt=0,qt=b.geometries.length;Pt<qt;Pt++){var ne=Gn({geometry:b.geometries[Pt],type:"Feature",properties:u.properties},m);ne&&j.push(ne)}return new Qi(j);case"FeatureCollection":for(Pt=0,qt=b.features.length;Pt<qt;Pt++){var xe=Gn(b.features[Pt],m);xe&&j.push(xe)}return new Qi(j);default:throw new Error("Invalid GeoJSON object.")}}function Ea(u,m,b,k){return u?u(m,b):new Ja(b,k&&k.markersInheritOptions&&k)}function Sr(u){return new gt(u[1],u[0],u[2])}function Wa(u,m,b){for(var k=[],j=0,st=u.length,mt;j<st;j++)mt=m?Wa(u[j],m-1,b):(b||Sr)(u[j]),k.push(mt);return k}function Qa(u,m){return u=St(u),u.alt!==void 0?[D(u.lng,m),D(u.lat,m),D(u.alt,m)]:[D(u.lng,m),D(u.lat,m)]}function qn(u,m,b,k){for(var j=[],st=0,mt=u.length;st<mt;st++)j.push(m?qn(u[st],mi(u[st])?0:m-1,b,k):Qa(u[st],k));return!m&&b&&j.length>0&&j.push(j[0].slice()),j}function zn(u,m){return u.feature?r({},u.feature,{geometry:m}):p(m)}function p(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var s={toGeoJSON:function(u){return zn(this,{type:"Point",coordinates:Qa(this.getLatLng(),u)})}};Ja.include(s),Va.include(s),ia.include(s),tr.include({toGeoJSON:function(u){var m=!mi(this._latlngs),b=qn(this._latlngs,m?1:0,!1,u);return zn(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),xa.include({toGeoJSON:function(u){var m=!mi(this._latlngs),b=m&&!mi(this._latlngs[0]),k=qn(this._latlngs,b?2:m?1:0,!0,u);return m||(k=[k]),zn(this,{type:(b?"Multi":"")+"Polygon",coordinates:k})}}),Sa.include({toMultiPoint:function(u){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(u).geometry.coordinates)}),zn(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(u){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(u);var b=m==="GeometryCollection",k=[];return this.eachLayer(function(j){if(j.toGeoJSON){var st=j.toGeoJSON(u);if(b)k.push(st.geometry);else{var mt=p(st);mt.type==="FeatureCollection"?k.push.apply(k,mt.features):k.push(mt)}}}),b?zn(this,{geometries:k,type:"GeometryCollection"}):{type:"FeatureCollection",features:k}}});function o(u,m){return new er(u,m)}var d=o,S=Ii.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,m,b){this._url=u,this._bounds=pt(m),Z(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Bn(this._image),this},bringToBack:function(){return this._map&&Rr(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=pt(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",m=this._image=u?this._url:Se("img");if(fe(m,"leaflet-image-layer"),this._zoomAnimated&&fe(m,"leaflet-zoom-animated"),this.options.className&&fe(m,this.options.className),m.onselectstart=x,m.onmousemove=x,m.onload=f(this.fire,this,"load"),m.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(u){var m=this._map.getZoomScale(u.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;pr(this._image,b,m)},_reset:function(){var u=this._image,m=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();tn(u,m.min),u.style.width=b.x+"px",u.style.height=b.y+"px"},_updateOpacity:function(){Ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),C=function(u,m,b){return new S(u,m,b)},I=S.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",m=this._image=u?this._url:Se("video");if(fe(m,"leaflet-image-layer"),this._zoomAnimated&&fe(m,"leaflet-zoom-animated"),this.options.className&&fe(m,this.options.className),m.onselectstart=x,m.onmousemove=x,m.onloadeddata=f(this.fire,this,"load"),u){for(var b=m.getElementsByTagName("source"),k=[],j=0;j<b.length;j++)k.push(b[j].src);this._url=b.length>0?k:[m.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var st=0;st<this._url.length;st++){var mt=Se("source");mt.src=this._url[st],m.appendChild(mt)}}});function q(u,m,b){return new I(u,m,b)}var ot=S.extend({_initImage:function(){var u=this._image=this._url;fe(u,"leaflet-image-layer"),this._zoomAnimated&&fe(u,"leaflet-zoom-animated"),this.options.className&&fe(u,this.options.className),u.onselectstart=x,u.onmousemove=x}});function dt(u,m,b){return new ot(u,m,b)}var yt=Ii.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,m){u&&(u instanceof gt||X(u))?(this._latlng=St(u),Z(this,m)):(Z(this,u),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Ue(this._container,1),this.bringToFront(),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Ue(this._container,0),this._removeTimeout=setTimeout(f(Ke,void 0,this._container),200)):Ke(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=St(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bn(this._container),this},bringToBack:function(){return this._map&&Rr(this._container),this},_prepareOpen:function(u){var m=this._source;if(!m._map)return!1;if(m instanceof Qi){m=null;var b=this._source._layers;for(var k in b)if(b[k]._map){m=b[k];break}if(!m)return!1;this._source=m}if(!u)if(m.getCenter)u=m.getCenter();else if(m.getLatLng)u=m.getLatLng();else if(m.getBounds)u=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")u.innerHTML=m;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),m=Q(this.options.offset),b=this._getAnchor();this._zoomAnimated?tn(this._container,u.add(b)):m=m.add(u).add(b);var k=this._containerBottom=-m.y,j=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=k+"px",this._container.style.left=j+"px"}},_getAnchor:function(){return[0,0]}});de.include({_initOverlay:function(u,m,b,k){var j=m;return j instanceof u||(j=new u(k).setContent(m)),b&&j.setLatLng(b),j}}),Ii.include({_initOverlay:function(u,m,b,k){var j=b;return j instanceof u?(Z(j,k),j._source=this):(j=m&&!k?m:new u(k,this),j.setContent(b)),j}});var bt=yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,yt.prototype.openOn.call(this,u)},onAdd:function(u){yt.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $i||this._source.on("preclick",Sn))},onRemove:function(u){yt.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $i||this._source.off("preclick",Sn))},getEvents:function(){var u=yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",m=this._container=Se("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=Se("div",u+"-content-wrapper",m);if(this._contentNode=Se("div",u+"-content",b),Ir(m),Ci(this._contentNode),se(m,"contextmenu",Sn),this._tipContainer=Se("div",u+"-tip-container",m),this._tip=Se("div",u+"-tip",this._tipContainer),this.options.closeButton){var k=this._closeButton=Se("a",u+"-close-button",m);k.setAttribute("role","button"),k.setAttribute("aria-label","Close popup"),k.href="#close",k.innerHTML='<span aria-hidden="true">&#215;</span>',se(k,"click",function(j){rn(j),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,m=u.style;m.width="",m.whiteSpace="nowrap";var b=u.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var k=u.offsetHeight,j=this.options.maxHeight,st="leaflet-popup-scrolled";j&&k>j?(m.height=j+"px",fe(u,st)):Pe(u,st),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),b=this._getAnchor();tn(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,m=parseInt(Hi(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,k=this._containerWidth,j=new F(this._containerLeft,-b-this._containerBottom);j._add(gr(this._container));var st=u.layerPointToContainerPoint(j),mt=Q(this.options.autoPanPadding),Et=Q(this.options.autoPanPaddingTopLeft||mt),Ct=Q(this.options.autoPanPaddingBottomRight||mt),Pt=u.getSize(),qt=0,ne=0;st.x+k+Ct.x>Pt.x&&(qt=st.x+k-Pt.x+Ct.x),st.x-qt-Et.x<0&&(qt=st.x-Et.x),st.y+b+Ct.y>Pt.y&&(ne=st.y+b-Pt.y+Ct.y),st.y-ne-Et.y<0&&(ne=st.y-Et.y),(qt||ne)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([qt,ne]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ft=function(u,m){return new bt(u,m)};de.mergeOptions({closePopupOnClick:!0}),de.include({openPopup:function(u,m,b){return this._initOverlay(bt,u,m,b).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Ii.include({bindPopup:function(u,m){return this._popup=this._initOverlay(bt,this._popup,u,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Qi||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){yr(u);var m=u.layer||u.target;if(this._popup._source===m&&!(m instanceof $i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=m,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Gt=yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){yt.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){yt.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=yt.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",m=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Se("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var m,b,k=this._map,j=this._container,st=k.latLngToContainerPoint(k.getCenter()),mt=k.layerPointToContainerPoint(u),Et=this.options.direction,Ct=j.offsetWidth,Pt=j.offsetHeight,qt=Q(this.options.offset),ne=this._getAnchor();Et==="top"?(m=Ct/2,b=Pt):Et==="bottom"?(m=Ct/2,b=0):Et==="center"?(m=Ct/2,b=Pt/2):Et==="right"?(m=0,b=Pt/2):Et==="left"?(m=Ct,b=Pt/2):mt.x<st.x?(Et="right",m=0,b=Pt/2):(Et="left",m=Ct+(qt.x+ne.x)*2,b=Pt/2),u=u.subtract(Q(m,b,!0)).add(qt).add(ne),Pe(j,"leaflet-tooltip-right"),Pe(j,"leaflet-tooltip-left"),Pe(j,"leaflet-tooltip-top"),Pe(j,"leaflet-tooltip-bottom"),fe(j,"leaflet-tooltip-"+Et),tn(j,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Ue(this._container,u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(m)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vt=function(u,m){return new Gt(u,m)};de.include({openTooltip:function(u,m,b){return this._initOverlay(Gt,u,m,b).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Ii.include({bindTooltip:function(u,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gt,this._tooltip,u,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var m=u?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Qi||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&(se(m,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),se(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var m=u.latlng,b,k;this._tooltip.options.sticky&&u.originalEvent&&(b=this._map.mouseEventToContainerPoint(u.originalEvent),k=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(k)),this._tooltip.setLatLng(m)}});var ee=Ki.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var m=u&&u.tagName==="DIV"?u:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Ti(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var k=Q(b.bgPos);m.style.backgroundPosition=-k.x+"px "+-k.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Ce(u){return new ee(u)}Ki.Default=Za;var ge=Ii.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Kt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){Z(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Ke(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof F?u:new F(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var m=this.getPane().children,b=-u(-1/0,1/0),k=0,j=m.length,st;k<j;k++)st=m[k].style.zIndex,m[k]!==this._container&&st&&(b=u(b,+st));isFinite(b)&&(this.options.zIndex=b+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Kt.ielt9){Ue(this._container,this.options.opacity);var u=+new Date,m=!1,b=!1;for(var k in this._tiles){var j=this._tiles[k];if(!(!j.current||!j.loaded)){var st=Math.min(1,(u-j.loaded)/200);Ue(j.el,st),st<1?m=!0:(j.active?b=!0:this._onOpaqueTile(j),j.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(H(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,m=this.options.maxZoom;if(u!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===u?(this._levels[b].el.style.zIndex=m-Math.abs(u-b),this._onUpdateLevel(b)):(Ke(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var k=this._levels[u],j=this._map;return k||(k=this._levels[u]={},k.el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),k.el.style.zIndex=m,k.origin=j.project(j.unproject(j.getPixelOrigin()),u).round(),k.zoom=u,this._setZoomTransform(k,j.getCenter(),j.getZoom()),x(k.el.offsetWidth),this._onCreateLevel(k)),this._level=k,k}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var u,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)m=this._tiles[u],m.retain=m.current;for(u in this._tiles)if(m=this._tiles[u],m.current&&!m.active){var k=m.coords;this._retainParent(k.x,k.y,k.z,k.z-5)||this._retainChildren(k.x,k.y,k.z,k.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var m in this._tiles)this._tiles[m].coords.z===u&&this._removeTile(m)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Ke(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,m,b,k){var j=Math.floor(u/2),st=Math.floor(m/2),mt=b-1,Et=new F(+j,+st);Et.z=+mt;var Ct=this._tileCoordsToKey(Et),Pt=this._tiles[Ct];return Pt&&Pt.active?(Pt.retain=!0,!0):(Pt&&Pt.loaded&&(Pt.retain=!0),mt>k?this._retainParent(j,st,mt,k):!1)},_retainChildren:function(u,m,b,k){for(var j=2*u;j<2*u+2;j++)for(var st=2*m;st<2*m+2;st++){var mt=new F(j,st);mt.z=b+1;var Et=this._tileCoordsToKey(mt),Ct=this._tiles[Et];if(Ct&&Ct.active){Ct.retain=!0;continue}else Ct&&Ct.loaded&&(Ct.retain=!0);b+1<k&&this._retainChildren(j,st,b+1,k)}},_resetView:function(u){var m=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var m=this.options;return m.minNativeZoom!==void 0&&u<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<u?m.maxNativeZoom:u},_setView:function(u,m,b,k){var j=Math.round(m);this.options.maxZoom!==void 0&&j>this.options.maxZoom||this.options.minZoom!==void 0&&j<this.options.minZoom?j=void 0:j=this._clampZoom(j);var st=this.options.updateWhenZooming&&j!==this._tileZoom;(!k||st)&&(this._tileZoom=j,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),j!==void 0&&this._update(u),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(u,m)},_setZoomTransforms:function(u,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],u,m)},_setZoomTransform:function(u,m,b){var k=this._map.getZoomScale(b,u.zoom),j=u.origin.multiplyBy(k).subtract(this._map._getNewPixelOrigin(m,b)).round();Kt.any3d?pr(u.el,j,k):tn(u.el,j)},_resetGrid:function(){var u=this._map,m=u.options.crs,b=this._tileSize=this.getTileSize(),k=this._tileZoom,j=this._map.getPixelWorldBounds(this._tileZoom);j&&(this._globalTileRange=this._pxBoundsToTileRange(j)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,m.wrapLng[0]],k).x/b.x),Math.ceil(u.project([0,m.wrapLng[1]],k).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([m.wrapLat[0],0],k).y/b.x),Math.ceil(u.project([m.wrapLat[1],0],k).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),k=m.getZoomScale(b,this._tileZoom),j=m.project(u,this._tileZoom).floor(),st=m.getSize().divideBy(k*2);return new Y(j.subtract(st),j.add(st))},_update:function(u){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(u===void 0&&(u=m.getCenter()),this._tileZoom!==void 0){var k=this._getTiledPixelBounds(u),j=this._pxBoundsToTileRange(k),st=j.getCenter(),mt=[],Et=this.options.keepBuffer,Ct=new Y(j.getBottomLeft().subtract([Et,-Et]),j.getTopRight().add([Et,-Et]));if(!(isFinite(j.min.x)&&isFinite(j.min.y)&&isFinite(j.max.x)&&isFinite(j.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pt in this._tiles){var qt=this._tiles[Pt].coords;(qt.z!==this._tileZoom||!Ct.contains(new F(qt.x,qt.y)))&&(this._tiles[Pt].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(u,b);return}for(var ne=j.min.y;ne<=j.max.y;ne++)for(var xe=j.min.x;xe<=j.max.x;xe++){var ai=new F(xe,ne);if(ai.z=this._tileZoom,!!this._isValidTile(ai)){var Rn=this._tiles[this._tileCoordsToKey(ai)];Rn?Rn.current=!0:mt.push(ai)}}if(mt.sort(function(Ge,qe){return Ge.distanceTo(st)-qe.distanceTo(st)}),mt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zi=document.createDocumentFragment();for(xe=0;xe<mt.length;xe++)this._addTile(mt[xe],zi);this._level.el.appendChild(zi)}}}},_isValidTile:function(u){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(u.x<b.min.x||u.x>b.max.x)||!m.wrapLat&&(u.y<b.min.y||u.y>b.max.y))return!1}if(!this.options.bounds)return!0;var k=this._tileCoordsToBounds(u);return pt(this.options.bounds).overlaps(k)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var m=this._map,b=this.getTileSize(),k=u.scaleBy(b),j=k.add(b),st=m.unproject(k,u.z),mt=m.unproject(j,u.z);return[st,mt]},_tileCoordsToBounds:function(u){var m=this._tileCoordsToNwSe(u),b=new ct(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var m=u.split(":"),b=new F(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(u){var m=this._tiles[u];m&&(Ke(m.el),delete this._tiles[u],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){fe(u,"leaflet-tile");var m=this.getTileSize();u.style.width=m.x+"px",u.style.height=m.y+"px",u.onselectstart=x,u.onmousemove=x,Kt.ielt9&&this.options.opacity<1&&Ue(u,this.options.opacity)},_addTile:function(u,m){var b=this._getTilePos(u),k=this._tileCoordsToKey(u),j=this.createTile(this._wrapCoords(u),f(this._tileReady,this,u));this._initTile(j),this.createTile.length<2&&J(f(this._tileReady,this,u,null,j)),tn(j,b),this._tiles[k]={el:j,coords:u,current:!0},m.appendChild(j),this.fire("tileloadstart",{tile:j,coords:u})},_tileReady:function(u,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:u});var k=this._tileCoordsToKey(u);b=this._tiles[k],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Ue(b.el,0),H(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(fe(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Kt.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var m=new F(this._wrapX?E(u.x,this._wrapX):u.x,this._wrapY?E(u.y,this._wrapY):u.y);return m.z=u.z,m},_pxBoundsToTileRange:function(u){var m=this.getTileSize();return new Y(u.min.unscaleBy(m).floor(),u.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Ye(u){return new ge(u)}var an=ge.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,m){this._url=u,m=Z(this,m),m.detectRetina&&Kt.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,m){return this._url===u&&m===void 0&&(m=!0),this._url=u,m||this.redraw(),this},createTile:function(u,m){var b=document.createElement("img");return se(b,"load",f(this._tileOnLoad,this,m,b)),se(b,"error",f(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(u),b},getTileUrl:function(u){var m={r:Kt.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-u.y;this.options.tms&&(m.y=b),m["-y"]=b}return B(this._url,r(m,this.options))},_tileOnLoad:function(u,m){Kt.ielt9?setTimeout(f(u,this,null,m),0):u(null,m)},_tileOnError:function(u,m,b){var k=this.options.errorTileUrl;k&&m.getAttribute("src")!==k&&(m.src=k),u(b,m)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,k=this.options.zoomOffset;return b&&(u=m-u),u+k},_getSubdomain:function(u){var m=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var u,m;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(m=this._tiles[u].el,m.onload=x,m.onerror=x,!m.complete)){m.src=W;var b=this._tiles[u].coords;Ke(m),delete this._tiles[u],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(u){var m=this._tiles[u];if(m)return m.el.setAttribute("src",W),ge.prototype._removeTile.call(this,u)},_tileReady:function(u,m,b){if(!(!this._map||b&&b.getAttribute("src")===W))return ge.prototype._tileReady.call(this,u,m,b)}});function We(u,m){return new an(u,m)}var Pi=an.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,m){this._url=u;var b=r({},this.defaultWmsParams);for(var k in m)k in this.options||(b[k]=m[k]);m=Z(this,m);var j=m.detectRetina&&Kt.retina?2:1,st=this.getTileSize();b.width=st.x*j,b.height=st.y*j,this.wmsParams=b},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,an.prototype.onAdd.call(this,u)},getTileUrl:function(u){var m=this._tileCoordsToNwSe(u),b=this._crs,k=K(b.project(m[0]),b.project(m[1])),j=k.min,st=k.max,mt=(this._wmsVersion>=1.3&&this._crs===wo?[j.y,j.x,st.y,st.x]:[j.x,j.y,st.x,st.y]).join(","),Et=an.prototype.getTileUrl.call(this,u);return Et+rt(this.wmsParams,Et,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+mt},setParams:function(u,m){return r(this.wmsParams,u),m||this.redraw(),this}});function Hn(u,m){return new Pi(u,m)}an.WMS=Pi,We.wms=Hn;var ri=Ii.extend({options:{padding:.1},initialize:function(u){Z(this,u),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,m){var b=this._map.getZoomScale(m,this._zoom),k=this._map.getSize().multiplyBy(.5+this.options.padding),j=this._map.project(this._center,m),st=k.multiplyBy(-b).add(j).subtract(this._map._getNewPixelOrigin(u,m));Kt.any3d?pr(this._container,st,b):tn(this._container,st)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-u)).round();this._bounds=new Y(b,b.add(m.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ka=ri.extend({options:{tolerance:0},getEvents:function(){var u=ri.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");se(u,"mousemove",this._onMouseMove,this),se(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),se(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Ke(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var m in this._layers)u=this._layers[m],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var u=this._bounds,m=this._container,b=u.getSize(),k=Kt.retina?2:1;tn(m,u.min),m.width=k*b.x,m.height=k*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",Kt.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[y(u)]=u;var m=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var m=u._order,b=m.next,k=m.prev;b?b.prev=k:this._drawLast=k,k?k.next=b:this._drawFirst=b,delete u._order,delete this._layers[y(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var m=u.options.dashArray.split(/[, ]+/),b=[],k,j;for(j=0;j<m.length;j++){if(k=Number(m[j]),isNaN(k))return;b.push(k)}u.options._dashArray=b}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var m=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(u._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(u._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var m=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var k=this._drawFirst;k;k=k.next)u=k.layer,(!m||u._pxBounds&&u._pxBounds.intersects(m))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,m){if(this._drawing){var b,k,j,st,mt=u._parts,Et=mt.length,Ct=this._ctx;if(Et){for(Ct.beginPath(),b=0;b<Et;b++){for(k=0,j=mt[b].length;k<j;k++)st=mt[b][k],Ct[k?"lineTo":"moveTo"](st.x,st.y);m&&Ct.closePath()}this._fillStroke(Ct,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var m=u._point,b=this._ctx,k=Math.max(Math.round(u._radius),1),j=(Math.max(Math.round(u._radiusY),1)||k)/k;j!==1&&(b.save(),b.scale(1,j)),b.beginPath(),b.arc(m.x,m.y/j,k,0,Math.PI*2,!1),j!==1&&b.restore(),this._fillStroke(b,u)}},_fillStroke:function(u,m){var b=m.options;b.fill&&(u.globalAlpha=b.fillOpacity,u.fillStyle=b.fillColor||b.color,u.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(u.setLineDash&&u.setLineDash(m.options&&m.options._dashArray||[]),u.globalAlpha=b.opacity,u.lineWidth=b.weight,u.strokeStyle=b.color,u.lineCap=b.lineCap,u.lineJoin=b.lineJoin,u.stroke())},_onClick:function(u){for(var m=this._map.mouseEventToLayerPoint(u),b,k,j=this._drawFirst;j;j=j.next)b=j.layer,b.options.interactive&&b._containsPoint(m)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(b))&&(k=b);this._fireEvent(k?[k]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,m)}},_handleMouseOut:function(u){var m=this._hoveredLayer;m&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([m],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,m){if(!this._mouseHoverThrottled){for(var b,k,j=this._drawFirst;j;j=j.next)b=j.layer,b.options.interactive&&b._containsPoint(m)&&(k=b);k!==this._hoveredLayer&&(this._handleMouseOut(u),k&&(fe(this._container,"leaflet-interactive"),this._fireEvent([k],u,"mouseover"),this._hoveredLayer=k)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,m,b){this._map._fireDOMEvent(m,b||m.type,u)},_bringToFront:function(u){var m=u._order;if(m){var b=m.next,k=m.prev;if(b)b.prev=k;else return;k?k.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(u)}},_bringToBack:function(u){var m=u._order;if(m){var b=m.next,k=m.prev;if(k)k.next=b;else return;b?b.prev=k:k&&(this._drawLast=k),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(u)}}});function ba(u){return Kt.canvas?new Ka(u):null}var xr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ps={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var m=u._container=xr("shape");fe(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",u._path=xr("path"),m.appendChild(u._path),this._updateStyle(u),this._layers[y(u)]=u},_addPath:function(u){var m=u._container;this._container.appendChild(m),u.options.interactive&&u.addInteractiveTarget(m)},_removePath:function(u){var m=u._container;Ke(m),u.removeInteractiveTarget(m),delete this._layers[y(u)]},_updateStyle:function(u){var m=u._stroke,b=u._fill,k=u.options,j=u._container;j.stroked=!!k.stroke,j.filled=!!k.fill,k.stroke?(m||(m=u._stroke=xr("stroke")),j.appendChild(m),m.weight=k.weight+"px",m.color=k.color,m.opacity=k.opacity,k.dashArray?m.dashStyle=X(k.dashArray)?k.dashArray.join(" "):k.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=k.lineCap.replace("butt","flat"),m.joinstyle=k.lineJoin):m&&(j.removeChild(m),u._stroke=null),k.fill?(b||(b=u._fill=xr("fill")),j.appendChild(b),b.color=k.fillColor||k.color,b.opacity=k.fillOpacity):b&&(j.removeChild(b),u._fill=null)},_updateCircle:function(u){var m=u._point.round(),b=Math.round(u._radius),k=Math.round(u._radiusY||b);this._setPath(u,u._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+k+" 0,"+65535*360)},_setPath:function(u,m){u._path.v=m},_bringToFront:function(u){Bn(u._container)},_bringToBack:function(u){Rr(u._container)}},Bi=Kt.vml?xr:zt,zr=ri.extend({_initContainer:function(){this._container=Bi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ke(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var u=this._bounds,m=u.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),tn(b,u.min),b.setAttribute("viewBox",[u.min.x,u.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(u){var m=u._path=Bi("path");u.options.className&&fe(m,u.options.className),u.options.interactive&&fe(m,"leaflet-interactive"),this._updateStyle(u),this._layers[y(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Ke(u._path),u.removeInteractiveTarget(u._path),delete this._layers[y(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var m=u._path,b=u.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(u,m){this._setPath(u,jt(u._parts,m))},_updateCircle:function(u){var m=u._point,b=Math.max(Math.round(u._radius),1),k=Math.max(Math.round(u._radiusY),1)||b,j="a"+b+","+k+" 0 1,0 ",st=u._empty()?"M0 0":"M"+(m.x-b)+","+m.y+j+b*2+",0 "+j+-b*2+",0 ";this._setPath(u,st)},_setPath:function(u,m){u._path.setAttribute("d",m)},_bringToFront:function(u){Bn(u._path)},_bringToBack:function(u){Rr(u._path)}});Kt.vml&&zr.include(Ps);function ra(u){return Kt.svg||Kt.vml?new zr(u):null}de.include({getRenderer:function(u){var m=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var m=this._paneRenderers[u];return m===void 0&&(m=this._createRenderer({pane:u}),this._paneRenderers[u]=m),m},_createRenderer:function(u){return this.options.preferCanvas&&ba(u)||ra(u)}});var $a=xa.extend({initialize:function(u,m){xa.prototype.initialize.call(this,this._boundsToLatLngs(u),m)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=pt(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function Nf(u,m){return new $a(u,m)}zr.create=Bi,zr.pointsToPath=jt,er.geometryToLayer=Gn,er.coordsToLatLng=Sr,er.coordsToLatLngs=Wa,er.latLngToCoords=Qa,er.latLngsToCoords=qn,er.getFeature=zn,er.asFeature=p,de.mergeOptions({boxZoom:!0});var Di=Wi.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zi(),Ds(),this._startPoint=this._map.mouseEventToContainerPoint(u),se(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var m=new Y(this._point,this._startPoint),b=m.getSize();tn(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Ke(this._box),Pe(this._container,"leaflet-crosshair")),Oi(),Kr(),Fe(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var m=new ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});de.addInitHook("addHandler","boxZoom",Di),de.mergeOptions({doubleClickZoom:!0});var ll=Wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var m=this._map,b=m.getZoom(),k=m.options.zoomDelta,j=u.originalEvent.shiftKey?b-k:b+k;m.options.doubleClickZoom==="center"?m.setZoom(j):m.setZoomAround(u.containerPoint,j)}});de.addInitHook("addHandler","doubleClickZoom",ll),de.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fr=Wi.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Br(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=pt(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,m){return u-(u-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;u.x<m.min.x&&(u.x=this._viscousLimit(u.x,m.min.x)),u.y<m.min.y&&(u.y=this._viscousLimit(u.y,m.min.y)),u.x>m.max.x&&(u.x=this._viscousLimit(u.x,m.max.x)),u.y>m.max.y&&(u.y=this._viscousLimit(u.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,m=Math.round(u/2),b=this._initialWorldOffset,k=this._draggable._newPos.x,j=(k-m+b)%u+m-b,st=(k+m+b)%u-m-b,mt=Math.abs(j+b)<Math.abs(st+b)?j:st;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=mt},_onDragEnd:function(u){var m=this._map,b=m.options,k=!b.inertia||u.noInertia||this._times.length<2;if(m.fire("dragend",u),k)m.fire("moveend");else{this._prunePositions(+new Date);var j=this._lastPos.subtract(this._positions[0]),st=(this._lastTime-this._times[0])/1e3,mt=b.easeLinearity,Et=j.multiplyBy(mt/st),Ct=Et.distanceTo([0,0]),Pt=Math.min(b.inertiaMaxSpeed,Ct),qt=Et.multiplyBy(Pt/Ct),ne=Pt/(b.inertiaDeceleration*mt),xe=qt.multiplyBy(-ne/2).round();!xe.x&&!xe.y?m.fire("moveend"):(xe=m._limitOffset(xe,m.options.maxBounds),J(function(){m.panBy(xe,{duration:ne,easeLinearity:mt,noMoveStart:!0,animate:!0})}))}}});de.addInitHook("addHandler","dragging",Fr),de.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tu=Wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),se(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,m=document.documentElement,b=u.scrollTop||m.scrollTop,k=u.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(k,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var m=this._panKeys={},b=this.keyCodes,k,j;for(k=0,j=b.left.length;k<j;k++)m[b.left[k]]=[-1*u,0];for(k=0,j=b.right.length;k<j;k++)m[b.right[k]]=[u,0];for(k=0,j=b.down.length;k<j;k++)m[b.down[k]]=[0,u];for(k=0,j=b.up.length;k<j;k++)m[b.up[k]]=[0,-1*u]},_setZoomDelta:function(u){var m=this._zoomKeys={},b=this.keyCodes,k,j;for(k=0,j=b.zoomIn.length;k<j;k++)m[b.zoomIn[k]]=u;for(k=0,j=b.zoomOut.length;k<j;k++)m[b.zoomOut[k]]=-u},_addHooks:function(){se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var m=u.keyCode,b=this._map,k;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(k=this._panKeys[m],u.shiftKey&&(k=Q(k).multiplyBy(3)),b.options.maxBounds&&(k=b._limitOffset(Q(k),b.options.maxBounds)),b.options.worldCopyJump){var j=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(k)));b.panTo(j)}else b.panBy(k)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;yr(u)}}});de.addInitHook("addHandler","keyboard",tu),de.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ao=Wi.extend({addHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var m=Yn(u),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var k=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),k),yr(u)},_performZoom:function(){var u=this._map,m=u.getZoom(),b=this._map.options.zoomSnap||0;u._stop();var k=this._delta/(this._map.options.wheelPxPerZoomLevel*4),j=4*Math.log(2/(1+Math.exp(-Math.abs(k))))/Math.LN2,st=b?Math.ceil(j/b)*b:j,mt=u._limitZoom(m+(this._delta>0?st:-st))-m;this._delta=0,this._startTime=null,mt&&(u.options.scrollWheelZoom==="center"?u.setZoom(m+mt):u.setZoomAround(this._lastMousePos,m+mt))}});de.addInitHook("addHandler","scrollWheelZoom",Ao);var ts=600;de.mergeOptions({tapHold:Kt.touchNative&&Kt.safari&&Kt.mobile,tapTolerance:15});var ul=Wi.extend({addHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var m=u.touches[0];this._startPos=this._newPos=new F(m.clientX,m.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(se(document,"touchend",rn),se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),ts),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Fe(document,"touchend",rn),Fe(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)},_onMove:function(u){var m=u.touches[0];this._newPos=new F(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,m){var b=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});de.addInitHook("addHandler","tapHold",ul),de.mergeOptions({touchZoom:Kt.touch,bounceAtZoomLimits:!0});var eu=Wi.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var m=this._map;if(!(!u.touches||u.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(u.touches[0]),k=m.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(k)._divideBy(2))),this._startDist=b.distanceTo(k),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),rn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(u.touches[0]),k=m.mouseEventToContainerPoint(u.touches[1]),j=b.distanceTo(k)/this._startDist;if(this._zoom=m.getScaleZoom(j,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&j<1||this._zoom>m.getMaxZoom()&&j>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,j===1)return}else{var st=b._add(k)._divideBy(2)._subtract(this._centerPoint);if(j===1&&st.x===0&&st.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(st),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var mt=f(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(mt,this,!0),rn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});de.addInitHook("addHandler","touchZoom",eu),de.BoxZoom=Di,de.DoubleClickZoom=ll,de.Drag=Fr,de.Keyboard=tu,de.ScrollWheelZoom=Ao,de.TapHold=ul,de.TouchZoom=eu,i.Bounds=Y,i.Browser=Kt,i.CRS=Dt,i.Canvas=Ka,i.Circle=Va,i.CircleMarker=ia,i.Class=at,i.Control=gi,i.DivIcon=ee,i.DivOverlay=yt,i.DomEvent=ks,i.DomUtil=_r,i.Draggable=Br,i.Evented=U,i.FeatureGroup=Qi,i.GeoJSON=er,i.GridLayer=ge,i.Handler=Wi,i.Icon=Ki,i.ImageOverlay=S,i.LatLng=gt,i.LatLngBounds=ct,i.Layer=Ii,i.LayerGroup=Sa,i.LineUtil=To,i.Map=de,i.Marker=Ja,i.Mixin=Kl,i.Path=$i,i.Point=F,i.PolyUtil=ii,i.Polygon=xa,i.Polyline=tr,i.Popup=bt,i.PosAnimation=ta,i.Projection=nl,i.Rectangle=$a,i.Renderer=ri,i.SVG=zr,i.SVGOverlay=ot,i.TileLayer=an,i.Tooltip=Gt,i.Transformation=At,i.Util=nt,i.VideoOverlay=I,i.bind=f,i.bounds=K,i.canvas=ba,i.circle=sl,i.circleMarker=Lo,i.control=xn,i.divIcon=Ce,i.extend=r,i.featureGroup=Co,i.geoJSON=o,i.geoJson=d,i.gridLayer=Ye,i.icon=Ha,i.imageOverlay=C,i.latLng=St,i.latLngBounds=pt,i.layerGroup=rl,i.map=ya,i.marker=al,i.point=Q,i.polygon=ol,i.polyline=Do,i.popup=Ft,i.rectangle=Nf,i.setOptions=Z,i.stamp=y,i.svg=ra,i.svgOverlay=dt,i.tileLayer=We,i.tooltip=Vt,i.transformation=ft,i.version=l,i.videoOverlay=q;var nu=window.L;i.noConflict=function(){return window.L=nu,this},window.L=i}))})(ac,ac.exports)),ac.exports}var ho=uA();const Xl=lo(ho);function cA(e,n){const i=Ut.useRef(n);Ut.useEffect(function(){n!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),n!=null&&e.attributionControl.addAttribution(n)),i.current=n},[e,n])}nS();const hA=1;function fA(e){return Object.freeze({__version:hA,map:e})}function Ux(e,n){return Object.freeze({...e,...n})}const jg=Ut.createContext(null);function bf(){const e=Ut.use(jg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function dA(e){function n(i,l){const{instance:r,context:c}=e(i).current;Ut.useImperativeHandle(l,()=>r);const{children:f}=i;return f==null?null:ys.createElement(jg,{value:c},f)}return Ut.forwardRef(n)}function pA(e){function n(i,l){const{instance:r}=e(i).current;return Ut.useImperativeHandle(l,()=>r),null}return Ut.forwardRef(n)}function Yx(e,n){const i=Ut.useRef(void 0);Ut.useEffect(function(){return n!=null&&e.instance.on(n),i.current=n,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,n])}function Tf(e,n){const i=e.pane??n.pane;return i?{...e,pane:i}:e}function wf(e,n,i){return Object.freeze({instance:e,context:n,container:i})}function Gx(e,n){return n==null?function(l,r){const c=Ut.useRef(void 0);return c.current||(c.current=e(l,r)),c}:function(l,r){const c=Ut.useRef(void 0);c.current||(c.current=e(l,r));const f=Ut.useRef(l),{instance:g}=c.current;return Ut.useEffect(function(){f.current!==l&&(n(g,l,f.current),f.current=l)},[g,l,n]),c}}function qx(e,n){Ut.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function gA(e){return function(i){const l=bf(),r=e(Tf(i,l),l);return cA(l.map,i.attribution),Yx(r.current,i.eventHandlers),qx(r.current,l),r}}function mA(e,n){const i=Ut.useRef(void 0);Ut.useEffect(function(){if(n.pathOptions!==i.current){const r=n.pathOptions??{};e.instance.setStyle(r),i.current=r}},[e,n])}function _A(e){return function(i){const l=bf(),r=e(Tf(i,l),l);return Yx(r.current,i.eventHandlers),qx(r.current,l),mA(r.current,i),r}}function Hx(e,n){const i=Gx(e,n),l=_A(i);return dA(l)}function Zx(e,n){const i=Gx(e,n),l=gA(i);return pA(l)}function Xx(e,n,i){const{opacity:l,zIndex:r}=n;l!=null&&l!==i.opacity&&e.setOpacity(l),r!=null&&r!==i.zIndex&&e.setZIndex(r)}function yA(){return bf().map}function vA(e){const n=yA();return Ut.useEffect(function(){return n.on(e),function(){n.off(e)}},[n,e]),n}const SA=Hx(function({children:n,...i},l){const r=new ho.FeatureGroup([],i);return wf(r,Ux(l,{layerContainer:r,overlayContainer:r}))}),Cf=Hx(function({data:n,...i},l){const r=new ho.GeoJSON(n,i);return wf(r,Ux(l,{overlayContainer:r}))},function(n,i,l){i.style!==l.style&&(i.style==null?n.resetStyle():n.setStyle(i.style))});function xA({bounds:e,boundsOptions:n,center:i,children:l,className:r,id:c,placeholder:f,style:g,whenReady:y,zoom:v,...E},x){const[D]=Ut.useState({className:r,id:c,style:g}),[N,P]=Ut.useState(null),Z=Ut.useRef(void 0);Ut.useImperativeHandle(x,()=>N?.map??null,[N]);const rt=Ut.useCallback(B=>{if(B!==null&&!Z.current){const X=new ho.Map(B,E);Z.current=X,i!=null&&v!=null?X.setView(i,v):e!=null&&X.fitBounds(e,n),y!=null&&X.whenReady(y),P(fA(X))}},[]);Ut.useEffect(()=>()=>{N?.map.remove()},[N]);const et=N?ys.createElement(jg,{value:N},l):f??null;return ys.createElement("div",{...D,ref:rt},et)}const EA=Ut.forwardRef(xA),J0=Zx(function({url:n,...i},l){const r=new ho.TileLayer(n,Tf(i,l));return wf(r,l)},function(n,i,l){Xx(n,i,l);const{url:r}=i;r!=null&&r!==l.url&&n.setUrl(r)}),Ug=Zx(function({eventHandlers:n,params:i={},url:l,...r},c){const f=new ho.TileLayer.WMS(l,{...i,...Tf(r,c)});return wf(f,c)},function(n,i,l){Xx(n,i,l),i.params!=null&&i.params!==l.params&&n.setParams(i.params)});var Fp={exports:{}},jp,V0;function bA(){if(V0)return jp;V0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jp=e,jp}var Up,W0;function TA(){if(W0)return Up;W0=1;var e=bA();function n(){}function i(){}return i.resetWarningCache=n,Up=function(){function l(f,g,y,v,E,x){if(x!==e){var D=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}}l.isRequired=l;function r(){return l}var c={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:r,element:l,elementType:l,instanceOf:r,node:l,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:n};return c.PropTypes=c,c},Up}var Q0;function wA(){return Q0||(Q0=1,Fp.exports=TA()()),Fp.exports}var Me=wA();(function(e,n,i){function l(r,c){for(;(r=r.parentElement)&&!r.classList.contains(c););return r}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(r,c){this._map=r,this._container=r._container,this._overlayPane=r._panes.overlayPane,this._popupPane=r._panes.popupPane,c&&c.shapeOptions&&(c.shapeOptions=L.Util.extend({},this.options.shapeOptions,c.shapeOptions)),L.setOptions(this,c);var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(L.DomUtil.disableTextSelection(),r.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(r){L.setOptions(this,r)},_fireCreatedEvent:function(r){this._map.fire(L.Draw.Event.CREATED,{layer:r,layerType:this.type})},_cancelDrawing:function(r){r.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(r,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var r=this._markers.pop(),c=this._poly,f=c.getLatLngs(),g=f.splice(-1,1)[0];this._poly.setLatLngs(f),this._markerGroup.removeLayer(r),c.getLatLngs().length<2&&this._map.removeLayer(c),this._vertexChanged(g,!1)}},addVertex:function(r){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(r))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(r)),this._poly.addLatLng(r),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(r,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var r=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),c=this._poly.newLatLngIntersects(r[r.length-1]);if(!this.options.allowIntersection&&c||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent),f=this._map.layerPointToLatLng(c);this._currentLatLng=f,this._updateTooltip(f),this._updateGuide(c),this._mouseMarker.setLatLng(f),L.DomEvent.preventDefault(r.originalEvent)},_vertexChanged:function(r,c){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(r,c),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(r){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(r),this._clickHandled=!0,this._disableNewMarkers();var c=r.originalEvent,f=c.clientX,g=c.clientY;this._startPoint.call(this,f,g)}},_startPoint:function(r,c){this._mouseDownOrigin=L.point(r,c)},_onMouseUp:function(r){var c=r.originalEvent,f=c.clientX,g=c.clientY;this._endPoint.call(this,f,g,r),this._clickHandled=null},_endPoint:function(r,c,f){if(this._mouseDownOrigin){var g=L.point(r,c).distanceTo(this._mouseDownOrigin),y=this._calculateFinishDistance(f.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(f.latlng),this._finishShape()):y<10&&L.Browser.touch?this._finishShape():Math.abs(g)<9*(e.devicePixelRatio||1)&&this.addVertex(f.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(r){var c,f,g=r.originalEvent;!g.touches||!g.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(c=g.touches[0].clientX,f=g.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,c,f),this._endPoint.call(this,c,f,r),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(r){var c;if(this._markers.length>0){var f;if(this.type===L.Draw.Polyline.TYPE)f=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;f=this._markers[0]}var g=this._map.latLngToContainerPoint(f.getLatLng()),y=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),v=this._map.latLngToContainerPoint(y.getLatLng());c=g.distanceTo(v)}else c=1/0;return c},_updateFinishHandler:function(){var r=this._markers.length;r>1&&this._markers[r-1].on("click",this._finishShape,this),r>2&&this._markers[r-2].off("click",this._finishShape,this)},_createMarker:function(r){var c=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(c),c},_updateGuide:function(r){var c=this._markers?this._markers.length:0;c>0&&(r=r||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[c-1].getLatLng()),r))},_updateTooltip:function(r){var c=this._getTooltipText();r&&this._tooltip.updatePosition(r),this._errorShown||this._tooltip.updateContent(c)},_drawGuide:function(r,c){var f,g,y,v=Math.floor(Math.sqrt(Math.pow(c.x-r.x,2)+Math.pow(c.y-r.y,2))),E=this.options.guidelineDistance,x=this.options.maxGuideLineLength,D=v>x?v-x:E;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));D<v;D+=this.options.guidelineDistance)f=D/v,g={x:Math.floor(r.x*(1-f)+f*c.x),y:Math.floor(r.y*(1-f)+f*c.y)},y=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),y.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(y,g)},_updateGuideColor:function(r){if(this._guidesContainer)for(var c=0,f=this._guidesContainer.childNodes.length;c<f;c++)this._guidesContainer.childNodes[c].style.backgroundColor=r},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var r,c,f=this.options.showLength;return this._markers.length===0?r={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(c=f?this._getMeasurementString():"",r=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:c}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:c}),r},_updateRunningMeasure:function(r,c){var f,g,y=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(f=y-(c?2:1),g=L.GeometryUtil.isVersion07x()?r.distanceTo(this._markers[f].getLatLng())*(this.options.factor||1):this._map.distance(r,this._markers[f].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=g*(c?1:-1))},_getMeasurementString:function(){var r,c=this._currentLatLng,f=this._markers[this._markers.length-1].getLatLng();return r=L.GeometryUtil.isVersion07x()?f&&c&&c.distanceTo?this._measurementRunningTotal+c.distanceTo(f)*(this.options.factor||1):this._measurementRunningTotal||0:f&&c?this._measurementRunningTotal+this._map.distance(c,f)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(r,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var r=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(r,c){L.Draw.Polyline.prototype.initialize.call(this,r,c),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var r=this._markers.length;r===1&&this._markers[0].on("click",this._finishShape,this),r>2&&(this._markers[r-1].on("dblclick",this._finishShape,this),r>3&&this._markers[r-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var r,c;return this._markers.length===0?r=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(r=L.drawLocal.draw.handlers.polygon.tooltip.cont,c=this._getMeasurementString()):(r=L.drawLocal.draw.handlers.polygon.tooltip.end,c=this._getMeasurementString()),{text:r,subtext:c}},_getMeasurementString:function(){var r=this._area,c="";return r||this.options.showLength?(this.options.showLength&&(c=L.Draw.Polyline.prototype._getMeasurementString.call(this)),r&&(c+="<br>"+L.GeometryUtil.readableArea(r,this.options.metric,this.options.precision)),c):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(r,c){var f;!this.options.allowIntersection&&this.options.showArea&&(f=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(f)),L.Draw.Polyline.prototype._vertexChanged.call(this,r,c)},_cleanUpShape:function(){var r=this._markers.length;r>0&&(this._markers[0].off("click",this._finishShape,this),r>2&&this._markers[r-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(r,c){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),n.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(n,"mouseup",this._onMouseUp,this),L.DomEvent.off(n,"touchend",this._onMouseUp,this),n.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(r){this._isDrawing=!0,this._startLatLng=r.latlng,L.DomEvent.on(n,"mouseup",this._onMouseUp,this).on(n,"touchend",this._onMouseUp,this).preventDefault(r.originalEvent)},_onMouseMove:function(r){var c=r.latlng;this._tooltip.updatePosition(c),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(c))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(r,c){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,c)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(r){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!l(r.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(r){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,r)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,r),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_getTooltipText:function(){var r,c,f,g=L.Draw.SimpleShape.prototype._getTooltipText.call(this),y=this._shape,v=this.options.showArea;return y&&(r=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),c=L.GeometryUtil.geodesicArea(r),f=v?L.GeometryUtil.readableArea(c,this.options.metric):""),{text:g.text,subtext:f}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(r,c){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(r){var c=r.latlng;this._tooltip.updatePosition(c),this._mouseMarker.setLatLng(c),this._marker?(c=this._mouseMarker.getLatLng(),this._marker.setLatLng(c)):(this._marker=this._createMarker(c),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(r){return new L.Marker(r,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(r){this._onMouseMove(r),this._onClick()},_fireCreatedEvent:function(){var r=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(r,c){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,c)},_fireCreatedEvent:function(){var r=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)},_createMarker:function(r){return new L.CircleMarker(r,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(r,c){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,c)},_drawShape:function(r){if(L.GeometryUtil.isVersion07x())var c=this._startLatLng.distanceTo(r);else var c=this._map.distance(this._startLatLng,r);this._shape?this._shape.setRadius(c):(this._shape=new L.Circle(this._startLatLng,c,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_onMouseMove:function(r){var c,f=r.latlng,g=this.options.showRadius,y=this.options.metric;if(this._tooltip.updatePosition(f),this._isDrawing){this._drawShape(f),c=this._shape.getRadius().toFixed(1);var v="";g&&(v=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(c,y,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:v})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(r,c){this._marker=r,L.setOptions(this,c)},addHooks:function(){var r=this._marker;r.dragging.enable(),r.on("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},removeHooks:function(){var r=this._marker;r.dragging.disable(),r.off("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},_onDragEnd:function(r){var c=r.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_toggleMarkerHighlight:function(){var r=this._marker._icon;r&&(r.style.display="none",L.DomUtil.hasClass(r,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,-4)):(L.DomUtil.addClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,4)),r.style.display="")},_offsetMarker:function(r,c){var f=parseInt(r.style.marginTop,10)-c,g=parseInt(r.style.marginLeft,10)-c;r.style.marginTop=f+"px",r.style.marginLeft=g+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(r){this.latlngs=[r._latlngs],r._holes&&(this.latlngs=this.latlngs.concat(r._holes)),this._poly=r,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(r){for(var c=0;c<this._verticesHandlers.length;c++)r(this._verticesHandlers[c])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(r){r.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(r){r.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(r){r.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var r=0;r<this.latlngs.length;r++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[r],this._poly.options.poly))},_updateLatLngs:function(r){this.latlngs=[r.layer._latlngs],r.layer._holes&&(this.latlngs=this.latlngs.concat(r.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(r,c,f){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=r,f&&f.drawError&&(f.drawError=L.Util.extend({},this.options.drawError,f.drawError)),this._latlngs=c,L.setOptions(this,f)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var r=this._poly,c=r._path;r instanceof L.Polygon||(r.options.fill=!1,r.options.editing&&(r.options.editing.fill=!1)),c&&r.options.editing&&r.options.editing.className&&(r.options.original.className&&r.options.original.className.split(" ").forEach(function(f){L.DomUtil.removeClass(c,f)}),r.options.editing.className.split(" ").forEach(function(f){L.DomUtil.addClass(c,f)})),r.setStyle(r.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var r=this._poly,c=r._path;c&&r.options.editing&&r.options.editing.className&&(r.options.editing.className.split(" ").forEach(function(f){L.DomUtil.removeClass(c,f)}),r.options.original.className&&r.options.original.className.split(" ").forEach(function(f){L.DomUtil.addClass(c,f)})),r.setStyle(r.options.original),r._map&&(r._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var r,c,f,g,y=this._defaultShape();for(r=0,f=y.length;r<f;r++)g=this._createMarker(y[r],r),g.on("click",this._onMarkerClick,this),g.on("contextmenu",this._onContextMenu,this),this._markers.push(g);var v,E;for(r=0,c=f-1;r<f;c=r++)(r!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(v=this._markers[c],E=this._markers[r],this._createMiddleMarker(v,E),this._updatePrevNext(v,E))},_createMarker:function(r,c){var f=new L.Marker.Touch(r,{draggable:!0,icon:this.options.icon});return f._origLatLng=r,f._index=c,f.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(f),f},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var r=this._defaultShape(),c=[].splice.apply(r,arguments);return this._poly._convertLatLngs(r,!0),this._poly.redraw(),c},_removeMarker:function(r){var c=r._index;this._markerGroup.removeLayer(r),this._markers.splice(c,1),this._spliceLatLngs(c,1),this._updateIndexes(c,-1),r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(r){var c=r.target,f=this._poly,g=L.LatLngUtil.cloneLatLng(c._origLatLng);if(L.extend(c._origLatLng,c._latlng),f.options.poly){var y=f._map._editTooltip;if(!f.options.poly.allowIntersection&&f.intersects()){L.extend(c._origLatLng,g),c.setLatLng(g);var v=f.options.color;f.setStyle({color:this.options.drawError.color}),y&&y.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){f.setStyle({color:v}),y&&y.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}c._middleLeft&&c._middleLeft.setLatLng(this._getMiddleLatLng(c._prev,c)),c._middleRight&&c._middleRight.setLatLng(this._getMiddleLatLng(c,c._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var E=this._poly.getLatLngs();this._poly._convertLatLngs(E,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(r){var c=L.Polygon&&this._poly instanceof L.Polygon?4:3,f=r.target;this._defaultShape().length<c||(this._removeMarker(f),this._updatePrevNext(f._prev,f._next),f._middleLeft&&this._markerGroup.removeLayer(f._middleLeft),f._middleRight&&this._markerGroup.removeLayer(f._middleRight),f._prev&&f._next?this._createMiddleMarker(f._prev,f._next):f._prev?f._next||(f._prev._middleRight=null):f._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(r){var c=r.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:c,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),f=this._map.layerPointToLatLng(c),g=r.target;L.extend(g._origLatLng,f),g._middleLeft&&g._middleLeft.setLatLng(this._getMiddleLatLng(g._prev,g)),g._middleRight&&g._middleRight.setLatLng(this._getMiddleLatLng(g,g._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(r,c){this._markerGroup.eachLayer(function(f){f._index>r&&(f._index+=c)})},_createMiddleMarker:function(r,c){var f,g,y,v=this._getMiddleLatLng(r,c),E=this._createMarker(v);E.setOpacity(.6),r._middleRight=c._middleLeft=E,g=function(){E.off("touchmove",g,this);var x=c._index;E._index=x,E.off("click",f,this).on("click",this._onMarkerClick,this),v.lat=E.getLatLng().lat,v.lng=E.getLatLng().lng,this._spliceLatLngs(x,0,v),this._markers.splice(x,0,E),E.setOpacity(1),this._updateIndexes(x,1),c._index++,this._updatePrevNext(r,E),this._updatePrevNext(E,c),this._poly.fire("editstart")},y=function(){E.off("dragstart",g,this),E.off("dragend",y,this),E.off("touchmove",g,this),this._createMiddleMarker(r,E),this._createMiddleMarker(E,c)},f=function(){g.call(this),y.call(this),this._fireEdit()},E.on("click",f,this).on("dragstart",g,this).on("dragend",y,this).on("touchmove",g,this),this._markerGroup.addLayer(E)},_updatePrevNext:function(r,c){r&&(r._next=c),c&&(c._prev=r)},_getMiddleLatLng:function(r,c){var f=this._poly._map,g=f.project(r.getLatLng()),y=f.project(c.getLatLng());return f.unproject(g._add(y)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(r,c){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=r,L.Util.setOptions(this,c)},addHooks:function(){var r=this._shape;this._shape._map&&(this._map=this._shape._map,r.setStyle(r.options.editing),r._map&&(this._map=r._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var r=this._shape;if(r.setStyle(r.options.original),r._map){this._unbindMarker(this._moveMarker);for(var c=0,f=this._resizeMarkers.length;c<f;c++)this._unbindMarker(this._resizeMarkers[c]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(r,c){var f=new L.Marker.Touch(r,{draggable:!0,icon:c,zIndexOffset:10});return this._bindMarker(f),this._markerGroup.addLayer(f),f},_bindMarker:function(r){r.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(r){r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(r){r.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(r){var c=r.target,f=c.getLatLng();c===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(r){r.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(r){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r),typeof this._getCorners=="function"){var c=this._getCorners(),f=r.target,g=f._cornerIndex;f.setOpacity(0),this._oppositeCorner=c[(g+2)%4],this._toggleCornerMarkers(0,g)}this._shape.fire("editstart")},_onTouchMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),f=this._map.layerPointToLatLng(c);return r.target===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),!1},_onTouchEnd:function(r){r.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getBounds(),c=r.getCenter();this._moveMarker=this._createMarker(c,this.options.moveIcon)},_createResizeMarker:function(){var r=this._getCorners();this._resizeMarkers=[];for(var c=0,f=r.length;c<f;c++)this._resizeMarkers.push(this._createMarker(r[c],this.options.resizeIcon)),this._resizeMarkers[c]._cornerIndex=c},_onMarkerDragStart:function(r){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r);var c=this._getCorners(),f=r.target,g=f._cornerIndex;this._oppositeCorner=c[(g+2)%4],this._toggleCornerMarkers(0,g)},_onMarkerDragEnd:function(r){var c,f,g=r.target;g===this._moveMarker&&(c=this._shape.getBounds(),f=c.getCenter(),g.setLatLng(f)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,r)},_move:function(r){for(var c,f=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),g=this._shape.getBounds(),y=g.getCenter(),v=[],E=0,x=f.length;E<x;E++)c=[f[E].lat-y.lat,f[E].lng-y.lng],v.push([r.lat+c[0],r.lng+c[1]]);this._shape.setLatLngs(v),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(r){var c;this._shape.setBounds(L.latLngBounds(r,this._oppositeCorner)),c=this._shape.getBounds(),this._moveMarker.setLatLng(c.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var r=this._shape.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_toggleCornerMarkers:function(r){for(var c=0,f=this._resizeMarkers.length;c<f;c++)this._resizeMarkers[c].setOpacity(r)},_repositionCornerMarkers:function(){for(var r=this._getCorners(),c=0,f=this._resizeMarkers.length;c<f;c++)this._resizeMarkers[c].setLatLng(r[c])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getLatLng();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(r){if(this._resizeMarkers.length){var c=this._getResizeMarkerPoint(r);this._resizeMarkers[0].setLatLng(c)}this._shape.setLatLng(r),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var r=this._shape.getLatLng(),c=this._getResizeMarkerPoint(r);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(c,this.options.resizeIcon))},_getResizeMarkerPoint:function(r){var c=this._shape._radius*Math.cos(Math.PI/4),f=this._map.project(r);return this._map.unproject([f.x+c,f.y-c])},_resize:function(r){var c=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=c.distanceTo(r):radius=this._map.distance(c,r),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(r,c){var f={};if(r.touches!==void 0){if(!r.touches.length)return;f=r.touches[0]}else if(r.pointerType!=="touch"||(f=r,!this._filterClick(r)))return;var g=this._map.mouseEventToContainerPoint(f),y=this._map.mouseEventToLayerPoint(f),v=this._map.layerPointToLatLng(y);this._map.fire(c,{latlng:v,layerPoint:y,containerPoint:g,pageX:f.pageX,pageY:f.pageY,originalEvent:r})},_filterClick:function(r){var c=r.timeStamp||r.originalEvent.timeStamp,f=L.DomEvent._lastClick&&c-L.DomEvent._lastClick;return f&&f>100&&f<500||r.target._simulatedClick&&!r._simulated?(L.DomEvent.stop(r),!1):(L.DomEvent._lastClick=c,!0)},_onTouchStart:function(r){this._map._loaded&&this._touchEvent(r,"touchstart")},_onTouchEnd:function(r){this._map._loaded&&this._touchEvent(r,"touchend")},_onTouchCancel:function(r){if(this._map._loaded){var c="touchcancel";this._detectIE()&&(c="pointercancel"),this._touchEvent(r,c)}},_onTouchLeave:function(r){this._map._loaded&&this._touchEvent(r,"touchleave")},_onTouchMove:function(r){this._map._loaded&&this._touchEvent(r,"touchmove")},_detectIE:function(){var r=e.navigator.userAgent,c=r.indexOf("MSIE ");if(c>0)return parseInt(r.substring(c+5,r.indexOf(".",c)),10);if(r.indexOf("Trident/")>0){var f=r.indexOf("rv:");return parseInt(r.substring(f+3,r.indexOf(".",f)),10)}var g=r.indexOf("Edge/");return g>0&&parseInt(r.substring(g+5,r.indexOf(".",g)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var r=this._icon,c=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?c.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):c.concat(["touchcancel"]),L.DomUtil.addClass(r,"leaflet-clickable"),L.DomEvent.on(r,"click",this._onMouseClick,this),L.DomEvent.on(r,"keypress",this._onKeyPress,this);for(var f=0;f<c.length;f++)L.DomEvent.on(r,c[f],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var r=e.navigator.userAgent,c=r.indexOf("MSIE ");if(c>0)return parseInt(r.substring(c+5,r.indexOf(".",c)),10);if(r.indexOf("Trident/")>0){var f=r.indexOf("rv:");return parseInt(r.substring(f+3,r.indexOf(".",f)),10)}var g=r.indexOf("Edge/");return g>0&&parseInt(r.substring(g+5,r.indexOf(".",g)),10)}}),L.LatLngUtil={cloneLatLngs:function(r){for(var c=[],f=0,g=r.length;f<g;f++)Array.isArray(r[f])?c.push(L.LatLngUtil.cloneLatLngs(r[f])):c.push(this.cloneLatLng(r[f]));return c},cloneLatLng:function(r){return L.latLng(r.lat,r.lng)}},(function(){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(c){var f,g,y=c.length,v=0,E=Math.PI/180;if(y>2){for(var x=0;x<y;x++)f=c[x],g=c[(x+1)%y],v+=(g.lng-f.lng)*E*(2+Math.sin(f.lat*E)+Math.sin(g.lat*E));v=6378137*v*6378137/2}return Math.abs(v)},formattedNumber:function(c,f){var g=parseFloat(c).toFixed(f),y=L.drawLocal.format&&L.drawLocal.format.numeric,v=y&&y.delimiters,E=v&&v.thousands,x=v&&v.decimal;if(E||x){var D=g.split(".");g=E?D[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+E):D[0],x=x||".",D.length>1&&(g=g+x+D[1])}return g},readableArea:function(c,f,E){var y,v,E=L.Util.extend({},r,E);return f?(v=["ha","m"],type=typeof f,type==="string"?v=[f]:type!=="boolean"&&(v=f),y=c>=1e6&&v.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*c,E.km)+" km":c>=1e4&&v.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*c,E.ha)+" ha":L.GeometryUtil.formattedNumber(c,E.m)+" m"):(c/=.836127,y=c>=3097600?L.GeometryUtil.formattedNumber(c/3097600,E.mi)+" mi":c>=4840?L.GeometryUtil.formattedNumber(c/4840,E.ac)+" acres":L.GeometryUtil.formattedNumber(c,E.yd)+" yd"),y},readableDistance:function(c,f,g,y,x){var E,x=L.Util.extend({},r,x);switch(f?typeof f=="string"?f:"metric":g?"feet":y?"nauticalMile":"yards"){case"metric":E=c>1e3?L.GeometryUtil.formattedNumber(c/1e3,x.km)+" km":L.GeometryUtil.formattedNumber(c,x.m)+" m";break;case"feet":c*=3.28083,E=L.GeometryUtil.formattedNumber(c,x.ft)+" ft";break;case"nauticalMile":c*=.53996,E=L.GeometryUtil.formattedNumber(c/1e3,x.nm)+" nm";break;default:c*=1.09361,E=c>1760?L.GeometryUtil.formattedNumber(c/1760,x.mi)+" miles":L.GeometryUtil.formattedNumber(c,x.yd)+" yd"}return E},isVersion07x:function(){var c=L.version.split(".");return parseInt(c[0],10)===0&&parseInt(c[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(r,c,f,g){return this._checkCounterclockwise(r,f,g)!==this._checkCounterclockwise(c,f,g)&&this._checkCounterclockwise(r,c,f)!==this._checkCounterclockwise(r,c,g)},_checkCounterclockwise:function(r,c,f){return(f.y-r.y)*(c.x-r.x)>(c.y-r.y)*(f.x-r.x)}}),L.Polyline.include({intersects:function(){var r,c,f,g=this._getProjectedPoints(),y=g?g.length:0;if(this._tooFewPointsForIntersection())return!1;for(r=y-1;r>=3;r--)if(c=g[r-1],f=g[r],this._lineSegmentsIntersectsRange(c,f,r-2))return!0;return!1},newLatLngIntersects:function(r,c){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(r),c)},newPointIntersects:function(r,c){var f=this._getProjectedPoints(),g=f?f.length:0,y=f?f[g-1]:null,v=g-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(y,r,v,c?1:0)},_tooFewPointsForIntersection:function(r){var c=this._getProjectedPoints(),f=c?c.length:0;return f+=r||0,!c||f<=3},_lineSegmentsIntersectsRange:function(r,c,f,g){var y,v,E=this._getProjectedPoints();g=g||0;for(var x=f;x>g;x--)if(y=E[x-1],v=E[x],L.LineUtil.segmentsIntersect(r,c,y,v))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var r=[],c=this._defaultShape(),f=0;f<c.length;f++)r.push(this._map.latLngToLayerPoint(c[f]));return r}}),L.Polygon.include({intersects:function(){var r,c,f,g,y=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(r=y.length,c=y[0],f=y[r-1],g=r-2,this._lineSegmentsIntersectsRange(f,c,g,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(r){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,r);var c;this._toolbars={},L.DrawToolbar&&this.options.draw&&(c=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=c,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(c=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=c,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(r){var c,f=L.DomUtil.create("div","leaflet-draw"),g=!1;for(var y in this._toolbars)this._toolbars.hasOwnProperty(y)&&(c=this._toolbars[y].addToolbar(r))&&(g||(L.DomUtil.hasClass(c,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(c.childNodes[0],"leaflet-draw-toolbar-top"),g=!0),f.appendChild(c));return f},onRemove:function(){for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&this._toolbars[r].removeToolbar()},setDrawingOptions:function(r){for(var c in this._toolbars)this._toolbars[c]instanceof L.DrawToolbar&&this._toolbars[c].setOptions(r)},_toolbarEnabled:function(r){var c=r.target;for(var f in this._toolbars)this._toolbars[f]!==c&&this._toolbars[f].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(r){L.setOptions(this,r),this._modes={},this._actionButtons=[],this._activeMode=null;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(r){var c,f=L.DomUtil.create("div","leaflet-draw-section"),g=0,y=this._toolbarClass||"",v=this.getModeHandlers(r);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=r,c=0;c<v.length;c++)v[c].enabled&&this._initModeHandler(v[c].handler,this._toolbarContainer,g++,y,v[c].title);if(g)return this._lastButtonIndex=--g,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),f.appendChild(this._toolbarContainer),f.appendChild(this._actionsContainer),f},removeToolbar:function(){for(var r in this._modes)this._modes.hasOwnProperty(r)&&(this._disposeButton(this._modes[r].button,this._modes[r].handler.enable,this._modes[r].handler),this._modes[r].handler.disable(),this._modes[r].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var c=0,f=this._actionButtons.length;c<f;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(r,c,f,g,y){var v=r.type;this._modes[v]={},this._modes[v].handler=r,this._modes[v].button=this._createButton({type:v,title:y,className:g+"-"+v,container:c,callback:this._modes[v].handler.enable,context:this._modes[v].handler}),this._modes[v].buttonIndex=f,this._modes[v].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(r){var c=L.DomUtil.create("a",r.className||"",r.container),f=L.DomUtil.create("span","sr-only",r.container);c.href="#",c.appendChild(f),r.title&&(c.title=r.title,f.innerHTML=r.title),r.text&&(c.innerHTML=r.text,f.innerHTML=r.text);var g=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(c,"click",L.DomEvent.stopPropagation).on(c,"mousedown",L.DomEvent.stopPropagation).on(c,"dblclick",L.DomEvent.stopPropagation).on(c,"touchstart",L.DomEvent.stopPropagation).on(c,"click",L.DomEvent.preventDefault).on(c,g,r.callback,r.context),c},_disposeButton:function(r,c){var f=this._detectIOS()?"touchstart":"click";L.DomEvent.off(r,"click",L.DomEvent.stopPropagation).off(r,"mousedown",L.DomEvent.stopPropagation).off(r,"dblclick",L.DomEvent.stopPropagation).off(r,"touchstart",L.DomEvent.stopPropagation).off(r,"click",L.DomEvent.preventDefault).off(r,f,c)},_handlerActivated:function(r){this.disable(),this._activeMode=this._modes[r.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(r){var c,f,g,y,v=this._actionsContainer,E=this.getActions(r),x=E.length;for(f=0,g=this._actionButtons.length;f<g;f++)this._disposeButton(this._actionButtons[f].button,this._actionButtons[f].callback);for(this._actionButtons=[];v.firstChild;)v.removeChild(v.firstChild);for(var D=0;D<x;D++)"enabled"in E[D]&&!E[D].enabled||(c=L.DomUtil.create("li","",v),y=this._createButton({title:E[D].title,text:E[D].text,container:c,callback:E[D].callback,context:E[D].context}),this._actionButtons.push({button:y,callback:E[D].callback}))},_showActionsToolbar:function(){var r=this._activeMode.buttonIndex,c=this._lastButtonIndex,f=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=f+"px",r===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),r===c&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(r){this._map=r,this._popupPane=r._panes.popupPane,this._visible=!1,this._container=r.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(r){return this._container?(r.subtext=r.subtext||"",r.subtext.length!==0||this._singleLineLabel?r.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(r.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+r.subtext+"</span><br />":"")+"<span>"+r.text+"</span>",r.text||r.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(r){var c=this._map.latLngToLayerPoint(r),f=this._container;return this._container&&(this._visible&&(f.style.visibility="inherit"),L.DomUtil.setPosition(f,c)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(r){for(var c in this.options)this.options.hasOwnProperty(c)&&r[c]&&(r[c]=L.extend({},this.options[c],r[c]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,r)},getModeHandlers:function(r){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(r,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(r,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(r,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(r,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(r,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(r,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(r){return[{enabled:r.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:r.completeShape,context:r},{enabled:r.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:r.deleteLastVertex,context:r},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(r){L.setOptions(this,r);for(var c in this._modes)this._modes.hasOwnProperty(c)&&r.hasOwnProperty(c)&&this._modes[c].handler.setOptions(r[c])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(r){r.edit&&(r.edit.selectedPathOptions===void 0&&(r.edit.selectedPathOptions=this.options.edit.selectedPathOptions),r.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,r.edit.selectedPathOptions)),r.remove&&(r.remove=L.extend({},this.options.remove,r.remove)),r.poly&&(r.poly=L.extend({},this.options.poly,r.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,r),this._selectedFeatureCount=0},getModeHandlers:function(r){var c=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(r,{featureGroup:c,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(r,{featureGroup:c}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(r){var c=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return r.removeAllLayers&&c.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),c},addToolbar:function(r){var c=L.Toolbar.prototype.addToolbar.call(this,r);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),c},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var r,c=this.options.featureGroup,f=c.getLayers().length!==0;this.options.edit&&(r=this._modes[L.EditToolbar.Edit.TYPE].button,f?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(r=this._modes[L.EditToolbar.Delete.TYPE].button,f?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(r,c){if(L.Handler.prototype.initialize.call(this,r),L.setOptions(this,c),this._featureGroup=c.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),r._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(r){this._revertLayer(r)},this)},save:function(){var r=new L.LayerGroup;this._featureGroup.eachLayer(function(c){c.edited&&(r.addLayer(c),c.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:r})},_backupLayer:function(r){var c=L.Util.stamp(r);this._uneditedLayerProps[c]||(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?this._uneditedLayerProps[c]={latlngs:L.LatLngUtil.cloneLatLngs(r.getLatLngs())}:r instanceof L.Circle?this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng()),radius:r.getRadius()}:(r instanceof L.Marker||r instanceof L.CircleMarker)&&(this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(r){var c=L.Util.stamp(r);r.edited=!1,this._uneditedLayerProps.hasOwnProperty(c)&&(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?r.setLatLngs(this._uneditedLayerProps[c].latlngs):r instanceof L.Circle?(r.setLatLng(this._uneditedLayerProps[c].latlng),r.setRadius(this._uneditedLayerProps[c].radius)):(r instanceof L.Marker||r instanceof L.CircleMarker)&&r.setLatLng(this._uneditedLayerProps[c].latlng),r.fire("revert-edited",{layer:r}))},_enableLayerEdit:function(r){var c,f,g=r.layer||r.target||r;this._backupLayer(g),this.options.poly&&(f=L.Util.extend({},this.options.poly),g.options.poly=f),this.options.selectedPathOptions&&(c=L.Util.extend({},this.options.selectedPathOptions),c.maintainColor&&(c.color=g.options.color,c.fillColor=g.options.fillColor),g.options.original=L.extend({},g.options),g.options.editing=c),g instanceof L.Marker?(g.editing&&g.editing.enable(),g.dragging.enable(),g.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):g.editing.enable()},_disableLayerEdit:function(r){var c=r.layer||r.target||r;c.edited=!1,c.editing&&c.editing.disable(),delete c.options.editing,delete c.options.original,this._selectedPathOptions&&(c instanceof L.Marker?this._toggleMarkerHighlight(c):(c.setStyle(c.options.previousOptions),delete c.options.previousOptions)),c instanceof L.Marker?(c.dragging.disable(),c.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):c.editing.disable()},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_onMarkerDragEnd:function(r){var c=r.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_onTouchMove:function(r){var c=r.originalEvent.changedTouches[0],f=this._map.mouseEventToLayerPoint(c),g=this._map.layerPointToLatLng(f);r.target.setLatLng(g)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(r,c){if(L.Handler.prototype.initialize.call(this,r),L.Util.setOptions(this,c),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(r){this._deletableLayers.addLayer(r),r.fire("revert-deleted",{layer:r})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(r){this._removeLayer({layer:r})},this),this.save()},_enableLayerDelete:function(r){(r.layer||r.target||r).on("click",this._removeLayer,this)},_disableLayerDelete:function(r){var c=r.layer||r.target||r;c.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(c)},_removeLayer:function(r){var c=r.layer||r.target||r;this._deletableLayers.removeLayer(c),this._deletedLayers.addLayer(c),c.fire("deleted")},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gc(e)}function K0(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,l)}return i}function sc(e){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?K0(Object(i),!0).forEach(function(l){CA(e,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K0(Object(i)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(i,l))})}return e}function CA(e,n,i){return(n=LA(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function LA(e){var n=DA(e,"string");return gc(n)=="symbol"?n:n+""}function DA(e,n){if(gc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var l=i.call(e,n);if(gc(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var Go={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function Jx(e){var n=bf(),i=Ut.useRef(),l=Ut.useRef(e),r=function(f){var g=e.onCreated,y=n.layerContainer||n.map;y.addLayer(f.layer),g&&g(f)};return ys.useEffect(function(){var c=n.map,f=e.onMounted;for(var g in Go)c.on(Go[g],function(y){var v=Object.keys(Go).filter(function(x){return Go[x]===y.type});if(v.length===1){var E=v[0];e[E]&&e[E](y)}});return c.on(Xl.Draw.Event.CREATED,r),i.current=$0(e,n),c.addControl(i.current),f&&f(i.current),function(){c.off(Xl.Draw.Event.CREATED,r);for(var y in Go)e[y]&&c.off(Go[y],e[y]);i.current.remove(c)}},[e.onCreated,e.onDeleted,e.onEdited]),ys.useEffect(function(){if(!(Ho(e.draw,l.current.draw)&&Ho(e.edit,l.current.edit)&&e.position===l.current.position)){var c=n.map;i.current.remove(c),i.current=$0(e,n),i.current.addTo(c);var f=e.onMounted;return f&&f(i.current),function(){i.current.remove(c)}}},[e.draw,e.edit,e.position,e.onCreated,e.onDeleted,e.onEdited]),null}function $0(e,n){var i=n.layerContainer,l=e.draw,r=e.edit,c=e.position,f={edit:sc(sc({},r),{},{featureGroup:i})};return l&&(f.draw=sc({},l)),c&&(f.position=c),new ho.Control.Draw(f)}Jx.propTypes=sc(sc({},Object.keys(Go).reduce(function(e,n){return e[n]=Me.PropTypes.func,e},{})),{},{onCreated:Me.PropTypes.func,onMounted:Me.PropTypes.func,draw:Me.PropTypes.shape({polyline:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool]),polygon:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool]),rectangle:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool]),circle:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool]),marker:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool])}),edit:Me.PropTypes.shape({edit:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool]),remove:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool]),poly:Me.PropTypes.oneOfType([Me.PropTypes.object,Me.PropTypes.bool]),allowIntersection:Me.PropTypes.bool}),position:Me.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:Me.PropTypes.shape({map:Me.PropTypes.instanceOf(ho.Map),layerContainer:Me.PropTypes.shape({addLayer:Me.PropTypes.func.isRequired,removeLayer:Me.PropTypes.func.isRequired})})});const AA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",kA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let NA=Xl.icon({iconUrl:AA,shadowUrl:kA,iconSize:[25,41],iconAnchor:[12,41]});Xl.Marker.prototype.options.icon=NA;const Lf=({onCreated:e,onDeleted:n,onMounted:i,date:l,stateMode:r,selectedStates:c,onStateClick:f,children:g})=>{console.log("MapComponent rendered with date:",l);const[y,v]=Ut.useState(null);Ut.useEffect(()=>{r&&!y&&(console.log("Fetching US States GeoJSON..."),fetch("/smoke-zipcode-selector/us_states.json").then(D=>D.json()).then(D=>{console.log("States Loaded",D),v(D)}).catch(D=>console.error("Failed to load states:",D)))},[r,y]);const E=D=>{const N=c.has(D.properties.NAME);return{fillColor:N?"#3388ff":"#ccc",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:N?.6:.2}},x=(D,N)=>{N.on({click:()=>{f(D.properties.NAME)},mouseover:P=>{const Z=P.target;Z.setStyle({weight:4,color:"#666",dashArray:"",fillOpacity:.5}),Z.bringToFront()},mouseout:P=>{const Z=P.target,rt=c.has(D.properties.NAME);Z.setStyle({fillColor:rt?"#3388ff":"#ccc",weight:2,color:"white",dashArray:"3",fillOpacity:rt?.6:.2})}}),N.bindTooltip(D.properties.NAME,{sticky:!0})};return O.jsxs(EA,{center:[39.8283,-98.5795],zoom:4,style:{height:"100%",width:"100%"},ref:i,children:[O.jsx(J0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),O.jsx(J0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),g,r&&y&&O.jsx(Cf,{data:y,style:E,onEachFeature:x},`states-${Array.from(c).join(",")}`),!r&&O.jsx(SA,{children:O.jsx(Jx,{position:"topright",onCreated:e,onDeleted:n,draw:{rectangle:{showArea:!1},polygon:{showArea:!1},circle:!0,circlemarker:!1,marker:!1,polyline:!1}})})]})},MA=({date:e})=>{const[n,i]=Ut.useState(null),[l,r]=Ut.useState(!1),[c,f]=Ut.useState({x:0,y:0}),[g,y]=Ut.useState(!1),v=Ut.useRef(null);vA({mousemove(N){f(N.containerPoint),y(!0),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{E(N.latlng.lat,N.latlng.lng)},600)},mouseout(){y(!1),v.current&&clearTimeout(v.current)}});const E=async(N,P)=>{r(!0),i(null),console.log("Fetching AQI for:",N,P,"Date:",e);try{const Z=new Date().toISOString().split("T")[0];if(e===Z){const rt=`https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${N}&longitude=${P}&current=us_aqi`;console.log(`[AQI] Fetching Current: ${rt}`);const B=await(await fetch(rt)).json();console.log("[AQI] Current Data:",B),B.current&&B.current.us_aqi!==void 0&&i(B.current.us_aqi)}else{const rt=`https://archive-api.open-meteo.com/v1/archive?latitude=${N}&longitude=${P}&start_date=${e}&end_date=${e}&hourly=us_aqi_pm2_5`;console.log(`[AQI] Fetching History: ${rt}`);const B=await(await fetch(rt)).json();if(console.log("[AQI] History Data:",B),B.hourly&&B.hourly.us_aqi_pm2_5){const X=B.hourly.us_aqi_pm2_5.filter(V=>V!==null);X.length>0&&i(Math.max(...X))}}}catch(Z){console.error("Failed to fetch AQI",Z)}finally{r(!1)}};if(!g)return null;let x="#ccc",D="Loading...";return!l&&n!==null&&(D=`AQI: ${n}`,n<=50?x="#00e400":n<=100?x="#ffff00":n<=150?x="#ff7e00":n<=200?x="#ff0000":n<=300?x="#8f3f97":x="#7e0023"),O.jsx("div",{style:{position:"absolute",left:c.x+15,top:c.y+15,backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"6px 12px",borderRadius:"6px",border:`3px solid ${x}`,fontWeight:"bold",zIndex:1e4,pointerEvents:"none",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0,0,0,0.25)",fontSize:"14px",fontFamily:"sans-serif"},children:D})},xc=({leftPanel:e,mapContent:n,rightPanel:i})=>O.jsxs("div",{className:"dashboard-layout",children:[O.jsx("div",{className:"left-panel",children:e}),O.jsx("div",{className:"center-panel",children:n}),i&&O.jsx("div",{className:"right-panel",children:i})]}),Df=({onExport:e,loading:n,zipLoading:i})=>O.jsxs(O.Fragment,{children:[O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px",marginTop:"10px"},children:[O.jsx("button",{className:"export-btn",onClick:()=>e("DOWNLOAD"),disabled:n||i,style:{backgroundColor:"#4a90e2",fontSize:"11px"},children:"Download SQL"}),O.jsx("button",{className:"export-btn",onClick:()=>e("COPY"),disabled:n||i,style:{backgroundColor:"#6c757d",fontSize:"11px"},children:"Copy SQL"})]}),O.jsx("button",{className:"export-btn",onClick:()=>e("COUNT"),disabled:n||i,style:{width:"100%",marginTop:"5px",backgroundColor:"#28a745",fontSize:"11px"},children:"Copy Count SQL"})]}),OA=({onClose:e,content:n})=>O.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:O.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"8px",width:"600px",maxWidth:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[O.jsx("h2",{style:{margin:0,fontSize:"20px"},children:"Query Type Explainer"}),O.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:""})]}),O.jsx("div",{style:{fontSize:"14px",lineHeight:"1.6",color:"#333"},children:n?O.jsxs("div",{children:[O.jsx("h4",{style:{color:"#007bff",marginBottom:"8px"},children:n.label}),O.jsxs("p",{children:[O.jsx("strong",{children:"Description:"})," ",n.description]}),O.jsx("p",{children:O.jsx("em",{children:"(Placeholder for detailed SQL logic explanation based on selected query type.)"})})]}):O.jsx("p",{children:"Select a query type to see details."})}),O.jsx("div",{style:{marginTop:"20px",textAlign:"right"},children:O.jsx("button",{onClick:e,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Close"})})]})}),RA=[{id:"count_summary",label:"1. Site / Customer / Contact Count",description:"Get a summary count of all records.",config:{recordType:"Count",filters:{contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}},{id:"site_export",label:"2. Site Export",description:"Export Site records.",config:{recordType:"Site",filters:{contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}},{id:"customer_export",label:"3. Customer Export",description:"Export Customer records.",config:{recordType:"Customer",filters:{contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}},{id:"contact_export",label:"4. Contact Export",description:"Export Contact records.",config:{recordType:"Contact",filters:{contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}}],IA=({onSelect:e})=>{const[n,i]=Ut.useState(!1),[l,r]=Ut.useState("count_summary"),[c,f]=Ut.useState(null),g=v=>{r(v.id),e(v.config)},y=(v,E)=>{v.stopPropagation(),f(E),i(!0)};return O.jsxs("div",{style:{marginBottom:"15px"},children:[O.jsx("label",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"QUERY TYPE"}),O.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:RA.map(v=>O.jsxs("div",{onClick:()=>g(v),style:{padding:"10px",borderRadius:"4px",border:l===v.id?"1px solid #007bff":"1px solid #ced4da",backgroundColor:l===v.id?"#e7f1ff":"#fff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.2s ease"},children:[O.jsx("span",{style:{fontSize:"12px",fontWeight:l===v.id?"bold":"normal",color:"#333"},children:v.label}),O.jsx("button",{onClick:E=>y(E,v),style:{background:"none",border:"none",color:"#666",cursor:"pointer",padding:"4px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",fontSize:"12px",fontWeight:"bold"},title:"More Info",children:"?"})]},v.id))}),n&&O.jsx(OA,{onClose:()=>i(!1),content:c})]})},PA=[{code:"11",title:"Agriculture, Forestry, Fishing and Hunting",children:[{code:"111",title:"Crop Production",children:[{code:"1111",title:"Oilseed and Grain Farming"},{code:"1112",title:"Vegetable and Melon Farming"}]},{code:"112",title:"Animal Production and Aquaculture"}]},{code:"23",title:"Construction",children:[{code:"236",title:"Construction of Buildings"},{code:"237",title:"Heavy and Civil Engineering Construction"},{code:"238",title:"Specialty Trade Contractors"}]},{code:"31-33",title:"Manufacturing",children:[{code:"311",title:"Food Manufacturing"},{code:"325",title:"Chemical Manufacturing"},{code:"334",title:"Computer and Electronic Product Manufacturing"}]},{code:"44-45",title:"Retail Trade",children:[{code:"441",title:"Motor Vehicle and Parts Dealers"},{code:"445",title:"Food and Beverage Stores"}]},{code:"61",title:"Educational Services",children:[{code:"611",title:"Educational Services"}]},{code:"62",title:"Health Care and Social Assistance",children:[{code:"621",title:"Ambulatory Health Care Services"},{code:"622",title:"Hospitals"},{code:"623",title:"Nursing and Residential Care Facilities"}]}],Vx=({node:e,selectedCodes:n,onToggle:i,forceExpand:l})=>{const[r,c]=Ut.useState(!1),f=e.children&&e.children.length>0,g=n.has(e.code);ys.useEffect(()=>{l&&c(!0)},[l]);const y=E=>{E.stopPropagation(),c(!r)},v=E=>{E.stopPropagation(),i(e.code)};return O.jsxs("div",{style:{marginLeft:"15px"},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"2px 0"},children:[O.jsx("div",{onClick:f?y:void 0,style:{width:"16px",cursor:f?"pointer":"default",marginRight:"4px",textAlign:"center",color:"#666",fontWeight:"bold"},children:f?r?"-":"+":""}),O.jsx("input",{type:"checkbox",checked:g,onChange:v,style:{marginRight:"6px"}}),O.jsxs("span",{style:{fontSize:"12px",color:"#333"},children:[O.jsx("strong",{children:e.code})," - ",e.title]})]}),f&&r&&O.jsx("div",{children:e.children.map(E=>O.jsx(Vx,{node:E,selectedCodes:n,onToggle:i,forceExpand:l},E.code))})]})},BA=[{code:"622",title:"Hospitals",hazard:"Air Quality / Pathogen Control",driver:"CMS Safety Conditions",url:"https://www.cms.gov/medicare/provider-enrollment-and-certification/certificationandcomplianc/hospitals"},{code:"623",title:"Nursing Care Facilities",hazard:"Infectious Disease / Safety",driver:"OSHA Healthcare Standards",url:"https://www.osha.gov/healthcare/infectious-diseases"},{code:"531110",title:"Apartments / Residential Lessors",hazard:"Habitability / Fire / Mold",driver:"HUD Housing Quality (HQS)",url:"https://www.hud.gov/program_offices/public_indian_housing/programs/hcv/hqs"},{code:"531311",title:"Residential Property Managers",hazard:"Life Safety / Security",driver:"NFPA 101 Life Safety Code",url:"https://www.nfpa.org/codes-and-standards/all-codes-and-standards/list-of-codes-and-standards/detail?code=101"},{code:"6111",title:"Elementary & Secondary Schools",hazard:"Indoor Air / Student Safety",driver:"EPA IAQ Tools for Schools",url:"https://www.epa.gov/iaq-schools/indoor-air-quality-tools-schools-action-kit"},{code:"7211",title:"Hotels & Motels",hazard:"Fire Safety / Guest Security",driver:"Federal Fire Safety Act",url:"https://www.gsa.gov/travel/plan-a-trip/per-diem-rates/fire-safe-hotels"},{code:"531130",title:"Self-Storage",hazard:"Environmental / Fire / Bailment",driver:"NFPA 1 Fire Code",url:"https://www.nfpa.org/codes-and-standards/all-codes-and-standards/list-of-codes-and-standards/detail?code=1"},{code:"48",title:"Transportation (General)",hazard:"Passenger Safety",driver:"DOT Safety Obligations",url:"https://www.transportation.gov/safety"},{code:"49",title:"Transportation (Couriers)",hazard:"Passenger Safety",driver:"DOT Safety Obligations",url:"https://www.transportation.gov/safety"}],Wx=(e,n)=>{if(!n)return e;const i=n.toLowerCase();return e.reduce((l,r)=>{const c=r.code.toLowerCase().includes(i)||r.title.toLowerCase().includes(i),f=r.children?Wx(r.children,n):[];return(c||f.length>0)&&l.push({...r,children:f}),l},[])},zA=({selectedCodes:e,onSelectionChange:n})=>{const[i,l]=Ut.useState(!1),[r,c]=Ut.useState(""),f=y=>{const v=new Set(e);v.has(y)?v.delete(y):v.add(y),n(v)},g=ys.useMemo(()=>Wx(PA,r),[r]);return O.jsxs("div",{style:{border:"1px solid #ced4da",borderRadius:"4px",marginTop:"10px"},children:[O.jsx("div",{style:{padding:"8px",backgroundColor:"#f8f9fa",borderBottom:i?"1px solid #ced4da":"none",cursor:"pointer",display:"flex",flexDirection:"column",gap:"5px"},onClick:()=>l(!i),children:O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[O.jsxs("label",{style:{margin:0,cursor:"pointer",fontWeight:"bold",fontSize:"13px"},children:["NAICS Filter (",e.size,")"]}),O.jsx("span",{style:{fontSize:"10px"},children:i?"":""})]})}),i&&O.jsxs("div",{style:{padding:"8px",maxHeight:"400px",overflowY:"auto",backgroundColor:"#fff"},children:[O.jsx("input",{type:"text",placeholder:"Search NAICS codes or titles...",value:r,onChange:y=>c(y.target.value),style:{width:"100%",padding:"6px",marginBottom:"10px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px"}}),O.jsxs("div",{style:{marginBottom:"15px",border:"1px solid #ffeeba",backgroundColor:"#fff3cd",borderRadius:"4px",padding:"8px"},children:[O.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",color:"#856404",marginBottom:"6px"},children:" Quick Select: High-Risk Duty of Care"}),O.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:BA.map(y=>O.jsxs("div",{style:{marginBottom:"4px",display:"flex",alignItems:"flex-start"},children:[O.jsx("input",{type:"checkbox",checked:e.has(y.code),onChange:()=>f(y.code),style:{marginTop:"3px",marginRight:"6px"}}),O.jsxs("div",{children:[O.jsxs("div",{style:{fontSize:"11px",fontWeight:"bold"},children:[y.title," ",O.jsxs("span",{style:{fontWeight:"normal"},children:["(",y.code,")"]})]}),O.jsxs("div",{style:{fontSize:"10px",color:"#666"},children:["Hazard: ",y.hazard]})]})]},y.code))})]}),O.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"10px"},children:[O.jsx("div",{style:{marginBottom:"5px",fontSize:"11px",color:"#666",fontWeight:"bold"},children:"Full NAICS Hierarchy"}),g.length>0?g.map(y=>O.jsx(Vx,{node:y,selectedCodes:e,onToggle:f,forceExpand:!!r},y.code)):O.jsx("div",{style:{fontSize:"12px",color:"#999",fontStyle:"italic",textAlign:"center",padding:"10px"},children:"No matching codes found."})]}),e.size>0&&O.jsx("button",{onClick:()=>n(new Set),style:{marginTop:"10px",width:"100%",fontSize:"11px",padding:"4px",background:"#f8d7da",border:"1px solid #f5c6cb",color:"#721c24",borderRadius:"3px",cursor:"pointer"},children:"Clear Filters"})]})]})},Af=({config:e,setConfig:n,selectedNAICS:i,setSelectedNAICS:l})=>{const r=(f,g)=>{n(y=>({...y,[f]:g}))},c=f=>{n(g=>({...g,recordType:f.recordType,filters:{...g.filters,...f.filters}})),f.naics&&f.naics.length>0?l(new Set(f.naics)):l(new Set)};return O.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8f9fa",border:"1px solid #ddd",borderRadius:"4px",marginBottom:"10px",fontSize:"12px"},children:[O.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"13px",borderBottom:"1px solid #eee",paddingBottom:"4px"},children:"Export Settings"}),O.jsx(IA,{onSelect:c,currentConfig:e}),O.jsx("div",{style:{margin:"10px 0",borderTop:"1px solid #eee"}}),O.jsxs("div",{children:[O.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"Default Field Filters"}),O.jsxs("div",{style:{marginBottom:"8px"},children:[O.jsx("label",{style:{display:"block",fontSize:"11px",marginBottom:"2px"},children:"Contact(If Applicable) Number of Months Since Last Activity"}),O.jsx("input",{type:"number",value:e.filters?.contactActivityMonths!==void 0?e.filters.contactActivityMonths:12,onChange:f=>r("filters",{...e.filters,contactActivityMonths:f.target.value}),style:{width:"100%",padding:"4px",fontSize:"11px",border:"1px solid #ccc",borderRadius:"3px"}})]}),O.jsx("div",{style:{marginBottom:"8px"},children:O.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer"},children:[O.jsx("input",{type:"checkbox",checked:e.filters?.contactActive??!0,onChange:f=>r("filters",{...e.filters,contactActive:f.target.checked}),style:{marginRight:"6px"}}),"Contact(If Applicable) Status: Active"]})}),O.jsx("div",{style:{marginBottom:"8px"},children:O.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer"},children:[O.jsx("input",{type:"checkbox",checked:e.filters?.siteActive??!0,onChange:f=>r("filters",{...e.filters,siteActive:f.target.checked}),style:{marginRight:"6px"}}),"Site(If Applicable) Status: Active"]})}),O.jsx("div",{style:{marginBottom:"8px"},children:O.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer"},children:[O.jsx("input",{type:"checkbox",checked:e.filters?.customerActive??!0,onChange:f=>r("filters",{...e.filters,customerActive:f.target.checked}),style:{marginRight:"6px"}}),"Customer(If Applicable) Status: Active"]})})]}),O.jsx("div",{style:{marginTop:"15px"},children:O.jsx(zA,{selectedCodes:i,onSelectionChange:l})})]})},ro={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","District of Columbia":"DC","Puerto Rico":"PR"},kf=(e,n,i,l)=>{const{recordType:r,filters:c}=e,{contactActivityMonths:f=12,contactActive:g=!0,siteActive:y=!0,customerActive:v=!0}=c||{};if(!n||n.length===0)return"-- No zipcodes provided";const E=n.map(B=>`'${B.replace(/'/g,"''")}'`).join(`,
  `),D=i&&i.size>0?`
  AND (${Array.from(i).map(B=>`o.NAICS_2017_CODE__C LIKE '${B}%'`).join(" OR ")})`:"",N=y?`
  AND site.Status__c = 'Active'`:"",P=v?`
  AND cust.Status__c = 'Active'`:"",Z=g?`
  AND c.Status__c = 'Active'`:"",rt=f&&!isNaN(f)?`
  AND c.LastActivityDate IS NOT NULL
  AND c.LastActivityDate >= DATEADD(month, -${f}, CURRENT_DATE)`:"",et=l?"Count":r;return et==="Count"?`/* Count Summary */
SELECT 
    COUNT(DISTINCT site.Id) as Site_Count,
    COUNT(DISTINCT cust.Id) as Customer_Count,
    COUNT(DISTINCT c.Id) as Contact_Count
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
LEFT JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_CONTACT_OBJECT c ON c.AccountId = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${D}${N}${P}${Z}${rt};`:et==="Contact"?`/* Contacts Export */
SELECT DISTINCT
    c.Id,
    c.FirstName,
    c.LastName,
    c.Email,
    c.Phone,
    c.Status__c,
    c.LastActivityDate,

    cust.Id              AS customer_account_id,
    site.Id              AS site_account_id,
    site.Zip__c          AS site_zip,

    o.NAICS_2017_CODE__C AS naics_code
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
JOIN SFDC_DS.SFDC_CONTACT_OBJECT c
  ON c.AccountId = cust.Id
JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${D}${N}${P}${Z}${rt}
ORDER BY
    cust.Id,
    c.LastName,
    c.FirstName;`:et==="Customer"?`/* Customer Export */
SELECT DISTINCT
    cust.Id,
    cust.Name,
    cust.Status__c,
    cust.Total_Sales_LY__c,
    cust.LastOrderDate__c,

    site.Zip__c          AS site_zip,
    o.NAICS_2017_CODE__C AS naics_code
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${D}${N}${P}
ORDER BY
    cust.Id;`:et==="Site"?`/* Site Export */
SELECT DISTINCT
    site.Id,
    site.Name,
    site.Zip__c,
    site.Status__c,

    cust.Id              AS customer_account_id,
    o.NAICS_2017_CODE__C AS naics_code
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
LEFT JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${D}${N}${P}
ORDER BY
    site.Id;`:"-- Invalid query type."},tS=({zipCodes:e=[],zipLoading:n=!1})=>{const[i]=Ut.useState(!1),[l,r]=Ut.useState("Initializing..."),[c,f]=Ut.useState(()=>new Date(Date.now()-864e5).toISOString().split("T")[0]);console.log("Active Date:",c);const[g,y]=Ut.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""}),[v,E]=Ut.useState(!1),[x,D]=Ut.useState(new Set),[N,P]=Ut.useState(new Set),Z=Ut.useRef({}),rt=W=>{const{layerType:$,layer:tt}=W,A=Xl.Util.stamp(tt);let M;if($==="circle"){const z=tt.getLatLng(),J=tt.getRadius(),H={steps:64,units:"meters"};M={type:"circle",geometry:pf([z.lng,z.lat],J,H).geometry,rawLayer:tt}}else M={type:"polygon",geometry:tt.toGeoJSON().geometry,rawLayer:tt};Z.current[A]=M,r(`Area added. Total areas: ${Object.keys(Z.current).length}`)},et=W=>{W.layers.eachLayer(tt=>{const A=Xl.Util.stamp(tt);delete Z.current[A]}),r(`Area removed. Total areas: ${Object.keys(Z.current).length}`)},B=W=>{const $=new Set(x);$.has(W)?$.delete(W):$.add(W),D($),r(`${$.size} states selected.`)},X=()=>{if(i)return;if(n){alert("Zipcode database is still loading. Please wait a moment.");return}const W=Object.keys(Z.current);if(!v&&W.length===0){alert("No areas selected. Please draw a box, polygon, or circle first.");return}r("Calculating intersecting zip codes...");try{const $=new Set;if(!v)W.forEach(H=>{const nt=Z.current[H],at=le(nt.geometry.coordinates),lt=Re(at);e.forEach(R=>{R.lng>=lt[0]&&R.lng<=lt[2]&&R.lat>=lt[1]&&R.lat<=lt[3]&&ae([R.lng,R.lat],at)&&$.add(R)})});else{if(x.size===0){alert("No states selected."),r("No states selected.");return}const H=ro,nt=new Set;x.forEach(at=>{H[at]?nt.add(H[at]):console.warn(`State name not found in map: "${at}"`)}),console.log("Selected States:",Array.from(x)),console.log("Mapped Abbrevs:",Array.from(nt)),e.forEach(at=>{nt.has(at.state)&&$.add(at)})}if($.size===0){alert("No zip codes found in selected areas."),r("No zip codes found.");return}const tt=Array.from($).map(H=>({ZIP:H.zip,CITY:H.city,STATE:H.state,LAT:H.lat,LNG:H.lng})),A=uf.unparse(tt),M=new Blob([A],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(M),J=document.createElement("a");J.href=z,J.setAttribute("download","selected_zipcodes.csv"),document.body.appendChild(J),J.click(),document.body.removeChild(J),r(`Exported ${$.size} zipcodes.`)}catch($){console.error($),r("Export failed.")}},V=W=>{if(i)return;if(n){alert("Zipcode database is still loading. Please wait a moment.");return}const $=Object.keys(Z.current);if(!v&&$.length===0){alert("No areas selected. Please draw a box, polygon, or circle first.");return}r("Generating SQL...");try{const tt=new Set;if(!v)$.forEach(z=>{const J=Z.current[z],H=le(J.geometry.coordinates),nt=Re(H);e.forEach(at=>{at.lng>=nt[0]&&at.lng<=nt[2]&&at.lat>=nt[1]&&at.lat<=nt[3]&&ae([at.lng,at.lat],H)&&tt.add(at.zip)})});else{if(x.size===0){alert("No states selected."),r("No states selected.");return}const z=ro,J=new Set;x.forEach(H=>{z[H]&&J.add(z[H])}),e.forEach(H=>{J.has(H.state)&&tt.add(H.zip)})}if(tt.size===0){alert("No zip codes found in selected areas."),r("No zip codes found.");return}const A=Array.from(tt),M=kf(g,A,N,W==="COUNT");if(W==="COUNT"||W==="COPY")navigator.clipboard.writeText(M).then(()=>{alert(`${W==="COUNT"?"Count SQL":"SQL Query"} copied to clipboard!`),r("SQL Query copied.")});else{const z=new Blob([M],{type:"text/plain"}),J=URL.createObjectURL(z),H=document.createElement("a");H.href=J,H.setAttribute("download","smoke_targets.sql"),document.body.appendChild(H),H.click(),document.body.removeChild(H),r(`Exported SQL for ${tt.size} zip codes.`)}}catch(tt){console.error(tt),alert("Export failed: "+tt.message),r("Export failed.")}};return O.jsx(xc,{leftPanel:O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[O.jsxs("h3",{style:{margin:"0 0 12px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:[O.jsx("span",{style:{fontSize:"20px"},children:""})," Smoke / AQI"]}),O.jsxs("div",{className:"sidebar-input-group",children:[O.jsx("label",{className:"sidebar-label",style:{color:"rgba(255,255,255,0.9)"},children:"Data Date"}),O.jsx("input",{type:"date",value:c,max:new Date().toISOString().split("T")[0],onChange:W=>f(W.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",width:"100%",backgroundColor:"rgba(255,255,255,0.1)",color:"white"}})]})]}),O.jsxs("div",{className:"sidebar-content",style:{padding:"16px",display:"flex",flexDirection:"column",gap:"20px"},children:[O.jsxs("div",{className:"sidebar-section",children:[O.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"SELECTION TOOLS"}),O.jsx("button",{onClick:()=>E(!v),style:{padding:"12px",borderRadius:"6px",border:"1px solid #ced4da",backgroundColor:v?"#0d6efd":"white",color:v?"white":"#495057",cursor:"pointer",fontWeight:"600",width:"100%",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:v?" State Selection Active":"Enable State Selection"})]}),O.jsxs("div",{className:"sidebar-section",children:[O.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"EXPORT DATA"}),O.jsxs("div",{style:{marginBottom:"16px",background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[O.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"1. Export Zip Code List (CSV)"}),O.jsx("button",{className:"export-btn",onClick:X,disabled:i||n,style:{width:"100%",padding:"10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:n?"Loading DB...":i?"Processing...":"Download CSV"})]}),O.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[O.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"2. Generate SQL Query"}),O.jsx(Af,{config:g,setConfig:y,selectedNAICS:N,setSelectedNAICS:P}),O.jsx("div",{style:{marginTop:"10px"},children:O.jsx(Df,{onExport:V,loading:i,zipLoading:n})})]})]})]}),O.jsx("div",{className:"sidebar-footer",style:{padding:"12px",borderTop:"1px solid #eee",background:"#f8f9fa"},children:O.jsx("small",{style:{color:"#6c757d"},children:l})})]}),mapContent:O.jsxs(Lf,{onCreated:rt,onDeleted:et,date:c,stateMode:v,selectedStates:x,onStateClick:B,children:[O.jsx(Ug,{url:"https://gibs.earthdata.nasa.gov/wms/epsg3857/best/wms.cgi",layers:"MODIS_Combined_Value_Added_AOD",format:"image/png",transparent:!0,opacity:.6,attribution:"NASA GIBS Combined Modis AOD",params:{TIME:c}},`wms-${c}`),O.jsx(MA,{date:c})]}),rightPanel:O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"sidebar-header",style:{padding:"16px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:O.jsx("h3",{style:{margin:0,fontSize:"16px"},children:"Legend & Info"})}),O.jsxs("div",{className:"sidebar-content",style:{padding:"16px"},children:[O.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[O.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#2c3e50",display:"flex",alignItems:"center",gap:"6px"},children:[O.jsx("span",{children:""})," How to Use"]}),O.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#555",lineHeight:"1.6"},children:[O.jsxs("li",{children:["Use the ",O.jsx("strong",{children:"Shape Tools"})," (top right of map) to draw a box or polygon around smoke areas."]}),O.jsxs("li",{style:{marginTop:"8px"},children:["Toggle ",O.jsx("strong",{children:"State Selection"})," to quickly select entire states."]}),O.jsxs("li",{style:{marginTop:"8px"},children:["Use the ",O.jsx("strong",{children:"Export Data"})," section to download Zip Codes (CSV) or generate a SQL query."]})]})]}),O.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#fffcf5",borderRadius:"8px",border:"1px solid #ffd8a8",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[O.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#d9480f",display:"flex",alignItems:"center",gap:"6px"},children:[O.jsx("span",{children:""})," Sample Cadence Email"]}),O.jsxs("div",{style:{fontSize:"12px",color:"#495057",lineHeight:"1.5"},children:[O.jsxs("p",{style:{margin:"0 0 8px 0"},children:[O.jsx("strong",{children:"Subject Line:"})," Supporting Your Team During Local Air Quality Alerts"]}),O.jsxs("p",{style:{margin:"0 0 8px 0"},children:["Hi ","{{FirstName}}",","]}),O.jsx("p",{style:{margin:"0 0 8px 0"},children:"I hope you and your team are doing well and staying comfortable during the recent air quality alerts in your area. At ODP Business Solutions, were here to help you keep operations running smoothly and your employees more comfortable while theyre on-site."}),O.jsx("p",{style:{margin:"0 0 8px 0"},children:"Here are a few items many organizations in affected regions find especially helpful:"}),O.jsxs("ul",{style:{margin:"0 0 8px 0",paddingLeft:"20px"},children:[O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"Air Purifiers & Filters"}),"  HEPA and high-efficiency units for offices, conference rooms, and shared spaces."]}),O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"N95 & Disposable Masks"}),"  For employees who may need to be on-site, travel between locations, or interact with visitors."]}),O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"Cleaning & Maintenance Supplies"}),"  Filters, wipes, and surface cleaners to help support your overall workplace environment."]}),O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"Workspace Wellness Items"}),"  Hydration stations, facial tissues, and other breakroom and wellness essentials."]})]}),O.jsx("p",{style:{margin:"0 0 12px 0"},children:"If youd like, I can put together a quick list of recommended options and pricing tailored to your locations and headcount."}),O.jsxs("p",{style:{margin:0},children:["Best regards,",O.jsx("br",{}),"{{YourName}}",O.jsx("br",{}),"{{YourTitle}}",O.jsx("br",{}),O.jsx("strong",{children:"ODP Business Solutions"}),O.jsx("br",{}),"{{YourEmail}} | {{YourPhone}}"]})]}),O.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`Subject Line: Supporting Your Team During Local Air Quality Alerts

Hi {{FirstName}},

I hope you and your team are doing well and staying comfortable during the recent air quality alerts in your area. At ODP Business Solutions, were here to help you keep operations running smoothly and your employees more comfortable while theyre on-site.

Here are a few items many organizations in affected regions find especially helpful:
 Air Purifiers & Filters  HEPA and high-efficiency units for offices, conference rooms, and shared spaces.
 N95 & Disposable Masks  For employees who may need to be on-site, travel between locations, or interact with visitors.
 Cleaning & Maintenance Supplies  Filters, wipes, and surface cleaners to help support your overall workplace environment.
 Workspace Wellness Items  Hydration stations, facial tissues, and other breakroom and wellness essentials.

If youd like, I can put together a quick list of recommended options and pricing tailored to your locations and headcount.

Best regards,
{{YourName}}
{{YourTitle}}
ODP Business Solutions
{{YourEmail}} | {{YourPhone}}`),alert("Email template copied to clipboard!")},style:{marginTop:"12px",width:"100%",padding:"8px",backgroundColor:"#fff",border:"1px solid #d9480f",color:"#d9480f",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"background 0.2s"},onMouseOver:W=>W.target.style.backgroundColor="#fffefe",onMouseOut:W=>W.target.style.backgroundColor="#fff",children:" Copy Template"})]})]})]})})};function Qx(e){const n=e.properties||{},i=n.event||"Weather Alert",l=n.areaDesc||"Unknown Area",r=n.severity||"Unknown",c=n.headline||"",f=n.description||"",g=n.onset?new Date(n.onset):null,y=n.ends?new Date(n.ends):null,v=n.effective?new Date(n.effective):null,E=`${i} ${l}`,x={newsSearch:`https://www.google.com/search?q=${encodeURIComponent(E+" news")}`,currentConditions:`https://www.google.com/search?q=${encodeURIComponent(E+" current conditions today")}`,localNews:`https://www.google.com/search?q=${encodeURIComponent(E+" local news")}`,impactReports:`https://www.google.com/search?q=${encodeURIComponent(E+" impact damage reports")}`,safetyInfo:`https://www.google.com/search?q=${encodeURIComponent(i+" safety tips preparation")}`};return{summary:{event:i,area:l,severity:r,urgency:n.urgency,certainty:n.certainty,headline:c,timing:{effective:v?v.toLocaleString():"Unknown",starts:g?g.toLocaleString():"Unknown",ends:y?y.toLocaleString():"Unknown",isActive:g&&y?Date.now()>=g&&Date.now()<=y:!1},description:f,instructions:n.instruction||"No specific instructions provided",quickActions:[`Check local news: ${x.localNews}`,`Current conditions: ${x.currentConditions}`,`General news: ${x.newsSearch}`]},searchLinks:x,rawAlertId:n.id}}const FA=({onClose:e})=>O.jsx("div",{className:"modal-overlay",onClick:e,children:O.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[O.jsx("button",{className:"modal-close",onClick:e,children:""}),O.jsx("h3",{children:"How to Use the Alert Dashboard"}),O.jsx("h4",{children:"1. Severity Formatting"}),O.jsx("p",{children:"Alerts are color-coded to help you prioritize:"}),O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsx("span",{className:"badge",style:{backgroundColor:"#dc3545"},children:"Red"})," ",O.jsx("strong",{children:"Severe/Extreme:"})," Immediate action required. Life-threatening conditions."]}),O.jsxs("li",{children:[O.jsx("span",{className:"badge",style:{backgroundColor:"#fd7e14"},children:"Orange"})," ",O.jsx("strong",{children:"Moderate:"})," Action recommended. Hazardous conditions."]}),O.jsxs("li",{children:[O.jsx("span",{className:"badge",style:{backgroundColor:"#ffc107"},children:"Yellow"})," ",O.jsx("strong",{children:"Minor/Unknown:"})," Be aware. Potential inconvenience."]})]}),O.jsx("h4",{children:"2. Filtering"}),O.jsx("p",{children:'Use the dropdown at the top right to filter by severity (e.g., "Severe Only").'}),O.jsx("h4",{children:"3. Research & Verification"}),O.jsx("p",{children:"Before exporting, use the buttons on each card:"}),O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Local News:"})," Searches Google for local coverage to verify impact."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Impact:"})," Looks for damage reports."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Conds:"})," Checks current weather conditions."]})]}),O.jsx("h4",{children:"4. Exporting"}),O.jsxs("p",{children:['Select specific alerts using the checkboxes, or click "Download All" to get a CSV of the target zip codes. The ',O.jsx("strong",{children:"Copy"})," button puts the CSV directly into your clipboard for pasting into Excel/Sheets."]})]})}),Kx=({alerts:e,title:n,onExport:i,onCopy:l,onAlertClick:r,onAlertToggle:c,selectedIds:f=new Set,focusedId:g})=>{const[y,v]=Ut.useState("All"),[E,x]=Ut.useState(!1),[D,N]=Ut.useState(new Set),P=(rt,et)=>{et.stopPropagation();const B=new Set(D);B.has(rt)?B.delete(rt):B.add(rt),N(B)};if(!e||e.length===0)return O.jsxs("div",{className:"alert-list-empty",children:[O.jsx("h3",{children:n}),O.jsx("p",{children:"No active alerts found."}),O.jsx("button",{className:"export-btn",disabled:!0,children:"Export Target List"})]});const Z=e.filter(rt=>{if(y==="All")return!0;const et=rt.properties.severity;return y==="Severe+"?et==="Severe"||et==="Extreme":y==="Moderate+"?et==="Severe"||et==="Extreme"||et==="Moderate":!0});return O.jsxs("div",{className:"alert-list-container",children:[E&&O.jsx(FA,{onClose:()=>x(!1)}),O.jsx("div",{style:{padding:"10px 15px",background:"#f8f9fa",borderBottom:"1px solid #e9ecef"},children:O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsxs("small",{style:{color:"#666",fontStyle:"italic"},children:[O.jsx("strong",{children:"Quick Start:"}),' Select active alerts to export target zip codes. Use "Severe Only" filter to prioritize.']}),O.jsx("button",{onClick:()=>x(!0),style:{background:"none",border:"1px solid #ccc",borderRadius:"12px",padding:"2px 8px",fontSize:"10px",cursor:"pointer",color:"#0d6efd"},children:"More Info"})]})}),O.jsxs("div",{className:"alert-list-header",style:{flexDirection:"column",alignItems:"stretch",gap:"10px"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[O.jsxs("h3",{style:{margin:0},children:[n," ",O.jsx("span",{className:"badge",children:Z.length})]}),O.jsxs("select",{value:y,onChange:rt=>v(rt.target.value),style:{padding:"4px",borderRadius:"4px",fontSize:"11px",border:"1px solid #ced4da",cursor:"pointer"},children:[O.jsx("option",{value:"All",children:"All Severity"}),O.jsx("option",{value:"Moderate+",children:"Moderate & up"}),O.jsx("option",{value:"Severe+",children:"Severe Only"})]})]}),O.jsxs("div",{style:{display:"flex",gap:"5px"},children:[O.jsx("button",{className:"export-btn",onClick:()=>i&&i(Z),style:{flex:1},children:f.size>0?`Download (${f.size})`:"Download All"}),l&&O.jsx("button",{className:"export-btn",onClick:()=>l&&l(Z),style:{backgroundColor:"#6c757d",color:"white"},children:"Copy"})]})]}),O.jsx("div",{className:"alert-list-scroll",children:Z.map((rt,et)=>{const B=rt.properties,X=B.id||et,V=new Date(B.sent).toLocaleString(),W=new Date(B.expires).toLocaleString(),$=f.has(X),tt=g===X,A=D.has(X);return O.jsxs("div",{className:`alert-card ${tt?"focused":""}`,onClick:()=>r&&r(rt),style:{cursor:"pointer",borderLeft:tt?"4px solid #00BFFF":"1px solid #dee2e6",backgroundColor:$?"#f0f9ff":"white",marginBottom:"10px"},children:[O.jsxs("div",{className:"alert-card-header",children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[O.jsx("input",{type:"checkbox",checked:$,onClick:M=>{M.stopPropagation(),c(X)},onChange:()=>{},style:{transform:"scale(1.2)",cursor:"pointer"}}),O.jsx("strong",{children:B.event})]}),O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[O.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",color:"white",backgroundColor:B.severity==="Severe"||B.severity==="Extreme"?"#dc3545":B.severity==="Moderate"?"#fd7e14":"#ffc107",fontWeight:"bold"},children:B.severity||"Unknown"}),O.jsx("span",{className:`status-dot ${B.status==="Actual"?"active":"test"}`})]})]}),O.jsxs("div",{className:"alert-card-body",children:[O.jsx("p",{className:"alert-area",children:B.areaDesc}),O.jsxs("div",{className:"alert-meta",children:[O.jsxs("small",{children:["Sent: ",V]}),O.jsxs("small",{children:["Expires: ",W]})]}),O.jsx("button",{className:"alert-expand-btn",onClick:M=>P(X,M),children:A?"Hide Full Description":"Show Full Description"}),A&&O.jsxs("div",{className:"alert-details-expanded",children:[O.jsx("p",{style:{whiteSpace:"pre-wrap",margin:0},children:B.description||"No description available."}),B.instruction&&O.jsxs("div",{style:{marginTop:"10px",fontStyle:"italic",borderTop:"1px solid #ddd",paddingTop:"5px"},children:[O.jsx("strong",{children:"Instruction:"})," ",B.instruction]})]}),O.jsx("div",{style:{marginTop:"10px",fontSize:"10px",color:"#666",fontStyle:"italic"},children:"Click for a pre-populated search result page:"}),O.jsx("div",{style:{marginTop:"4px",display:"flex",gap:"5px",flexWrap:"wrap"},children:(()=>{const M=Qx({properties:B});return O.jsxs(O.Fragment,{children:[O.jsx("a",{href:M.searchLinks.localNews,target:"_blank",rel:"noopener noreferrer",onClick:z=>z.stopPropagation(),className:"action-link-btn",style:{fontSize:"10px",padding:"4px 8px",background:"#e9ecef",border:"1px solid #ced4da",borderRadius:"4px",textDecoration:"none",color:"#495057"},children:" Local News"}),O.jsx("a",{href:M.searchLinks.impactReports,target:"_blank",rel:"noopener noreferrer",onClick:z=>z.stopPropagation(),className:"action-link-btn",style:{fontSize:"10px",padding:"4px 8px",background:"#e9ecef",border:"1px solid #ced4da",borderRadius:"4px",textDecoration:"none",color:"#495057"},children:" Impact"}),O.jsx("a",{href:M.searchLinks.currentConditions,target:"_blank",rel:"noopener noreferrer",onClick:z=>z.stopPropagation(),className:"action-link-btn",style:{fontSize:"10px",padding:"4px 8px",background:"#e9ecef",border:"1px solid #ced4da",borderRadius:"4px",textDecoration:"none",color:"#495057"},children:" Conds"})]})})()})]})]},X)})})]})},jA=({activeFips:e=[],activeStateNames:n=[],style:i={color:"#3388ff",weight:1,fillOpacity:.2}})=>{const[l,r]=Ut.useState(null);Ut.useEffect(()=>{(async()=>{try{const y=await fetch("/smoke-zipcode-selector/counties-10m.json");if(!y.ok)throw new Error("Failed to load county topology");const v=await y.json(),E=Nw(v,v.objects.counties);r(E)}catch(y){console.error("Error loading county data:",y)}})()},[]);const c=g=>e.includes(g.id)?{...i,fillColor:i.color||"#ff0000",fillOpacity:i.fillOpacity||.5,weight:1,opacity:1,interactive:!0}:{fillColor:"transparent",color:"rgba(0,0,0,0.1)",weight:.5,opacity:.2,fillOpacity:0,interactive:!1},f=(g,y)=>{y.bindTooltip(`${g.properties.name} County`,{direction:"top",opacity:.9})};return l?O.jsx(Cf,{data:l,style:c,onEachFeature:f}):null},lf={async fetchAlerts(e,n){console.log(`[NWSService] Fetching for date: ${e||"LIVE"} types: ${n}`);try{let i;if(e){const g=new Date(e);g.setHours(0,0,0,0);const y=new Date(e);y.setHours(23,59,59,999),i=`https://api.weather.gov/alerts?${new URLSearchParams({start:g.toISOString(),end:y.toISOString(),event:n,limit:500}).toString()}`}else i="https://api.weather.gov/alerts/active";const l=await fetch(i,{headers:{"User-Agent":"(myweatherapp.com, contact@myweatherapp.com)",Accept:"application/geo+json"}});if(!l.ok)throw new Error(`NWS API Error: ${l.status}`);const r=await l.json();if(!r.features&&!r.title)throw new Error("Invalid API Response format");let c=r.features||[];const f=n.split(",");return c=c.filter(g=>f.includes(g.properties.event)),{type:"FeatureCollection",features:c}}catch(i){throw console.error("[NWSService] Error:",i),i}},async fetchZoneGeometry(e){if(!e)return null;try{const n=await fetch(e,{headers:{"User-Agent":"(myweatherapp.com, contact@myweatherapp.com)"}});return n.ok?(await n.json()).geometry:null}catch(n){return console.warn(`[NWSService] Failed to fetch zone: ${e}`,n),null}}},UA=({zipCodes:e=[],zipLoading:n=!1})=>{const[i,l]=Ut.useState(null),[r,c]=Ut.useState(!1),[f,g]=Ut.useState("Initializing Winter Mode..."),[y,v]=Ut.useState(""),[E,x]=Ut.useState(new Set),[D,N]=Ut.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""});Ut.useEffect(()=>{window._debug_alerts=i,window._debug_zipCodes=e,window._debug_turf=oA,console.log("Debug vars exposed on window")},[i,e]);const P=ys.useCallback(async()=>{c(!0),g(y?`Searching Archive for ${y}...`:"Fetching NWS Winter Storm Warnings...");try{const nt=await lf.fetchAlerts(y,"Winter Storm Warning,Winter Weather Advisory");if(console.log(`[WinterMode] Loaded ${nt.features.length} alerts.`),nt.features.length>0){const at=nt.features.filter(lt=>lt.geometry!==null).length;l(nt),g(y?`Found ${nt.features.length} Historical Alerts for ${y} (${at} visible).`:`Active: ${nt.features.length} Winter Alerts (${at} visible).`)}else l({type:"FeatureCollection",features:[]}),g(y?`No Winter alerts found for ${y}.`:"No active Winter Storm Warnings.")}catch(H){console.error("Failed to fetch alerts",H),g(`Error: ${H.message}`),l(null)}finally{c(!1)}},[y]);Ut.useEffect(()=>{P()},[P]);const[Z,rt]=Ut.useState(null),[et,B]=Ut.useState(new Set),X=async(H="DOWNLOAD")=>{if(!i||!i.features.length){alert("No data to export.");return}if(n){alert("Zipcode database is still loading. Please wait 5 seconds and try again.");return}const nt=et.size>0?i.features.filter(lt=>et.has(lt.properties.id)):i.features;if(nt.length===0){alert("No targets selected.");return}g("Checking alert geometries...");const at=await Promise.all(nt.map(async lt=>{if(lt.geometry)return lt;const R=lt.properties.affectedZones||[];if(R.length===0)return lt;console.log(`[WinterMode] Fetching geometries for ${R.length} zones...`),g(`Fetching geometries for ${R.length} affected zones...`);const U=[];for(const F of R){const it=await lf.fetchZoneGeometry(F);it&&U.push(it)}return U.length===0?lt:{...lt,_fetchedGeometries:U}}));g("Calculating affected zip codes..."),setTimeout(()=>{const lt=new Map;console.log(`[WinterMode] Exporting... ZipCodes: ${e.length}, Targets: ${at.length}`);let R=0,U=0,F=0;if(at.forEach(Y=>{const K=!!Y.geometry,ct=Y._fetchedGeometries||[],pt=K||ct.length>0,gt=(Y.properties.areaDesc||"").toUpperCase(),St=[];K&&St.push(Y.geometry),ct.length>0&&St.push(...ct);const Dt=St.map(ht=>{try{return Re(ht)}catch{return null}}).filter(ht=>ht!==null);e.forEach(ht=>{let It=!1;if(pt)for(let Ot=0;Ot<Dt.length;Ot++){const At=Dt[Ot],ft=St[Ot];if(ht.lng>=At[0]&&ht.lng<=At[2]&&ht.lat>=At[1]&&ht.lat<=At[3]&&(R++,ae([ht.lng,ht.lat],ft))){It=!0,U++;break}}if(!It&&ht.usps_zip_county_name&&ht.state){const Ot=ht.usps_zip_county_name||ht.county;if(Ot){const At=`${Ot}, ${ht.state}`.toUpperCase();gt.includes(At)&&(It=!0,F++)}}It&&(lt.has(ht.zip)||lt.set(ht.zip,{zipData:ht,alertData:Y.properties,alertId:Y.id}))})}),lt.size===0){g(`Debug: BBoxPass=${R}, PolyPass=${U}, TextPass=${F}, Targets=${at.length}`),alert("No zip codes found within the selected alert areas.");return}const it=Array.from(lt.values()).map(Y=>{const K=Y.zipData,ct=Y.alertData,gt=Qx({properties:ct}).searchLinks;return{ZIP:K.zip,CITY:K.city,COUNTY:K.usps_zip_county_name||K.county||"N/A",STATE:K.state,EVENT_TYPE:ct.event||"N/A",DETAILS:(ct.headline||ct.description||ct.areaDesc||"").substring(0,500).replace(/(\r\n|\n|\r)/gm," "),URL:Y.alertId||"N/A",NEWS_SEARCH:gt.newsSearch,LOCAL_NEWS:gt.localNews,CONDITIONS_URL:gt.currentConditions,IMPACT_URL:gt.impactReports,SAFETY_URL:gt.safetyInfo}}),Q=uf.unparse(it);if(H==="COPY")navigator.clipboard.writeText(Q).then(()=>{alert(`Copied ${lt.size} zip codes to clipboard!`),g(`Copied ${lt.size} zip codes from ${at.length} alerts.`)}).catch(Y=>{console.error("Copy failed",Y),alert("Failed to copy to clipboard. See console.")});else{const Y=new Blob([Q],{type:"text/csv;charset=utf-8"}),K=URL.createObjectURL(Y),ct=document.createElement("a");ct.href=K;const pt=`winter_storm_zipcodes_${new Date().toISOString().slice(0,10)}.csv`;ct.setAttribute("download",pt),ct.download=pt,document.body.appendChild(ct),ct.click(),setTimeout(()=>{document.body.removeChild(ct),URL.revokeObjectURL(K)},2e3),g(`Exported ${lt.size} unique zip codes from ${at.length} alerts.`)}},100)},V=H=>{if(!i||!i.features.length){alert("No data to export.");return}if(n){alert("Zipcode database is still loading. Please wait 5 seconds and try again.");return}const nt=et.size>0?i.features.filter(at=>et.has(at.properties.id)):i.features;if(nt.length===0){alert("No targets selected.");return}g("Generating SQL..."),setTimeout(()=>{const at=new Set;if(nt.forEach(U=>{const F=!!U.geometry,it=(U.properties.areaDesc||"").toUpperCase();let Q=null;F&&(Q=Re(U)),e.forEach(Y=>{let K=!1;if(F&&Q&&Y.lng>=Q[0]&&Y.lng<=Q[2]&&Y.lat>=Q[1]&&Y.lat<=Q[3]&&ae([Y.lng,Y.lat],U)&&(K=!0),!K&&!F&&Y.county&&Y.state){const ct=`${Y.county}, ${Y.state}`.toUpperCase();it.includes(ct)&&(K=!0)}K&&at.add(Y.zip)})}),at.size===0){alert("No target zip codes found."),g("Ready");return}const lt=Array.from(at),R=kf(D,lt,E,H==="COUNT");if(H==="COUNT"||H==="COPY")navigator.clipboard.writeText(R).then(()=>{alert(`${H==="COUNT"?"Count SQL":"SQL Query"} copied to clipboard!`),g("SQL Query copied.")});else{const U=new Blob([R],{type:"text/plain"}),F=URL.createObjectURL(U),it=document.createElement("a");it.href=F,it.setAttribute("download","winter_targets.sql"),document.body.appendChild(it),it.click(),document.body.removeChild(it),g(`Exported SQL for ${at.size} zip codes.`)}},100)},W=H=>{rt(H.properties.id)},$=H=>{const nt=new Set(et);nt.has(H)?nt.delete(H):nt.add(H),B(nt)},tt=H=>{const nt=H.properties.geocode;return nt&&nt.SAME?nt.SAME.map(at=>at.slice(1)):[]},A=i?.features.find(H=>H.properties.id===Z),M=A?tt(A):[],z=i?.features.filter(H=>et.has(H.properties.id)).flatMap(tt)||[],J=i?.features.flatMap(tt)||[];return O.jsx(xc,{leftPanel:O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"sidebar-header",style:{padding:"10px",borderBottom:"1px solid #eee"},children:[O.jsx("h3",{children:"Winter Mode"}),O.jsxs("div",{style:{marginBottom:"10px"},children:[O.jsx("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px"},children:O.jsx("strong",{children:"Date Range"})}),O.jsx("input",{type:"date",value:y,onChange:H=>v(H.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),!y&&O.jsx("small",{style:{color:"#00cc00",fontSize:"10px"},children:" Live Data"}),y&&O.jsx("button",{onClick:()=>v(""),style:{marginTop:"5px",fontSize:"10px",cursor:"pointer",background:"none",border:"none",color:"#0066cc",textDecoration:"underline"},children:"Return to Live"})]})]}),O.jsxs("div",{className:"sidebar-content",children:[O.jsxs("div",{className:"sidebar-input-group",children:[O.jsx("label",{className:"sidebar-label",children:"Controls"}),O.jsx("button",{className:"export-btn",onClick:P,disabled:r,style:{width:"100%",marginBottom:"10px"},children:"Refresh Data"})]}),O.jsxs("div",{className:"sidebar-input-group",children:[O.jsx("label",{className:"sidebar-label",children:"Export Data"}),O.jsx("div",{style:{marginTop:"10px"},children:O.jsx(Af,{config:D,setConfig:N,selectedNAICS:E,setSelectedNAICS:x})}),O.jsx(Df,{onExport:V,loading:r,zipLoading:n})]}),O.jsx("div",{style:{padding:"10px",fontSize:"11px",color:"#999",borderTop:"1px solid #eee"},children:f})]})]}),mapContent:O.jsxs(Lf,{children:[O.jsx(Ug,{url:"https://mapservices.weather.noaa.gov/arcgis/rest/services/WWA/watch_warn_adv/MapServer/exts/WMSServer",layers:"0",format:"image/png",transparent:!0,opacity:.6,layerDefs:`{"0":"prod_type='Winter Storm Warning' OR prod_type='Winter Weather Advisory'"}`}),O.jsx(jA,{activeFips:J,focusedFips:M,selectedFips:z,style:{color:"#00BFFF",weight:1,fillOpacity:.2}})]}),rightPanel:O.jsx(Kx,{alerts:i?i.features:[],title:y?`Archive: ${y}`:"Winter Warnings",onExport:()=>X("DOWNLOAD"),onCopy:()=>X("COPY"),onAlertClick:W,onAlertToggle:$,selectedIds:et,focusedId:Z})})},YA=({zipCodes:e=[],zipLoading:n=!1})=>{const[i,l]=Ut.useState({type:"FeatureCollection",features:[]}),[r,c]=Ut.useState(!1),[f,g]=Ut.useState("Initializing Flood Mode..."),[y,v]=Ut.useState(""),[E,x]=Ut.useState(new Set),[D,N]=Ut.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""}),P=ys.useCallback(async()=>{c(!0),g(y?`Searching Archive for ${y}...`:"Fetching NWS Flood Warnings...");try{const V=await lf.fetchAlerts(y,"Flood Warning,Flash Flood Warning,Coastal Flood Warning");console.log(`[FloodMode] Loaded ${V.features.length} flood alerts.`),V.features.length>0?(l(V),g(y?`Found ${V.features.length} Historical Alerts for ${y}.`:`Active: ${V.features.length} Flood Alerts.`)):(l({type:"FeatureCollection",features:[]}),g(y?`No Flood alerts found for ${y}.`:"No active Flood Warnings."))}catch(X){console.error("Failed to fetch alerts",X),g(`Error: ${X.message}`),l({type:"FeatureCollection",features:[]})}finally{c(!1)}},[y]);Ut.useEffect(()=>{P()},[P]);const Z=()=>[{category:"Cleanup",skus:["Sump Pump","Wet/Dry Vac","Dehumidifier"]},{category:"Protection",skus:["Sandbags","Tarps","Generators"]}],rt=async X=>{const V=X||i.features;if(!V||V.length===0||!e||e.length===0){alert("No data to export or zip codes not loaded.");return}if(n){alert("Zipcode database is still loading. Please wait 5 seconds and try again.");return}g("Fetching standard zone geometries..."),c(!0);const W=[],$=new Map;for(const tt of V){if(!tt.geometry&&tt.properties.affectedZones&&tt.properties.affectedZones.length>0){const A=tt.properties.affectedZones[0];try{let M=$.get(A);if(M||(M=await lf.fetchZoneGeometry(A),M&&$.set(A,M)),M){W.push({...tt,geometry:M});continue}}catch(M){console.warn(`Failed to fetch zone geometry for ${A}`,M)}}W.push(tt)}g("Processing spatial match..."),setTimeout(()=>{const tt=[],A=new Set;if(W.forEach(nt=>{const at=!!nt.geometry,lt=(nt.properties.areaDesc||"").toUpperCase(),R=nt.properties.event||"Flood Warning";let U=null;if(at)try{U=Re(nt)}catch(F){console.warn("Invalid geometry for bbox",F)}e.forEach(F=>{let it=!1;if(at&&U&&F.lng>=U[0]&&F.lng<=U[2]&&F.lat>=U[1]&&F.lat<=U[3]&&ae([F.lng,F.lat],nt)&&(it=!0),!it&&F.county&&F.state){const Q=`${F.county}, ${F.state}`.toUpperCase();lt.includes(Q)&&(it=!0)}if(it){const Q=`${F.zip}-${R}`;A.has(Q)||(A.add(Q),tt.push({zip:F.zip,county:F.county,state:F.state,alert_name:R,sent:nt.properties.sent,expires:nt.properties.expires,suggested_products:Z().map(Y=>Y.category).join("; ")}))}})}),tt.length===0){alert("No matching targets found (checked geometry and county text)."),g("Ready"),c(!1);return}const M={generated_at:new Date().toISOString(),event_type:"FLOOD",targets:tt},z=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),J=URL.createObjectURL(z),H=document.createElement("a");H.href=J,H.setAttribute("download","flood_targets.json"),document.body.appendChild(H),H.click(),document.body.removeChild(H),g(`Exported ${tt.length} targets.`),c(!1)},100)},et=()=>{console.log("Copy not fully implemented for full spatial check yet.")},B=async X=>{if(!i||!i.features||!e||e.length===0){alert("No data to export.");return}g("Generating SQL..."),c(!0),setTimeout(()=>{const V=new Set;if(i.features.forEach(tt=>{const A=!!tt.geometry,M=(tt.properties.areaDesc||"").toUpperCase();let z=A?Re(tt):null;e.forEach(J=>{let H=!1;A&&z&&J.lng>=z[0]&&J.lng<=z[2]&&J.lat>=z[1]&&J.lat<=z[3]&&ae([J.lng,J.lat],tt)&&(H=!0),H||J.county&&J.state&&M.includes(`${J.county}, ${J.state}`.toUpperCase())&&(H=!0),H&&V.add(J.zip)})}),V.size===0){alert("No targets found."),g("Ready"),c(!1);return}const W=Array.from(V),$=kf(D,W,E,X==="COUNT");if(X==="COPY"||X==="COUNT")navigator.clipboard.writeText($).then(()=>{alert(`${X} SQL copied to clipboard!`),g("SQL Copied.")});else{const tt=new Blob([$],{type:"text/plain"}),A=URL.createObjectURL(tt),M=document.createElement("a");M.href=A,M.setAttribute("download","flood_targets.sql"),document.body.appendChild(M),M.click(),document.body.removeChild(M),g(`Exported SQL for ${V.size} zip codes.`)}c(!1)},100)};return O.jsx(xc,{leftPanel:O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[O.jsxs("h3",{style:{margin:"0 0 12px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:[O.jsx("span",{style:{fontSize:"20px"},children:""})," Flood Mode"]}),O.jsxs("div",{className:"sidebar-input-group",children:[O.jsx("label",{className:"sidebar-label",style:{color:"rgba(255,255,255,0.9)"},children:"Archive Date"}),O.jsxs("div",{style:{display:"flex",gap:"5px"},children:[O.jsx("input",{type:"date",value:y,onChange:X=>v(X.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",width:"100%",backgroundColor:"rgba(255,255,255,0.1)",color:"white"}}),y&&O.jsx("button",{onClick:()=>v(""),style:{padding:"8px",borderRadius:"6px",border:"none",background:"rgba(255,255,255,0.2)",color:"white",cursor:"pointer"},title:"Return to Live Data",children:""})]})]})]}),O.jsxs("div",{className:"sidebar-content",style:{padding:"16px",display:"flex",flexDirection:"column",gap:"20px"},children:[O.jsxs("div",{className:"sidebar-section",children:[O.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"DATA CONTROLS"}),O.jsx("button",{className:"export-btn",onClick:()=>P(),disabled:r,style:{width:"100%",padding:"10px",borderRadius:"6px",background:"#fff",border:"1px solid #ddd",fontWeight:"600"},children:" Refresh Feed"})]}),O.jsxs("div",{className:"sidebar-section",children:[O.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"EXPORT CONFIG"}),O.jsx(Af,{config:D,setConfig:N,selectedNAICS:E,setSelectedNAICS:x}),O.jsx(Df,{onExport:B,loading:r,zipLoading:n})]})]}),O.jsx("div",{className:"sidebar-footer",style:{padding:"12px",borderTop:"1px solid #eee",background:"#f8f9fa"},children:O.jsx("small",{style:{color:"#6c757d"},children:f})})]}),mapContent:O.jsxs(Lf,{children:[O.jsx(Ug,{url:"https://mapservices.weather.noaa.gov/arcgis/rest/services/WWA/watch_warn_adv/MapServer/exts/WMSServer",layers:"0",format:"image/png",transparent:!0,opacity:.5,layerDefs:`{"0":"prod_type IN ('Flood Warning', 'Flash Flood Warning', 'Coastal Flood Warning')"}`}),i.features.length<500&&O.jsx(Cf,{data:i,style:{color:"#00BFFF",weight:1,opacity:.6,fillOpacity:.1},onEachFeature:(X,V)=>{V.bindTooltip(`${X.properties.event}: ${X.properties.areaDesc}`)}},`flood-geo-${i.features.length}`)]}),rightPanel:O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"sidebar-header",style:{padding:"16px",background:"#f8f9fa",borderBottom:"1px solid #eee"},children:O.jsx("h3",{style:{margin:0,fontSize:"16px",color:"#333"},children:"Active Flood Alerts"})}),O.jsx("div",{className:"sidebar-content",style:{padding:"0",display:"flex",flexDirection:"column",height:"100%"},children:O.jsx(Kx,{alerts:i.features,title:"",onExport:rt,onCopy:et,loading:r})})]})})},GA="https://api.delphi.cmu.edu/epidata/fluview/",qA=()=>{const n=new Date().getFullYear();return`${n-1}01-${n}53`},HA=async()=>{try{const e=qA(),n=Object.values(ro).map(g=>g.toLowerCase()).join(","),i=`${GA}?regions=${n}&epiweeks=${e}`;console.log(`[DelphiService] Fetching Flu Data: ${i}`);const r=await(await fetch(i)).json();if(r.result!==1)return console.warn("Delphi API returned non-success result (or no data for range):",r),{processedData:{},rawData:r};const c={};r.epidata.forEach(g=>{const y=g.region.toUpperCase(),v=Object.keys(ro).find(E=>ro[E]===y);v&&(!c[v]||g.epiweek>c[v].epiweek)&&(c[v]=g)});const f={};return Object.keys(c).forEach(g=>{const y=c[g],v=y.wili;let E=1;v<1.5?E=1:v<2?E=2:v<2.5?E=3:v<3?E=4:v<3.5?E=5:v<4?E=6:v<5?E=7:v<6?E=8:v<8?E=9:E=10,f[g]={level:E,details:{wili:y.wili,num_providers:y.num_providers,total_patients:y.total_patients,ili_total:y.ili,epiweek:y.epiweek}}}),{processedData:f,rawData:r.epidata}}catch(e){return console.error("Error fetching Delphi Flu Data:",e),{processedData:null,rawData:null,error:e.message}}},ZA=async()=>{try{const e="https://data.cdc.gov/api/views/7dk4-g6vg/rows.json?accessType=DOWNLOAD";console.log(`[DelphiService] Fetching COVID-19 Data: ${e}`);const i=await(await fetch(e)).json(),l=i.meta.view.columns,r=E=>l.findIndex(x=>x.fieldName&&x.fieldName.match(new RegExp(E,"i"))),c=r("week_ending_date"),f=r("state"),g=l.findIndex(E=>E.fieldName==="total_adm_all_covid_confirmed_1"||E.name.includes("per_100k"));if(c===-1||f===-1||g===-1)return console.error("Could not find required columns in CDC data",{dateIdx:c,stateIdx:f,metricIdx:g}),{processedData:{},rawData:i};const y={};i.data.forEach(E=>{const x=E[f],D=E[c],N=parseFloat(E[g]);if(!x||isNaN(N))return;const P=Object.keys(ro).find(Z=>ro[Z]===x);P&&(!y[P]||new Date(D)>new Date(y[P].date))&&(y[P]={date:D,val:N,row:E})});const v={};return Object.keys(y).forEach(E=>{const{val:x}=y[E];let D=1;x<1?D=1:x<2?D=2:x<3?D=3:x<4?D=4:x<5?D=5:x<7.5?D=6:x<10?D=7:x<15?D=8:x<20?D=9:D=10,v[E]={level:D,details:{val:x,date:y[E].date}}}),{processedData:v,rawData:i}}catch(e){return console.error("Error fetching COVID Data:",e),{processedData:null,rawData:null,error:e.message}}},XA=async()=>{try{const e="https://data.cdc.gov/resource/7mra-9cq9.json?pathogen=RSV&$limit=5000&$order=week_end DESC";console.log(`[DelphiService] Fetching RSV Data: ${e}`);const n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();if(!i||i.length===0)return console.warn("No RSV data found"),{processedData:{},rawData:[]};const l=i[0].week_end;console.log(`[DelphiService] Latest RSV Date: ${l}`);const r=i.filter(f=>f.week_end===l),c={};return r.forEach(f=>{const g=f.geography,y=parseFloat(f.percent_visits);if(!g||isNaN(y))return;let v=1;y<.5?v=1:y<1?v=2:y<1.5?v=3:y<2?v=4:y<2.5?v=5:y<3?v=6:y<3.5?v=7:y<4?v=8:y<4.5?v=9:v=10,c[g]={level:v,details:{percent_visits:y,week_end:f.week_end,status:f.status,trend:f.recent_trend}}}),{processedData:c,rawData:i}}catch(e){return console.error("Error fetching RSV Data:",e),{processedData:null,rawData:null,error:e.message}}},JA=({zipCodes:e=[],zipLoading:n=!1})=>{const[i,l]=Ut.useState({}),[r,c]=Ut.useState({}),[f,g]=Ut.useState({}),[y,v]=Ut.useState(null),[E,x]=Ut.useState(!0),[D,N]=Ut.useState("Initializing Respiratory Mode..."),[P,Z]=Ut.useState(null),[rt,et]=Ut.useState("all"),[B,X]=Ut.useState(new Set),[V,W]=Ut.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""});Ut.useEffect(()=>{(async()=>{x(!0),N("Fetching Disease Data (CDC/Delphi)...");try{const[J,H,nt,at]=await Promise.all([HA(),ZA(),XA(),fetch("https://raw.githubusercontent.com/PublicaMundi/MappingAPI/master/data/geojson/us-states.json").then(lt=>lt.json())]);l(J.processedData||{}),c(H.processedData||{}),g(nt.processedData||{}),v(at),N("Data Loaded. Select a state for details.")}catch(J){console.error("Failed to load respiratory data",J),N("Error loading data. See console.")}finally{x(!1)}})()},[]);const $=z=>{const J=i[z]?.level||0,H=r[z]?.level||0,nt=f[z]?.level||0;return rt==="flu"?J:rt==="covid"?H:rt==="rsv"?nt:Math.max(J,H,nt)},tt=z=>{const J=z.properties.name,H=$(J);let nt="#ccc";H>=9?nt="#d63384":H>=7?nt="#fd7e14":H>=4?nt="#ffc107":H>=1&&(nt="#20c997");const at=P===J;return{fillColor:nt,weight:at?3:1,opacity:1,color:at?"#333":"white",dashArray:"3",fillOpacity:.7}},A=(z,J)=>{const H=z.properties.name,nt=$(H);J.bindTooltip(`${H}: Level ${nt}/10`,{sticky:!0}),J.on({click:()=>{Z(H),N(`Selected: ${H}`)}})},M=z=>{if(!P){alert("Please select a state on the map first.");return}const J=ro[P];if(!J){alert("State abbreviation mapping failed.");return}N(`Exporting data for ${P} (${J})...`),setTimeout(()=>{const H=e.filter(lt=>lt.state===J);if(H.length===0){alert(`No zip codes found for ${P} in database.`),N("Ready");return}const nt=H.map(lt=>lt.zip),at=kf(V,nt,B,z==="COUNT");if(z==="COPY"||z==="COUNT")navigator.clipboard.writeText(at).then(()=>{alert(`${z} SQL copied!`),N("SQL Copied.")});else{const lt=new Blob([at],{type:"text/plain"}),R=URL.createObjectURL(lt),U=document.createElement("a");U.href=R,U.setAttribute("download",`respiratory_targets_${J}.sql`),document.body.appendChild(U),U.click(),document.body.removeChild(U),N(`Exported SQL for ${J}.`)}},100)};return O.jsx(xc,{leftPanel:O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"#e9ecef",borderBottom:"1px solid #ddd"},children:[O.jsx("h3",{children:" Respiratory Mode"}),O.jsx("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"Combined Flu, COVID-19, and RSV tracking."})]}),O.jsxs("div",{className:"sidebar-content",style:{padding:"16px"},children:[O.jsxs("div",{style:{marginBottom:"20px"},children:[O.jsx("label",{className:"sidebar-label",children:"Select Tracker"}),O.jsxs("select",{value:rt,onChange:z=>et(z.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #ced4da",backgroundColor:"white",color:"#495057",fontSize:"14px",cursor:"pointer",outline:"none",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.075)"},children:[O.jsx("option",{value:"all",children:" All Tracked Illnesses (Combined Risk)"}),O.jsx("option",{value:"flu",children:" Flu (Influenza)"}),O.jsx("option",{value:"covid",children:" COVID-19"}),O.jsx("option",{value:"rsv",children:" RSV"})]})]}),O.jsxs("div",{style:{marginBottom:"20px"},children:[O.jsx("label",{className:"sidebar-label",children:"Risk Legend (1-10)"}),O.jsxs("div",{style:{display:"flex",gap:"5px",marginTop:"5px"},children:[O.jsx("div",{style:{flex:1,background:"#20c997",height:"8px",borderRadius:"4px"},title:"Low (1-3)"}),O.jsx("div",{style:{flex:1,background:"#ffc107",height:"8px",borderRadius:"4px"},title:"Moderate (4-6)"}),O.jsx("div",{style:{flex:1,background:"#fd7e14",height:"8px",borderRadius:"4px"},title:"High (7-8)"}),O.jsx("div",{style:{flex:1,background:"#d63384",height:"8px",borderRadius:"4px"},title:"Critical (9-10)"})]}),O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666",marginTop:"2px"},children:[O.jsx("span",{children:"Low"}),O.jsx("span",{children:"Critical"})]})]}),O.jsxs("div",{className:"sidebar-section",children:[O.jsx("label",{className:"sidebar-label",children:"Export Controls"}),P?O.jsxs(O.Fragment,{children:[O.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#0d6efd"},children:["Target: ",P]}),O.jsx(Af,{config:V,setConfig:W,selectedNAICS:B,setSelectedNAICS:X}),O.jsx(Df,{onExport:M,loading:E,zipLoading:n})]}):O.jsx("div",{style:{padding:"10px",background:"#fff3cd",fontSize:"12px",borderRadius:"4px"},children:" Select a state on the map to enable export options."})]}),O.jsx("div",{style:{padding:"10px",fontSize:"11px",color:"#999",borderTop:"1px solid #eee",marginTop:"20px"},children:D})]})]}),mapContent:O.jsx(Lf,{children:y&&O.jsx(Cf,{data:y,style:tt,onEachFeature:A})}),rightPanel:O.jsxs("div",{style:{padding:"20px"},children:[O.jsxs("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"10px"},children:[O.jsx("h3",{children:"State Details"}),P?O.jsx("h2",{style:{margin:0,color:"#0d6efd"},children:P}):O.jsx("p",{style:{color:"#666"},children:"Select a state..."})]}),P&&O.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[O.jsxs("div",{style:{padding:"10px",background:"#f8f9fa",borderRadius:"8px",borderLeft:"4px solid #20c997"},children:[O.jsx("strong",{style:{display:"block",marginBottom:"5px"},children:"Flu Activity"}),O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx("span",{style:{fontSize:"24px",fontWeight:"bold"},children:i[P]?.level||"N/A"}),O.jsx("span",{style:{fontSize:"12px",color:"#666"},children:"/ 10"})]}),i[P]?.details&&O.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"5px"},children:["wILI: ",i[P].details.wili?.toFixed(2),"%",O.jsx("br",{}),"Updated: ",i[P].details.epiweek]})]}),O.jsxs("div",{style:{padding:"10px",background:"#f8f9fa",borderRadius:"8px",borderLeft:"4px solid #0dcaf0"},children:[O.jsx("strong",{style:{display:"block",marginBottom:"5px"},children:"COVID-19 Hosp."}),O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx("span",{style:{fontSize:"24px",fontWeight:"bold"},children:r[P]?.level||"N/A"}),O.jsx("span",{style:{fontSize:"12px",color:"#666"},children:"/ 10"})]}),r[P]?.details&&O.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"5px"},children:["Adm/100k: ",r[P].details.val?.toFixed(1),O.jsx("br",{}),"Date: ",r[P].details.date.split("T")[0]]})]}),O.jsxs("div",{style:{padding:"10px",background:"#f8f9fa",borderRadius:"8px",borderLeft:"4px solid #fd7e14"},children:[O.jsx("strong",{style:{display:"block",marginBottom:"5px"},children:"RSV ED Visits"}),O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx("span",{style:{fontSize:"24px",fontWeight:"bold"},children:f[P]?.level||"N/A"}),O.jsx("span",{style:{fontSize:"12px",color:"#666"},children:"/ 10"})]}),f[P]?.details&&O.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"5px"},children:["% Visits: ",f[P].details.percent_visits?.toFixed(1),"%",O.jsx("br",{}),"Date: ",f[P].details.week_end.split("T")[0]]})]})]}),O.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[O.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#0d6efd",display:"flex",alignItems:"center",gap:"6px"},children:[O.jsx("span",{children:""})," Sample Cadence Email"]}),O.jsxs("div",{style:{fontSize:"12px",color:"#495057",lineHeight:"1.5"},children:[O.jsxs("p",{style:{margin:"0 0 8px 0"},children:[O.jsx("strong",{children:"Subject Line:"})," Helping Your Workplace Navigate This Flu Season"]}),O.jsxs("p",{style:{margin:"0 0 8px 0"},children:["Hi ","{{FirstName}}",","]}),O.jsx("p",{style:{margin:"0 0 8px 0"},children:"I hope you and your team are doing well. With higher flu activity being reported in your area, many of our customers are taking simple steps to support employee wellness and keep their workplaces running smoothly."}),O.jsx("p",{style:{margin:"0 0 8px 0"},children:"Here are a few ODP Business Solutions items that organizations in your region are finding especially useful:"}),O.jsxs("ul",{style:{margin:"0 0 8px 0",paddingLeft:"20px"},children:[O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"Hand Sanitizer & Dispensers"}),"  For entrances, conference rooms, and common areas to encourage frequent hand hygiene."]}),O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"Disinfecting Wipes & Sprays"}),"  For regularly touched surfaces like desks, door handles, phones, and shared equipment."]}),O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"Facial Tissues & Trash Liners"}),"  To help maintain a cleaner, more comfortable environment in offices and break areas."]}),O.jsxs("li",{style:{marginBottom:"4px"},children:[O.jsx("strong",{children:"PPE & Wellness Essentials"}),"  Masks, thermometers, and other wellness items to support your onsite team."]})]}),O.jsx("p",{style:{margin:"0 0 12px 0"},children:"If youd like, I can pull together a tailored list of recommended products and pricing based on your locations and headcount."}),O.jsxs("p",{style:{margin:0},children:["Best regards,",O.jsx("br",{}),"{{YourName}}",O.jsx("br",{}),"{{YourTitle}}",O.jsx("br",{}),O.jsx("strong",{children:"ODP Business Solutions"}),O.jsx("br",{}),"{{YourEmail}} | {{YourPhone}}"]})]}),O.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`Subject Line: Helping Your Workplace Navigate This Flu Season

Hi {{FirstName}},

I hope you and your team are doing well. With higher flu activity being reported in your area, many of our customers are taking simple steps to support employee wellness and keep their workplaces running smoothly.

Here are a few ODP Business Solutions items that organizations in your region are finding especially useful:
 Hand Sanitizer & Dispensers  For entrances, conference rooms, and common areas to encourage frequent hand hygiene.
 Disinfecting Wipes & Sprays  For regularly touched surfaces like desks, door handles, phones, and shared equipment.
 Facial Tissues & Trash Liners  To help maintain a cleaner, more comfortable environment in offices and break areas.
 PPE & Wellness Essentials  Masks, thermometers, and other wellness items to support your onsite team.

If youd like, I can pull together a tailored list of recommended products and pricing based on your locations and headcount.

Best regards,
{{YourName}}
{{YourTitle}}
ODP Business Solutions
{{YourEmail}} | {{YourPhone}}`),alert("Email template copied to clipboard!")},style:{marginTop:"12px",width:"100%",padding:"8px",backgroundColor:"#fff",border:"1px solid #0d6efd",color:"#0d6efd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"background 0.2s"},onMouseOver:z=>z.target.style.backgroundColor="#f1f7ff",onMouseOut:z=>z.target.style.backgroundColor="#fff",children:" Copy Template"})]})]})})},VA="/smoke-zipcode-selector/assets/data_diagram-FOJH2dKD.svg",eS=[{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Name",label:"Account Name",type:"String",key:!1,"description\r":"Display Name"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Zip__c",label:"Zip Code",type:"String",key:!0,"description\r":"5-digit Zip Code (Geographic Link)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"ParentId",label:"Parent ID",type:"String",key:!0,"description\r":"Parent Account ID (Join Key)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"RECORDTYPE_NAME__C",label:"Record Type",type:"String",key:!1,"description\r":"Filter Value (e.g., 'Site', 'Customer')"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Last_Order_Date__C",label:"Last Order Date",type:"Date",key:!1,"description\r":"Sales Metric (Optional Display)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Total_LY_Sales__C",label:"Total LY Sales",type:"Currency",key:!1,"description\r":"Sales Metric (Optional Display)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID (Join Target)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Status__c",label:"Status",type:"String",key:!1,"description\r":"Account Status (e.g., 'Active')"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Org__c",label:"Org ID",type:"String",key:!0,"description\r":"Organization ID (Join Key to NAICS)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"LastActivityDate",label:"Last Activity",type:"Date",key:!1,"description\r":"Activity Metric"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"LastOrderDate__c",label:"Last Order Date",type:"Date",key:!1,"description\r":"Sales Metric"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Total_Sales_LY__c",label:"Total LY Sales",type:"Currency",key:!1,"description\r":"Annual Sales"},{object:"Org",alias:"Org",snowflakeTable:"SFDC_DS.SFDC_ORG__C_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID (Join Target)"},{object:"Org",alias:"Org",snowflakeTable:"SFDC_DS.SFDC_ORG__C_OBJECT",apiName:"NAICS_2017_CODE__C",label:"NAICS 2017 Code",type:"String",key:!1,"description\r":"Industry Code"},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID"},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"Account__c",label:"Account ID",type:"String",key:!0,"description\r":"Foreign Key (Joins to Site/Customer)"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"AccountId",label:"Account ID",type:"String",key:!0,"description\r":"Foreign Key (Joins to Site/Customer)"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"Status__c",label:"Status",type:"String",key:!1,"description\r":"Contact Status (e.g., 'Active', 'No Longer There')"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"LastActivityDate",label:"Last Activity",type:"Date",key:!1,"description\r":"Last Interaction Date"},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QUARTER_LY_IMU__C",label:"Quarter LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QUARTER_LY__C",label:"Quarter LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"RANKING__C",label:"Ranking",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_12_MONTH_SALES__C",label:"Rolling 12 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_3_MONTH_SALES__C",label:"Rolling 3 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_6_MONTH_SALES__C",label:"Rolling 6 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_9_MONTH_SALES__C",label:"Rolling 9 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SALES_AMT_FLG__C",label:"Sales Amount Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SALES_DIFF__C",label:"Sales DIFF",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SALES__C",label:"Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SITE_COUNT__C",label:"SITE Count",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SOURCE_SYSTEM__C",label:"Source System",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SYSTEMMODSTAMP",label:"Systemmodstamp",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_IMU_LY__C",label:"TECH IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_IMU_TY__C",label:"TECH IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_LAST_ORDER_AMT__C",label:"TECH LAST Order Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_LAST_ORDER_DT_TXT__C",label:"TECH LAST Order Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_LY__C",label:"TECH LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_POT__C",label:"TECH POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_TOTAL_LY__C",label:"TECH Total LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_TY__C",label:"TECH TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_IMU_LY__C",label:"Textiles Amenities IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_IMU_TY__C",label:"Textiles Amenities IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_LAST_ORDER_AMT__C",label:"Textiles Amenities LAST Order Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_LAST_ORDER__C",label:"Textiles Amenities LAST Order",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_LY__C",label:"Textiles Amenities LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_POT__C",label:"Textiles Amenities POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_TY__C",label:"Textiles Amenities TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TOTAL_ORDER__C",label:"Total Order",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"UNIQUE_KEY__C",label:"Unique KEY",type:"String",key:!0,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKLY_ORDER_FLG__C",label:"Weekly Order Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKLY_SALES_FLG__C",label:"Weekly Sales Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKS_SINCE_1ST_ORDER__C",label:"Weeks Since First Order",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKS_SINCE_LAST_ORDER__C",label:"Weeks Since LAST Order",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_IMU_LY__C",label:"Writing Drafting IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_IMU_TY__C",label:"Writing Drafting IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_LAST_ORDER_AMT__C",label:"Writing Drafting LAST Order Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_LY__C",label:"Writing Drafting LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_POT__C",label:"Writing Drafting POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_TOTAL_LY__C",label:"Writing Drafting Total LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_TY__C",label:"Writing Drafting TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_LAST_ORDER_DT_TXT__C",label:"Writing LAST Order Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YEAR_GOAL__C",label:"YEAR GOAL",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YEAR_LY_IMU__C",label:"YEAR LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YEAR_LY__C",label:"YEAR LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_LY_IMU__C",label:"YTD Sales LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_LY__C",label:"YTD Sales LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_TY_IMU__C",label:"YTD Sales TY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_TY__C",label:"YTD Sales TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ACCOUNT_TYPE__C",label:"Account TYPE",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ACCOUNT__C",label:"Account",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_CURRENT_MONTH__C",label:"ADS Current MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_CURRENT_QTR__C",label:"ADS Current QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_CURRENT_YR__C",label:"ADS Current YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_LAST_MONTH__C",label:"ADS LAST MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_LAST_QTR__C",label:"ADS LAST QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_LAST_YR__C",label:"ADS LAST YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOPS_ID__C",label:"AOPS ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_CURRENT_MONTH__C",label:"AOV Current MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_CURRENT_QTR__C",label:"AOV Current QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_CURRENT_YR__C",label:"AOV Current YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_LAST_MONTH__C",label:"AOV LAST MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_LAST_QTR__C",label:"AOV LAST QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_LAST_YR__C",label:"AOV LAST YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"BATCHPROCESSED__C",label:"Batchprocessed",type:"Boolean",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CADENCE_CALL_DATE_OVERRIDE_VALUE__C",label:"Cadence CALL DATE Override VALUE",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CATEGORY_COUNT_FLG__C",label:"Category COUNT Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CATEGORY_COUNT__C",label:"Category COUNT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_IMU_LY__C",label:"CBS IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_IMU_TY__C",label:"CBS IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_LAST_ORDER_AMT__C",label:"CBS LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_LAST_ORDER_DT_TXT__C",label:"CBS LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_LY__C",label:"CBS LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_POT__C",label:"CBS POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_TOTAL_LY__C",label:"CBS TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_TY__C",label:"CBS TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CDH_PARTY_ID__C",label:"CDH PARTY ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CDH_PARTY_SITE_ID__C",label:"CDH PARTY SITE ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONNECTIONRECEIVEDID",label:"Connectionreceivedid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONNECTIONSENTID",label:"Connectionsentid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_IMU_LY__C",label:"Contract Furniture IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_IMU_TY__C",label:"Contract Furniture IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_LAST_ORDER_AMT__C",label:"Contract Furniture LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_LY__C",label:"Contract Furniture LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_POT__C",label:"Contract Furniture POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_TY__C",label:"Contract Furniture TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"COPIERSTEXT__C",label:"Copierstext",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"COPIERS__C",label:"Copiers",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_IMU_LY__C",label:"CPD IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_IMU_TY__C",label:"CPD IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_LAST_ORDER_AMT__C",label:"CPD LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_LAST_ORDER_DT_TXT__C",label:"CPD LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_LY__C",label:"CPD LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_POT__C",label:"CPD POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_TOTAL_LY__C",label:"CPD TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_TY__C",label:"CPD TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CREATEDBYID",label:"Createdbyid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CREATEDDATE",label:"Createddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CUSTOMER_CREATE_DT_TXT__C",label:"Customer Create Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNBI_FSS_SCORE__C",label:"DNBI FSS SCORE",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNBI_MATCHSCORE__C",label:"DNBI Matchscore",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNB_WCW_HERE__C",label:"DNB WCW HERE",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNB_WCW_TOTAL__C",label:"DNB WCW TOTAL",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"EST_SPEND_CAD__C",label:"EST SPEND CAD",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"EST_SPEND__C",label:"EST SPEND",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"EXTERNAL_ACCOUNT_ID__C",label:"External Account ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_IMU_LY__C",label:"Filing Binding IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_IMU_TY__C",label:"Filing Binding IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_LAST_ORDER_AMT__C",label:"Filing Binding LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_LY__C",label:"Filing Binding LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_POT__C",label:"Filing Binding POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_TOTAL_LY__C",label:"Filing Binding TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_TY__C",label:"Filing Binding TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_LAST_ORDER_DT_TXT__C",label:"Filing LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FIRST_ORDER_DT_TXT__C",label:"FIRST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_IMU_LY__C",label:"Furniture IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_IMU_TY__C",label:"Furniture IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_LAST_ORDER_AMT__C",label:"Furniture LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_LY__C",label:"Furniture LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_POT__C",label:"Furniture POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_TOTAL_LY__C",label:"Furniture TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_TY__C",label:"Furniture TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURN_LAST_ORDER_DT_TXT__C",label:"FURN LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"GPARENT_GPID__C",label:"Gparent GPID",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ID",label:"ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_LAST_ORDER_DT_TXT__C",label:"INK LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_IMU_LY__C",label:"INK TONER IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_IMU_TY__C",label:"INK TONER IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_LAST_ORDER_AMT__C",label:"INK TONER LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_LY__C",label:"INK TONER LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_POT__C",label:"INK TONER POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_TOTAL_LY__C",label:"INK TONER TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_TY__C",label:"INK TONER TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ISDELETED",label:"Isdeleted",type:"Boolean",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_IMU_LY__C",label:"Labels FORMS IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_IMU_TY__C",label:"Labels FORMS IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_LAST_ORDER_AMT__C",label:"Labels FORMS LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_LY__C",label:"Labels FORMS LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_POT__C",label:"Labels FORMS POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_TOTAL_LY__C",label:"Labels FORMS TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_TY__C",label:"Labels FORMS TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_LAST_ORDER_DT_TXT__C",label:"Labels LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTMODIFIEDBYID",label:"Lastmodifiedbyid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTMODIFIEDDATE",label:"Lastmodifieddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTREFERENCEDDATE",label:"Lastreferenceddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTVIEWEDDATE",label:"Lastvieweddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_180_DAYS_SALES_AMT__C",label:"LAST 180 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_270_DAYS_SALES_AMT__C",label:"LAST 270 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_365_DAYS_SALES_AMT__C",label:"LAST 365 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_90_DAYS_SALES_AMT__C",label:"LAST 90 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_ORDER_DT_TXT__C",label:"LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LIKELY_TO_PURCHASE_FLG__C",label:"Likely TO Purchase Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MAX_ORDER_LIMIT__C",label:"MAX ORDER LIMIT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_IMU_LY__C",label:"Miscellaneous IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_IMU_TY__C",label:"Miscellaneous IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_LAST_ORDER_AMT__C",label:"Miscellaneous LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_LY__C",label:"Miscellaneous LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_POT__C",label:"Miscellaneous POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_TOTAL_LY__C",label:"Miscellaneous TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_TY__C",label:"Miscellaneous TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISC_LAST_ORDER_DT_TXT__C",label:"MISC LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTHLY_LY_IMU__C",label:"Monthly LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTHLY_LY__C",label:"Monthly LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTH_GOAL__C",label:"MONTH GOAL",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTH_SALES_FLG__C",label:"MONTH SALES Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_IMU_LY__C",label:"MPS IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_IMU_TY__C",label:"MPS IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_LAST_ORDER_AMT__C",label:"MPS LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_LAST_ORDER_DT_TXT__C",label:"MPS LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_LY__C",label:"MPS LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_POT__C",label:"MPS POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_TOTAL_LY__C",label:"MPS TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_TY__C",label:"MPS TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_LY_IMU__C",label:"MTD SALES LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_LY__C",label:"MTD SALES LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_TY_IMU__C",label:"MTD SALES TY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_TY__C",label:"MTD SALES TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"NAME",label:"NAME",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"NUM_OF_CATEGORIES__C",label:"NUM OF Categories",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"NUM_OF_ORDERS_SINCE_START__C",label:"NUM OF Orders SINCE START",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_IMU_LY__C",label:"Office Essentials IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_IMU_TY__C",label:"Office Essentials IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_LAST_ORDER_AMT__C",label:"Office Essentials LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_LY__C",label:"Office Essentials LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_POT__C",label:"Office Essentials POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_TOTAL_LY__C",label:"Office Essentials TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_TY__C",label:"Office Essentials TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_LAST_ORDER_DT_TXT__C",label:"Office LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OMAXPROSPECTSER_BATCH_PROCESSED__C",label:"Omaxprospectser BATCH Processed",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OPPORTUNITY_AMT__C",label:"Opportunity Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_CURRENT_MONTH__C",label:"Orders Current MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_CURRENT_QTR__C",label:"Orders Current QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_CURRENT_YR__C",label:"Orders Current YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_LAST_MONTH__C",label:"Orders LAST MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_LAST_QTR__C",label:"Orders LAST QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_LAST_YR__C",label:"Orders LAST YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_SINCE_START_COUNT__C",label:"Orders SINCE START COUNT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_SINCE_START_FLG__C",label:"Orders SINCE START Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDER_DT_TXT__C",label:"ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORGID__C",label:"ORGID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_ID_ROLLUP__C",label:"ORG ID Rollup",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_NUMBER_OF_LOCATIONS__C",label:"ORG Number OF Locations",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_WCW_COUNT_DB__C",label:"ORG WCW COUNT DB",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_WCW_COUNT_REP__C",label:"ORG WCW COUNT REP",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG__C",label:"ORG",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OWNERID",label:"Ownerid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_IMU_LY__C",label:"PAPER IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_IMU_TY__C",label:"PAPER IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_LAST_ORDER_AMT__C",label:"PAPER LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_LAST_ORDER_DT_TXT__C",label:"PAPER LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_LY__C",label:"PAPER LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_POT__C",label:"PAPER POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_TOTAL_LY__C",label:"PAPER TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_TY__C",label:"PAPER TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PARENT_ORG__C",label:"Parent ORG",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PARTNER_LY_HARDWARE_SALES__C",label:"Partner LY Hardware SALES",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PARTNER_LY_SERVICES_SALES__C",label:"Partner LY Services SALES",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PID_NUMERIC__C",label:"PID Numeric",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"POTENTIAL_AMOUNT__C",label:"Potential Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"POTENTIAL_PRINTERS__C",label:"Potential Printers",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_LY_IMU__C",label:"QTD SALES LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_LY__C",label:"QTD SALES LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_TY_IMU__C",label:"QTD SALES TY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_TY__C",label:"QTD SALES TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QUARTER_GOAL__C",label:"Quarter GOAL",type:"Number",key:!1,"description\r":""},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Related_Account__c",label:"Related Account",type:"Lookup",key:!1,"description\r":"Lookup to Account (Customer) used by Site records to reference parent Customer"}],WA=()=>{const e=()=>{const n=uf.unparse(eS),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(i),r=document.createElement("a");r.href=l,r.setAttribute("download","data_dictionary_schema.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)};return O.jsxs("div",{style:{padding:"20px",maxWidth:"1000px",margin:"0 auto",backgroundColor:"#fff",height:"100%",overflowY:"auto"},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx("h2",{children:"Data Dictionary & SQL Reference"}),O.jsx("button",{onClick:e,style:{padding:"10px 20px",backgroundColor:"#228be6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Export Dictionary (CSV)"})]}),O.jsx("p",{children:"Summary of objects, fields, and logic used in the SQL Export tool."}),O.jsx("div",{style:{textAlign:"center",margin:"30px 0"},children:O.jsx("img",{src:VA,alt:"Entity Relationship Diagram",style:{maxWidth:"100%",height:"auto",border:"1px solid #eee",borderRadius:"8px",padding:"10px",backgroundColor:"#fafafa"}})}),O.jsx("hr",{}),O.jsx("h3",{children:"1. Object Schema"}),O.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"13px"},children:[O.jsx("thead",{children:O.jsxs("tr",{style:{background:"#f1f3f5",textAlign:"left"},children:[O.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Object / Alias"}),O.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Snowflake Table"}),O.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Field Name (API)"}),O.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Label"}),O.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Type"}),O.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Description"})]})}),O.jsx("tbody",{children:eS.map((n,i)=>O.jsxs("tr",{children:[O.jsxs("td",{style:{padding:"8px",border:"1px solid #dee2e6",fontWeight:n.key?"bold":"normal"},children:[n.object," ",O.jsxs("span",{style:{fontSize:"10px",color:"#666"},children:["(",n.alias,")"]})]}),O.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6",fontSize:"11px",fontFamily:"monospace"},children:n.snowflakeTable}),O.jsxs("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:[n.apiName," ",n.key&&""]}),O.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:n.label}),O.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:n.type}),O.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:n.description})]},i))})]}),O.jsx("h3",{children:"2. SQL Logic Explanation"}),O.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #eee"},children:[O.jsx("p",{children:"The query is constructed in three parts based on your selections:"}),O.jsxs("ol",{children:[O.jsxs("li",{children:[O.jsx("strong",{children:'Base Selection (The "Site"):'}),O.jsxs("p",{style:{fontSize:"13px",color:"#555",marginBottom:"8px"},children:["We start by selecting records from the ",O.jsx("span",{style:{fontWeight:"bold"},children:"Site"})," table where the ",O.jsx("code",{children:"Zip__c"})," matches your map selection and the ",O.jsx("code",{children:"RecordType"})," is 'Site'."]})]}),O.jsxs("li",{children:[O.jsx("strong",{children:'Enrichment & Filtering (The "Parent" & "NAICS"):'}),O.jsxs("p",{style:{fontSize:"13px",color:"#555",marginBottom:"8px"},children:["If you apply any filters (Active Status, Sales, Dates) or NAICS codes, we ",O.jsx("span",{style:{color:"#228be6",fontWeight:"bold"},children:"LEFT JOIN"})," the ",O.jsx("span",{style:{fontWeight:"bold"},children:"Parent Account"})," table. This allows us to check the parent's status or sales figures without losing the Site record."]}),O.jsxs("p",{style:{fontSize:"13px",color:"#555",marginBottom:"8px"},children:["If NAICS filters are active, we further ",O.jsx("span",{style:{color:"#8e44ad",fontWeight:"bold"},children:"LEFT JOIN"})," the ",O.jsx("span",{style:{fontWeight:"bold"},children:"Organization"})," table to match the ",O.jsx("code",{children:"NAICS___c"})," code."]})]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Final Output:"}),O.jsx("p",{style:{fontSize:"13px",color:"#555"},children:"The result is a list of Site IDs (and optional details) that meet ALL criteria: located in the drawn area AND belonging to a Parent Account that matches your business rules."})]})]})]}),O.jsxs("div",{style:{marginTop:"30px"},children:[O.jsx("h3",{children:"3. Notes & Discussion"}),O.jsxs("div",{style:{padding:"15px",backgroundColor:"#FFF3CD",borderRadius:"4px",border:"1px solid #FFEEBA",color:"#856404"},children:[O.jsx("strong",{children:"Salesforce Team Note:"}),O.jsxs("p",{style:{margin:"10px 0 0 0"},children:["Suggest adding a field to the Contact record that counts the ",O.jsx("strong",{children:"Number of Opportunities"})," a Contact has been added to in their lifetime (e.g., ",O.jsx("code",{children:"Opportunity_Count__c"}),'). This would be a valuable metric for scoring "High Value" contacts and estimating our likelihood of engagement.']})]})]})]})},QA=()=>O.jsxs("div",{style:{padding:"40px",maxWidth:"900px",margin:"0 auto",backgroundColor:"#fff",height:"100%",overflowY:"auto"},children:[O.jsxs("div",{style:{padding:"20px",backgroundColor:"#fff3cd",border:"2px solid #ffecb5",borderRadius:"8px",marginBottom:"30px",color:"#856404"},children:[O.jsxs("h2",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"10px"},children:[O.jsx("span",{style:{fontSize:"24px"},children:""}),"PROOF OF CONCEPT DISCLAIMER"]}),O.jsxs("p",{style:{fontSize:"15px",lineHeight:"1.6",fontWeight:"500"},children:["This application is a ",O.jsx("strong",{children:"Rapid Prototype"})," designed to demonstrate business value. It is ",O.jsx("strong",{children:"NOT a production-ready system"}),"."]}),O.jsxs("ul",{style:{paddingLeft:"20px",marginTop:"10px"},children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Customization Required:"})," Business logic and field definitions need to be aligned with Organization specific requirements."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Data Verification:"})," All exported lists should be verified against the CRM source of truth before mass outreach."]})]})]}),O.jsx("h1",{children:"System Overview"}),O.jsx("p",{className:"lead",children:"Business Capabilities & Data Access"}),O.jsx("hr",{}),O.jsxs("div",{style:{padding:"20px",backgroundColor:"#e7f5ff",borderLeft:"5px solid #339af0",marginBottom:"30px"},children:[O.jsx("h3",{style:{marginTop:0,color:"#1864ab"},children:" Important: Data Scope"}),O.jsx("p",{children:O.jsx("strong",{children:"This tool does NOT contain or store Account Data."})}),O.jsxs("p",{children:["It is a ",O.jsx("strong",{children:"Geospatial Filter"})," only. Its purpose is to output:"]}),O.jsxs("ul",{style:{marginTop:"10px"},children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Zip Code Lists:"})," CSV files containing only Zip Codes affected by weather/hazards."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"SQL Queries:"})," Pre-written code that you copy and run in your secure Data Warehouse (Snowflake) to retrieve actual customer PII."]})]}),O.jsx("p",{style:{fontSize:"13px",fontStyle:"italic",marginBottom:0},children:"* No customer names, emails, or revenue figures are present within this application."})]}),O.jsxs("section",{style:{marginBottom:"30px"},children:[O.jsx("h2",{children:"1. Business Capabilities"}),O.jsxs("div",{style:{marginBottom:"20px"},children:[O.jsx("h3",{style:{color:"#fd7e14"},children:" Wildfire & Air Quality Response"}),O.jsxs("p",{children:[O.jsx("strong",{children:"Goal:"})," Identify customers impacted by smoke plumes or active fires to offer air quality support."]})]}),O.jsxs("div",{style:{marginBottom:"20px"},children:[O.jsx("h3",{style:{color:"#d63384"},children:" Extreme Weather Outreach"}),O.jsxs("p",{children:[O.jsx("strong",{children:"Goal:"})," Proactive service tailored to weather events (Winter Storms, Floods, Heat Waves)."]})]})]}),O.jsxs("section",{style:{marginBottom:"40px"},children:[O.jsx("h2",{children:"2. Step-by-Step User Guide"}),O.jsxs("div",{style:{marginBottom:"30px"},children:[O.jsx("h3",{children:"How to Generate a Customer List"}),O.jsxs("div",{style:{marginLeft:"20px",borderLeft:"2px solid #dee2e6",paddingLeft:"20px"},children:[O.jsxs("div",{style:{marginBottom:"20px"},children:[O.jsx("h4",{children:"Step 1: Select Hazard Mode"}),O.jsx("p",{children:"Choose the relevant environmental hazard from the tabs (Smoke, Winter, Heat, Flood, Respiratory)."}),O.jsx("div",{style:{height:"150px",backgroundColor:"#f1f3f5",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #adb5bd",borderRadius:"4px",color:"#868e96"},children:"[SCREENSHOT: Tab Navigation showing modes]"})]}),O.jsxs("div",{style:{marginBottom:"20px"},children:[O.jsx("h4",{children:"Step 2: Define Geographic Area"}),O.jsx("p",{children:"For Smoke/Fire, use the drawing tools to circle the impact zone. For Weather, the system automatically selects Zip Codes under active NWS Warnings."}),O.jsx("div",{style:{height:"200px",backgroundColor:"#f1f3f5",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #adb5bd",borderRadius:"4px",color:"#868e96"},children:"[SCREENSHOT: Map with drawn Polygon or NWS Warning Zones]"})]}),O.jsxs("div",{style:{marginBottom:"20px"},children:[O.jsx("h4",{children:"Step 3: Export or Generate SQL"}),O.jsxs("p",{children:["Click ",O.jsx("strong",{children:'"Export Zip List"'})," for a CSV file, or use the ",O.jsx("strong",{children:'"SQL Export"'})," panel to generate a query for Snowflake."]}),O.jsx("div",{style:{height:"150px",backgroundColor:"#f1f3f5",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #adb5bd",borderRadius:"4px",color:"#868e96"},children:"[SCREENSHOT: Export Buttons & SQL Panel]"})]})]})]})]}),O.jsxs("section",{style:{marginBottom:"30px"},children:[O.jsx("h2",{children:"3. Ready-Made Snowflake SQL"}),O.jsx("p",{children:"Copy these queries to extract data directly from your Snowflake Data Warehouse."}),O.jsxs("div",{style:{marginBottom:"25px"},children:[O.jsx("strong",{children:"A. Standard Site Extraction (By Zip Code)"}),O.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Use this to get a list of Sites within a list of Zip Codes."}),O.jsx("div",{style:{position:"relative",marginTop:"5px"},children:O.jsx("textarea",{readOnly:!0,style:{width:"100%",height:"120px",padding:"10px",fontFamily:"monospace",fontSize:"12px",backgroundColor:"#212529",color:"#f8f9fa",borderRadius:"4px",border:"none"},value:`SELECT 
  s.Id, 
  s.Name, 
  s.Zip__c, 
  s.Related_Account__c 
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT s
WHERE 
  s.Zip__c IN ('YOUR_ZIP_LIST_HERE') 
  AND s.RecordType = 'Site';`})})]}),O.jsxs("div",{style:{marginBottom:"25px"},children:[O.jsx("strong",{children:"B. High-Value Customer Segmentation"}),O.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Find Active customers with high sales volume in specific areas."}),O.jsx("div",{style:{position:"relative",marginTop:"5px"},children:O.jsx("textarea",{readOnly:!0,style:{width:"100%",height:"200px",padding:"10px",fontFamily:"monospace",fontSize:"12px",backgroundColor:"#212529",color:"#f8f9fa",borderRadius:"4px",border:"none"},value:`SELECT 
  s.Id as Site_Id, 
  s.Name as Site_Name, 
  c.Id as Customer_Id,
  c.Total_Sales_LY__c
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT s
JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT c ON s.Related_Account__c = c.Id
WHERE 
  s.Zip__c IN ('YOUR_ZIP_LIST_HERE') 
  AND c.Status__c = 'Active'
  AND c.Total_Sales_LY__c > 50000;`})})]})]})]}),KA=()=>{const[e,n]=Ut.useState("architecture");return O.jsx(xc,{leftPanel:O.jsxs("div",{style:{padding:"20px",overflowY:"auto",height:"100%"},children:[O.jsx("h3",{children:"Technical Hub"}),O.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px"},children:[O.jsx("button",{onClick:()=>n("architecture"),style:{padding:"10px",textAlign:"left",backgroundColor:e==="architecture"?"#e7f5ff":"transparent",border:"1px solid",borderColor:e==="architecture"?"#339af0":"#dee2e6",borderRadius:"4px",cursor:"pointer",fontWeight:e==="architecture"?"bold":"normal",color:e==="architecture"?"#1971c2":"#495057"},children:" Architecture Guide"}),O.jsx("button",{onClick:()=>n("dictionary"),style:{padding:"10px",textAlign:"left",backgroundColor:e==="dictionary"?"#e7f5ff":"transparent",border:"1px solid",borderColor:e==="dictionary"?"#339af0":"#dee2e6",borderRadius:"4px",cursor:"pointer",fontWeight:e==="dictionary"?"bold":"normal",color:e==="dictionary"?"#1971c2":"#495057"},children:" Data Dictionary & SQL"}),O.jsx("button",{onClick:()=>n("docs"),style:{padding:"10px",textAlign:"left",backgroundColor:e==="docs"?"#e7f5ff":"transparent",border:"1px solid",borderColor:e==="docs"?"#339af0":"#dee2e6",borderRadius:"4px",cursor:"pointer",fontWeight:e==="docs"?"bold":"normal",color:e==="docs"?"#1971c2":"#495057"},children:" System Documentation"})]}),e==="architecture"&&O.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"1px solid #ffeeba",borderRadius:"4px"},children:[O.jsx("strong",{children:" Critical Risk"}),O.jsx("p",{style:{fontSize:"11px",marginTop:"5px"},children:"CORS constraints in Salesforce will likely block direct client-side fetch calls initiated from LWC."})]})]}),mapContent:e==="architecture"?O.jsxs("div",{style:{padding:"40px",maxWidth:"900px",margin:"0 auto",overflowY:"auto",height:"100%",backgroundColor:"#fff"},children:[O.jsx("h1",{children:"Technical Solution: End-to-End Business Case"}),O.jsx("p",{children:O.jsx("strong",{children:"[RISK-ANNOTATED VERSION FOR SCRATCH ORG DEVELOPMENT]"})}),O.jsx("hr",{style:{margin:"20px 0"}}),O.jsx("h2",{children:"1. Executive Summary"}),O.jsxs("p",{children:['The objective is to enable Sales Operations to identify and act upon high-value "Customer" accounts based on environmental or geographic triggers affecting 50 million "Site" locations. The solution utilizes a high-performance ',O.jsx("strong",{children:"LWC Integration Service"})," to aggregate external real-time data via the JavaScript ",O.jsx("code",{children:"fetch"})," API, then triggers an asynchronous Snowflake/AWX pipeline to map those triggers to actionable CRM data."]}),O.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderLeft:"4px solid #0d6efd",margin:"15px 0"},children:[O.jsx("strong",{children:"Technical Limitation Callout:"}),O.jsx("br",{}),"The external API orchestration approach has been validated in a browser environment hosted via GitHub Pages and functions successfully in that context. However, it has ",O.jsx("strong",{children:"not yet been deployed or tested within a Salesforce scratch org"}),". Because Salesforce enforces additional security layers (CSP Trusted Sites, Lightning Web Security, and browser-origin CORS constraints), successful execution within Salesforce cannot be assumed until validated in a scratch org environment. APIs that function in GitHub-hosted JavaScript may still fail within Salesforce due to origin restrictions or preflight behavior differences."]}),O.jsxs("div",{style:{padding:"15px",background:"#fff3cd",borderLeft:"4px solid #ffc107",margin:"15px 0"},children:[O.jsx("strong",{children:" RISK ALERT - ARCHITECTURAL VALIDITY:"}),O.jsx("br",{}),"This entire approach assumes that external public APIs will accept requests from Salesforce Lightning origins (",O.jsx("code",{children:"*.lightning.force.com"}),", ",O.jsx("code",{children:"*.my.salesforce.com"}),"). ",O.jsx("strong",{children:"You cannot control whether external APIs allow Salesforce origins in their CORS headers."})," If the target APIs (NOAA, EPA, etc.) do not explicitly whitelist Salesforce domains in their ",O.jsx("code",{children:"Access-Control-Allow-Origin"})," response headers, all client-side ",O.jsx("code",{children:"fetch"})," calls will fail with CORS errors, and the entire LWC integration layer becomes non-functional. Test this immediately in scratch org before proceeding with development."]}),O.jsx("hr",{style:{margin:"20px 0"}}),O.jsx("h2",{children:"2. Architecture: The External Trigger & Async Pipeline"}),O.jsx("h3",{children:"Phase A: The LWC Integration Service (Client-Side Orchestration)"}),O.jsxs("p",{children:["The developer will build a sophisticated ",O.jsx("strong",{children:"LWC Service Layer"})," that handles external API orchestration using the JavaScript ",O.jsx("code",{children:"fetch"})," API."]}),O.jsxs("ol",{children:[O.jsxs("li",{children:[O.jsx("strong",{children:"External Fetch:"})," The LWC calls external REST APIs (e.g., NOAA, EPA) directly from the client browser. This offloads the networking overhead and prevents hitting Apex callout time limits.",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - CORS DEPENDENCY:"})," Client-side ",O.jsx("code",{children:"fetch"})," from LWC is subject to browser CORS policies. The external API server must return ",O.jsx("code",{children:"Access-Control-Allow-Origin"})," headers that include your Salesforce domain. ",O.jsx("strong",{children:"This is controlled by the API provider, not you."})," Many government/public APIs may not support Salesforce origins. Test each target API immediately."]})]}),O.jsx("br",{}),O.jsxs("li",{children:[O.jsx("strong",{children:"Security (CSP):"})," The developer must whitelist the API domains in ",O.jsx("strong",{children:"Setup > Trusted URLs"})," with the ",O.jsx("code",{children:"connect-src"})," directive enabled to allow browser-level communication.",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - CSP CONFIGURATION:"})," The correct Salesforce feature is ",O.jsx("strong",{children:"Setup > CSP Trusted Sites"}),' (not "Trusted URLs"). You must add each external API domain here. However, CSP configuration alone is insufficientthe external API must also cooperate with CORS headers. Both sides of the handshake must succeed.']}),O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - LIGHTNING WEB SECURITY:"})," Salesforce enforces Lightning Web Security (LWS), which creates a secure sandbox for LWC execution. Some JavaScript patterns that work in standard browsers may behave differently or be restricted under LWS. Test all ",O.jsx("code",{children:"fetch"})," operations, JSON parsing, and async operations in the actual Lightning runtime."]})]}),O.jsx("br",{}),O.jsxs("li",{children:[O.jsx("strong",{children:"CORS Validation Requirement:"})," Because Salesforce Lightning runs under domains such as ",O.jsx("code",{children:"*.lightning.force.com"})," or ",O.jsx("code",{children:"*.my.site.com"}),", the external APIs must explicitly permit those origins within their CORS configuration. Successful execution in GitHub Pages does not guarantee compatibility with Salesforce-hosted Lightning domains.",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - FUNDAMENTAL ASSUMPTION:"})," Reiterating: ",O.jsx("strong",{children:"You cannot make external APIs allow Salesforce origins."})," If NOAA/EPA/etc. do not already support Salesforce domains in their CORS policies (and most public APIs do not), this architecture requires fallback to an Apex proxy pattern, which reintroduces governor limits you're trying to avoid."]})]}),O.jsx("br",{}),O.jsxs("li",{children:[O.jsx("strong",{children:"The Hand-off:"})," The LWC parses the JSON response into a list of affected Zip Codes and creates a ",O.jsx("strong",{children:"Search_Request__c"})," record.",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - DML OPERATIONS:"})," Creating records from LWC requires calling an Apex method (LWC cannot directly perform DML). Ensure you've built an Apex controller with proper error handling. Each DML operation consumes governor limits (150 DML statements per transaction)."]}),O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - NAMED CREDENTIALS MISUNDERSTANDING:"})," Named Credentials ",O.jsx("strong",{children:"cannot be accessed directly from client-side LWC JavaScript"}),". They only work within Apex code. If your external APIs require authentication (API keys, OAuth tokens), you ",O.jsx("strong",{children:"must"}),` use an Apex proxy to retrieve credentials from Named Credentials and make the authenticated request. This contradicts the "client-side fetch" approachif authentication is needed, you're back to server-side Apex callouts with all their governor limits.`]}),O.jsxs("div",{style:{padding:"10px",background:"#f8d7da",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - API KEY EXPOSURE:"})," If you attempt to store API keys in Custom Metadata and retrieve them via JavaScript, ",O.jsx("strong",{children:"those keys will be visible in browser DevTools and network traffic"}),". This is a critical security vulnerability. Any API requiring authentication must use the Apex proxy pattern."]})]})]}),O.jsx("h3",{children:"Phase B: External Orchestration (AWX & Snowflake)"}),O.jsxs("ol",{children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Trigger:"})," A Platform Event or Trigger signals ",O.jsx("strong",{children:"AWX"})," that a new ",O.jsx("code",{children:"Search_Request__c"})," (containing the Zip list) is ready.",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - INTEGRATION MECHANISM UNDEFINED:"}),' Platform Events do not directly "signal" external systems. You need an explicit mechanism (Apex Trigger calling Webhook, or AWX Polling).']})]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Processing:"})," AWX queries ",O.jsx("strong",{children:"Snowflake"}),", which maintains a high-performance replica of the 50M Sites.",O.jsxs("div",{style:{padding:"10px",background:"#e2e3e5",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" OUT OF SCOPE FOR SCRATCH ORG TESTING:"})," Use mocked Apex responses for initial validation."]})]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Injection:"}),' AWX pushes the "Result Set" back into the Salesforce ',O.jsx("strong",{children:"Search_Result__c"})," junction object.",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - BULK API REQUIREMENTS:"})," Use Bulk API 2.0 for large result sets to avoid API limit exhaustion."]})]})]}),O.jsx("h3",{children:"Phase C: Action & Export (Salesforce)"}),O.jsxs("ol",{children:[O.jsxs("li",{children:[O.jsx("strong",{children:"Display:"})," The LWC polls the request status and renders the ",O.jsx("strong",{children:"Search_Result__c"})," list.",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - POLLING PATTERN:"})," Ensure proper cleanup and exponential backoff."]})]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Sales Action:"})," User selects contacts and chooses an action (Sales Cadence or Campaign).",O.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[O.jsx("strong",{children:" RISK - GOVERNOR LIMIT CASCADE:"})," Bulk creating CampaignMembers usually hits DML limits if not batched correctly via Async Apex."]})]})]}),O.jsx("hr",{style:{margin:"20px 0"}}),O.jsx("h2",{children:"3. Comparison of Data Retrieval Methods"}),O.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},border:"1",children:[O.jsx("thead",{children:O.jsxs("tr",{style:{background:"#f8f9fa"},children:[O.jsx("th",{style:{padding:"8px"},children:"Feature"}),O.jsx("th",{style:{padding:"8px"},children:"Client-Side (`fetch`)"}),O.jsx("th",{style:{padding:"8px"},children:"Server-Side (Apex Callout)"})]})}),O.jsxs("tbody",{children:[O.jsxs("tr",{children:[O.jsx("td",{style:{padding:"8px"},children:O.jsx("strong",{children:"Performance"})}),O.jsx("td",{style:{padding:"8px"},children:"High (Direct from browser)"}),O.jsx("td",{style:{padding:"8px"},children:"Moderate (SFDC as middleman)"})]}),O.jsxs("tr",{children:[O.jsx("td",{style:{padding:"8px"},children:O.jsx("strong",{children:"Governor Limits"})}),O.jsx("td",{style:{padding:"8px"},children:"None on Apex (Browser resources)"}),O.jsx("td",{style:{padding:"8px"},children:"Strict (Timeout & Heap limits)"})]}),O.jsxs("tr",{children:[O.jsx("td",{style:{padding:"8px"},children:O.jsx("strong",{children:"CORS/Security"})}),O.jsxs("td",{style:{padding:"8px",background:"#f8d7da"},children:[O.jsx("strong",{children:"Major Risk:"})," Requires External API Whitelisting"]}),O.jsx("td",{style:{padding:"8px"},children:"Managed via Named Credentials (More Compatible)"})]})]})]}),O.jsxs("div",{style:{padding:"15px",background:"#fff3cd",borderLeft:"4px solid #ffc107",margin:"15px 0"},children:[O.jsx("strong",{children:" RISK - SECURITY MISCONCEPTION:"}),O.jsx("br",{}),"Client-side approaches ",O.jsx("strong",{children:"expose all API URLs and request patterns"})," in browser DevTools. Server-side approaches keep integration details opaque to end users."]}),O.jsx("hr",{style:{margin:"20px 0"}}),O.jsx("h2",{children:"CRITICAL RISKS SUMMARY"}),O.jsxs("div",{style:{padding:"15px",background:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",marginBottom:"10px"},children:[O.jsx("h4",{style:{margin:"0 0 10px 0",color:"#721c24"},children:" BLOCKER RISKS (Will prevent functionality)"}),O.jsxs("ul",{style:{margin:0,paddingLeft:"20px"},children:[O.jsxs("li",{children:[O.jsx("strong",{children:"CORS Non-Cooperation:"})," External APIs may reject Salesforce origins entirely."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Named Credentials Misuse:"})," Cannot access from client-side LWC; requires Apex proxy."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Missing Integration:"})," Platform Events don't auto-trigger AWX; need explicit callout mechanism."]})]})]}),O.jsxs("div",{style:{padding:"15px",background:"#fff3cd",border:"1px solid #ffeeba",borderRadius:"4px"},children:[O.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" HIGH RISKS (Will require significant rework)"}),O.jsxs("ul",{style:{margin:0,paddingLeft:"20px"},children:[O.jsx("li",{children:"Lightning Web Security Restrictions."}),O.jsx("li",{children:"Governor Limits on Apex Callouts (if fallback needed)."}),O.jsx("li",{children:"API Authentication Requirements negate client-side approach."}),O.jsx("li",{children:"Campaign Member Bulk Operations require complex Async Apex."})]})]})]}):e==="dictionary"?O.jsx(WA,{}):O.jsx(QA,{}),rightPanel:O.jsxs("div",{style:{padding:"20px"},children:[O.jsx("h3",{children:"Notes"}),O.jsx("p",{children:"Use this document to guide scratch org validation planning."})]})})},$A=({title:e})=>O.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#f8f9fa"},children:[O.jsxs("h2",{children:[e," Mode"]}),O.jsx("p",{children:"This utility is currently under development."})]});console.log("!!! APP.JSX MODULE LOADED !!!");const tk=()=>{console.log("%c ODP Sales Utility v1.4.1 - 2026-02-19 (Heat Mode Winter Placeholder)","background: #222; color: #bada55; font-size: 14px; padding: 4px; border-radius: 4px;");const[n,i]=Ut.useState("smoke"),[l,r]=Ut.useState([]),[c,f]=Ut.useState(!0);Ut.useEffect(()=>{uf.parse("/smoke-zipcode-selector/zipcodes.csv",{download:!0,header:!0,skipEmptyLines:!0,complete:y=>{const v=[];y.data.forEach(E=>{const x=parseFloat(E.LATITUDE),D=parseFloat(E.LONGITUDE);!isNaN(x)&&!isNaN(D)&&v.push({zip:E.STD_ZIP5,lat:x,lng:D,city:E.USPS_ZIP_PREF_CITY_1221,state:E.USPS_ZIP_PREF_STATE_1221,county:E.USPS_ZIP_COUNTY_NAME})}),r(v),f(!1),console.log(`[App] Loaded ${v.length} zipcodes globally.`)},error:y=>{console.error("CSV Parse Error",y),f(!1)}})},[]);const g=()=>{switch(n){case"smoke":return O.jsx(tS,{zipCodes:l,zipLoading:c});case"winter":return O.jsx(UA,{zipCodes:l,zipLoading:c});case"heat":return O.jsx($A,{title:"Heat Mode (Coming Soon - Summer)"});case"flood":return O.jsx(YA,{zipCodes:l,zipLoading:c});case"flu":return O.jsx(JA,{zipCodes:l,zipLoading:c});case"technical":return O.jsx(KA,{});default:return O.jsx(tS,{zipCodes:l,zipLoading:c})}};return O.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",overflow:"hidden"},children:[O.jsx(CE,{activeTab:n,onTabChange:i}),O.jsx("div",{style:{flex:1,position:"relative",display:"flex",flexDirection:"column",minHeight:0},children:g()})]})};console.log("!!! MAIN.JSX EXECUTING !!!");TE.createRoot(document.getElementById("root")).render(O.jsx(Ut.StrictMode,{children:O.jsx(tk,{})}));
