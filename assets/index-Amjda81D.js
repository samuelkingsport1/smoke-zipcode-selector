(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(r){if(r.ep)return;r.ep=!0;const c=i(r);fetch(r.href,c)}})();function lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var i=function l(){var r=!1;try{r=this instanceof l}catch{}return r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(l){var r=Object.getOwnPropertyDescriptor(t,l);Object.defineProperty(i,l,r.get?r:{enumerable:!0,get:function(){return t[l]}})}),i}var cp={exports:{}},Bu={};var By;function mE(){if(By)return Bu;By=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,r,c){var f=null;if(c!==void 0&&(f=""+c),r.key!==void 0&&(f=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:t,type:l,key:f,ref:r!==void 0?r:null,props:c}}return Bu.Fragment=n,Bu.jsx=i,Bu.jsxs=i,Bu}var Fy;function _E(){return Fy||(Fy=1,cp.exports=mE()),cp.exports}var D=_E(),hp={exports:{}},mt={};var zy;function yE(){if(zy)return mt;zy=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),A=Symbol.iterator;function N(Y){return Y===null||typeof Y!="object"?null:(Y=A&&Y[A]||Y["@@iterator"],typeof Y=="function"?Y:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,se={};function re(Y,$,ce){this.props=Y,this.context=$,this.refs=se,this.updater=ce||B}re.prototype.isReactComponent={},re.prototype.setState=function(Y,$){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,$,"setState")},re.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function F(){}F.prototype=re.prototype;function X(Y,$,ce){this.props=Y,this.context=$,this.refs=se,this.updater=ce||B}var V=X.prototype=new F;V.constructor=X,J(V,re.prototype),V.isPureReactComponent=!0;var W=Array.isArray;function K(){}var ee={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function M(Y,$,ce){var pe=ce.ref;return{$$typeof:t,type:Y,key:$,ref:pe!==void 0?pe:null,props:ce}}function P(Y,$){return M(Y.type,$,Y.props)}function Z(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function q(Y){var $={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ce){return $[ce]})}var te=/\/+/g;function ne(Y,$){return typeof Y=="object"&&Y!==null&&Y.key!=null?q(""+Y.key):$.toString(36)}function ae(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(K,K):(Y.status="pending",Y.then(function($){Y.status==="pending"&&(Y.status="fulfilled",Y.value=$)},function($){Y.status==="pending"&&(Y.status="rejected",Y.reason=$)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function R(Y,$,ce,pe,ge){var Se=typeof Y;(Se==="undefined"||Se==="boolean")&&(Y=null);var De=!1;if(Y===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(Y.$$typeof){case t:case n:De=!0;break;case E:return De=Y._init,R(De(Y._payload),$,ce,pe,ge)}}if(De)return ge=ge(Y),De=pe===""?"."+ne(Y,0):pe,W(ge)?(ce="",De!=null&&(ce=De.replace(te,"$&/")+"/"),R(ge,$,ce,"",function(Me){return Me})):ge!=null&&(Z(ge)&&(ge=P(ge,ce+(ge.key==null||Y&&Y.key===ge.key?"":(""+ge.key).replace(te,"$&/")+"/")+De)),$.push(ge)),1;De=0;var he=pe===""?".":pe+":";if(W(Y))for(var Ie=0;Ie<Y.length;Ie++)pe=Y[Ie],Se=he+ne(pe,Ie),De+=R(pe,$,ce,Se,ge);else if(Ie=N(Y),typeof Ie=="function")for(Y=Ie.call(Y),Ie=0;!(pe=Y.next()).done;)pe=pe.value,Se=he+ne(pe,Ie++),De+=R(pe,$,ce,Se,ge);else if(Se==="object"){if(typeof Y.then=="function")return R(ae(Y),$,ce,pe,ge);throw $=String(Y),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return De}function j(Y,$,ce){if(Y==null)return Y;var pe=[],ge=0;return R(Y,pe,"","",function(Se){return $.call(ce,Se,ge++)}),pe}function z(Y){if(Y._status===-1){var $=Y._result;$=$(),$.then(function(ce){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ce)},function(ce){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ce)}),Y._status===-1&&(Y._status=0,Y._result=$)}if(Y._status===1)return Y._result.default;throw Y._result}var ie=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Q={map:j,forEach:function(Y,$,ce){j(Y,function(){$.apply(this,arguments)},ce)},count:function(Y){var $=0;return j(Y,function(){$++}),$},toArray:function(Y){return j(Y,function($){return $})||[]},only:function(Y){if(!Z(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return mt.Activity=x,mt.Children=Q,mt.Component=re,mt.Fragment=i,mt.Profiler=r,mt.PureComponent=X,mt.StrictMode=l,mt.Suspense=y,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,mt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return ee.H.useMemoCache(Y)}},mt.cache=function(Y){return function(){return Y.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(Y,$,ce){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var pe=J({},Y.props),ge=Y.key;if($!=null)for(Se in $.key!==void 0&&(ge=""+$.key),$)!k.call($,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&$.ref===void 0||(pe[Se]=$[Se]);var Se=arguments.length-2;if(Se===1)pe.children=ce;else if(1<Se){for(var De=Array(Se),he=0;he<Se;he++)De[he]=arguments[he+2];pe.children=De}return M(Y.type,ge,pe)},mt.createContext=function(Y){return Y={$$typeof:f,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:c,_context:Y},Y},mt.createElement=function(Y,$,ce){var pe,ge={},Se=null;if($!=null)for(pe in $.key!==void 0&&(Se=""+$.key),$)k.call($,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(ge[pe]=$[pe]);var De=arguments.length-2;if(De===1)ge.children=ce;else if(1<De){for(var he=Array(De),Ie=0;Ie<De;Ie++)he[Ie]=arguments[Ie+2];ge.children=he}if(Y&&Y.defaultProps)for(pe in De=Y.defaultProps,De)ge[pe]===void 0&&(ge[pe]=De[pe]);return M(Y,Se,ge)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(Y){return{$$typeof:g,render:Y}},mt.isValidElement=Z,mt.lazy=function(Y){return{$$typeof:E,_payload:{_status:-1,_result:Y},_init:z}},mt.memo=function(Y,$){return{$$typeof:v,type:Y,compare:$===void 0?null:$}},mt.startTransition=function(Y){var $=ee.T,ce={};ee.T=ce;try{var pe=Y(),ge=ee.S;ge!==null&&ge(ce,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(K,ie)}catch(Se){ie(Se)}finally{$!==null&&ce.types!==null&&($.types=ce.types),ee.T=$}},mt.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},mt.use=function(Y){return ee.H.use(Y)},mt.useActionState=function(Y,$,ce){return ee.H.useActionState(Y,$,ce)},mt.useCallback=function(Y,$){return ee.H.useCallback(Y,$)},mt.useContext=function(Y){return ee.H.useContext(Y)},mt.useDebugValue=function(){},mt.useDeferredValue=function(Y,$){return ee.H.useDeferredValue(Y,$)},mt.useEffect=function(Y,$){return ee.H.useEffect(Y,$)},mt.useEffectEvent=function(Y){return ee.H.useEffectEvent(Y)},mt.useId=function(){return ee.H.useId()},mt.useImperativeHandle=function(Y,$,ce){return ee.H.useImperativeHandle(Y,$,ce)},mt.useInsertionEffect=function(Y,$){return ee.H.useInsertionEffect(Y,$)},mt.useLayoutEffect=function(Y,$){return ee.H.useLayoutEffect(Y,$)},mt.useMemo=function(Y,$){return ee.H.useMemo(Y,$)},mt.useOptimistic=function(Y,$){return ee.H.useOptimistic(Y,$)},mt.useReducer=function(Y,$,ce){return ee.H.useReducer(Y,$,ce)},mt.useRef=function(Y){return ee.H.useRef(Y)},mt.useState=function(Y){return ee.H.useState(Y)},mt.useSyncExternalStore=function(Y,$,ce){return ee.H.useSyncExternalStore(Y,$,ce)},mt.useTransition=function(){return ee.H.useTransition()},mt.version="19.2.3",mt}var jy;function cg(){return jy||(jy=1,hp.exports=yE()),hp.exports}var je=cg();const Ra=lo(je);var fp={exports:{}},Fu={},dp={exports:{}},pp={};var Uy;function vE(){return Uy||(Uy=1,(function(t){function n(R,j){var z=R.length;R.push(j);e:for(;0<z;){var ie=z-1>>>1,Q=R[ie];if(0<r(Q,j))R[ie]=j,R[z]=Q,z=ie;else break e}}function i(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var j=R[0],z=R.pop();if(z!==j){R[0]=z;e:for(var ie=0,Q=R.length,Y=Q>>>1;ie<Y;){var $=2*(ie+1)-1,ce=R[$],pe=$+1,ge=R[pe];if(0>r(ce,z))pe<Q&&0>r(ge,ce)?(R[ie]=ge,R[pe]=z,ie=pe):(R[ie]=ce,R[$]=z,ie=$);else if(pe<Q&&0>r(ge,z))R[ie]=ge,R[pe]=z,ie=pe;else break e}}return j}function r(R,j){var z=R.sortIndex-j.sortIndex;return z!==0?z:R.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();t.unstable_now=function(){return f.now()-g}}var y=[],v=[],E=1,x=null,A=3,N=!1,B=!1,J=!1,se=!1,re=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function V(R){for(var j=i(v);j!==null;){if(j.callback===null)l(v);else if(j.startTime<=R)l(v),j.sortIndex=j.expirationTime,n(y,j);else break;j=i(v)}}function W(R){if(J=!1,V(R),!B)if(i(y)!==null)B=!0,K||(K=!0,q());else{var j=i(v);j!==null&&ae(W,j.startTime-R)}}var K=!1,ee=-1,k=5,M=-1;function P(){return se?!0:!(t.unstable_now()-M<k)}function Z(){if(se=!1,K){var R=t.unstable_now();M=R;var j=!0;try{e:{B=!1,J&&(J=!1,F(ee),ee=-1),N=!0;var z=A;try{t:{for(V(R),x=i(y);x!==null&&!(x.expirationTime>R&&P());){var ie=x.callback;if(typeof ie=="function"){x.callback=null,A=x.priorityLevel;var Q=ie(x.expirationTime<=R);if(R=t.unstable_now(),typeof Q=="function"){x.callback=Q,V(R),j=!0;break t}x===i(y)&&l(y),V(R)}else l(y);x=i(y)}if(x!==null)j=!0;else{var Y=i(v);Y!==null&&ae(W,Y.startTime-R),j=!1}}break e}finally{x=null,A=z,N=!1}j=void 0}}finally{j?q():K=!1}}}var q;if(typeof X=="function")q=function(){X(Z)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=Z,q=function(){ne.postMessage(null)}}else q=function(){re(Z,0)};function ae(R,j){ee=re(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(R){switch(A){case 1:case 2:case 3:var j=3;break;default:j=A}var z=A;A=j;try{return R()}finally{A=z}},t.unstable_requestPaint=function(){se=!0},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=A;A=R;try{return j()}finally{A=z}},t.unstable_scheduleCallback=function(R,j,z){var ie=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ie+z:ie):z=ie,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,R={id:E++,callback:j,priorityLevel:R,startTime:z,expirationTime:Q,sortIndex:-1},z>ie?(R.sortIndex=z,n(v,R),i(y)===null&&R===i(v)&&(J?(F(ee),ee=-1):J=!0,ae(W,z-ie))):(R.sortIndex=Q,n(y,R),B||N||(B=!0,K||(K=!0,q()))),R},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(R){var j=A;return function(){var z=A;A=j;try{return R.apply(this,arguments)}finally{A=z}}}})(pp)),pp}var Yy;function SE(){return Yy||(Yy=1,dp.exports=vE()),dp.exports}var gp={exports:{}},Ai={};var Gy;function xE(){if(Gy)return Ai;Gy=1;var t=cg();function n(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,v,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:y,containerInfo:v,implementation:E}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ai.createPortal=function(y,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return c(y,v,null,E)},Ai.flushSync=function(y){var v=f.T,E=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=v,l.p=E,l.d.f()}},Ai.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},Ai.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Ai.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var E=v.as,x=g(E,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,N=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:N}):E==="script"&&l.d.X(y,{crossOrigin:x,integrity:A,fetchPriority:N,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ai.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=g(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},Ai.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,x=g(E,v.crossOrigin);l.d.L(y,E,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ai.preloadModule=function(y,v){if(typeof y=="string")if(v){var E=g(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},Ai.requestFormReset=function(y){l.d.r(y)},Ai.unstable_batchedUpdates=function(y,v){return y(v)},Ai.useFormState=function(y,v,E){return f.H.useFormState(y,v,E)},Ai.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ai.version="19.2.3",Ai}var qy;function iS(){if(qy)return gp.exports;qy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),gp.exports=xE(),gp.exports}var Hy;function EE(){if(Hy)return Fu;Hy=1;var t=SE(),n=cg(),i=iS();function l(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var a=e,h=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(h=a.return),e=a.return;while(e)}return a.tag===3?h:null}function f(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function g(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(l(188))}function v(e){var a=e.alternate;if(!a){if(a=c(e),a===null)throw Error(l(188));return a!==e?null:e}for(var h=e,_=a;;){var T=h.return;if(T===null)break;var w=T.alternate;if(w===null){if(_=T.return,_!==null){h=_;continue}break}if(T.child===w.child){for(w=T.child;w;){if(w===h)return y(T),e;if(w===_)return y(T),a;w=w.sibling}throw Error(l(188))}if(h.return!==_.return)h=T,_=w;else{for(var G=!1,ue=T.child;ue;){if(ue===h){G=!0,h=T,_=w;break}if(ue===_){G=!0,_=T,h=w;break}ue=ue.sibling}if(!G){for(ue=w.child;ue;){if(ue===h){G=!0,h=w,_=T;break}if(ue===_){G=!0,_=w,h=T;break}ue=ue.sibling}if(!G)throw Error(l(189))}}if(h.alternate!==_)throw Error(l(190))}if(h.tag!==3)throw Error(l(188));return h.stateNode.current===h?e:a}function E(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=E(e),a!==null)return a;e=e.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),X=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case re:return"Profiler";case se:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case X:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case V:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return a=e.displayName||null,a!==null?a:ne(e.type)||"Memo";case k:a=e._payload,e=e._init;try{return ne(e(a))}catch{}}return null}var ae=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},ie=[],Q=-1;function Y(e){return{current:e}}function $(e){0>Q||(e.current=ie[Q],ie[Q]=null,Q--)}function ce(e,a){Q++,ie[Q]=e.current,e.current=a}var pe=Y(null),ge=Y(null),Se=Y(null),De=Y(null);function he(e,a){switch(ce(Se,a),ce(ge,e),ce(pe,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?sy(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=sy(a),e=oy(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(pe),ce(pe,e)}function Ie(){$(pe),$(ge),$(Se)}function Me(e){e.memoizedState!==null&&ce(De,e);var a=pe.current,h=oy(a,e.type);a!==h&&(ce(ge,e),ce(pe,h))}function Ae(e){ge.current===e&&($(pe),$(ge)),De.current===e&&($(De),Mu._currentValue=z)}var fe,Xe;function Ze(e){if(fe===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);fe=a&&a[1]||"",Xe=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+e+Xe}var Fe=!1;function Ue(e,a){if(!e||Fe)return"";Fe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(a){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(ke){var Le=ke}Reflect.construct(e,[],Be)}else{try{Be.call()}catch(ke){Le=ke}e.call(Be.prototype)}}else{try{throw Error()}catch(ke){Le=ke}(Be=e())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(ke){if(ke&&Le&&typeof ke.stack=="string")return[ke.stack,Le.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=_.DetermineComponentFrameRoot(),G=w[0],ue=w[1];if(G&&ue){var _e=G.split(`
`),we=ue.split(`
`);for(T=_=0;_<_e.length&&!_e[_].includes("DetermineComponentFrameRoot");)_++;for(;T<we.length&&!we[T].includes("DetermineComponentFrameRoot");)T++;if(_===_e.length||T===we.length)for(_=_e.length-1,T=we.length-1;1<=_&&0<=T&&_e[_]!==we[T];)T--;for(;1<=_&&0<=T;_--,T--)if(_e[_]!==we[T]){if(_!==1||T!==1)do if(_--,T--,0>T||_e[_]!==we[T]){var Ne=`
`+_e[_].replace(" at new "," at ");return e.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",e.displayName)),Ne}while(1<=_&&0<=T);break}}}finally{Fe=!1,Error.prepareStackTrace=h}return(h=e?e.displayName||e.name:"")?Ze(h):""}function wt(e,a){switch(e.tag){case 26:case 27:case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return e.child!==a&&a!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return Ue(e.type,!1);case 11:return Ue(e.type.render,!1);case 1:return Ue(e.type,!0);case 31:return Ze("Activity");default:return""}}function ht(e){try{var a="",h=null;do a+=wt(e,h),h=e,e=e.return;while(e);return a}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}var Oe=Object.prototype.hasOwnProperty,Jt=t.unstable_scheduleCallback,ei=t.unstable_cancelCallback,gn=t.unstable_shouldYield,Ui=t.unstable_requestPaint,He=t.unstable_now,Tn=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,yn=t.unstable_UserBlockingPriority,Je=t.unstable_NormalPriority,Jr=t.unstable_LowPriority,_t=t.unstable_IdlePriority,it=t.log,xi=t.unstable_setDisableYieldValue,vn=null,Nn=null;function $e(e){if(typeof it=="function"&&xi(e),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(vn,e)}catch{}}var di=Math.clz32?Math.clz32:Ei,Fa=Math.log,fo=Math.LN2;function Ei(e){return e>>>=0,e===0?32:31-(Fa(e)/fo|0)|0}var hr=256,li=262144,ha=4194304;function Yi(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bs(e,a,h){var _=e.pendingLanes;if(_===0)return 0;var T=0,w=e.suspendedLanes,G=e.pingedLanes;e=e.warmLanes;var ue=_&134217727;return ue!==0?(_=ue&~w,_!==0?T=Yi(_):(G&=ue,G!==0?T=Yi(G):h||(h=ue&~e,h!==0&&(T=Yi(h))))):(ue=_&~w,ue!==0?T=Yi(ue):G!==0?T=Yi(G):h||(h=_&~e,h!==0&&(T=Yi(h)))),T===0?0:a!==0&&a!==T&&(a&w)===0&&(w=T&-T,h=a&-a,w>=h||w===32&&(h&4194048)!==0)?a:T}function fa(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Vr(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ye(){var e=ha;return ha<<=1,(ha&62914560)===0&&(ha=4194304),e}function da(e){for(var a=[],h=0;31>h;h++)a.push(e);return a}function Gi(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function za(e,a,h,_,T,w){var G=e.pendingLanes;e.pendingLanes=h,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=h,e.entangledLanes&=h,e.errorRecoveryDisabledLanes&=h,e.shellSuspendCounter=0;var ue=e.entanglements,_e=e.expirationTimes,we=e.hiddenUpdates;for(h=G&~h;0<h;){var Ne=31-di(h),Be=1<<Ne;ue[Ne]=0,_e[Ne]=-1;var Le=we[Ne];if(Le!==null)for(we[Ne]=null,Ne=0;Ne<Le.length;Ne++){var ke=Le[Ne];ke!==null&&(ke.lane&=-536870913)}h&=~Be}_!==0&&po(e,_,0),w!==0&&T===0&&e.tag!==0&&(e.suspendedLanes|=w&~(G&~a))}function po(e,a,h){e.pendingLanes|=a,e.suspendedLanes&=~a;var _=31-di(a);e.entangledLanes|=a,e.entanglements[_]=e.entanglements[_]|1073741824|h&261930}function Ts(e,a){var h=e.entangledLanes|=a;for(e=e.entanglements;h;){var _=31-di(h),T=1<<_;T&a|e[_]&a&&(e[_]|=a),h&=~T}}function go(e,a){var h=a&-a;return h=(h&42)!==0?1:On(h),(h&(e.suspendedLanes|a))!==0?0:h}function On(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ke(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pa(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:ky(e.type))}function mo(e,a){var h=j.p;try{return j.p=e,a()}finally{j.p=h}}var qi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+qi,jt="__reactProps$"+qi,fr="__reactContainer$"+qi,bi="__reactEvents$"+qi,Dr="__reactListeners$"+qi,Wr="__reactHandles$"+qi,ws="__reactResources$"+qi,Ar="__reactMarker$"+qi;function Qr(e){delete e[Mn],delete e[jt],delete e[bi],delete e[Dr],delete e[Wr]}function $t(e){var a=e[Mn];if(a)return a;for(var h=e.parentNode;h;){if(a=h[fr]||h[Mn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(e=py(e);e!==null;){if(h=e[Mn])return h;e=py(e)}return a}e=h,h=e.parentNode}return null}function ga(e){if(e=e[Mn]||e[fr]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function kr(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(l(33))}function dr(e){var a=e[ws];return a||(a=e[ws]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function dn(e){e[Ar]=!0}var Cs=new Set,Ls={};function Nr(e,a){Or(e,a),Or(e+"Capture",a)}function Or(e,a){for(Ls[e]=a,e=0;e<a.length;e++)Cs.add(a[e])}var ti=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},ja={};function Hi(e){return Oe.call(ja,e)?!0:Oe.call(Mr,e)?!1:ti.test(e)?ja[e]=!0:(Mr[e]=!0,!1)}function St(e,a,h){if(Hi(a))if(h===null)e.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var _=a.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+h)}}function Kt(e,a,h){if(h===null)e.removeAttribute(a);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+h)}}function Ti(e,a,h,_){if(_===null)e.removeAttribute(h);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(h);return}e.setAttributeNS(a,h,""+_)}}function Bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rr(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ds(e,a,h){var _=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var T=_.get,w=_.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return T.call(this)},set:function(G){h=""+G,w.call(this,G)}}),Object.defineProperty(e,a,{enumerable:_.enumerable}),{getValue:function(){return h},setValue:function(G){h=""+G},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ft(e){if(!e._valueTracker){var a=Rr(e)?"checked":"value";e._valueTracker=Ds(e,a,""+e[a])}}function Pt(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var h=a.getValue(),_="";return e&&(_=Rr(e)?e.checked?"true":"false":e.value),e=_,e!==h?(a.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ua=/[\n"\\]/g;function Ut(e){return e.replace(Ua,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _o(e,a,h,_,T,w,G,ue){e.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?e.type=G:e.removeAttribute("type"),a!=null?G==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Bn(a)):e.value!==""+Bn(a)&&(e.value=""+Bn(a)):G!=="submit"&&G!=="reset"||e.removeAttribute("value"),a!=null?pr(e,G,Bn(a)):h!=null?pr(e,G,Bn(h)):_!=null&&e.removeAttribute("value"),T==null&&w!=null&&(e.defaultChecked=!!w),T!=null&&(e.checked=T&&typeof T!="function"&&typeof T!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?e.name=""+Bn(ue):e.removeAttribute("name")}function Ya(e,a,h,_,T,w,G,ue){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.type=w),a!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){ft(e);return}h=h!=null?""+Bn(h):"",a=a!=null?""+Bn(a):h,ue||a===e.value||(e.value=a),e.defaultValue=a}_=_??T,_=typeof _!="function"&&typeof _!="symbol"&&!!_,e.checked=ue?e.checked:!!_,e.defaultChecked=!!_,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(e.name=G),ft(e)}function pr(e,a,h){a==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+h||(e.defaultValue=""+h)}function en(e,a,h,_){if(e=e.options,a){a={};for(var T=0;T<h.length;T++)a["$"+h[T]]=!0;for(h=0;h<e.length;h++)T=a.hasOwnProperty("$"+e[h].value),e[h].selected!==T&&(e[h].selected=T),T&&_&&(e[h].defaultSelected=!0)}else{for(h=""+Bn(h),a=null,T=0;T<e.length;T++){if(e[T].value===h){e[T].selected=!0,_&&(e[T].defaultSelected=!0);return}a!==null||e[T].disabled||(a=e[T])}a!==null&&(a.selected=!0)}}function gr(e,a,h){if(a!=null&&(a=""+Bn(a),a!==e.value&&(e.value=a),h==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=h!=null?""+Bn(h):""}function Zi(e,a,h,_){if(a==null){if(_!=null){if(h!=null)throw Error(l(92));if(ae(_)){if(1<_.length)throw Error(l(93));_=_[0]}h=_}h==null&&(h=""),a=h}h=Bn(a),e.defaultValue=h,_=e.textContent,_===h&&_!==""&&_!==null&&(e.value=_),ft(e)}function Mi(e,a){if(a){var h=e.firstChild;if(h&&h===e.lastChild&&h.nodeType===3){h.nodeValue=a;return}}e.textContent=a}var yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kr(e,a,h){var _=a.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?_?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":_?e.setProperty(a,h):typeof h!="number"||h===0||yo.has(a)?a==="float"?e.cssFloat=h:e[a]=(""+h).trim():e[a]=h+"px"}function As(e,a,h){if(a!=null&&typeof a!="object")throw Error(l(62));if(e=e.style,h!=null){for(var _ in h)!h.hasOwnProperty(_)||a!=null&&a.hasOwnProperty(_)||(_.indexOf("--")===0?e.setProperty(_,""):_==="float"?e.cssFloat="":e[_]="");for(var T in a)_=a[T],a.hasOwnProperty(T)&&h[T]!==_&&Kr(e,T,_)}else for(var w in a)a.hasOwnProperty(w)&&Kr(e,w,a[w])}function $r(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ui(){}var ni=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _r=null,st=null;function Ri(e){var a=ga(e);if(a&&(e=a.stateNode)){var h=e[jt]||null;e:switch(e=a.stateNode,a.type){case"input":if(_o(e,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),a=h.name,h.type==="radio"&&a!=null){for(h=e;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ut(""+a)+'"][type="radio"]'),a=0;a<h.length;a++){var _=h[a];if(_!==e&&_.form===e.form){var T=_[jt]||null;if(!T)throw Error(l(90));_o(_,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(a=0;a<h.length;a++)_=h[a],_.form===e.form&&Pt(_)}break e;case"textarea":gr(e,h.value,h.defaultValue);break e;case"select":a=h.value,a!=null&&en(e,!!h.multiple,a,!1)}}}var zt=!1;function _a(e,a,h){if(zt)return e(a,h);zt=!0;try{var _=e(a);return _}finally{if(zt=!1,(_r!==null||st!==null)&&(ih(),_r&&(a=_r,e=st,st=_r=null,Ri(a),e)))for(a=0;a<e.length;a++)Ri(e[a])}}function ea(e,a){var h=e.stateNode;if(h===null)return null;var _=h[jt]||null;if(_===null)return null;h=_[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(e=e.type,_=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!_;break e;default:e=!1}if(e)return null;if(h&&typeof h!="function")throw Error(l(231,a,typeof h));return h}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tt=!1;if(wi)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Tt=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Tt=!1}var Ci=null,Ir=null,rn=null;function yr(){if(rn)return rn;var e,a=Ir,h=a.length,_,T="value"in Ci?Ci.value:Ci.textContent,w=T.length;for(e=0;e<h&&a[e]===T[e];e++);var G=h-e;for(_=1;_<=G&&a[h-_]===T[w-_];_++);return rn=T.slice(e,1<_?1-_:void 0)}function wn(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function ks(){return!1}function Yn(e){function a(h,_,T,w,G){this._reactName=h,this._targetInst=T,this.type=_,this.nativeEvent=w,this.target=G,this.currentTarget=null;for(var ue in e)e.hasOwnProperty(ue)&&(h=e[ue],this[ue]=h?h(w):w[ue]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ya:ks,this.isPropagationStopped=ks,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),a}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Yn(Xi),ta=x({},Xi,{view:0,detail:0}),dt=Yn(ta),va,gi,xn,Ji=x({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(va=e.screenX-xn.screenX,gi=e.screenY-xn.screenY):gi=va=0,xn=e),va)},movementY:function(e){return"movementY"in e?e.movementY:gi}}),Qo=Yn(Ji),Pr=x({},Ji,{dataTransfer:0}),Ko=Yn(Pr),na=x({},ta,{relatedTarget:0}),vo=Yn(na),Vi=x({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Os=Yn(Vi),$l=x({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wi=Yn($l),eu=x({},Xi,{data:0}),So=Yn(eu),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},el={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vr(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=el[e])?!!a[e]:!1}function ii(){return vr}var tl=x({},ta,{key:function(e){if(e.key){var a=Br[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$o[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(e){return e.type==="keypress"?wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xo=Yn(tl),tu=x({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=Yn(tu),Rs=x({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),Eo=Yn(Rs),bo=x({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Li=Yn(bo),Ga=x({},Ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=Yn(Ga),qa=x({},Xi,{newState:0,oldState:0}),Ha=Yn(qa),mi=[9,13,27,32],Za=wi&&"CompositionEvent"in window,ia=null;wi&&"documentMode"in document&&(ia=document.documentMode);var To=wi&&"TextEvent"in window&&!ia,Is=wi&&(!Za||ia&&8<ia&&11>=ia),Ps=" ",nl=!1;function il(e,a){switch(e){case"keyup":return mi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function Ii(e,a){switch(e){case"compositionend":return wo(a);case"keypress":return a.which!==32?null:(nl=!0,Ps);case"textInput":return e=a.data,e===Ps&&nl?null:e;default:return null}}function xa(e,a){if(Sa)return e==="compositionend"||!Za&&il(e,a)?(e=yr(),rn=Ir=Ci=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Is&&a.locale!=="ko"?null:a.data;default:return null}}var rl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qi(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!rl[e.type]:a==="textarea"}function Co(e,a,h,_){_r?st?st.push(_):st=[_]:_r=_,a=ch(a,"onChange"),0<a.length&&(h=new Ns("onChange","change",null,h,_),e.push({event:h,listeners:a}))}var Ki=null,Xa=null;function Ja(e){ey(e,0)}function Va(e){var a=kr(e);if(Pt(a))return e}function Wa(e,a){if(e==="change")return a}var al=!1;if(wi){var $i;if(wi){var ra="oninput"in document;if(!ra){var Lo=document.createElement("div");Lo.setAttribute("oninput","return;"),ra=typeof Lo.oninput=="function"}$i=ra}else $i=!1;al=$i&&(!document.documentMode||9<document.documentMode)}function Qa(){Ki&&(Ki.detachEvent("onpropertychange",sl),Xa=Ki=null)}function sl(e){if(e.propertyName==="value"&&Va(Xa)){var a=[];Co(a,Xa,e,Un(e)),_a(Ja,a)}}function er(e,a,h){e==="focusin"?(Qa(),Ki=a,Xa=h,Ki.attachEvent("onpropertychange",sl)):e==="focusout"&&Qa()}function Do(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Va(Xa)}function Ea(e,a){if(e==="click")return Va(a)}function ol(e,a){if(e==="input"||e==="change")return Va(a)}function tr(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var Gn=typeof Object.is=="function"?Object.is:tr;function ba(e,a){if(Gn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var h=Object.keys(e),_=Object.keys(a);if(h.length!==_.length)return!1;for(_=0;_<h.length;_++){var T=h[_];if(!Oe.call(a,T)||!Gn(e[T],a[T]))return!1}return!0}function Sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ka(e,a){var h=Sr(e);e=0;for(var _;h;){if(h.nodeType===3){if(_=e+h.textContent.length,e<=a&&_>=a)return{node:h,offset:a-e};e=_}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Sr(h)}}function $a(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?$a(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function qn(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=pi(e.document);a instanceof e.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)e=a.contentWindow;else break;a=pi(e.document)}return a}function Fn(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var p=wi&&"documentMode"in document&&11>=document.documentMode,s=null,o=null,d=null,S=!1;function C(e,a,h){var _=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;S||s==null||s!==pi(_)||(_=s,"selectionStart"in _&&Fn(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),d&&ba(d,_)||(d=_,_=ch(o,"onSelect"),0<_.length&&(a=new Ns("onSelect","select",null,a,h),e.push({event:a,listeners:_}),a.target=s)))}function I(e,a){var h={};return h[e.toLowerCase()]=a.toLowerCase(),h["Webkit"+e]="webkit"+a,h["Moz"+e]="moz"+a,h}var H={animationend:I("Animation","AnimationEnd"),animationiteration:I("Animation","AnimationIteration"),animationstart:I("Animation","AnimationStart"),transitionrun:I("Transition","TransitionRun"),transitionstart:I("Transition","TransitionStart"),transitioncancel:I("Transition","TransitionCancel"),transitionend:I("Transition","TransitionEnd")},le={},de={};wi&&(de=document.createElement("div").style,"AnimationEvent"in window||(delete H.animationend.animation,delete H.animationiteration.animation,delete H.animationstart.animation),"TransitionEvent"in window||delete H.transitionend.transition);function ye(e){if(le[e])return le[e];if(!H[e])return e;var a=H[e],h;for(h in a)if(a.hasOwnProperty(h)&&h in de)return le[e]=a[h];return e}var be=ye("animationend"),ze=ye("animationiteration"),Ge=ye("animationstart"),Ve=ye("transitionrun"),tt=ye("transitionstart"),Ct=ye("transitioncancel"),gt=ye("transitionend"),Yt=new Map,an="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");an.push("scrollEnd");function Wt(e,a){Yt.set(e,a),Nr(a,[e])}var Pi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hn=[],ri=0,es=0;function Ta(){for(var e=ri,a=es=ri=0;a<e;){var h=Hn[a];Hn[a++]=null;var _=Hn[a];Hn[a++]=null;var T=Hn[a];Hn[a++]=null;var w=Hn[a];if(Hn[a++]=null,_!==null&&T!==null){var G=_.pending;G===null?T.next=T:(T.next=G.next,G.next=T),_.pending=T}w!==0&&Fr(h,T,w)}}function xr(e,a,h,_){Hn[ri++]=e,Hn[ri++]=a,Hn[ri++]=h,Hn[ri++]=_,es|=_,e.lanes|=_,e=e.alternate,e!==null&&(e.lanes|=_)}function Bs(e,a,h,_){return xr(e,a,h,_),aa(e)}function Bi(e,a){return xr(e,null,null,a),aa(e)}function Fr(e,a,h){e.lanes|=h;var _=e.alternate;_!==null&&(_.lanes|=h);for(var T=!1,w=e.return;w!==null;)w.childLanes|=h,_=w.alternate,_!==null&&(_.childLanes|=h),w.tag===22&&(e=w.stateNode,e===null||e._visibility&1||(T=!0)),e=w,w=w.return;return e.tag===3?(w=e.stateNode,T&&a!==null&&(T=31-di(h),e=w.hiddenUpdates,_=e[T],_===null?e[T]=[a]:_.push(a),a.lane=h|536870912),w):null}function aa(e){if(50<Cu)throw Cu=0,Rd=null,Error(l(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var ts={};function Mf(e,a,h,_){this.tag=e,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(e,a,h,_){return new Mf(e,a,h,_)}function ll(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,a){var h=e.alternate;return h===null?(h=Di(e.tag,a,e.key,e.mode),h.elementType=e.elementType,h.type=e.type,h.stateNode=e.stateNode,h.alternate=e,e.alternate=h):(h.pendingProps=a,h.type=e.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=e.flags&65011712,h.childLanes=e.childLanes,h.lanes=e.lanes,h.child=e.child,h.memoizedProps=e.memoizedProps,h.memoizedState=e.memoizedState,h.updateQueue=e.updateQueue,a=e.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=e.sibling,h.index=e.index,h.ref=e.ref,h.refCleanup=e.refCleanup,h}function nu(e,a){e.flags&=65011714;var h=e.alternate;return h===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=h.childLanes,e.lanes=h.lanes,e.child=h.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=h.memoizedProps,e.memoizedState=h.memoizedState,e.updateQueue=h.updateQueue,e.type=h.type,a=h.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Ao(e,a,h,_,T,w){var G=0;if(_=e,typeof e=="function")ll(e)&&(G=1);else if(typeof e=="string")G=iE(e,h,pe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case M:return e=Di(31,h,a,T),e.elementType=M,e.lanes=w,e;case J:return ns(h.children,T,w,a);case se:G=8,T|=24;break;case re:return e=Di(12,h,a,T|2),e.elementType=re,e.lanes=w,e;case W:return e=Di(13,h,a,T),e.elementType=W,e.lanes=w,e;case K:return e=Di(19,h,a,T),e.elementType=K,e.lanes=w,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:G=10;break e;case F:G=9;break e;case V:G=11;break e;case ee:G=14;break e;case k:G=16,_=null;break e}G=29,h=Error(l(130,e===null?"null":typeof e,"")),_=null}return a=Di(G,h,a,T),a.elementType=e,a.type=_,a.lanes=w,a}function ns(e,a,h,_){return e=Di(7,e,_,a),e.lanes=h,e}function ul(e,a,h){return e=Di(6,e,null,a),e.lanes=h,e}function iu(e){var a=Di(18,null,null,0);return a.stateNode=e,a}function ru(e,a,h){return a=Di(4,e.children!==null?e.children:[],e.key,a),a.lanes=h,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var u=new WeakMap;function m(e,a){if(typeof e=="object"&&e!==null){var h=u.get(e);return h!==void 0?h:(a={value:e,source:a,stack:ht(a)},u.set(e,a),a)}return{value:e,source:a,stack:ht(a)}}var b=[],O=0,U=null,oe=0,me=[],Ee=0,Ce=null,Pe=1,qe="";function nt(e,a){b[O++]=oe,b[O++]=U,U=e,oe=a}function xt(e,a,h){me[Ee++]=Pe,me[Ee++]=qe,me[Ee++]=Ce,Ce=e;var _=Pe;e=qe;var T=32-di(_)-1;_&=~(1<<T),h+=1;var w=32-di(a)+T;if(30<w){var G=T-T%5;w=(_&(1<<G)-1).toString(32),_>>=G,T-=G,Pe=1<<32-di(a)+T|h<<T|_,qe=w+e}else Pe=1<<w|h<<T|_,qe=e}function ai(e){e.return!==null&&(nt(e,1),xt(e,1,0))}function Rn(e){for(;e===U;)U=b[--O],b[O]=null,oe=b[--O],b[O]=null;for(;e===Ce;)Ce=me[--Ee],me[Ee]=null,qe=me[--Ee],me[Ee]=null,Pe=me[--Ee],me[Ee]=null}function Fi(e,a){me[Ee++]=Pe,me[Ee++]=qe,me[Ee++]=Ce,Pe=a.id,qe=a.overflow,Ce=e}var Gt=null,qt=null,Lt=!1,wa=null,nr=!1,cl=Error(l(519));function Ca(e){var a=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(m(a,e)),cl}function au(e){var a=e.stateNode,h=e.type,_=e.memoizedProps;switch(a[Mn]=e,a[jt]=_,h){case"dialog":At("cancel",a),At("close",a);break;case"iframe":case"object":case"embed":At("load",a);break;case"video":case"audio":for(h=0;h<Du.length;h++)At(Du[h],a);break;case"source":At("error",a);break;case"img":case"image":case"link":At("error",a),At("load",a);break;case"details":At("toggle",a);break;case"input":At("invalid",a),Ya(a,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0);break;case"select":At("invalid",a);break;case"textarea":At("invalid",a),Zi(a,_.value,_.defaultValue,_.children)}h=_.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||a.textContent===""+h||_.suppressHydrationWarning===!0||ry(a.textContent,h)?(_.popover!=null&&(At("beforetoggle",a),At("toggle",a)),_.onScroll!=null&&At("scroll",a),_.onScrollEnd!=null&&At("scrollend",a),_.onClick!=null&&(a.onclick=ui),a=!0):a=!1,a||Ca(e,!0)}function Ln(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:Gt=Gt.return}}function sa(e){if(e!==Gt)return!1;if(!Lt)return Ln(e),Lt=!0,!1;var a=e.tag,h;if((h=a!==3&&a!==27)&&((h=a===5)&&(h=e.type,h=!(h!=="form"&&h!=="button")||Vd(e.type,e.memoizedProps)),h=!h),h&&qt&&Ca(e),Ln(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qt=dy(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qt=dy(e)}else a===27?(a=qt,Qs(e.type)?(e=ep,ep=null,qt=e):qt=a):qt=Gt?Ur(e.stateNode.nextSibling):null;return!0}function is(){qt=Gt=null,Lt=!1}function su(){var e=wa;return e!==null&&(sr===null?sr=e:sr.push.apply(sr,e),wa=null),e}function ko(e){wa===null?wa=[e]:wa.push(e)}var No=Y(null),La=null,oa=null;function Fs(e,a,h){ce(No,a._currentValue),a._currentValue=h}function rs(e){e._currentValue=No.current,$(No)}function Rf(e,a,h){for(;e!==null;){var _=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,_!==null&&(_.childLanes|=a)):_!==null&&(_.childLanes&a)!==a&&(_.childLanes|=a),e===h)break;e=e.return}}function If(e,a,h,_){var T=e.child;for(T!==null&&(T.return=e);T!==null;){var w=T.dependencies;if(w!==null){var G=T.child;w=w.firstContext;e:for(;w!==null;){var ue=w;w=T;for(var _e=0;_e<a.length;_e++)if(ue.context===a[_e]){w.lanes|=h,ue=w.alternate,ue!==null&&(ue.lanes|=h),Rf(w.return,h,e),_||(G=null);break e}w=ue.next}}else if(T.tag===18){if(G=T.return,G===null)throw Error(l(341));G.lanes|=h,w=G.alternate,w!==null&&(w.lanes|=h),Rf(G,h,e),G=null}else G=T.child;if(G!==null)G.return=T;else for(G=T;G!==null;){if(G===e){G=null;break}if(T=G.sibling,T!==null){T.return=G.return,G=T;break}G=G.return}T=G}}function hl(e,a,h,_){e=null;for(var T=a,w=!1;T!==null;){if(!w){if((T.flags&524288)!==0)w=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var G=T.alternate;if(G===null)throw Error(l(387));if(G=G.memoizedProps,G!==null){var ue=T.type;Gn(T.pendingProps.value,G.value)||(e!==null?e.push(ue):e=[ue])}}else if(T===De.current){if(G=T.alternate,G===null)throw Error(l(387));G.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(e!==null?e.push(Mu):e=[Mu])}T=T.return}e!==null&&If(a,e,h,_),a.flags|=262144}function Ac(e){for(e=e.firstContext;e!==null;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oo(e){La=e,oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _i(e){return Gg(La,e)}function kc(e,a){return La===null&&Oo(e),Gg(e,a)}function Gg(e,a){var h=a._currentValue;if(a={context:a,memoizedValue:h,next:null},oa===null){if(e===null)throw Error(l(308));oa=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else oa=oa.next=a;return h}var $x=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(h,_){e.push(_)}};this.abort=function(){a.aborted=!0,e.forEach(function(h){return h()})}},e1=t.unstable_scheduleCallback,t1=t.unstable_NormalPriority,Zn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new $x,data:new Map,refCount:0}}function ou(e){e.refCount--,e.refCount===0&&e1(t1,function(){e.controller.abort()})}var lu=null,Bf=0,fl=0,dl=null;function n1(e,a){if(lu===null){var h=lu=[];Bf=0,fl=jd(),dl={status:"pending",value:void 0,then:function(_){h.push(_)}}}return Bf++,a.then(qg,qg),a}function qg(){if(--Bf===0&&lu!==null){dl!==null&&(dl.status="fulfilled");var e=lu;lu=null,fl=0,dl=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function i1(e,a){var h=[],_={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return e.then(function(){_.status="fulfilled",_.value=a;for(var T=0;T<h.length;T++)(0,h[T])(a)},function(T){for(_.status="rejected",_.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),_}var Hg=R.S;R.S=function(e,a){D_=He(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&n1(e,a),Hg!==null&&Hg(e,a)};var Mo=Y(null);function Ff(){var e=Mo.current;return e!==null?e:hn.pooledCache}function Nc(e,a){a===null?ce(Mo,Mo.current):ce(Mo,a.pool)}function Zg(){var e=Ff();return e===null?null:{parent:Zn._currentValue,pool:e}}var pl=Error(l(460)),zf=Error(l(474)),Oc=Error(l(542)),Mc={then:function(){}};function Xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jg(e,a,h){switch(h=e[h],h===void 0?e.push(a):h!==a&&(a.then(ui,ui),a=h),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Wg(e),e;default:if(typeof a.status=="string")a.then(ui,ui);else{if(e=hn,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=a,e.status="pending",e.then(function(_){if(a.status==="pending"){var T=a;T.status="fulfilled",T.value=_}},function(_){if(a.status==="pending"){var T=a;T.status="rejected",T.reason=_}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Wg(e),e}throw Io=a,pl}}function Ro(e){try{var a=e._init;return a(e._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Io=h,pl):h}}var Io=null;function Vg(){if(Io===null)throw Error(l(459));var e=Io;return Io=null,e}function Wg(e){if(e===pl||e===Oc)throw Error(l(483))}var gl=null,uu=0;function Rc(e){var a=uu;return uu+=1,gl===null&&(gl=[]),Jg(gl,e,a)}function cu(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Ic(e,a){throw a.$$typeof===A?Error(l(525)):(e=Object.prototype.toString.call(a),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Qg(e){function a(xe,ve){if(e){var Te=xe.deletions;Te===null?(xe.deletions=[ve],xe.flags|=16):Te.push(ve)}}function h(xe,ve){if(!e)return null;for(;ve!==null;)a(xe,ve),ve=ve.sibling;return null}function _(xe){for(var ve=new Map;xe!==null;)xe.key!==null?ve.set(xe.key,xe):ve.set(xe.index,xe),xe=xe.sibling;return ve}function T(xe,ve){return xe=zr(xe,ve),xe.index=0,xe.sibling=null,xe}function w(xe,ve,Te){return xe.index=Te,e?(Te=xe.alternate,Te!==null?(Te=Te.index,Te<ve?(xe.flags|=67108866,ve):Te):(xe.flags|=67108866,ve)):(xe.flags|=1048576,ve)}function G(xe){return e&&xe.alternate===null&&(xe.flags|=67108866),xe}function ue(xe,ve,Te,Re){return ve===null||ve.tag!==6?(ve=ul(Te,xe.mode,Re),ve.return=xe,ve):(ve=T(ve,Te),ve.return=xe,ve)}function _e(xe,ve,Te,Re){var at=Te.type;return at===J?Ne(xe,ve,Te.props.children,Re,Te.key):ve!==null&&(ve.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===k&&Ro(at)===ve.type)?(ve=T(ve,Te.props),cu(ve,Te),ve.return=xe,ve):(ve=Ao(Te.type,Te.key,Te.props,null,xe.mode,Re),cu(ve,Te),ve.return=xe,ve)}function we(xe,ve,Te,Re){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Te.containerInfo||ve.stateNode.implementation!==Te.implementation?(ve=ru(Te,xe.mode,Re),ve.return=xe,ve):(ve=T(ve,Te.children||[]),ve.return=xe,ve)}function Ne(xe,ve,Te,Re,at){return ve===null||ve.tag!==7?(ve=ns(Te,xe.mode,Re,at),ve.return=xe,ve):(ve=T(ve,Te),ve.return=xe,ve)}function Be(xe,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=ul(""+ve,xe.mode,Te),ve.return=xe,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case N:return Te=Ao(ve.type,ve.key,ve.props,null,xe.mode,Te),cu(Te,ve),Te.return=xe,Te;case B:return ve=ru(ve,xe.mode,Te),ve.return=xe,ve;case k:return ve=Ro(ve),Be(xe,ve,Te)}if(ae(ve)||q(ve))return ve=ns(ve,xe.mode,Te,null),ve.return=xe,ve;if(typeof ve.then=="function")return Be(xe,Rc(ve),Te);if(ve.$$typeof===X)return Be(xe,kc(xe,ve),Te);Ic(xe,ve)}return null}function Le(xe,ve,Te,Re){var at=ve!==null?ve.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return at!==null?null:ue(xe,ve,""+Te,Re);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case N:return Te.key===at?_e(xe,ve,Te,Re):null;case B:return Te.key===at?we(xe,ve,Te,Re):null;case k:return Te=Ro(Te),Le(xe,ve,Te,Re)}if(ae(Te)||q(Te))return at!==null?null:Ne(xe,ve,Te,Re,null);if(typeof Te.then=="function")return Le(xe,ve,Rc(Te),Re);if(Te.$$typeof===X)return Le(xe,ve,kc(xe,Te),Re);Ic(xe,Te)}return null}function ke(xe,ve,Te,Re,at){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return xe=xe.get(Te)||null,ue(ve,xe,""+Re,at);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case N:return xe=xe.get(Re.key===null?Te:Re.key)||null,_e(ve,xe,Re,at);case B:return xe=xe.get(Re.key===null?Te:Re.key)||null,we(ve,xe,Re,at);case k:return Re=Ro(Re),ke(xe,ve,Te,Re,at)}if(ae(Re)||q(Re))return xe=xe.get(Te)||null,Ne(ve,xe,Re,at,null);if(typeof Re.then=="function")return ke(xe,ve,Te,Rc(Re),at);if(Re.$$typeof===X)return ke(xe,ve,Te,kc(ve,Re),at);Ic(ve,Re)}return null}function We(xe,ve,Te,Re){for(var at=null,Ht=null,et=ve,Et=ve=0,Ot=null;et!==null&&Et<Te.length;Et++){et.index>Et?(Ot=et,et=null):Ot=et.sibling;var Zt=Le(xe,et,Te[Et],Re);if(Zt===null){et===null&&(et=Ot);break}e&&et&&Zt.alternate===null&&a(xe,et),ve=w(Zt,ve,Et),Ht===null?at=Zt:Ht.sibling=Zt,Ht=Zt,et=Ot}if(Et===Te.length)return h(xe,et),Lt&&nt(xe,Et),at;if(et===null){for(;Et<Te.length;Et++)et=Be(xe,Te[Et],Re),et!==null&&(ve=w(et,ve,Et),Ht===null?at=et:Ht.sibling=et,Ht=et);return Lt&&nt(xe,Et),at}for(et=_(et);Et<Te.length;Et++)Ot=ke(et,xe,Et,Te[Et],Re),Ot!==null&&(e&&Ot.alternate!==null&&et.delete(Ot.key===null?Et:Ot.key),ve=w(Ot,ve,Et),Ht===null?at=Ot:Ht.sibling=Ot,Ht=Ot);return e&&et.forEach(function(no){return a(xe,no)}),Lt&&nt(xe,Et),at}function ot(xe,ve,Te,Re){if(Te==null)throw Error(l(151));for(var at=null,Ht=null,et=ve,Et=ve=0,Ot=null,Zt=Te.next();et!==null&&!Zt.done;Et++,Zt=Te.next()){et.index>Et?(Ot=et,et=null):Ot=et.sibling;var no=Le(xe,et,Zt.value,Re);if(no===null){et===null&&(et=Ot);break}e&&et&&no.alternate===null&&a(xe,et),ve=w(no,ve,Et),Ht===null?at=no:Ht.sibling=no,Ht=no,et=Ot}if(Zt.done)return h(xe,et),Lt&&nt(xe,Et),at;if(et===null){for(;!Zt.done;Et++,Zt=Te.next())Zt=Be(xe,Zt.value,Re),Zt!==null&&(ve=w(Zt,ve,Et),Ht===null?at=Zt:Ht.sibling=Zt,Ht=Zt);return Lt&&nt(xe,Et),at}for(et=_(et);!Zt.done;Et++,Zt=Te.next())Zt=ke(et,xe,Et,Zt.value,Re),Zt!==null&&(e&&Zt.alternate!==null&&et.delete(Zt.key===null?Et:Zt.key),ve=w(Zt,ve,Et),Ht===null?at=Zt:Ht.sibling=Zt,Ht=Zt);return e&&et.forEach(function(pE){return a(xe,pE)}),Lt&&nt(xe,Et),at}function ln(xe,ve,Te,Re){if(typeof Te=="object"&&Te!==null&&Te.type===J&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case N:e:{for(var at=Te.key;ve!==null;){if(ve.key===at){if(at=Te.type,at===J){if(ve.tag===7){h(xe,ve.sibling),Re=T(ve,Te.props.children),Re.return=xe,xe=Re;break e}}else if(ve.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===k&&Ro(at)===ve.type){h(xe,ve.sibling),Re=T(ve,Te.props),cu(Re,Te),Re.return=xe,xe=Re;break e}h(xe,ve);break}else a(xe,ve);ve=ve.sibling}Te.type===J?(Re=ns(Te.props.children,xe.mode,Re,Te.key),Re.return=xe,xe=Re):(Re=Ao(Te.type,Te.key,Te.props,null,xe.mode,Re),cu(Re,Te),Re.return=xe,xe=Re)}return G(xe);case B:e:{for(at=Te.key;ve!==null;){if(ve.key===at)if(ve.tag===4&&ve.stateNode.containerInfo===Te.containerInfo&&ve.stateNode.implementation===Te.implementation){h(xe,ve.sibling),Re=T(ve,Te.children||[]),Re.return=xe,xe=Re;break e}else{h(xe,ve);break}else a(xe,ve);ve=ve.sibling}Re=ru(Te,xe.mode,Re),Re.return=xe,xe=Re}return G(xe);case k:return Te=Ro(Te),ln(xe,ve,Te,Re)}if(ae(Te))return We(xe,ve,Te,Re);if(q(Te)){if(at=q(Te),typeof at!="function")throw Error(l(150));return Te=at.call(Te),ot(xe,ve,Te,Re)}if(typeof Te.then=="function")return ln(xe,ve,Rc(Te),Re);if(Te.$$typeof===X)return ln(xe,ve,kc(xe,Te),Re);Ic(xe,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ve!==null&&ve.tag===6?(h(xe,ve.sibling),Re=T(ve,Te),Re.return=xe,xe=Re):(h(xe,ve),Re=ul(Te,xe.mode,Re),Re.return=xe,xe=Re),G(xe)):h(xe,ve)}return function(xe,ve,Te,Re){try{uu=0;var at=ln(xe,ve,Te,Re);return gl=null,at}catch(et){if(et===pl||et===Oc)throw et;var Ht=Di(29,et,null,xe.mode);return Ht.lanes=Re,Ht.return=xe,Ht}}}var Po=Qg(!0),Kg=Qg(!1),zs=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Us(e,a,h){var _=e.updateQueue;if(_===null)return null;if(_=_.shared,(Qt&2)!==0){var T=_.pending;return T===null?a.next=a:(a.next=T.next,T.next=a),_.pending=a,a=aa(e),Fr(e,null,h),a}return xr(e,_,a,h),aa(e)}function hu(e,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194048)!==0)){var _=a.lanes;_&=e.pendingLanes,h|=_,a.lanes=h,Ts(e,h)}}function Yf(e,a){var h=e.updateQueue,_=e.alternate;if(_!==null&&(_=_.updateQueue,h===_)){var T=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var G={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?T=w=G:w=w.next=G,h=h.next}while(h!==null);w===null?T=w=a:w=w.next=a}else T=w=a;h={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:w,shared:_.shared,callbacks:_.callbacks},e.updateQueue=h;return}e=h.lastBaseUpdate,e===null?h.firstBaseUpdate=a:e.next=a,h.lastBaseUpdate=a}var Gf=!1;function fu(){if(Gf){var e=dl;if(e!==null)throw e}}function du(e,a,h,_){Gf=!1;var T=e.updateQueue;zs=!1;var w=T.firstBaseUpdate,G=T.lastBaseUpdate,ue=T.shared.pending;if(ue!==null){T.shared.pending=null;var _e=ue,we=_e.next;_e.next=null,G===null?w=we:G.next=we,G=_e;var Ne=e.alternate;Ne!==null&&(Ne=Ne.updateQueue,ue=Ne.lastBaseUpdate,ue!==G&&(ue===null?Ne.firstBaseUpdate=we:ue.next=we,Ne.lastBaseUpdate=_e))}if(w!==null){var Be=T.baseState;G=0,Ne=we=_e=null,ue=w;do{var Le=ue.lane&-536870913,ke=Le!==ue.lane;if(ke?(Nt&Le)===Le:(_&Le)===Le){Le!==0&&Le===fl&&(Gf=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var We=e,ot=ue;Le=a;var ln=h;switch(ot.tag){case 1:if(We=ot.payload,typeof We=="function"){Be=We.call(ln,Be,Le);break e}Be=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=ot.payload,Le=typeof We=="function"?We.call(ln,Be,Le):We,Le==null)break e;Be=x({},Be,Le);break e;case 2:zs=!0}}Le=ue.callback,Le!==null&&(e.flags|=64,ke&&(e.flags|=8192),ke=T.callbacks,ke===null?T.callbacks=[Le]:ke.push(Le))}else ke={lane:Le,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},Ne===null?(we=Ne=ke,_e=Be):Ne=Ne.next=ke,G|=Le;if(ue=ue.next,ue===null){if(ue=T.shared.pending,ue===null)break;ke=ue,ue=ke.next,ke.next=null,T.lastBaseUpdate=ke,T.shared.pending=null}}while(!0);Ne===null&&(_e=Be),T.baseState=_e,T.firstBaseUpdate=we,T.lastBaseUpdate=Ne,w===null&&(T.shared.lanes=0),Zs|=G,e.lanes=G,e.memoizedState=Be}}function $g(e,a){if(typeof e!="function")throw Error(l(191,e));e.call(a)}function em(e,a){var h=e.callbacks;if(h!==null)for(e.callbacks=null,e=0;e<h.length;e++)$g(h[e],a)}var ml=Y(null),Pc=Y(0);function tm(e,a){e=ds,ce(Pc,e),ce(ml,a),ds=e|a.baseLanes}function qf(){ce(Pc,ds),ce(ml,ml.current)}function Hf(){ds=Pc.current,$(ml),$(Pc)}var Er=Y(null),jr=null;function Ys(e){var a=e.alternate;ce(zn,zn.current&1),ce(Er,e),jr===null&&(a===null||ml.current!==null||a.memoizedState!==null)&&(jr=e)}function Zf(e){ce(zn,zn.current),ce(Er,e),jr===null&&(jr=e)}function nm(e){e.tag===22?(ce(zn,zn.current),ce(Er,e),jr===null&&(jr=e)):Gs()}function Gs(){ce(zn,zn.current),ce(Er,Er.current)}function br(e){$(Er),jr===e&&(jr=null),$(zn)}var zn=Y(0);function Bc(e){for(var a=e;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Kd(h)||$d(h)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var as=0,vt=null,sn=null,Xn=null,Fc=!1,_l=!1,Bo=!1,zc=0,pu=0,yl=null,r1=0;function In(){throw Error(l(321))}function Xf(e,a){if(a===null)return!1;for(var h=0;h<a.length&&h<e.length;h++)if(!Gn(e[h],a[h]))return!1;return!0}function Jf(e,a,h,_,T,w){return as=w,vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=e===null||e.memoizedState===null?zm:ud,Bo=!1,w=h(_,T),Bo=!1,_l&&(w=rm(a,h,_,T)),im(e),w}function im(e){R.H=_u;var a=sn!==null&&sn.next!==null;if(as=0,Xn=sn=vt=null,Fc=!1,pu=0,yl=null,a)throw Error(l(300));e===null||Jn||(e=e.dependencies,e!==null&&Ac(e)&&(Jn=!0))}function rm(e,a,h,_){vt=e;var T=0;do{if(_l&&(yl=null),pu=0,_l=!1,25<=T)throw Error(l(301));if(T+=1,Xn=sn=null,e.updateQueue!=null){var w=e.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}R.H=jm,w=a(h,_)}while(_l);return w}function a1(){var e=R.H,a=e.useState()[0];return a=typeof a.then=="function"?gu(a):a,e=e.useState()[0],(sn!==null?sn.memoizedState:null)!==e&&(vt.flags|=1024),a}function Vf(){var e=zc!==0;return zc=0,e}function Wf(e,a,h){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~h}function Qf(e){if(Fc){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Fc=!1}as=0,Xn=sn=vt=null,_l=!1,pu=zc=0,yl=null}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?vt.memoizedState=Xn=e:Xn=Xn.next=e,Xn}function jn(){if(sn===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var a=Xn===null?vt.memoizedState:Xn.next;if(a!==null)Xn=a,sn=e;else{if(e===null)throw vt.alternate===null?Error(l(467)):Error(l(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},Xn===null?vt.memoizedState=Xn=e:Xn=Xn.next=e}return Xn}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gu(e){var a=pu;return pu+=1,yl===null&&(yl=[]),e=Jg(yl,e,a),a=vt,(Xn===null?a.memoizedState:Xn.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?zm:ud),e}function Uc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gu(e);if(e.$$typeof===X)return _i(e)}throw Error(l(438,String(e)))}function Kf(e){var a=null,h=vt.updateQueue;if(h!==null&&(a=h.memoCache),a==null){var _=vt.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(a={data:_.data.map(function(T){return T.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),h===null&&(h=jc(),vt.updateQueue=h),h.memoCache=a,h=a.data[a.index],h===void 0)for(h=a.data[a.index]=Array(e),_=0;_<e;_++)h[_]=P;return a.index++,h}function ss(e,a){return typeof a=="function"?a(e):a}function Yc(e){var a=jn();return $f(a,sn,e)}function $f(e,a,h){var _=e.queue;if(_===null)throw Error(l(311));_.lastRenderedReducer=h;var T=e.baseQueue,w=_.pending;if(w!==null){if(T!==null){var G=T.next;T.next=w.next,w.next=G}a.baseQueue=T=w,_.pending=null}if(w=e.baseState,T===null)e.memoizedState=w;else{a=T.next;var ue=G=null,_e=null,we=a,Ne=!1;do{var Be=we.lane&-536870913;if(Be!==we.lane?(Nt&Be)===Be:(as&Be)===Be){var Le=we.revertLane;if(Le===0)_e!==null&&(_e=_e.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Be===fl&&(Ne=!0);else if((as&Le)===Le){we=we.next,Le===fl&&(Ne=!0);continue}else Be={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},_e===null?(ue=_e=Be,G=w):_e=_e.next=Be,vt.lanes|=Le,Zs|=Le;Be=we.action,Bo&&h(w,Be),w=we.hasEagerState?we.eagerState:h(w,Be)}else Le={lane:Be,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},_e===null?(ue=_e=Le,G=w):_e=_e.next=Le,vt.lanes|=Be,Zs|=Be;we=we.next}while(we!==null&&we!==a);if(_e===null?G=w:_e.next=ue,!Gn(w,e.memoizedState)&&(Jn=!0,Ne&&(h=dl,h!==null)))throw h;e.memoizedState=w,e.baseState=G,e.baseQueue=_e,_.lastRenderedState=w}return T===null&&(_.lanes=0),[e.memoizedState,_.dispatch]}function ed(e){var a=jn(),h=a.queue;if(h===null)throw Error(l(311));h.lastRenderedReducer=e;var _=h.dispatch,T=h.pending,w=a.memoizedState;if(T!==null){h.pending=null;var G=T=T.next;do w=e(w,G.action),G=G.next;while(G!==T);Gn(w,a.memoizedState)||(Jn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),h.lastRenderedState=w}return[w,_]}function am(e,a,h){var _=vt,T=jn(),w=Lt;if(w){if(h===void 0)throw Error(l(407));h=h()}else h=a();var G=!Gn((sn||T).memoizedState,h);if(G&&(T.memoizedState=h,Jn=!0),T=T.queue,id(lm.bind(null,_,T,e),[e]),T.getSnapshot!==a||G||Xn!==null&&Xn.memoizedState.tag&1){if(_.flags|=2048,vl(9,{destroy:void 0},om.bind(null,_,T,h,a),null),hn===null)throw Error(l(349));w||(as&127)!==0||sm(_,a,h)}return h}function sm(e,a,h){e.flags|=16384,e={getSnapshot:a,value:h},a=vt.updateQueue,a===null?(a=jc(),vt.updateQueue=a,a.stores=[e]):(h=a.stores,h===null?a.stores=[e]:h.push(e))}function om(e,a,h,_){a.value=h,a.getSnapshot=_,um(a)&&cm(e)}function lm(e,a,h){return h(function(){um(a)&&cm(e)})}function um(e){var a=e.getSnapshot;e=e.value;try{var h=a();return!Gn(e,h)}catch{return!0}}function cm(e){var a=Bi(e,2);a!==null&&or(a,e,2)}function td(e){var a=zi();if(typeof e=="function"){var h=e;if(e=h(),Bo){$e(!0);try{h()}finally{$e(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},a}function hm(e,a,h,_){return e.baseState=h,$f(e,sn,typeof _=="function"?_:ss)}function s1(e,a,h,_,T){if(Hc(e))throw Error(l(485));if(e=a.action,e!==null){var w={payload:T,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){w.listeners.push(G)}};R.T!==null?h(!0):w.isTransition=!1,_(w),h=a.pending,h===null?(w.next=a.pending=w,fm(a,w)):(w.next=h.next,a.pending=h.next=w)}}function fm(e,a){var h=a.action,_=a.payload,T=e.state;if(a.isTransition){var w=R.T,G={};R.T=G;try{var ue=h(T,_),_e=R.S;_e!==null&&_e(G,ue),dm(e,a,ue)}catch(we){nd(e,a,we)}finally{w!==null&&G.types!==null&&(w.types=G.types),R.T=w}}else try{w=h(T,_),dm(e,a,w)}catch(we){nd(e,a,we)}}function dm(e,a,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(_){pm(e,a,_)},function(_){return nd(e,a,_)}):pm(e,a,h)}function pm(e,a,h){a.status="fulfilled",a.value=h,gm(a),e.state=h,a=e.pending,a!==null&&(h=a.next,h===a?e.pending=null:(h=h.next,a.next=h,fm(e,h)))}function nd(e,a,h){var _=e.pending;if(e.pending=null,_!==null){_=_.next;do a.status="rejected",a.reason=h,gm(a),a=a.next;while(a!==_)}e.action=null}function gm(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function mm(e,a){return a}function _m(e,a){if(Lt){var h=hn.formState;if(h!==null){e:{var _=vt;if(Lt){if(qt){t:{for(var T=qt,w=nr;T.nodeType!==8;){if(!w){T=null;break t}if(T=Ur(T.nextSibling),T===null){T=null;break t}}w=T.data,T=w==="F!"||w==="F"?T:null}if(T){qt=Ur(T.nextSibling),_=T.data==="F!";break e}}Ca(_)}_=!1}_&&(a=h[0])}}return h=zi(),h.memoizedState=h.baseState=a,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:a},h.queue=_,h=Pm.bind(null,vt,_),_.dispatch=h,_=td(!1),w=ld.bind(null,vt,!1,_.queue),_=zi(),T={state:a,dispatch:null,action:e,pending:null},_.queue=T,h=s1.bind(null,vt,T,w,h),T.dispatch=h,_.memoizedState=e,[a,h,!1]}function ym(e){var a=jn();return vm(a,sn,e)}function vm(e,a,h){if(a=$f(e,a,mm)[0],e=Yc(ss)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var _=gu(a)}catch(G){throw G===pl?Oc:G}else _=a;a=jn();var T=a.queue,w=T.dispatch;return h!==a.memoizedState&&(vt.flags|=2048,vl(9,{destroy:void 0},o1.bind(null,T,h),null)),[_,w,e]}function o1(e,a){e.action=a}function Sm(e){var a=jn(),h=sn;if(h!==null)return vm(a,h,e);jn(),a=a.memoizedState,h=jn();var _=h.queue.dispatch;return h.memoizedState=e,[a,_,!1]}function vl(e,a,h,_){return e={tag:e,create:h,deps:_,inst:a,next:null},a=vt.updateQueue,a===null&&(a=jc(),vt.updateQueue=a),h=a.lastEffect,h===null?a.lastEffect=e.next=e:(_=h.next,h.next=e,e.next=_,a.lastEffect=e),e}function xm(){return jn().memoizedState}function Gc(e,a,h,_){var T=zi();vt.flags|=e,T.memoizedState=vl(1|a,{destroy:void 0},h,_===void 0?null:_)}function qc(e,a,h,_){var T=jn();_=_===void 0?null:_;var w=T.memoizedState.inst;sn!==null&&_!==null&&Xf(_,sn.memoizedState.deps)?T.memoizedState=vl(a,w,h,_):(vt.flags|=e,T.memoizedState=vl(1|a,w,h,_))}function Em(e,a){Gc(8390656,8,e,a)}function id(e,a){qc(2048,8,e,a)}function l1(e){vt.flags|=4;var a=vt.updateQueue;if(a===null)a=jc(),vt.updateQueue=a,a.events=[e];else{var h=a.events;h===null?a.events=[e]:h.push(e)}}function bm(e){var a=jn().memoizedState;return l1({ref:a,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}function Tm(e,a){return qc(4,2,e,a)}function wm(e,a){return qc(4,4,e,a)}function Cm(e,a){if(typeof a=="function"){e=e();var h=a(e);return function(){typeof h=="function"?h():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function Lm(e,a,h){h=h!=null?h.concat([e]):null,qc(4,4,Cm.bind(null,a,e),h)}function rd(){}function Dm(e,a){var h=jn();a=a===void 0?null:a;var _=h.memoizedState;return a!==null&&Xf(a,_[1])?_[0]:(h.memoizedState=[e,a],e)}function Am(e,a){var h=jn();a=a===void 0?null:a;var _=h.memoizedState;if(a!==null&&Xf(a,_[1]))return _[0];if(_=e(),Bo){$e(!0);try{e()}finally{$e(!1)}}return h.memoizedState=[_,a],_}function ad(e,a,h){return h===void 0||(as&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=a:(e.memoizedState=h,e=k_(),vt.lanes|=e,Zs|=e,h)}function km(e,a,h,_){return Gn(h,a)?h:ml.current!==null?(e=ad(e,h,_),Gn(e,a)||(Jn=!0),e):(as&42)===0||(as&1073741824)!==0&&(Nt&261930)===0?(Jn=!0,e.memoizedState=h):(e=k_(),vt.lanes|=e,Zs|=e,a)}function Nm(e,a,h,_,T){var w=j.p;j.p=w!==0&&8>w?w:8;var G=R.T,ue={};R.T=ue,ld(e,!1,a,h);try{var _e=T(),we=R.S;if(we!==null&&we(ue,_e),_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Ne=i1(_e,_);mu(e,a,Ne,Cr(e))}else mu(e,a,_,Cr(e))}catch(Be){mu(e,a,{then:function(){},status:"rejected",reason:Be},Cr())}finally{j.p=w,G!==null&&ue.types!==null&&(G.types=ue.types),R.T=G}}function u1(){}function sd(e,a,h,_){if(e.tag!==5)throw Error(l(476));var T=Om(e).queue;Nm(e,T,a,z,h===null?u1:function(){return Mm(e),h(_)})}function Om(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:z},next:null};var h={};return a.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:h},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function Mm(e){var a=Om(e);a.next===null&&(a=e.alternate.memoizedState),mu(e,a.next.queue,{},Cr())}function od(){return _i(Mu)}function Rm(){return jn().memoizedState}function Im(){return jn().memoizedState}function c1(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var h=Cr();e=js(h);var _=Us(a,e,h);_!==null&&(or(_,a,h),hu(_,a,h)),a={cache:Pf()},e.payload=a;return}a=a.return}}function h1(e,a,h){var _=Cr();h={lane:_,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Hc(e)?Bm(a,h):(h=Bs(e,a,h,_),h!==null&&(or(h,e,_),Fm(h,a,_)))}function Pm(e,a,h){var _=Cr();mu(e,a,h,_)}function mu(e,a,h,_){var T={lane:_,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Hc(e))Bm(a,T);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var G=a.lastRenderedState,ue=w(G,h);if(T.hasEagerState=!0,T.eagerState=ue,Gn(ue,G))return xr(e,a,T,0),hn===null&&Ta(),!1}catch{}if(h=Bs(e,a,T,_),h!==null)return or(h,e,_),Fm(h,a,_),!0}return!1}function ld(e,a,h,_){if(_={lane:2,revertLane:jd(),gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},Hc(e)){if(a)throw Error(l(479))}else a=Bs(e,h,_,2),a!==null&&or(a,e,2)}function Hc(e){var a=e.alternate;return e===vt||a!==null&&a===vt}function Bm(e,a){_l=Fc=!0;var h=e.pending;h===null?a.next=a:(a.next=h.next,h.next=a),e.pending=a}function Fm(e,a,h){if((h&4194048)!==0){var _=a.lanes;_&=e.pendingLanes,h|=_,a.lanes=h,Ts(e,h)}}var _u={readContext:_i,use:Uc,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In};_u.useEffectEvent=In;var zm={readContext:_i,use:Uc,useCallback:function(e,a){return zi().memoizedState=[e,a===void 0?null:a],e},useContext:_i,useEffect:Em,useImperativeHandle:function(e,a,h){h=h!=null?h.concat([e]):null,Gc(4194308,4,Cm.bind(null,a,e),h)},useLayoutEffect:function(e,a){return Gc(4194308,4,e,a)},useInsertionEffect:function(e,a){Gc(4,2,e,a)},useMemo:function(e,a){var h=zi();a=a===void 0?null:a;var _=e();if(Bo){$e(!0);try{e()}finally{$e(!1)}}return h.memoizedState=[_,a],_},useReducer:function(e,a,h){var _=zi();if(h!==void 0){var T=h(a);if(Bo){$e(!0);try{h(a)}finally{$e(!1)}}}else T=a;return _.memoizedState=_.baseState=T,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:T},_.queue=e,e=e.dispatch=h1.bind(null,vt,e),[_.memoizedState,e]},useRef:function(e){var a=zi();return e={current:e},a.memoizedState=e},useState:function(e){e=td(e);var a=e.queue,h=Pm.bind(null,vt,a);return a.dispatch=h,[e.memoizedState,h]},useDebugValue:rd,useDeferredValue:function(e,a){var h=zi();return ad(h,e,a)},useTransition:function(){var e=td(!1);return e=Nm.bind(null,vt,e.queue,!0,!1),zi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,h){var _=vt,T=zi();if(Lt){if(h===void 0)throw Error(l(407));h=h()}else{if(h=a(),hn===null)throw Error(l(349));(Nt&127)!==0||sm(_,a,h)}T.memoizedState=h;var w={value:h,getSnapshot:a};return T.queue=w,Em(lm.bind(null,_,w,e),[e]),_.flags|=2048,vl(9,{destroy:void 0},om.bind(null,_,w,h,a),null),h},useId:function(){var e=zi(),a=hn.identifierPrefix;if(Lt){var h=qe,_=Pe;h=(_&~(1<<32-di(_)-1)).toString(32)+h,a="_"+a+"R_"+h,h=zc++,0<h&&(a+="H"+h.toString(32)),a+="_"}else h=r1++,a="_"+a+"r_"+h.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:od,useFormState:_m,useActionState:_m,useOptimistic:function(e){var a=zi();a.memoizedState=a.baseState=e;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=h,a=ld.bind(null,vt,!0,h),h.dispatch=a,[e,a]},useMemoCache:Kf,useCacheRefresh:function(){return zi().memoizedState=c1.bind(null,vt)},useEffectEvent:function(e){var a=zi(),h={impl:e};return a.memoizedState=h,function(){if((Qt&2)!==0)throw Error(l(440));return h.impl.apply(void 0,arguments)}}},ud={readContext:_i,use:Uc,useCallback:Dm,useContext:_i,useEffect:id,useImperativeHandle:Lm,useInsertionEffect:Tm,useLayoutEffect:wm,useMemo:Am,useReducer:Yc,useRef:xm,useState:function(){return Yc(ss)},useDebugValue:rd,useDeferredValue:function(e,a){var h=jn();return km(h,sn.memoizedState,e,a)},useTransition:function(){var e=Yc(ss)[0],a=jn().memoizedState;return[typeof e=="boolean"?e:gu(e),a]},useSyncExternalStore:am,useId:Rm,useHostTransitionStatus:od,useFormState:ym,useActionState:ym,useOptimistic:function(e,a){var h=jn();return hm(h,sn,e,a)},useMemoCache:Kf,useCacheRefresh:Im};ud.useEffectEvent=bm;var jm={readContext:_i,use:Uc,useCallback:Dm,useContext:_i,useEffect:id,useImperativeHandle:Lm,useInsertionEffect:Tm,useLayoutEffect:wm,useMemo:Am,useReducer:ed,useRef:xm,useState:function(){return ed(ss)},useDebugValue:rd,useDeferredValue:function(e,a){var h=jn();return sn===null?ad(h,e,a):km(h,sn.memoizedState,e,a)},useTransition:function(){var e=ed(ss)[0],a=jn().memoizedState;return[typeof e=="boolean"?e:gu(e),a]},useSyncExternalStore:am,useId:Rm,useHostTransitionStatus:od,useFormState:Sm,useActionState:Sm,useOptimistic:function(e,a){var h=jn();return sn!==null?hm(h,sn,e,a):(h.baseState=e,[e,h.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:Im};jm.useEffectEvent=bm;function cd(e,a,h,_){a=e.memoizedState,h=h(_,a),h=h==null?a:x({},a,h),e.memoizedState=h,e.lanes===0&&(e.updateQueue.baseState=h)}var hd={enqueueSetState:function(e,a,h){e=e._reactInternals;var _=Cr(),T=js(_);T.payload=a,h!=null&&(T.callback=h),a=Us(e,T,_),a!==null&&(or(a,e,_),hu(a,e,_))},enqueueReplaceState:function(e,a,h){e=e._reactInternals;var _=Cr(),T=js(_);T.tag=1,T.payload=a,h!=null&&(T.callback=h),a=Us(e,T,_),a!==null&&(or(a,e,_),hu(a,e,_))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var h=Cr(),_=js(h);_.tag=2,a!=null&&(_.callback=a),a=Us(e,_,h),a!==null&&(or(a,e,h),hu(a,e,h))}};function Um(e,a,h,_,T,w,G){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(_,w,G):a.prototype&&a.prototype.isPureReactComponent?!ba(h,_)||!ba(T,w):!0}function Ym(e,a,h,_){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,_),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,_),a.state!==e&&hd.enqueueReplaceState(a,a.state,null)}function Fo(e,a){var h=a;if("ref"in a){h={};for(var _ in a)_!=="ref"&&(h[_]=a[_])}if(e=e.defaultProps){h===a&&(h=x({},h));for(var T in e)h[T]===void 0&&(h[T]=e[T])}return h}function Gm(e){Pi(e)}function qm(e){console.error(e)}function Hm(e){Pi(e)}function Zc(e,a){try{var h=e.onUncaughtError;h(a.value,{componentStack:a.stack})}catch(_){setTimeout(function(){throw _})}}function Zm(e,a,h){try{var _=e.onCaughtError;_(h.value,{componentStack:h.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function fd(e,a,h){return h=js(h),h.tag=3,h.payload={element:null},h.callback=function(){Zc(e,a)},h}function Xm(e){return e=js(e),e.tag=3,e}function Jm(e,a,h,_){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var w=_.value;e.payload=function(){return T(w)},e.callback=function(){Zm(a,h,_)}}var G=h.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(e.callback=function(){Zm(a,h,_),typeof T!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var ue=_.stack;this.componentDidCatch(_.value,{componentStack:ue!==null?ue:""})})}function f1(e,a,h,_,T){if(h.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(a=h.alternate,a!==null&&hl(a,h,T,!0),h=Er.current,h!==null){switch(h.tag){case 31:case 13:return jr===null?rh():h.alternate===null&&Pn===0&&(Pn=3),h.flags&=-257,h.flags|=65536,h.lanes=T,_===Mc?h.flags|=16384:(a=h.updateQueue,a===null?h.updateQueue=new Set([_]):a.add(_),Bd(e,_,T)),!1;case 22:return h.flags|=65536,_===Mc?h.flags|=16384:(a=h.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([_])},h.updateQueue=a):(h=a.retryQueue,h===null?a.retryQueue=new Set([_]):h.add(_)),Bd(e,_,T)),!1}throw Error(l(435,h.tag))}return Bd(e,_,T),rh(),!1}if(Lt)return a=Er.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=T,_!==cl&&(e=Error(l(422),{cause:_}),ko(m(e,h)))):(_!==cl&&(a=Error(l(423),{cause:_}),ko(m(a,h))),e=e.current.alternate,e.flags|=65536,T&=-T,e.lanes|=T,_=m(_,h),T=fd(e.stateNode,_,T),Yf(e,T),Pn!==4&&(Pn=2)),!1;var w=Error(l(520),{cause:_});if(w=m(w,h),wu===null?wu=[w]:wu.push(w),Pn!==4&&(Pn=2),a===null)return!0;_=m(_,h),h=a;do{switch(h.tag){case 3:return h.flags|=65536,e=T&-T,h.lanes|=e,e=fd(h.stateNode,_,e),Yf(h,e),!1;case 1:if(a=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xs===null||!Xs.has(w))))return h.flags|=65536,T&=-T,h.lanes|=T,T=Xm(T),Jm(T,e,h,_),Yf(h,T),!1}h=h.return}while(h!==null);return!1}var dd=Error(l(461)),Jn=!1;function yi(e,a,h,_){a.child=e===null?Kg(a,null,h,_):Po(a,e.child,h,_)}function Vm(e,a,h,_,T){h=h.render;var w=a.ref;if("ref"in _){var G={};for(var ue in _)ue!=="ref"&&(G[ue]=_[ue])}else G=_;return Oo(a),_=Jf(e,a,h,G,w,T),ue=Vf(),e!==null&&!Jn?(Wf(e,a,T),os(e,a,T)):(Lt&&ue&&ai(a),a.flags|=1,yi(e,a,_,T),a.child)}function Wm(e,a,h,_,T){if(e===null){var w=h.type;return typeof w=="function"&&!ll(w)&&w.defaultProps===void 0&&h.compare===null?(a.tag=15,a.type=w,Qm(e,a,w,_,T)):(e=Ao(h.type,null,_,a,a.mode,T),e.ref=a.ref,e.return=a,a.child=e)}if(w=e.child,!xd(e,T)){var G=w.memoizedProps;if(h=h.compare,h=h!==null?h:ba,h(G,_)&&e.ref===a.ref)return os(e,a,T)}return a.flags|=1,e=zr(w,_),e.ref=a.ref,e.return=a,a.child=e}function Qm(e,a,h,_,T){if(e!==null){var w=e.memoizedProps;if(ba(w,_)&&e.ref===a.ref)if(Jn=!1,a.pendingProps=_=w,xd(e,T))(e.flags&131072)!==0&&(Jn=!0);else return a.lanes=e.lanes,os(e,a,T)}return pd(e,a,h,_,T)}function Km(e,a,h,_){var T=_.children,w=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|h:h,e!==null){for(_=a.child=e.child,T=0;_!==null;)T=T|_.lanes|_.childLanes,_=_.sibling;_=T&~w}else _=0,a.child=null;return $m(e,a,w,h,_)}if((h&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nc(a,w!==null?w.cachePool:null),w!==null?tm(a,w):qf(),nm(a);else return _=a.lanes=536870912,$m(e,a,w!==null?w.baseLanes|h:h,h,_)}else w!==null?(Nc(a,w.cachePool),tm(a,w),Gs(),a.memoizedState=null):(e!==null&&Nc(a,null),qf(),Gs());return yi(e,a,T,h),a.child}function yu(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function $m(e,a,h,_,T){var w=Ff();return w=w===null?null:{parent:Zn._currentValue,pool:w},a.memoizedState={baseLanes:h,cachePool:w},e!==null&&Nc(a,null),qf(),nm(a),e!==null&&hl(e,a,_,!0),a.childLanes=T,null}function Xc(e,a){return a=Vc({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function e_(e,a,h){return Po(a,e.child,null,h),e=Xc(a,a.pendingProps),e.flags|=2,br(a),a.memoizedState=null,e}function d1(e,a,h){var _=a.pendingProps,T=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Lt){if(_.mode==="hidden")return e=Xc(a,_),a.lanes=536870912,yu(null,e);if(Zf(a),(e=qt)?(e=fy(e,nr),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Ce!==null?{id:Pe,overflow:qe}:null,retryLane:536870912,hydrationErrors:null},h=iu(e),h.return=a,a.child=h,Gt=a,qt=null)):e=null,e===null)throw Ca(a);return a.lanes=536870912,null}return Xc(a,_)}var w=e.memoizedState;if(w!==null){var G=w.dehydrated;if(Zf(a),T)if(a.flags&256)a.flags&=-257,a=e_(e,a,h);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(l(558));else if(Jn||hl(e,a,h,!1),T=(h&e.childLanes)!==0,Jn||T){if(_=hn,_!==null&&(G=go(_,h),G!==0&&G!==w.retryLane))throw w.retryLane=G,Bi(e,G),or(_,e,G),dd;rh(),a=e_(e,a,h)}else e=w.treeContext,qt=Ur(G.nextSibling),Gt=a,Lt=!0,wa=null,nr=!1,e!==null&&Fi(a,e),a=Xc(a,_),a.flags|=4096;return a}return e=zr(e.child,{mode:_.mode,children:_.children}),e.ref=a.ref,a.child=e,e.return=a,e}function Jc(e,a){var h=a.ref;if(h===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(l(284));(e===null||e.ref!==h)&&(a.flags|=4194816)}}function pd(e,a,h,_,T){return Oo(a),h=Jf(e,a,h,_,void 0,T),_=Vf(),e!==null&&!Jn?(Wf(e,a,T),os(e,a,T)):(Lt&&_&&ai(a),a.flags|=1,yi(e,a,h,T),a.child)}function t_(e,a,h,_,T,w){return Oo(a),a.updateQueue=null,h=rm(a,_,h,T),im(e),_=Vf(),e!==null&&!Jn?(Wf(e,a,w),os(e,a,w)):(Lt&&_&&ai(a),a.flags|=1,yi(e,a,h,w),a.child)}function n_(e,a,h,_,T){if(Oo(a),a.stateNode===null){var w=ts,G=h.contextType;typeof G=="object"&&G!==null&&(w=_i(G)),w=new h(_,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=hd,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=_,w.state=a.memoizedState,w.refs={},jf(a),G=h.contextType,w.context=typeof G=="object"&&G!==null?_i(G):ts,w.state=a.memoizedState,G=h.getDerivedStateFromProps,typeof G=="function"&&(cd(a,h,G,_),w.state=a.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(G=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),G!==w.state&&hd.enqueueReplaceState(w,w.state,null),du(a,_,w,T),fu(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),_=!0}else if(e===null){w=a.stateNode;var ue=a.memoizedProps,_e=Fo(h,ue);w.props=_e;var we=w.context,Ne=h.contextType;G=ts,typeof Ne=="object"&&Ne!==null&&(G=_i(Ne));var Be=h.getDerivedStateFromProps;Ne=typeof Be=="function"||typeof w.getSnapshotBeforeUpdate=="function",ue=a.pendingProps!==ue,Ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(ue||we!==G)&&Ym(a,w,_,G),zs=!1;var Le=a.memoizedState;w.state=Le,du(a,_,w,T),fu(),we=a.memoizedState,ue||Le!==we||zs?(typeof Be=="function"&&(cd(a,h,Be,_),we=a.memoizedState),(_e=zs||Um(a,h,_e,_,Le,we,G))?(Ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=_,a.memoizedState=we),w.props=_,w.state=we,w.context=G,_=_e):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),_=!1)}else{w=a.stateNode,Uf(e,a),G=a.memoizedProps,Ne=Fo(h,G),w.props=Ne,Be=a.pendingProps,Le=w.context,we=h.contextType,_e=ts,typeof we=="object"&&we!==null&&(_e=_i(we)),ue=h.getDerivedStateFromProps,(we=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G!==Be||Le!==_e)&&Ym(a,w,_,_e),zs=!1,Le=a.memoizedState,w.state=Le,du(a,_,w,T),fu();var ke=a.memoizedState;G!==Be||Le!==ke||zs||e!==null&&e.dependencies!==null&&Ac(e.dependencies)?(typeof ue=="function"&&(cd(a,h,ue,_),ke=a.memoizedState),(Ne=zs||Um(a,h,Ne,_,Le,ke,_e)||e!==null&&e.dependencies!==null&&Ac(e.dependencies))?(we||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(_,ke,_e),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(_,ke,_e)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||G===e.memoizedProps&&Le===e.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&Le===e.memoizedState||(a.flags|=1024),a.memoizedProps=_,a.memoizedState=ke),w.props=_,w.state=ke,w.context=_e,_=Ne):(typeof w.componentDidUpdate!="function"||G===e.memoizedProps&&Le===e.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||G===e.memoizedProps&&Le===e.memoizedState||(a.flags|=1024),_=!1)}return w=_,Jc(e,a),_=(a.flags&128)!==0,w||_?(w=a.stateNode,h=_&&typeof h.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,e!==null&&_?(a.child=Po(a,e.child,null,T),a.child=Po(a,null,h,T)):yi(e,a,h,T),a.memoizedState=w.state,e=a.child):e=os(e,a,T),e}function i_(e,a,h,_){return is(),a.flags|=256,yi(e,a,h,_),a.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(e){return{baseLanes:e,cachePool:Zg()}}function _d(e,a,h){return e=e!==null?e.childLanes&~h:0,a&&(e|=wr),e}function r_(e,a,h){var _=a.pendingProps,T=!1,w=(a.flags&128)!==0,G;if((G=w)||(G=e!==null&&e.memoizedState===null?!1:(zn.current&2)!==0),G&&(T=!0,a.flags&=-129),G=(a.flags&32)!==0,a.flags&=-33,e===null){if(Lt){if(T?Ys(a):Gs(),(e=qt)?(e=fy(e,nr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:Ce!==null?{id:Pe,overflow:qe}:null,retryLane:536870912,hydrationErrors:null},h=iu(e),h.return=a,a.child=h,Gt=a,qt=null)):e=null,e===null)throw Ca(a);return $d(e)?a.lanes=32:a.lanes=536870912,null}var ue=_.children;return _=_.fallback,T?(Gs(),T=a.mode,ue=Vc({mode:"hidden",children:ue},T),_=ns(_,T,h,null),ue.return=a,_.return=a,ue.sibling=_,a.child=ue,_=a.child,_.memoizedState=md(h),_.childLanes=_d(e,G,h),a.memoizedState=gd,yu(null,_)):(Ys(a),yd(a,ue))}var _e=e.memoizedState;if(_e!==null&&(ue=_e.dehydrated,ue!==null)){if(w)a.flags&256?(Ys(a),a.flags&=-257,a=vd(e,a,h)):a.memoizedState!==null?(Gs(),a.child=e.child,a.flags|=128,a=null):(Gs(),ue=_.fallback,T=a.mode,_=Vc({mode:"visible",children:_.children},T),ue=ns(ue,T,h,null),ue.flags|=2,_.return=a,ue.return=a,_.sibling=ue,a.child=_,Po(a,e.child,null,h),_=a.child,_.memoizedState=md(h),_.childLanes=_d(e,G,h),a.memoizedState=gd,a=yu(null,_));else if(Ys(a),$d(ue)){if(G=ue.nextSibling&&ue.nextSibling.dataset,G)var we=G.dgst;G=we,_=Error(l(419)),_.stack="",_.digest=G,ko({value:_,source:null,stack:null}),a=vd(e,a,h)}else if(Jn||hl(e,a,h,!1),G=(h&e.childLanes)!==0,Jn||G){if(G=hn,G!==null&&(_=go(G,h),_!==0&&_!==_e.retryLane))throw _e.retryLane=_,Bi(e,_),or(G,e,_),dd;Kd(ue)||rh(),a=vd(e,a,h)}else Kd(ue)?(a.flags|=192,a.child=e.child,a=null):(e=_e.treeContext,qt=Ur(ue.nextSibling),Gt=a,Lt=!0,wa=null,nr=!1,e!==null&&Fi(a,e),a=yd(a,_.children),a.flags|=4096);return a}return T?(Gs(),ue=_.fallback,T=a.mode,_e=e.child,we=_e.sibling,_=zr(_e,{mode:"hidden",children:_.children}),_.subtreeFlags=_e.subtreeFlags&65011712,we!==null?ue=zr(we,ue):(ue=ns(ue,T,h,null),ue.flags|=2),ue.return=a,_.return=a,_.sibling=ue,a.child=_,yu(null,_),_=a.child,ue=e.child.memoizedState,ue===null?ue=md(h):(T=ue.cachePool,T!==null?(_e=Zn._currentValue,T=T.parent!==_e?{parent:_e,pool:_e}:T):T=Zg(),ue={baseLanes:ue.baseLanes|h,cachePool:T}),_.memoizedState=ue,_.childLanes=_d(e,G,h),a.memoizedState=gd,yu(e.child,_)):(Ys(a),h=e.child,e=h.sibling,h=zr(h,{mode:"visible",children:_.children}),h.return=a,h.sibling=null,e!==null&&(G=a.deletions,G===null?(a.deletions=[e],a.flags|=16):G.push(e)),a.child=h,a.memoizedState=null,h)}function yd(e,a){return a=Vc({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function Vc(e,a){return e=Di(22,e,null,a),e.lanes=0,e}function vd(e,a,h){return Po(a,e.child,null,h),e=yd(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function a_(e,a,h){e.lanes|=a;var _=e.alternate;_!==null&&(_.lanes|=a),Rf(e.return,a,h)}function Sd(e,a,h,_,T,w){var G=e.memoizedState;G===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:_,tail:h,tailMode:T,treeForkCount:w}:(G.isBackwards=a,G.rendering=null,G.renderingStartTime=0,G.last=_,G.tail=h,G.tailMode=T,G.treeForkCount=w)}function s_(e,a,h){var _=a.pendingProps,T=_.revealOrder,w=_.tail;_=_.children;var G=zn.current,ue=(G&2)!==0;if(ue?(G=G&1|2,a.flags|=128):G&=1,ce(zn,G),yi(e,a,_,h),_=Lt?oe:0,!ue&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a_(e,h,a);else if(e.tag===19)a_(e,h,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(T){case"forwards":for(h=a.child,T=null;h!==null;)e=h.alternate,e!==null&&Bc(e)===null&&(T=h),h=h.sibling;h=T,h===null?(T=a.child,a.child=null):(T=h.sibling,h.sibling=null),Sd(a,!1,T,h,w,_);break;case"backwards":case"unstable_legacy-backwards":for(h=null,T=a.child,a.child=null;T!==null;){if(e=T.alternate,e!==null&&Bc(e)===null){a.child=T;break}e=T.sibling,T.sibling=h,h=T,T=e}Sd(a,!0,h,null,w,_);break;case"together":Sd(a,!1,null,null,void 0,_);break;default:a.memoizedState=null}return a.child}function os(e,a,h){if(e!==null&&(a.dependencies=e.dependencies),Zs|=a.lanes,(h&a.childLanes)===0)if(e!==null){if(hl(e,a,h,!1),(h&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(l(153));if(a.child!==null){for(e=a.child,h=zr(e,e.pendingProps),a.child=h,h.return=a;e.sibling!==null;)e=e.sibling,h=h.sibling=zr(e,e.pendingProps),h.return=a;h.sibling=null}return a.child}function xd(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Ac(e)))}function p1(e,a,h){switch(a.tag){case 3:he(a,a.stateNode.containerInfo),Fs(a,Zn,e.memoizedState.cache),is();break;case 27:case 5:Me(a);break;case 4:he(a,a.stateNode.containerInfo);break;case 10:Fs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Zf(a),null;break;case 13:var _=a.memoizedState;if(_!==null)return _.dehydrated!==null?(Ys(a),a.flags|=128,null):(h&a.child.childLanes)!==0?r_(e,a,h):(Ys(a),e=os(e,a,h),e!==null?e.sibling:null);Ys(a);break;case 19:var T=(e.flags&128)!==0;if(_=(h&a.childLanes)!==0,_||(hl(e,a,h,!1),_=(h&a.childLanes)!==0),T){if(_)return s_(e,a,h);a.flags|=128}if(T=a.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ce(zn,zn.current),_)break;return null;case 22:return a.lanes=0,Km(e,a,h,a.pendingProps);case 24:Fs(a,Zn,e.memoizedState.cache)}return os(e,a,h)}function o_(e,a,h){if(e!==null)if(e.memoizedProps!==a.pendingProps)Jn=!0;else{if(!xd(e,h)&&(a.flags&128)===0)return Jn=!1,p1(e,a,h);Jn=(e.flags&131072)!==0}else Jn=!1,Lt&&(a.flags&1048576)!==0&&xt(a,oe,a.index);switch(a.lanes=0,a.tag){case 16:e:{var _=a.pendingProps;if(e=Ro(a.elementType),a.type=e,typeof e=="function")ll(e)?(_=Fo(e,_),a.tag=1,a=n_(null,a,e,_,h)):(a.tag=0,a=pd(null,a,e,_,h));else{if(e!=null){var T=e.$$typeof;if(T===V){a.tag=11,a=Vm(null,a,e,_,h);break e}else if(T===ee){a.tag=14,a=Wm(null,a,e,_,h);break e}}throw a=ne(e)||e,Error(l(306,a,""))}}return a;case 0:return pd(e,a,a.type,a.pendingProps,h);case 1:return _=a.type,T=Fo(_,a.pendingProps),n_(e,a,_,T,h);case 3:e:{if(he(a,a.stateNode.containerInfo),e===null)throw Error(l(387));_=a.pendingProps;var w=a.memoizedState;T=w.element,Uf(e,a),du(a,_,null,h);var G=a.memoizedState;if(_=G.cache,Fs(a,Zn,_),_!==w.cache&&If(a,[Zn],h,!0),fu(),_=G.element,w.isDehydrated)if(w={element:_,isDehydrated:!1,cache:G.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=i_(e,a,_,h);break e}else if(_!==T){T=m(Error(l(424)),a),ko(T),a=i_(e,a,_,h);break e}else for(e=a.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qt=Ur(e.firstChild),Gt=a,Lt=!0,wa=null,nr=!0,h=Kg(a,null,_,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(is(),_===T){a=os(e,a,h);break e}yi(e,a,_,h)}a=a.child}return a;case 26:return Jc(e,a),e===null?(h=yy(a.type,null,a.pendingProps,null))?a.memoizedState=h:Lt||(h=a.type,e=a.pendingProps,_=hh(Se.current).createElement(h),_[Mn]=a,_[jt]=e,vi(_,h,e),dn(_),a.stateNode=_):a.memoizedState=yy(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Me(a),e===null&&Lt&&(_=a.stateNode=gy(a.type,a.pendingProps,Se.current),Gt=a,nr=!0,T=qt,Qs(a.type)?(ep=T,qt=Ur(_.firstChild)):qt=T),yi(e,a,a.pendingProps.children,h),Jc(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Lt&&((T=_=qt)&&(_=q1(_,a.type,a.pendingProps,nr),_!==null?(a.stateNode=_,Gt=a,qt=Ur(_.firstChild),nr=!1,T=!0):T=!1),T||Ca(a)),Me(a),T=a.type,w=a.pendingProps,G=e!==null?e.memoizedProps:null,_=w.children,Vd(T,w)?_=null:G!==null&&Vd(T,G)&&(a.flags|=32),a.memoizedState!==null&&(T=Jf(e,a,a1,null,null,h),Mu._currentValue=T),Jc(e,a),yi(e,a,_,h),a.child;case 6:return e===null&&Lt&&((e=h=qt)&&(h=H1(h,a.pendingProps,nr),h!==null?(a.stateNode=h,Gt=a,qt=null,e=!0):e=!1),e||Ca(a)),null;case 13:return r_(e,a,h);case 4:return he(a,a.stateNode.containerInfo),_=a.pendingProps,e===null?a.child=Po(a,null,_,h):yi(e,a,_,h),a.child;case 11:return Vm(e,a,a.type,a.pendingProps,h);case 7:return yi(e,a,a.pendingProps,h),a.child;case 8:return yi(e,a,a.pendingProps.children,h),a.child;case 12:return yi(e,a,a.pendingProps.children,h),a.child;case 10:return _=a.pendingProps,Fs(a,a.type,_.value),yi(e,a,_.children,h),a.child;case 9:return T=a.type._context,_=a.pendingProps.children,Oo(a),T=_i(T),_=_(T),a.flags|=1,yi(e,a,_,h),a.child;case 14:return Wm(e,a,a.type,a.pendingProps,h);case 15:return Qm(e,a,a.type,a.pendingProps,h);case 19:return s_(e,a,h);case 31:return d1(e,a,h);case 22:return Km(e,a,h,a.pendingProps);case 24:return Oo(a),_=_i(Zn),e===null?(T=Ff(),T===null&&(T=hn,w=Pf(),T.pooledCache=w,w.refCount++,w!==null&&(T.pooledCacheLanes|=h),T=w),a.memoizedState={parent:_,cache:T},jf(a),Fs(a,Zn,T)):((e.lanes&h)!==0&&(Uf(e,a),du(a,null,null,h),fu()),T=e.memoizedState,w=a.memoizedState,T.parent!==_?(T={parent:_,cache:_},a.memoizedState=T,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=T),Fs(a,Zn,_)):(_=w.cache,Fs(a,Zn,_),_!==T.cache&&If(a,[Zn],h,!0))),yi(e,a,a.pendingProps.children,h),a.child;case 29:throw a.pendingProps}throw Error(l(156,a.tag))}function ls(e){e.flags|=4}function Ed(e,a,h,_,T){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(T&335544128)===T)if(e.stateNode.complete)e.flags|=8192;else if(R_())e.flags|=8192;else throw Io=Mc,zf}else e.flags&=-16777217}function l_(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!by(a))if(R_())e.flags|=8192;else throw Io=Mc,zf}function Wc(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Ye():536870912,e.lanes|=a,bl|=a)}function vu(e,a){if(!Lt)switch(e.tailMode){case"hidden":a=e.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?e.tail=null:h.sibling=null;break;case"collapsed":h=e.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:_.sibling=null}}function mn(e){var a=e.alternate!==null&&e.alternate.child===e.child,h=0,_=0;if(a)for(var T=e.child;T!==null;)h|=T.lanes|T.childLanes,_|=T.subtreeFlags&65011712,_|=T.flags&65011712,T.return=e,T=T.sibling;else for(T=e.child;T!==null;)h|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=e,T=T.sibling;return e.subtreeFlags|=_,e.childLanes=h,a}function g1(e,a,h){var _=a.pendingProps;switch(Rn(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(a),null;case 1:return mn(a),null;case 3:return h=a.stateNode,_=null,e!==null&&(_=e.memoizedState.cache),a.memoizedState.cache!==_&&(a.flags|=2048),rs(Zn),Ie(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(e===null||e.child===null)&&(sa(a)?ls(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,su())),mn(a),null;case 26:var T=a.type,w=a.memoizedState;return e===null?(ls(a),w!==null?(mn(a),l_(a,w)):(mn(a),Ed(a,T,null,_,h))):w?w!==e.memoizedState?(ls(a),mn(a),l_(a,w)):(mn(a),a.flags&=-16777217):(e=e.memoizedProps,e!==_&&ls(a),mn(a),Ed(a,T,e,_,h)),null;case 27:if(Ae(a),h=Se.current,T=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==_&&ls(a);else{if(!_){if(a.stateNode===null)throw Error(l(166));return mn(a),null}e=pe.current,sa(a)?au(a):(e=gy(T,_,h),a.stateNode=e,ls(a))}return mn(a),null;case 5:if(Ae(a),T=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==_&&ls(a);else{if(!_){if(a.stateNode===null)throw Error(l(166));return mn(a),null}if(w=pe.current,sa(a))au(a);else{var G=hh(Se.current);switch(w){case 1:w=G.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:w=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":w=G.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":w=G.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":w=G.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof _.is=="string"?G.createElement("select",{is:_.is}):G.createElement("select"),_.multiple?w.multiple=!0:_.size&&(w.size=_.size);break;default:w=typeof _.is=="string"?G.createElement(T,{is:_.is}):G.createElement(T)}}w[Mn]=a,w[jt]=_;e:for(G=a.child;G!==null;){if(G.tag===5||G.tag===6)w.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===a)break e;for(;G.sibling===null;){if(G.return===null||G.return===a)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}a.stateNode=w;e:switch(vi(w,T,_),T){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}_&&ls(a)}}return mn(a),Ed(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,h),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==_&&ls(a);else{if(typeof _!="string"&&a.stateNode===null)throw Error(l(166));if(e=Se.current,sa(a)){if(e=a.stateNode,h=a.memoizedProps,_=null,T=Gt,T!==null)switch(T.tag){case 27:case 5:_=T.memoizedProps}e[Mn]=a,e=!!(e.nodeValue===h||_!==null&&_.suppressHydrationWarning===!0||ry(e.nodeValue,h)),e||Ca(a,!0)}else e=hh(e).createTextNode(_),e[Mn]=a,a.stateNode=e}return mn(a),null;case 31:if(h=a.memoizedState,e===null||e.memoizedState!==null){if(_=sa(a),h!==null){if(e===null){if(!_)throw Error(l(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Mn]=a}else is(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mn(a),e=!1}else h=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),e=!0;if(!e)return a.flags&256?(br(a),a):(br(a),null);if((a.flags&128)!==0)throw Error(l(558))}return mn(a),null;case 13:if(_=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(T=sa(a),_!==null&&_.dehydrated!==null){if(e===null){if(!T)throw Error(l(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(l(317));T[Mn]=a}else is(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mn(a),T=!1}else T=su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=T),T=!0;if(!T)return a.flags&256?(br(a),a):(br(a),null)}return br(a),(a.flags&128)!==0?(a.lanes=h,a):(h=_!==null,e=e!==null&&e.memoizedState!==null,h&&(_=a.child,T=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(T=_.alternate.memoizedState.cachePool.pool),w=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(w=_.memoizedState.cachePool.pool),w!==T&&(_.flags|=2048)),h!==e&&h&&(a.child.flags|=8192),Wc(a,a.updateQueue),mn(a),null);case 4:return Ie(),e===null&&qd(a.stateNode.containerInfo),mn(a),null;case 10:return rs(a.type),mn(a),null;case 19:if($(zn),_=a.memoizedState,_===null)return mn(a),null;if(T=(a.flags&128)!==0,w=_.rendering,w===null)if(T)vu(_,!1);else{if(Pn!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(w=Bc(e),w!==null){for(a.flags|=128,vu(_,!1),e=w.updateQueue,a.updateQueue=e,Wc(a,e),a.subtreeFlags=0,e=h,h=a.child;h!==null;)nu(h,e),h=h.sibling;return ce(zn,zn.current&1|2),Lt&&nt(a,_.treeForkCount),a.child}e=e.sibling}_.tail!==null&&He()>th&&(a.flags|=128,T=!0,vu(_,!1),a.lanes=4194304)}else{if(!T)if(e=Bc(w),e!==null){if(a.flags|=128,T=!0,e=e.updateQueue,a.updateQueue=e,Wc(a,e),vu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Lt)return mn(a),null}else 2*He()-_.renderingStartTime>th&&h!==536870912&&(a.flags|=128,T=!0,vu(_,!1),a.lanes=4194304);_.isBackwards?(w.sibling=a.child,a.child=w):(e=_.last,e!==null?e.sibling=w:a.child=w,_.last=w)}return _.tail!==null?(e=_.tail,_.rendering=e,_.tail=e.sibling,_.renderingStartTime=He(),e.sibling=null,h=zn.current,ce(zn,T?h&1|2:h&1),Lt&&nt(a,_.treeForkCount),e):(mn(a),null);case 22:case 23:return br(a),Hf(),_=a.memoizedState!==null,e!==null?e.memoizedState!==null!==_&&(a.flags|=8192):_&&(a.flags|=8192),_?(h&536870912)!==0&&(a.flags&128)===0&&(mn(a),a.subtreeFlags&6&&(a.flags|=8192)):mn(a),h=a.updateQueue,h!==null&&Wc(a,h.retryQueue),h=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(h=e.memoizedState.cachePool.pool),_=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(_=a.memoizedState.cachePool.pool),_!==h&&(a.flags|=2048),e!==null&&$(Mo),null;case 24:return h=null,e!==null&&(h=e.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),rs(Zn),mn(a),null;case 25:return null;case 30:return null}throw Error(l(156,a.tag))}function m1(e,a){switch(Rn(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return rs(Zn),Ie(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Ae(a),null;case 31:if(a.memoizedState!==null){if(br(a),a.alternate===null)throw Error(l(340));is()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(br(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(l(340));is()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return $(zn),null;case 4:return Ie(),null;case 10:return rs(a.type),null;case 22:case 23:return br(a),Hf(),e!==null&&$(Mo),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return rs(Zn),null;case 25:return null;default:return null}}function u_(e,a){switch(Rn(a),a.tag){case 3:rs(Zn),Ie();break;case 26:case 27:case 5:Ae(a);break;case 4:Ie();break;case 31:a.memoizedState!==null&&br(a);break;case 13:br(a);break;case 19:$(zn);break;case 10:rs(a.type);break;case 22:case 23:br(a),Hf(),e!==null&&$(Mo);break;case 24:rs(Zn)}}function Su(e,a){try{var h=a.updateQueue,_=h!==null?h.lastEffect:null;if(_!==null){var T=_.next;h=T;do{if((h.tag&e)===e){_=void 0;var w=h.create,G=h.inst;_=w(),G.destroy=_}h=h.next}while(h!==T)}}catch(ue){nn(a,a.return,ue)}}function qs(e,a,h){try{var _=a.updateQueue,T=_!==null?_.lastEffect:null;if(T!==null){var w=T.next;_=w;do{if((_.tag&e)===e){var G=_.inst,ue=G.destroy;if(ue!==void 0){G.destroy=void 0,T=a;var _e=h,we=ue;try{we()}catch(Ne){nn(T,_e,Ne)}}}_=_.next}while(_!==w)}}catch(Ne){nn(a,a.return,Ne)}}function c_(e){var a=e.updateQueue;if(a!==null){var h=e.stateNode;try{em(a,h)}catch(_){nn(e,e.return,_)}}}function h_(e,a,h){h.props=Fo(e.type,e.memoizedProps),h.state=e.memoizedState;try{h.componentWillUnmount()}catch(_){nn(e,a,_)}}function xu(e,a){try{var h=e.ref;if(h!==null){switch(e.tag){case 26:case 27:case 5:var _=e.stateNode;break;case 30:_=e.stateNode;break;default:_=e.stateNode}typeof h=="function"?e.refCleanup=h(_):h.current=_}}catch(T){nn(e,a,T)}}function Da(e,a){var h=e.ref,_=e.refCleanup;if(h!==null)if(typeof _=="function")try{_()}catch(T){nn(e,a,T)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){nn(e,a,T)}else h.current=null}function f_(e){var a=e.type,h=e.memoizedProps,_=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":h.autoFocus&&_.focus();break e;case"img":h.src?_.src=h.src:h.srcSet&&(_.srcset=h.srcSet)}}catch(T){nn(e,e.return,T)}}function bd(e,a,h){try{var _=e.stateNode;F1(_,e.type,h,a),_[jt]=a}catch(T){nn(e,e.return,T)}}function d_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,a,h){var _=e.tag;if(_===5||_===6)e=e.stateNode,a?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(e,a):(a=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,a.appendChild(e),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=ui));else if(_!==4&&(_===27&&Qs(e.type)&&(h=e.stateNode,a=null),e=e.child,e!==null))for(wd(e,a,h),e=e.sibling;e!==null;)wd(e,a,h),e=e.sibling}function Qc(e,a,h){var _=e.tag;if(_===5||_===6)e=e.stateNode,a?h.insertBefore(e,a):h.appendChild(e);else if(_!==4&&(_===27&&Qs(e.type)&&(h=e.stateNode),e=e.child,e!==null))for(Qc(e,a,h),e=e.sibling;e!==null;)Qc(e,a,h),e=e.sibling}function p_(e){var a=e.stateNode,h=e.memoizedProps;try{for(var _=e.type,T=a.attributes;T.length;)a.removeAttributeNode(T[0]);vi(a,_,h),a[Mn]=e,a[jt]=h}catch(w){nn(e,e.return,w)}}var us=!1,Vn=!1,Cd=!1,g_=typeof WeakSet=="function"?WeakSet:Set,ci=null;function _1(e,a){if(e=e.containerInfo,Xd=yh,e=qn(e),Fn(e)){if("selectionStart"in e)var h={start:e.selectionStart,end:e.selectionEnd};else e:{h=(h=e.ownerDocument)&&h.defaultView||window;var _=h.getSelection&&h.getSelection();if(_&&_.rangeCount!==0){h=_.anchorNode;var T=_.anchorOffset,w=_.focusNode;_=_.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var G=0,ue=-1,_e=-1,we=0,Ne=0,Be=e,Le=null;t:for(;;){for(var ke;Be!==h||T!==0&&Be.nodeType!==3||(ue=G+T),Be!==w||_!==0&&Be.nodeType!==3||(_e=G+_),Be.nodeType===3&&(G+=Be.nodeValue.length),(ke=Be.firstChild)!==null;)Le=Be,Be=ke;for(;;){if(Be===e)break t;if(Le===h&&++we===T&&(ue=G),Le===w&&++Ne===_&&(_e=G),(ke=Be.nextSibling)!==null)break;Be=Le,Le=Be.parentNode}Be=ke}h=ue===-1||_e===-1?null:{start:ue,end:_e}}else h=null}h=h||{start:0,end:0}}else h=null;for(Jd={focusedElem:e,selectionRange:h},yh=!1,ci=a;ci!==null;)if(a=ci,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,ci=e;else for(;ci!==null;){switch(a=ci,w=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(h=0;h<e.length;h++)T=e[h],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&w!==null){e=void 0,h=a,T=w.memoizedProps,w=w.memoizedState,_=h.stateNode;try{var We=Fo(h.type,T);e=_.getSnapshotBeforeUpdate(We,w),_.__reactInternalSnapshotBeforeUpdate=e}catch(ot){nn(h,h.return,ot)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,h=e.nodeType,h===9)Qd(e);else if(h===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=a.sibling,e!==null){e.return=a.return,ci=e;break}ci=a.return}}function m_(e,a,h){var _=h.flags;switch(h.tag){case 0:case 11:case 15:hs(e,h),_&4&&Su(5,h);break;case 1:if(hs(e,h),_&4)if(e=h.stateNode,a===null)try{e.componentDidMount()}catch(G){nn(h,h.return,G)}else{var T=Fo(h.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(T,a,e.__reactInternalSnapshotBeforeUpdate)}catch(G){nn(h,h.return,G)}}_&64&&c_(h),_&512&&xu(h,h.return);break;case 3:if(hs(e,h),_&64&&(e=h.updateQueue,e!==null)){if(a=null,h.child!==null)switch(h.child.tag){case 27:case 5:a=h.child.stateNode;break;case 1:a=h.child.stateNode}try{em(e,a)}catch(G){nn(h,h.return,G)}}break;case 27:a===null&&_&4&&p_(h);case 26:case 5:hs(e,h),a===null&&_&4&&f_(h),_&512&&xu(h,h.return);break;case 12:hs(e,h);break;case 31:hs(e,h),_&4&&v_(e,h);break;case 13:hs(e,h),_&4&&S_(e,h),_&64&&(e=h.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(h=C1.bind(null,h),Z1(e,h))));break;case 22:if(_=h.memoizedState!==null||us,!_){a=a!==null&&a.memoizedState!==null||Vn,T=us;var w=Vn;us=_,(Vn=a)&&!w?fs(e,h,(h.subtreeFlags&8772)!==0):hs(e,h),us=T,Vn=w}break;case 30:break;default:hs(e,h)}}function __(e){var a=e.alternate;a!==null&&(e.alternate=null,__(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&Qr(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var En=null,ir=!1;function cs(e,a,h){for(h=h.child;h!==null;)y_(e,a,h),h=h.sibling}function y_(e,a,h){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(vn,h)}catch{}switch(h.tag){case 26:Vn||Da(h,a),cs(e,a,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Vn||Da(h,a);var _=En,T=ir;Qs(h.type)&&(En=h.stateNode,ir=!1),cs(e,a,h),ku(h.stateNode),En=_,ir=T;break;case 5:Vn||Da(h,a);case 6:if(_=En,T=ir,En=null,cs(e,a,h),En=_,ir=T,En!==null)if(ir)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(h.stateNode)}catch(w){nn(h,a,w)}else try{En.removeChild(h.stateNode)}catch(w){nn(h,a,w)}break;case 18:En!==null&&(ir?(e=En,cy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,h.stateNode),Nl(e)):cy(En,h.stateNode));break;case 4:_=En,T=ir,En=h.stateNode.containerInfo,ir=!0,cs(e,a,h),En=_,ir=T;break;case 0:case 11:case 14:case 15:qs(2,h,a),Vn||qs(4,h,a),cs(e,a,h);break;case 1:Vn||(Da(h,a),_=h.stateNode,typeof _.componentWillUnmount=="function"&&h_(h,a,_)),cs(e,a,h);break;case 21:cs(e,a,h);break;case 22:Vn=(_=Vn)||h.memoizedState!==null,cs(e,a,h),Vn=_;break;default:cs(e,a,h)}}function v_(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Nl(e)}catch(h){nn(a,a.return,h)}}}function S_(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(h){nn(a,a.return,h)}}function y1(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new g_),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new g_),a;default:throw Error(l(435,e.tag))}}function Kc(e,a){var h=y1(e);a.forEach(function(_){if(!h.has(_)){h.add(_);var T=L1.bind(null,e,_);_.then(T,T)}})}function rr(e,a){var h=a.deletions;if(h!==null)for(var _=0;_<h.length;_++){var T=h[_],w=e,G=a,ue=G;e:for(;ue!==null;){switch(ue.tag){case 27:if(Qs(ue.type)){En=ue.stateNode,ir=!1;break e}break;case 5:En=ue.stateNode,ir=!1;break e;case 3:case 4:En=ue.stateNode.containerInfo,ir=!0;break e}ue=ue.return}if(En===null)throw Error(l(160));y_(w,G,T),En=null,ir=!1,w=T.alternate,w!==null&&(w.return=null),T.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)x_(a,e),a=a.sibling}var la=null;function x_(e,a){var h=e.alternate,_=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rr(a,e),ar(e),_&4&&(qs(3,e,e.return),Su(3,e),qs(5,e,e.return));break;case 1:rr(a,e),ar(e),_&512&&(Vn||h===null||Da(h,h.return)),_&64&&us&&(e=e.updateQueue,e!==null&&(_=e.callbacks,_!==null&&(h=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=h===null?_:h.concat(_))));break;case 26:var T=la;if(rr(a,e),ar(e),_&512&&(Vn||h===null||Da(h,h.return)),_&4){var w=h!==null?h.memoizedState:null;if(_=e.memoizedState,h===null)if(_===null)if(e.stateNode===null){e:{_=e.type,h=e.memoizedProps,T=T.ownerDocument||T;t:switch(_){case"title":w=T.getElementsByTagName("title")[0],(!w||w[Ar]||w[Mn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=T.createElement(_),T.head.insertBefore(w,T.querySelector("head > title"))),vi(w,_,h),w[Mn]=e,dn(w),_=w;break e;case"link":var G=xy("link","href",T).get(_+(h.href||""));if(G){for(var ue=0;ue<G.length;ue++)if(w=G[ue],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){G.splice(ue,1);break t}}w=T.createElement(_),vi(w,_,h),T.head.appendChild(w);break;case"meta":if(G=xy("meta","content",T).get(_+(h.content||""))){for(ue=0;ue<G.length;ue++)if(w=G[ue],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){G.splice(ue,1);break t}}w=T.createElement(_),vi(w,_,h),T.head.appendChild(w);break;default:throw Error(l(468,_))}w[Mn]=e,dn(w),_=w}e.stateNode=_}else Ey(T,e.type,e.stateNode);else e.stateNode=Sy(T,_,e.memoizedProps);else w!==_?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,_===null?Ey(T,e.type,e.stateNode):Sy(T,_,e.memoizedProps)):_===null&&e.stateNode!==null&&bd(e,e.memoizedProps,h.memoizedProps)}break;case 27:rr(a,e),ar(e),_&512&&(Vn||h===null||Da(h,h.return)),h!==null&&_&4&&bd(e,e.memoizedProps,h.memoizedProps);break;case 5:if(rr(a,e),ar(e),_&512&&(Vn||h===null||Da(h,h.return)),e.flags&32){T=e.stateNode;try{Mi(T,"")}catch(We){nn(e,e.return,We)}}_&4&&e.stateNode!=null&&(T=e.memoizedProps,bd(e,T,h!==null?h.memoizedProps:T)),_&1024&&(Cd=!0);break;case 6:if(rr(a,e),ar(e),_&4){if(e.stateNode===null)throw Error(l(162));_=e.memoizedProps,h=e.stateNode;try{h.nodeValue=_}catch(We){nn(e,e.return,We)}}break;case 3:if(ph=null,T=la,la=fh(a.containerInfo),rr(a,e),la=T,ar(e),_&4&&h!==null&&h.memoizedState.isDehydrated)try{Nl(a.containerInfo)}catch(We){nn(e,e.return,We)}Cd&&(Cd=!1,E_(e));break;case 4:_=la,la=fh(e.stateNode.containerInfo),rr(a,e),ar(e),la=_;break;case 12:rr(a,e),ar(e);break;case 31:rr(a,e),ar(e),_&4&&(_=e.updateQueue,_!==null&&(e.updateQueue=null,Kc(e,_)));break;case 13:rr(a,e),ar(e),e.child.flags&8192&&e.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(eh=He()),_&4&&(_=e.updateQueue,_!==null&&(e.updateQueue=null,Kc(e,_)));break;case 22:T=e.memoizedState!==null;var _e=h!==null&&h.memoizedState!==null,we=us,Ne=Vn;if(us=we||T,Vn=Ne||_e,rr(a,e),Vn=Ne,us=we,ar(e),_&8192)e:for(a=e.stateNode,a._visibility=T?a._visibility&-2:a._visibility|1,T&&(h===null||_e||us||Vn||zo(e)),h=null,a=e;;){if(a.tag===5||a.tag===26){if(h===null){_e=h=a;try{if(w=_e.stateNode,T)G=w.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ue=_e.stateNode;var Be=_e.memoizedProps.style,Le=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;ue.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(We){nn(_e,_e.return,We)}}}else if(a.tag===6){if(h===null){_e=a;try{_e.stateNode.nodeValue=T?"":_e.memoizedProps}catch(We){nn(_e,_e.return,We)}}}else if(a.tag===18){if(h===null){_e=a;try{var ke=_e.stateNode;T?hy(ke,!0):hy(_e.stateNode,!1)}catch(We){nn(_e,_e.return,We)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;h===a&&(h=null),a=a.return}h===a&&(h=null),a.sibling.return=a.return,a=a.sibling}_&4&&(_=e.updateQueue,_!==null&&(h=_.retryQueue,h!==null&&(_.retryQueue=null,Kc(e,h))));break;case 19:rr(a,e),ar(e),_&4&&(_=e.updateQueue,_!==null&&(e.updateQueue=null,Kc(e,_)));break;case 30:break;case 21:break;default:rr(a,e),ar(e)}}function ar(e){var a=e.flags;if(a&2){try{for(var h,_=e.return;_!==null;){if(d_(_)){h=_;break}_=_.return}if(h==null)throw Error(l(160));switch(h.tag){case 27:var T=h.stateNode,w=Td(e);Qc(e,w,T);break;case 5:var G=h.stateNode;h.flags&32&&(Mi(G,""),h.flags&=-33);var ue=Td(e);Qc(e,ue,G);break;case 3:case 4:var _e=h.stateNode.containerInfo,we=Td(e);wd(e,we,_e);break;default:throw Error(l(161))}}catch(Ne){nn(e,e.return,Ne)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function E_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;E_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function hs(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)m_(e,a.alternate,a),a=a.sibling}function zo(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:qs(4,a,a.return),zo(a);break;case 1:Da(a,a.return);var h=a.stateNode;typeof h.componentWillUnmount=="function"&&h_(a,a.return,h),zo(a);break;case 27:ku(a.stateNode);case 26:case 5:Da(a,a.return),zo(a);break;case 22:a.memoizedState===null&&zo(a);break;case 30:zo(a);break;default:zo(a)}e=e.sibling}}function fs(e,a,h){for(h=h&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var _=a.alternate,T=e,w=a,G=w.flags;switch(w.tag){case 0:case 11:case 15:fs(T,w,h),Su(4,w);break;case 1:if(fs(T,w,h),_=w,T=_.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(we){nn(_,_.return,we)}if(_=w,T=_.updateQueue,T!==null){var ue=_.stateNode;try{var _e=T.shared.hiddenCallbacks;if(_e!==null)for(T.shared.hiddenCallbacks=null,T=0;T<_e.length;T++)$g(_e[T],ue)}catch(we){nn(_,_.return,we)}}h&&G&64&&c_(w),xu(w,w.return);break;case 27:p_(w);case 26:case 5:fs(T,w,h),h&&_===null&&G&4&&f_(w),xu(w,w.return);break;case 12:fs(T,w,h);break;case 31:fs(T,w,h),h&&G&4&&v_(T,w);break;case 13:fs(T,w,h),h&&G&4&&S_(T,w);break;case 22:w.memoizedState===null&&fs(T,w,h),xu(w,w.return);break;case 30:break;default:fs(T,w,h)}a=a.sibling}}function Ld(e,a){var h=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(h=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==h&&(e!=null&&e.refCount++,h!=null&&ou(h))}function Dd(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&ou(e))}function ua(e,a,h,_){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)b_(e,a,h,_),a=a.sibling}function b_(e,a,h,_){var T=a.flags;switch(a.tag){case 0:case 11:case 15:ua(e,a,h,_),T&2048&&Su(9,a);break;case 1:ua(e,a,h,_);break;case 3:ua(e,a,h,_),T&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&ou(e)));break;case 12:if(T&2048){ua(e,a,h,_),e=a.stateNode;try{var w=a.memoizedProps,G=w.id,ue=w.onPostCommit;typeof ue=="function"&&ue(G,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_e){nn(a,a.return,_e)}}else ua(e,a,h,_);break;case 31:ua(e,a,h,_);break;case 13:ua(e,a,h,_);break;case 23:break;case 22:w=a.stateNode,G=a.alternate,a.memoizedState!==null?w._visibility&2?ua(e,a,h,_):Eu(e,a):w._visibility&2?ua(e,a,h,_):(w._visibility|=2,Sl(e,a,h,_,(a.subtreeFlags&10256)!==0||!1)),T&2048&&Ld(G,a);break;case 24:ua(e,a,h,_),T&2048&&Dd(a.alternate,a);break;default:ua(e,a,h,_)}}function Sl(e,a,h,_,T){for(T=T&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=e,G=a,ue=h,_e=_,we=G.flags;switch(G.tag){case 0:case 11:case 15:Sl(w,G,ue,_e,T),Su(8,G);break;case 23:break;case 22:var Ne=G.stateNode;G.memoizedState!==null?Ne._visibility&2?Sl(w,G,ue,_e,T):Eu(w,G):(Ne._visibility|=2,Sl(w,G,ue,_e,T)),T&&we&2048&&Ld(G.alternate,G);break;case 24:Sl(w,G,ue,_e,T),T&&we&2048&&Dd(G.alternate,G);break;default:Sl(w,G,ue,_e,T)}a=a.sibling}}function Eu(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var h=e,_=a,T=_.flags;switch(_.tag){case 22:Eu(h,_),T&2048&&Ld(_.alternate,_);break;case 24:Eu(h,_),T&2048&&Dd(_.alternate,_);break;default:Eu(h,_)}a=a.sibling}}var bu=8192;function xl(e,a,h){if(e.subtreeFlags&bu)for(e=e.child;e!==null;)T_(e,a,h),e=e.sibling}function T_(e,a,h){switch(e.tag){case 26:xl(e,a,h),e.flags&bu&&e.memoizedState!==null&&rE(h,la,e.memoizedState,e.memoizedProps);break;case 5:xl(e,a,h);break;case 3:case 4:var _=la;la=fh(e.stateNode.containerInfo),xl(e,a,h),la=_;break;case 22:e.memoizedState===null&&(_=e.alternate,_!==null&&_.memoizedState!==null?(_=bu,bu=16777216,xl(e,a,h),bu=_):xl(e,a,h));break;default:xl(e,a,h)}}function w_(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Tu(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var _=a[h];ci=_,L_(_,e)}w_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)C_(e),e=e.sibling}function C_(e){switch(e.tag){case 0:case 11:case 15:Tu(e),e.flags&2048&&qs(9,e,e.return);break;case 3:Tu(e);break;case 12:Tu(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,$c(e)):Tu(e);break;default:Tu(e)}}function $c(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var h=0;h<a.length;h++){var _=a[h];ci=_,L_(_,e)}w_(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:qs(8,a,a.return),$c(a);break;case 22:h=a.stateNode,h._visibility&2&&(h._visibility&=-3,$c(a));break;default:$c(a)}e=e.sibling}}function L_(e,a){for(;ci!==null;){var h=ci;switch(h.tag){case 0:case 11:case 15:qs(8,h,a);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var _=h.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:ou(h.memoizedState.cache)}if(_=h.child,_!==null)_.return=h,ci=_;else e:for(h=e;ci!==null;){_=ci;var T=_.sibling,w=_.return;if(__(_),_===h){ci=null;break e}if(T!==null){T.return=w,ci=T;break e}ci=w}}}var v1={getCacheForType:function(e){var a=_i(Zn),h=a.data.get(e);return h===void 0&&(h=e(),a.data.set(e,h)),h},cacheSignal:function(){return _i(Zn).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,hn=null,Dt=null,Nt=0,tn=0,Tr=null,Hs=!1,El=!1,Ad=!1,ds=0,Pn=0,Zs=0,jo=0,kd=0,wr=0,bl=0,wu=null,sr=null,Nd=!1,eh=0,D_=0,th=1/0,nh=null,Xs=null,si=0,Js=null,Tl=null,ps=0,Od=0,Md=null,A_=null,Cu=0,Rd=null;function Cr(){return(Qt&2)!==0&&Nt!==0?Nt&-Nt:R.T!==null?jd():pa()}function k_(){if(wr===0)if((Nt&536870912)===0||Lt){var e=li;li<<=1,(li&3932160)===0&&(li=262144),wr=e}else wr=536870912;return e=Er.current,e!==null&&(e.flags|=32),wr}function or(e,a,h){(e===hn&&(tn===2||tn===9)||e.cancelPendingCommit!==null)&&(wl(e,0),Vs(e,Nt,wr,!1)),Gi(e,h),((Qt&2)===0||e!==hn)&&(e===hn&&((Qt&2)===0&&(jo|=h),Pn===4&&Vs(e,Nt,wr,!1)),Aa(e))}function N_(e,a,h){if((Qt&6)!==0)throw Error(l(327));var _=!h&&(a&127)===0&&(a&e.expiredLanes)===0||fa(e,a),T=_?b1(e,a):Pd(e,a,!0),w=_;do{if(T===0){El&&!_&&Vs(e,a,0,!1);break}else{if(h=e.current.alternate,w&&!x1(h)){T=Pd(e,a,!1),w=!1;continue}if(T===2){if(w=a,e.errorRecoveryDisabledLanes&w)var G=0;else G=e.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){a=G;e:{var ue=e;T=wu;var _e=ue.current.memoizedState.isDehydrated;if(_e&&(wl(ue,G).flags|=256),G=Pd(ue,G,!1),G!==2){if(Ad&&!_e){ue.errorRecoveryDisabledLanes|=w,jo|=w,T=4;break e}w=sr,sr=T,w!==null&&(sr===null?sr=w:sr.push.apply(sr,w))}T=G}if(w=!1,T!==2)continue}}if(T===1){wl(e,0),Vs(e,a,0,!0);break}e:{switch(_=e,w=T,w){case 0:case 1:throw Error(l(345));case 4:if((a&4194048)!==a)break;case 6:Vs(_,a,wr,!Hs);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(l(329))}if((a&62914560)===a&&(T=eh+300-He(),10<T)){if(Vs(_,a,wr,!Hs),bs(_,0,!0)!==0)break e;ps=a,_.timeoutHandle=ly(O_.bind(null,_,h,sr,nh,Nd,a,wr,jo,bl,Hs,w,"Throttled",-0,0),T);break e}O_(_,h,sr,nh,Nd,a,wr,jo,bl,Hs,w,null,-0,0)}}break}while(!0);Aa(e)}function O_(e,a,h,_,T,w,G,ue,_e,we,Ne,Be,Le,ke){if(e.timeoutHandle=-1,Be=a.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},T_(a,w,Be);var We=(w&62914560)===w?eh-He():(w&4194048)===w?D_-He():0;if(We=aE(Be,We),We!==null){ps=w,e.cancelPendingCommit=We(j_.bind(null,e,a,w,h,_,T,G,ue,_e,Ne,Be,null,Le,ke)),Vs(e,w,G,!we);return}}j_(e,a,w,h,_,T,G,ue,_e)}function x1(e){for(var a=e;;){var h=a.tag;if((h===0||h===11||h===15)&&a.flags&16384&&(h=a.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var _=0;_<h.length;_++){var T=h[_],w=T.getSnapshot;T=T.value;try{if(!Gn(w(),T))return!1}catch{return!1}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Vs(e,a,h,_){a&=~kd,a&=~jo,e.suspendedLanes|=a,e.pingedLanes&=~a,_&&(e.warmLanes|=a),_=e.expirationTimes;for(var T=a;0<T;){var w=31-di(T),G=1<<w;_[w]=-1,T&=~G}h!==0&&po(e,h,a)}function ih(){return(Qt&6)===0?(Lu(0),!1):!0}function Id(){if(Dt!==null){if(tn===0)var e=Dt.return;else e=Dt,oa=La=null,Qf(e),gl=null,uu=0,e=Dt;for(;e!==null;)u_(e.alternate,e),e=e.return;Dt=null}}function wl(e,a){var h=e.timeoutHandle;h!==-1&&(e.timeoutHandle=-1,U1(h)),h=e.cancelPendingCommit,h!==null&&(e.cancelPendingCommit=null,h()),ps=0,Id(),hn=e,Dt=h=zr(e.current,null),Nt=a,tn=0,Tr=null,Hs=!1,El=fa(e,a),Ad=!1,bl=wr=kd=jo=Zs=Pn=0,sr=wu=null,Nd=!1,(a&8)!==0&&(a|=a&32);var _=e.entangledLanes;if(_!==0)for(e=e.entanglements,_&=a;0<_;){var T=31-di(_),w=1<<T;a|=e[T],_&=~w}return ds=a,Ta(),h}function M_(e,a){vt=null,R.H=_u,a===pl||a===Oc?(a=Vg(),tn=3):a===zf?(a=Vg(),tn=4):tn=a===dd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tr=a,Dt===null&&(Pn=1,Zc(e,m(a,e.current)))}function R_(){var e=Er.current;return e===null?!0:(Nt&4194048)===Nt?jr===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===jr:!1}function I_(){var e=R.H;return R.H=_u,e===null?_u:e}function P_(){var e=R.A;return R.A=v1,e}function rh(){Pn=4,Hs||(Nt&4194048)!==Nt&&Er.current!==null||(El=!0),(Zs&134217727)===0&&(jo&134217727)===0||hn===null||Vs(hn,Nt,wr,!1)}function Pd(e,a,h){var _=Qt;Qt|=2;var T=I_(),w=P_();(hn!==e||Nt!==a)&&(nh=null,wl(e,a)),a=!1;var G=Pn;e:do try{if(tn!==0&&Dt!==null){var ue=Dt,_e=Tr;switch(tn){case 8:Id(),G=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(a=!0);var we=tn;if(tn=0,Tr=null,Cl(e,ue,_e,we),h&&El){G=0;break e}break;default:we=tn,tn=0,Tr=null,Cl(e,ue,_e,we)}}E1(),G=Pn;break}catch(Ne){M_(e,Ne)}while(!0);return a&&e.shellSuspendCounter++,oa=La=null,Qt=_,R.H=T,R.A=w,Dt===null&&(hn=null,Nt=0,Ta()),G}function E1(){for(;Dt!==null;)B_(Dt)}function b1(e,a){var h=Qt;Qt|=2;var _=I_(),T=P_();hn!==e||Nt!==a?(nh=null,th=He()+500,wl(e,a)):El=fa(e,a);e:do try{if(tn!==0&&Dt!==null){a=Dt;var w=Tr;t:switch(tn){case 1:tn=0,Tr=null,Cl(e,a,w,1);break;case 2:case 9:if(Xg(w)){tn=0,Tr=null,F_(a);break}a=function(){tn!==2&&tn!==9||hn!==e||(tn=7),Aa(e)},w.then(a,a);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Xg(w)?(tn=0,Tr=null,F_(a)):(tn=0,Tr=null,Cl(e,a,w,7));break;case 5:var G=null;switch(Dt.tag){case 26:G=Dt.memoizedState;case 5:case 27:var ue=Dt;if(G?by(G):ue.stateNode.complete){tn=0,Tr=null;var _e=ue.sibling;if(_e!==null)Dt=_e;else{var we=ue.return;we!==null?(Dt=we,ah(we)):Dt=null}break t}}tn=0,Tr=null,Cl(e,a,w,5);break;case 6:tn=0,Tr=null,Cl(e,a,w,6);break;case 8:Id(),Pn=6;break e;default:throw Error(l(462))}}T1();break}catch(Ne){M_(e,Ne)}while(!0);return oa=La=null,R.H=_,R.A=T,Qt=h,Dt!==null?0:(hn=null,Nt=0,Ta(),Pn)}function T1(){for(;Dt!==null&&!gn();)B_(Dt)}function B_(e){var a=o_(e.alternate,e,ds);e.memoizedProps=e.pendingProps,a===null?ah(e):Dt=a}function F_(e){var a=e,h=a.alternate;switch(a.tag){case 15:case 0:a=t_(h,a,a.pendingProps,a.type,void 0,Nt);break;case 11:a=t_(h,a,a.pendingProps,a.type.render,a.ref,Nt);break;case 5:Qf(a);default:u_(h,a),a=Dt=nu(a,ds),a=o_(h,a,ds)}e.memoizedProps=e.pendingProps,a===null?ah(e):Dt=a}function Cl(e,a,h,_){oa=La=null,Qf(a),gl=null,uu=0;var T=a.return;try{if(f1(e,T,a,h,Nt)){Pn=1,Zc(e,m(h,e.current)),Dt=null;return}}catch(w){if(T!==null)throw Dt=T,w;Pn=1,Zc(e,m(h,e.current)),Dt=null;return}a.flags&32768?(Lt||_===1?e=!0:El||(Nt&536870912)!==0?e=!1:(Hs=e=!0,(_===2||_===9||_===3||_===6)&&(_=Er.current,_!==null&&_.tag===13&&(_.flags|=16384))),z_(a,e)):ah(a)}function ah(e){var a=e;do{if((a.flags&32768)!==0){z_(a,Hs);return}e=a.return;var h=g1(a.alternate,a,ds);if(h!==null){Dt=h;return}if(a=a.sibling,a!==null){Dt=a;return}Dt=a=e}while(a!==null);Pn===0&&(Pn=5)}function z_(e,a){do{var h=m1(e.alternate,e);if(h!==null){h.flags&=32767,Dt=h;return}if(h=e.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!a&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=h}while(e!==null);Pn=6,Dt=null}function j_(e,a,h,_,T,w,G,ue,_e){e.cancelPendingCommit=null;do sh();while(si!==0);if((Qt&6)!==0)throw Error(l(327));if(a!==null){if(a===e.current)throw Error(l(177));if(w=a.lanes|a.childLanes,w|=es,za(e,h,w,G,ue,_e),e===hn&&(Dt=hn=null,Nt=0),Tl=a,Js=e,ps=h,Od=w,Md=T,A_=_,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D1(Je,function(){return H_(),null})):(e.callbackNode=null,e.callbackPriority=0),_=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||_){_=R.T,R.T=null,T=j.p,j.p=2,G=Qt,Qt|=4;try{_1(e,a,h)}finally{Qt=G,j.p=T,R.T=_}}si=1,U_(),Y_(),G_()}}function U_(){if(si===1){si=0;var e=Js,a=Tl,h=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||h){h=R.T,R.T=null;var _=j.p;j.p=2;var T=Qt;Qt|=4;try{x_(a,e);var w=Jd,G=qn(e.containerInfo),ue=w.focusedElem,_e=w.selectionRange;if(G!==ue&&ue&&ue.ownerDocument&&$a(ue.ownerDocument.documentElement,ue)){if(_e!==null&&Fn(ue)){var we=_e.start,Ne=_e.end;if(Ne===void 0&&(Ne=we),"selectionStart"in ue)ue.selectionStart=we,ue.selectionEnd=Math.min(Ne,ue.value.length);else{var Be=ue.ownerDocument||document,Le=Be&&Be.defaultView||window;if(Le.getSelection){var ke=Le.getSelection(),We=ue.textContent.length,ot=Math.min(_e.start,We),ln=_e.end===void 0?ot:Math.min(_e.end,We);!ke.extend&&ot>ln&&(G=ln,ln=ot,ot=G);var xe=Ka(ue,ot),ve=Ka(ue,ln);if(xe&&ve&&(ke.rangeCount!==1||ke.anchorNode!==xe.node||ke.anchorOffset!==xe.offset||ke.focusNode!==ve.node||ke.focusOffset!==ve.offset)){var Te=Be.createRange();Te.setStart(xe.node,xe.offset),ke.removeAllRanges(),ot>ln?(ke.addRange(Te),ke.extend(ve.node,ve.offset)):(Te.setEnd(ve.node,ve.offset),ke.addRange(Te))}}}}for(Be=[],ke=ue;ke=ke.parentNode;)ke.nodeType===1&&Be.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<Be.length;ue++){var Re=Be[ue];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}yh=!!Xd,Jd=Xd=null}finally{Qt=T,j.p=_,R.T=h}}e.current=a,si=2}}function Y_(){if(si===2){si=0;var e=Js,a=Tl,h=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||h){h=R.T,R.T=null;var _=j.p;j.p=2;var T=Qt;Qt|=4;try{m_(e,a.alternate,a)}finally{Qt=T,j.p=_,R.T=h}}si=3}}function G_(){if(si===4||si===3){si=0,Ui();var e=Js,a=Tl,h=ps,_=A_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?si=5:(si=0,Tl=Js=null,q_(e,e.pendingLanes));var T=e.pendingLanes;if(T===0&&(Xs=null),Ke(h),a=a.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(vn,a,void 0,(a.current.flags&128)===128)}catch{}if(_!==null){a=R.T,T=j.p,j.p=2,R.T=null;try{for(var w=e.onRecoverableError,G=0;G<_.length;G++){var ue=_[G];w(ue.value,{componentStack:ue.stack})}}finally{R.T=a,j.p=T}}(ps&3)!==0&&sh(),Aa(e),T=e.pendingLanes,(h&261930)!==0&&(T&42)!==0?e===Rd?Cu++:(Cu=0,Rd=e):Cu=0,Lu(0)}}function q_(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,ou(a)))}function sh(){return U_(),Y_(),G_(),H_()}function H_(){if(si!==5)return!1;var e=Js,a=Od;Od=0;var h=Ke(ps),_=R.T,T=j.p;try{j.p=32>h?32:h,R.T=null,h=Md,Md=null;var w=Js,G=ps;if(si=0,Tl=Js=null,ps=0,(Qt&6)!==0)throw Error(l(331));var ue=Qt;if(Qt|=4,C_(w.current),b_(w,w.current,G,h),Qt=ue,Lu(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(vn,w)}catch{}return!0}finally{j.p=T,R.T=_,q_(e,a)}}function Z_(e,a,h){a=m(h,a),a=fd(e.stateNode,a,2),e=Us(e,a,2),e!==null&&(Gi(e,2),Aa(e))}function nn(e,a,h){if(e.tag===3)Z_(e,e,h);else for(;a!==null;){if(a.tag===3){Z_(a,e,h);break}else if(a.tag===1){var _=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Xs===null||!Xs.has(_))){e=m(h,e),h=Xm(2),_=Us(a,h,2),_!==null&&(Jm(h,_,a,e),Gi(_,2),Aa(_));break}}a=a.return}}function Bd(e,a,h){var _=e.pingCache;if(_===null){_=e.pingCache=new S1;var T=new Set;_.set(a,T)}else T=_.get(a),T===void 0&&(T=new Set,_.set(a,T));T.has(h)||(Ad=!0,T.add(h),e=w1.bind(null,e,a,h),a.then(e,e))}function w1(e,a,h){var _=e.pingCache;_!==null&&_.delete(a),e.pingedLanes|=e.suspendedLanes&h,e.warmLanes&=~h,hn===e&&(Nt&h)===h&&(Pn===4||Pn===3&&(Nt&62914560)===Nt&&300>He()-eh?(Qt&2)===0&&wl(e,0):kd|=h,bl===Nt&&(bl=0)),Aa(e)}function X_(e,a){a===0&&(a=Ye()),e=Bi(e,a),e!==null&&(Gi(e,a),Aa(e))}function C1(e){var a=e.memoizedState,h=0;a!==null&&(h=a.retryLane),X_(e,h)}function L1(e,a){var h=0;switch(e.tag){case 31:case 13:var _=e.stateNode,T=e.memoizedState;T!==null&&(h=T.retryLane);break;case 19:_=e.stateNode;break;case 22:_=e.stateNode._retryCache;break;default:throw Error(l(314))}_!==null&&_.delete(a),X_(e,h)}function D1(e,a){return Jt(e,a)}var oh=null,Ll=null,Fd=!1,lh=!1,zd=!1,Ws=0;function Aa(e){e!==Ll&&e.next===null&&(Ll===null?oh=Ll=e:Ll=Ll.next=e),lh=!0,Fd||(Fd=!0,k1())}function Lu(e,a){if(!zd&&lh){zd=!0;do for(var h=!1,_=oh;_!==null;){if(e!==0){var T=_.pendingLanes;if(T===0)var w=0;else{var G=_.suspendedLanes,ue=_.pingedLanes;w=(1<<31-di(42|e)+1)-1,w&=T&~(G&~ue),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,Q_(_,w))}else w=Nt,w=bs(_,_===hn?w:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(w&3)===0||fa(_,w)||(h=!0,Q_(_,w));_=_.next}while(h);zd=!1}}function A1(){J_()}function J_(){lh=Fd=!1;var e=0;Ws!==0&&j1()&&(e=Ws);for(var a=He(),h=null,_=oh;_!==null;){var T=_.next,w=V_(_,a);w===0?(_.next=null,h===null?oh=T:h.next=T,T===null&&(Ll=h)):(h=_,(e!==0||(w&3)!==0)&&(lh=!0)),_=T}si!==0&&si!==5||Lu(e),Ws!==0&&(Ws=0)}function V_(e,a){for(var h=e.suspendedLanes,_=e.pingedLanes,T=e.expirationTimes,w=e.pendingLanes&-62914561;0<w;){var G=31-di(w),ue=1<<G,_e=T[G];_e===-1?((ue&h)===0||(ue&_)!==0)&&(T[G]=Vr(ue,a)):_e<=a&&(e.expiredLanes|=ue),w&=~ue}if(a=hn,h=Nt,h=bs(e,e===a?h:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),_=e.callbackNode,h===0||e===a&&(tn===2||tn===9)||e.cancelPendingCommit!==null)return _!==null&&_!==null&&ei(_),e.callbackNode=null,e.callbackPriority=0;if((h&3)===0||fa(e,h)){if(a=h&-h,a===e.callbackPriority)return a;switch(_!==null&&ei(_),Ke(h)){case 2:case 8:h=yn;break;case 32:h=Je;break;case 268435456:h=_t;break;default:h=Je}return _=W_.bind(null,e),h=Jt(h,_),e.callbackPriority=a,e.callbackNode=h,a}return _!==null&&_!==null&&ei(_),e.callbackPriority=2,e.callbackNode=null,2}function W_(e,a){if(si!==0&&si!==5)return e.callbackNode=null,e.callbackPriority=0,null;var h=e.callbackNode;if(sh()&&e.callbackNode!==h)return null;var _=Nt;return _=bs(e,e===hn?_:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),_===0?null:(N_(e,_,a),V_(e,He()),e.callbackNode!=null&&e.callbackNode===h?W_.bind(null,e):null)}function Q_(e,a){if(sh())return null;N_(e,a,!0)}function k1(){Y1(function(){(Qt&6)!==0?Jt(It,A1):J_()})}function jd(){if(Ws===0){var e=fl;e===0&&(e=hr,hr<<=1,(hr&261888)===0&&(hr=256)),Ws=e}return Ws}function K_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ma(""+e)}function $_(e,a){var h=a.ownerDocument.createElement("input");return h.name=a.name,h.value=a.value,e.id&&h.setAttribute("form",e.id),a.parentNode.insertBefore(h,a),e=new FormData(e),h.parentNode.removeChild(h),e}function N1(e,a,h,_,T){if(a==="submit"&&h&&h.stateNode===T){var w=K_((T[jt]||null).action),G=_.submitter;G&&(a=(a=G[jt]||null)?K_(a.formAction):G.getAttribute("formAction"),a!==null&&(w=a,G=null));var ue=new Ns("action","action",null,_,T);e.push({event:ue,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Ws!==0){var _e=G?$_(T,G):new FormData(T);sd(h,{pending:!0,data:_e,method:T.method,action:w},null,_e)}}else typeof w=="function"&&(ue.preventDefault(),_e=G?$_(T,G):new FormData(T),sd(h,{pending:!0,data:_e,method:T.method,action:w},w,_e))},currentTarget:T}]})}}for(var Ud=0;Ud<an.length;Ud++){var Yd=an[Ud],O1=Yd.toLowerCase(),M1=Yd[0].toUpperCase()+Yd.slice(1);Wt(O1,"on"+M1)}Wt(be,"onAnimationEnd"),Wt(ze,"onAnimationIteration"),Wt(Ge,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Ve,"onTransitionRun"),Wt(tt,"onTransitionStart"),Wt(Ct,"onTransitionCancel"),Wt(gt,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function ey(e,a){a=(a&4)!==0;for(var h=0;h<e.length;h++){var _=e[h],T=_.event;_=_.listeners;e:{var w=void 0;if(a)for(var G=_.length-1;0<=G;G--){var ue=_[G],_e=ue.instance,we=ue.currentTarget;if(ue=ue.listener,_e!==w&&T.isPropagationStopped())break e;w=ue,T.currentTarget=we;try{w(T)}catch(Ne){Pi(Ne)}T.currentTarget=null,w=_e}else for(G=0;G<_.length;G++){if(ue=_[G],_e=ue.instance,we=ue.currentTarget,ue=ue.listener,_e!==w&&T.isPropagationStopped())break e;w=ue,T.currentTarget=we;try{w(T)}catch(Ne){Pi(Ne)}T.currentTarget=null,w=_e}}}}function At(e,a){var h=a[bi];h===void 0&&(h=a[bi]=new Set);var _=e+"__bubble";h.has(_)||(ty(a,e,2,!1),h.add(_))}function Gd(e,a,h){var _=0;a&&(_|=4),ty(h,e,_,a)}var uh="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[uh]){e[uh]=!0,Cs.forEach(function(h){h!=="selectionchange"&&(R1.has(h)||Gd(h,!1,e),Gd(h,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[uh]||(a[uh]=!0,Gd("selectionchange",!1,a))}}function ty(e,a,h,_){switch(ky(a)){case 2:var T=lE;break;case 8:T=uE;break;default:T=ap}h=T.bind(null,a,h,e),T=void 0,!Tt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(T=!0),_?T!==void 0?e.addEventListener(a,h,{capture:!0,passive:T}):e.addEventListener(a,h,!0):T!==void 0?e.addEventListener(a,h,{passive:T}):e.addEventListener(a,h,!1)}function Hd(e,a,h,_,T){var w=_;if((a&1)===0&&(a&2)===0&&_!==null)e:for(;;){if(_===null)return;var G=_.tag;if(G===3||G===4){var ue=_.stateNode.containerInfo;if(ue===T)break;if(G===4)for(G=_.return;G!==null;){var _e=G.tag;if((_e===3||_e===4)&&G.stateNode.containerInfo===T)return;G=G.return}for(;ue!==null;){if(G=$t(ue),G===null)return;if(_e=G.tag,_e===5||_e===6||_e===26||_e===27){_=w=G;continue e}ue=ue.parentNode}}_=_.return}_a(function(){var we=w,Ne=Un(h),Be=[];e:{var Le=Yt.get(e);if(Le!==void 0){var ke=Ns,We=e;switch(e){case"keypress":if(wn(h)===0)break e;case"keydown":case"keyup":ke=xo;break;case"focusin":We="focus",ke=vo;break;case"focusout":We="blur",ke=vo;break;case"beforeblur":case"afterblur":ke=vo;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Eo;break;case be:case ze:case Ge:ke=Os;break;case gt:ke=Li;break;case"scroll":case"scrollend":ke=dt;break;case"wheel":ke=Cn;break;case"copy":case"cut":case"paste":ke=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Ms;break;case"toggle":case"beforetoggle":ke=Ha}var ot=(a&4)!==0,ln=!ot&&(e==="scroll"||e==="scrollend"),xe=ot?Le!==null?Le+"Capture":null:Le;ot=[];for(var ve=we,Te;ve!==null;){var Re=ve;if(Te=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||Te===null||xe===null||(Re=ea(ve,xe),Re!=null&&ot.push(Au(ve,Re,Te))),ln)break;ve=ve.return}0<ot.length&&(Le=new ke(Le,We,null,h,Ne),Be.push({event:Le,listeners:ot}))}}if((a&7)===0){e:{if(Le=e==="mouseover"||e==="pointerover",ke=e==="mouseout"||e==="pointerout",Le&&h!==ni&&(We=h.relatedTarget||h.fromElement)&&($t(We)||We[fr]))break e;if((ke||Le)&&(Le=Ne.window===Ne?Ne:(Le=Ne.ownerDocument)?Le.defaultView||Le.parentWindow:window,ke?(We=h.relatedTarget||h.toElement,ke=we,We=We?$t(We):null,We!==null&&(ln=c(We),ot=We.tag,We!==ln||ot!==5&&ot!==27&&ot!==6)&&(We=null)):(ke=null,We=we),ke!==We)){if(ot=Qo,Re="onMouseLeave",xe="onMouseEnter",ve="mouse",(e==="pointerout"||e==="pointerover")&&(ot=Ms,Re="onPointerLeave",xe="onPointerEnter",ve="pointer"),ln=ke==null?Le:kr(ke),Te=We==null?Le:kr(We),Le=new ot(Re,ve+"leave",ke,h,Ne),Le.target=ln,Le.relatedTarget=Te,Re=null,$t(Ne)===we&&(ot=new ot(xe,ve+"enter",We,h,Ne),ot.target=Te,ot.relatedTarget=ln,Re=ot),ln=Re,ke&&We)t:{for(ot=I1,xe=ke,ve=We,Te=0,Re=xe;Re;Re=ot(Re))Te++;Re=0;for(var at=ve;at;at=ot(at))Re++;for(;0<Te-Re;)xe=ot(xe),Te--;for(;0<Re-Te;)ve=ot(ve),Re--;for(;Te--;){if(xe===ve||ve!==null&&xe===ve.alternate){ot=xe;break t}xe=ot(xe),ve=ot(ve)}ot=null}else ot=null;ke!==null&&ny(Be,Le,ke,ot,!1),We!==null&&ln!==null&&ny(Be,ln,We,ot,!0)}}e:{if(Le=we?kr(we):window,ke=Le.nodeName&&Le.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Le.type==="file")var Ht=Wa;else if(Qi(Le))if(al)Ht=ol;else{Ht=Do;var et=er}else ke=Le.nodeName,!ke||ke.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?we&&$r(we.elementType)&&(Ht=Wa):Ht=Ea;if(Ht&&(Ht=Ht(e,we))){Co(Be,Ht,h,Ne);break e}et&&et(e,Le,we),e==="focusout"&&we&&Le.type==="number"&&we.memoizedProps.value!=null&&pr(Le,"number",Le.value)}switch(et=we?kr(we):window,e){case"focusin":(Qi(et)||et.contentEditable==="true")&&(s=et,o=we,d=null);break;case"focusout":d=o=s=null;break;case"mousedown":S=!0;break;case"contextmenu":case"mouseup":case"dragend":S=!1,C(Be,h,Ne);break;case"selectionchange":if(p)break;case"keydown":case"keyup":C(Be,h,Ne)}var Et;if(Za)e:{switch(e){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else Sa?il(e,h)&&(Ot="onCompositionEnd"):e==="keydown"&&h.keyCode===229&&(Ot="onCompositionStart");Ot&&(Is&&h.locale!=="ko"&&(Sa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Sa&&(Et=yr()):(Ci=Ne,Ir="value"in Ci?Ci.value:Ci.textContent,Sa=!0)),et=ch(we,Ot),0<et.length&&(Ot=new So(Ot,e,null,h,Ne),Be.push({event:Ot,listeners:et}),Et?Ot.data=Et:(Et=wo(h),Et!==null&&(Ot.data=Et)))),(Et=To?Ii(e,h):xa(e,h))&&(Ot=ch(we,"onBeforeInput"),0<Ot.length&&(et=new So("onBeforeInput","beforeinput",null,h,Ne),Be.push({event:et,listeners:Ot}),et.data=Et)),N1(Be,e,we,h,Ne)}ey(Be,a)})}function Au(e,a,h){return{instance:e,listener:a,currentTarget:h}}function ch(e,a){for(var h=a+"Capture",_=[];e!==null;){var T=e,w=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||w===null||(T=ea(e,h),T!=null&&_.unshift(Au(e,T,w)),T=ea(e,a),T!=null&&_.push(Au(e,T,w))),e.tag===3)return _;e=e.return}return[]}function I1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ny(e,a,h,_,T){for(var w=a._reactName,G=[];h!==null&&h!==_;){var ue=h,_e=ue.alternate,we=ue.stateNode;if(ue=ue.tag,_e!==null&&_e===_)break;ue!==5&&ue!==26&&ue!==27||we===null||(_e=we,T?(we=ea(h,w),we!=null&&G.unshift(Au(h,we,_e))):T||(we=ea(h,w),we!=null&&G.push(Au(h,we,_e)))),h=h.return}G.length!==0&&e.push({event:a,listeners:G})}var P1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function iy(e){return(typeof e=="string"?e:""+e).replace(P1,`
`).replace(B1,"")}function ry(e,a){return a=iy(a),iy(e)===a}function on(e,a,h,_,T,w){switch(h){case"children":typeof _=="string"?a==="body"||a==="textarea"&&_===""||Mi(e,_):(typeof _=="number"||typeof _=="bigint")&&a!=="body"&&Mi(e,""+_);break;case"className":Kt(e,"class",_);break;case"tabIndex":Kt(e,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(e,h,_);break;case"style":As(e,_,w);break;case"data":if(a!=="object"){Kt(e,"data",_);break}case"src":case"href":if(_===""&&(a!=="a"||h!=="href")){e.removeAttribute(h);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){e.removeAttribute(h);break}_=ma(""+_),e.setAttribute(h,_);break;case"action":case"formAction":if(typeof _=="function"){e.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(a!=="input"&&on(e,a,"name",T.name,T,null),on(e,a,"formEncType",T.formEncType,T,null),on(e,a,"formMethod",T.formMethod,T,null),on(e,a,"formTarget",T.formTarget,T,null)):(on(e,a,"encType",T.encType,T,null),on(e,a,"method",T.method,T,null),on(e,a,"target",T.target,T,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){e.removeAttribute(h);break}_=ma(""+_),e.setAttribute(h,_);break;case"onClick":_!=null&&(e.onclick=ui);break;case"onScroll":_!=null&&At("scroll",e);break;case"onScrollEnd":_!=null&&At("scrollend",e);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(l(61));if(h=_.__html,h!=null){if(T.children!=null)throw Error(l(60));e.innerHTML=h}}break;case"multiple":e.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":e.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){e.removeAttribute("xlink:href");break}h=ma(""+_),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?e.setAttribute(h,""+_):e.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?e.setAttribute(h,""):e.removeAttribute(h);break;case"capture":case"download":_===!0?e.setAttribute(h,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?e.setAttribute(h,_):e.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?e.setAttribute(h,_):e.removeAttribute(h);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?e.removeAttribute(h):e.setAttribute(h,_);break;case"popover":At("beforetoggle",e),At("toggle",e),St(e,"popover",_);break;case"xlinkActuate":Ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":Ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":Ti(e,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":Ti(e,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":Ti(e,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":Ti(e,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":Ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":St(e,"is",_);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Vt.get(h)||h,St(e,h,_))}}function Zd(e,a,h,_,T,w){switch(h){case"style":As(e,_,w);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(l(61));if(h=_.__html,h!=null){if(T.children!=null)throw Error(l(60));e.innerHTML=h}}break;case"children":typeof _=="string"?Mi(e,_):(typeof _=="number"||typeof _=="bigint")&&Mi(e,""+_);break;case"onScroll":_!=null&&At("scroll",e);break;case"onScrollEnd":_!=null&&At("scrollend",e);break;case"onClick":_!=null&&(e.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),a=h.slice(2,T?h.length-7:void 0),w=e[jt]||null,w=w!=null?w[h]:null,typeof w=="function"&&e.removeEventListener(a,w,T),typeof _=="function")){typeof w!="function"&&w!==null&&(h in e?e[h]=null:e.hasAttribute(h)&&e.removeAttribute(h)),e.addEventListener(a,_,T);break e}h in e?e[h]=_:_===!0?e.setAttribute(h,""):St(e,h,_)}}}function vi(e,a,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",e),At("load",e);var _=!1,T=!1,w;for(w in h)if(h.hasOwnProperty(w)){var G=h[w];if(G!=null)switch(w){case"src":_=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:on(e,a,w,G,h,null)}}T&&on(e,a,"srcSet",h.srcSet,h,null),_&&on(e,a,"src",h.src,h,null);return;case"input":At("invalid",e);var ue=w=G=T=null,_e=null,we=null;for(_ in h)if(h.hasOwnProperty(_)){var Ne=h[_];if(Ne!=null)switch(_){case"name":T=Ne;break;case"type":G=Ne;break;case"checked":_e=Ne;break;case"defaultChecked":we=Ne;break;case"value":w=Ne;break;case"defaultValue":ue=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(l(137,a));break;default:on(e,a,_,Ne,h,null)}}Ya(e,w,ue,_e,we,G,T,!1);return;case"select":At("invalid",e),_=G=w=null;for(T in h)if(h.hasOwnProperty(T)&&(ue=h[T],ue!=null))switch(T){case"value":w=ue;break;case"defaultValue":G=ue;break;case"multiple":_=ue;default:on(e,a,T,ue,h,null)}a=w,h=G,e.multiple=!!_,a!=null?en(e,!!_,a,!1):h!=null&&en(e,!!_,h,!0);return;case"textarea":At("invalid",e),w=T=_=null;for(G in h)if(h.hasOwnProperty(G)&&(ue=h[G],ue!=null))switch(G){case"value":_=ue;break;case"defaultValue":T=ue;break;case"children":w=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(l(91));break;default:on(e,a,G,ue,h,null)}Zi(e,_,T,w);return;case"option":for(_e in h)h.hasOwnProperty(_e)&&(_=h[_e],_!=null)&&(_e==="selected"?e.selected=_&&typeof _!="function"&&typeof _!="symbol":on(e,a,_e,_,h,null));return;case"dialog":At("beforetoggle",e),At("toggle",e),At("cancel",e),At("close",e);break;case"iframe":case"object":At("load",e);break;case"video":case"audio":for(_=0;_<Du.length;_++)At(Du[_],e);break;case"image":At("error",e),At("load",e);break;case"details":At("toggle",e);break;case"embed":case"source":case"link":At("error",e),At("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in h)if(h.hasOwnProperty(we)&&(_=h[we],_!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:on(e,a,we,_,h,null)}return;default:if($r(a)){for(Ne in h)h.hasOwnProperty(Ne)&&(_=h[Ne],_!==void 0&&Zd(e,a,Ne,_,h,void 0));return}}for(ue in h)h.hasOwnProperty(ue)&&(_=h[ue],_!=null&&on(e,a,ue,_,h,null))}function F1(e,a,h,_){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,w=null,G=null,ue=null,_e=null,we=null,Ne=null;for(ke in h){var Be=h[ke];if(h.hasOwnProperty(ke)&&Be!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":_e=Be;default:_.hasOwnProperty(ke)||on(e,a,ke,null,_,Be)}}for(var Le in _){var ke=_[Le];if(Be=h[Le],_.hasOwnProperty(Le)&&(ke!=null||Be!=null))switch(Le){case"type":w=ke;break;case"name":T=ke;break;case"checked":we=ke;break;case"defaultChecked":Ne=ke;break;case"value":G=ke;break;case"defaultValue":ue=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(l(137,a));break;default:ke!==Be&&on(e,a,Le,ke,_,Be)}}_o(e,G,ue,_e,we,Ne,w,T);return;case"select":ke=G=ue=Le=null;for(w in h)if(_e=h[w],h.hasOwnProperty(w)&&_e!=null)switch(w){case"value":break;case"multiple":ke=_e;default:_.hasOwnProperty(w)||on(e,a,w,null,_,_e)}for(T in _)if(w=_[T],_e=h[T],_.hasOwnProperty(T)&&(w!=null||_e!=null))switch(T){case"value":Le=w;break;case"defaultValue":ue=w;break;case"multiple":G=w;default:w!==_e&&on(e,a,T,w,_,_e)}a=ue,h=G,_=ke,Le!=null?en(e,!!h,Le,!1):!!_!=!!h&&(a!=null?en(e,!!h,a,!0):en(e,!!h,h?[]:"",!1));return;case"textarea":ke=Le=null;for(ue in h)if(T=h[ue],h.hasOwnProperty(ue)&&T!=null&&!_.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:on(e,a,ue,null,_,T)}for(G in _)if(T=_[G],w=h[G],_.hasOwnProperty(G)&&(T!=null||w!=null))switch(G){case"value":Le=T;break;case"defaultValue":ke=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:T!==w&&on(e,a,G,T,_,w)}gr(e,Le,ke);return;case"option":for(var We in h)Le=h[We],h.hasOwnProperty(We)&&Le!=null&&!_.hasOwnProperty(We)&&(We==="selected"?e.selected=!1:on(e,a,We,null,_,Le));for(_e in _)Le=_[_e],ke=h[_e],_.hasOwnProperty(_e)&&Le!==ke&&(Le!=null||ke!=null)&&(_e==="selected"?e.selected=Le&&typeof Le!="function"&&typeof Le!="symbol":on(e,a,_e,Le,_,ke));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in h)Le=h[ot],h.hasOwnProperty(ot)&&Le!=null&&!_.hasOwnProperty(ot)&&on(e,a,ot,null,_,Le);for(we in _)if(Le=_[we],ke=h[we],_.hasOwnProperty(we)&&Le!==ke&&(Le!=null||ke!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(l(137,a));break;default:on(e,a,we,Le,_,ke)}return;default:if($r(a)){for(var ln in h)Le=h[ln],h.hasOwnProperty(ln)&&Le!==void 0&&!_.hasOwnProperty(ln)&&Zd(e,a,ln,void 0,_,Le);for(Ne in _)Le=_[Ne],ke=h[Ne],!_.hasOwnProperty(Ne)||Le===ke||Le===void 0&&ke===void 0||Zd(e,a,Ne,Le,_,ke);return}}for(var xe in h)Le=h[xe],h.hasOwnProperty(xe)&&Le!=null&&!_.hasOwnProperty(xe)&&on(e,a,xe,null,_,Le);for(Be in _)Le=_[Be],ke=h[Be],!_.hasOwnProperty(Be)||Le===ke||Le==null&&ke==null||on(e,a,Be,Le,_,ke)}function ay(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,h=performance.getEntriesByType("resource"),_=0;_<h.length;_++){var T=h[_],w=T.transferSize,G=T.initiatorType,ue=T.duration;if(w&&ue&&ay(G)){for(G=0,ue=T.responseEnd,_+=1;_<h.length;_++){var _e=h[_],we=_e.startTime;if(we>ue)break;var Ne=_e.transferSize,Be=_e.initiatorType;Ne&&ay(Be)&&(_e=_e.responseEnd,G+=Ne*(_e<ue?1:(ue-we)/(_e-we)))}if(--_,a+=8*(w+G)/(T.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xd=null,Jd=null;function hh(e){return e.nodeType===9?e:e.ownerDocument}function sy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Vd(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wd=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(e){return uy.resolve(null).then(e).catch(G1)}:ly;function G1(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function cy(e,a){var h=a,_=0;do{var T=h.nextSibling;if(e.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"||h==="/&"){if(_===0){e.removeChild(T),Nl(a);return}_--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")_++;else if(h==="html")ku(e.ownerDocument.documentElement);else if(h==="head"){h=e.ownerDocument.head,ku(h);for(var w=h.firstChild;w;){var G=w.nextSibling,ue=w.nodeName;w[Ar]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=G}}else h==="body"&&ku(e.ownerDocument.body);h=T}while(h);Nl(a)}function hy(e,a){var h=e;e=0;do{var _=h.nextSibling;if(h.nodeType===1?a?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(a?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(e===0)break;e--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||e++;h=_}while(h)}function Qd(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var h=a;switch(a=a.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Qd(h),Qr(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}e.removeChild(h)}}function q1(e,a,h,_){for(;e.nodeType===1;){var T=h;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!_&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(_){if(!e[Ar])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(w=e.getAttribute("rel"),w==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(w!==T.rel||e.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||e.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||e.getAttribute("title")!==(T.title==null?null:T.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(w=e.getAttribute("src"),(w!==(T.src==null?null:T.src)||e.getAttribute("type")!==(T.type==null?null:T.type)||e.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&w&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var w=T.name==null?null:""+T.name;if(T.type==="hidden"&&e.getAttribute("name")===w)return e}else return e;if(e=Ur(e.nextSibling),e===null)break}return null}function H1(e,a,h){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!h||(e=Ur(e.nextSibling),e===null))return null;return e}function fy(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ur(e.nextSibling),e===null))return null;return e}function Kd(e){return e.data==="$?"||e.data==="$~"}function $d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z1(e,a){var h=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||h.readyState!=="loading")a();else{var _=function(){a(),h.removeEventListener("DOMContentLoaded",_)};h.addEventListener("DOMContentLoaded",_),e._reactRetry=_}}function Ur(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var ep=null;function dy(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var h=e.data;if(h==="/$"||h==="/&"){if(a===0)return Ur(e.nextSibling);a--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||a++}e=e.nextSibling}return null}function py(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var h=e.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(a===0)return e;a--}else h!=="/$"&&h!=="/&"||a++}e=e.previousSibling}return null}function gy(e,a,h){switch(a=hh(h),e){case"html":if(e=a.documentElement,!e)throw Error(l(452));return e;case"head":if(e=a.head,!e)throw Error(l(453));return e;case"body":if(e=a.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ku(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Qr(e)}var Yr=new Map,my=new Set;function fh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gs=j.d;j.d={f:X1,r:J1,D:V1,C:W1,L:Q1,m:K1,X:eE,S:$1,M:tE};function X1(){var e=gs.f(),a=ih();return e||a}function J1(e){var a=ga(e);a!==null&&a.tag===5&&a.type==="form"?Mm(a):gs.r(e)}var Dl=typeof document>"u"?null:document;function _y(e,a,h){var _=Dl;if(_&&typeof a=="string"&&a){var T=Ut(a);T='link[rel="'+e+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),my.has(T)||(my.add(T),e={rel:e,crossOrigin:h,href:a},_.querySelector(T)===null&&(a=_.createElement("link"),vi(a,"link",e),dn(a),_.head.appendChild(a)))}}function V1(e){gs.D(e),_y("dns-prefetch",e,null)}function W1(e,a){gs.C(e,a),_y("preconnect",e,a)}function Q1(e,a,h){gs.L(e,a,h);var _=Dl;if(_&&e&&a){var T='link[rel="preload"][as="'+Ut(a)+'"]';a==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+Ut(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+Ut(h.imageSizes)+'"]')):T+='[href="'+Ut(e)+'"]';var w=T;switch(a){case"style":w=Al(e);break;case"script":w=kl(e)}Yr.has(w)||(e=x({rel:"preload",href:a==="image"&&h&&h.imageSrcSet?void 0:e,as:a},h),Yr.set(w,e),_.querySelector(T)!==null||a==="style"&&_.querySelector(Nu(w))||a==="script"&&_.querySelector(Ou(w))||(a=_.createElement("link"),vi(a,"link",e),dn(a),_.head.appendChild(a)))}}function K1(e,a){gs.m(e,a);var h=Dl;if(h&&e){var _=a&&typeof a.as=="string"?a.as:"script",T='link[rel="modulepreload"][as="'+Ut(_)+'"][href="'+Ut(e)+'"]',w=T;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=kl(e)}if(!Yr.has(w)&&(e=x({rel:"modulepreload",href:e},a),Yr.set(w,e),h.querySelector(T)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ou(w)))return}_=h.createElement("link"),vi(_,"link",e),dn(_),h.head.appendChild(_)}}}function $1(e,a,h){gs.S(e,a,h);var _=Dl;if(_&&e){var T=dr(_).hoistableStyles,w=Al(e);a=a||"default";var G=T.get(w);if(!G){var ue={loading:0,preload:null};if(G=_.querySelector(Nu(w)))ue.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":a},h),(h=Yr.get(w))&&tp(e,h);var _e=G=_.createElement("link");dn(_e),vi(_e,"link",e),_e._p=new Promise(function(we,Ne){_e.onload=we,_e.onerror=Ne}),_e.addEventListener("load",function(){ue.loading|=1}),_e.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,dh(G,a,_)}G={type:"stylesheet",instance:G,count:1,state:ue},T.set(w,G)}}}function eE(e,a){gs.X(e,a);var h=Dl;if(h&&e){var _=dr(h).hoistableScripts,T=kl(e),w=_.get(T);w||(w=h.querySelector(Ou(T)),w||(e=x({src:e,async:!0},a),(a=Yr.get(T))&&np(e,a),w=h.createElement("script"),dn(w),vi(w,"link",e),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},_.set(T,w))}}function tE(e,a){gs.M(e,a);var h=Dl;if(h&&e){var _=dr(h).hoistableScripts,T=kl(e),w=_.get(T);w||(w=h.querySelector(Ou(T)),w||(e=x({src:e,async:!0,type:"module"},a),(a=Yr.get(T))&&np(e,a),w=h.createElement("script"),dn(w),vi(w,"link",e),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},_.set(T,w))}}function yy(e,a,h,_){var T=(T=Se.current)?fh(T):null;if(!T)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(a=Al(h.href),h=dr(T).hoistableStyles,_=h.get(a),_||(_={type:"style",instance:null,count:0,state:null},h.set(a,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){e=Al(h.href);var w=dr(T).hoistableStyles,G=w.get(e);if(G||(T=T.ownerDocument||T,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(e,G),(w=T.querySelector(Nu(e)))&&!w._p&&(G.instance=w,G.state.loading=5),Yr.has(e)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Yr.set(e,h),w||nE(T,e,h,G.state))),a&&_===null)throw Error(l(528,""));return G}if(a&&_!==null)throw Error(l(529,""));return null;case"script":return a=h.async,h=h.src,typeof h=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=kl(h),h=dr(T).hoistableScripts,_=h.get(a),_||(_={type:"script",instance:null,count:0,state:null},h.set(a,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Al(e){return'href="'+Ut(e)+'"'}function Nu(e){return'link[rel="stylesheet"]['+e+"]"}function vy(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function nE(e,a,h,_){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?_.loading=1:(a=e.createElement("link"),_.preload=a,a.addEventListener("load",function(){return _.loading|=1}),a.addEventListener("error",function(){return _.loading|=2}),vi(a,"link",h),dn(a),e.head.appendChild(a))}function kl(e){return'[src="'+Ut(e)+'"]'}function Ou(e){return"script[async]"+e}function Sy(e,a,h){if(a.count++,a.instance===null)switch(a.type){case"style":var _=e.querySelector('style[data-href~="'+Ut(h.href)+'"]');if(_)return a.instance=_,dn(_),_;var T=x({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return _=(e.ownerDocument||e).createElement("style"),dn(_),vi(_,"style",T),dh(_,h.precedence,e),a.instance=_;case"stylesheet":T=Al(h.href);var w=e.querySelector(Nu(T));if(w)return a.state.loading|=4,a.instance=w,dn(w),w;_=vy(h),(T=Yr.get(T))&&tp(_,T),w=(e.ownerDocument||e).createElement("link"),dn(w);var G=w;return G._p=new Promise(function(ue,_e){G.onload=ue,G.onerror=_e}),vi(w,"link",_),a.state.loading|=4,dh(w,h.precedence,e),a.instance=w;case"script":return w=kl(h.src),(T=e.querySelector(Ou(w)))?(a.instance=T,dn(T),T):(_=h,(T=Yr.get(w))&&(_=x({},h),np(_,T)),e=e.ownerDocument||e,T=e.createElement("script"),dn(T),vi(T,"link",_),e.head.appendChild(T),a.instance=T);case"void":return null;default:throw Error(l(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(_=a.instance,a.state.loading|=4,dh(_,h.precedence,e));return a.instance}function dh(e,a,h){for(var _=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=_.length?_[_.length-1]:null,w=T,G=0;G<_.length;G++){var ue=_[G];if(ue.dataset.precedence===a)w=ue;else if(w!==T)break}w?w.parentNode.insertBefore(e,w.nextSibling):(a=h.nodeType===9?h.head:h,a.insertBefore(e,a.firstChild))}function tp(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function np(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var ph=null;function xy(e,a,h){if(ph===null){var _=new Map,T=ph=new Map;T.set(h,_)}else T=ph,_=T.get(h),_||(_=new Map,T.set(h,_));if(_.has(e))return _;for(_.set(e,null),h=h.getElementsByTagName(e),T=0;T<h.length;T++){var w=h[T];if(!(w[Ar]||w[Mn]||e==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var G=w.getAttribute(a)||"";G=e+G;var ue=_.get(G);ue?ue.push(w):_.set(G,[w])}}return _}function Ey(e,a,h){e=e.ownerDocument||e,e.head.insertBefore(h,a==="title"?e.querySelector("head > title"):null)}function iE(e,a,h){if(h===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(e=a.disabled,typeof a.precedence=="string"&&e==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function by(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rE(e,a,h,_){if(h.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=Al(_.href),w=a.querySelector(Nu(T));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=gh.bind(e),a.then(e,e)),h.state.loading|=4,h.instance=w,dn(w);return}w=a.ownerDocument||a,_=vy(_),(T=Yr.get(T))&&tp(_,T),w=w.createElement("link"),dn(w);var G=w;G._p=new Promise(function(ue,_e){G.onload=ue,G.onerror=_e}),vi(w,"link",_),h.instance=w}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(h,a),(a=h.state.preload)&&(h.state.loading&3)===0&&(e.count++,h=gh.bind(e),a.addEventListener("load",h),a.addEventListener("error",h))}}var ip=0;function aE(e,a){return e.stylesheets&&e.count===0&&_h(e,e.stylesheets),0<e.count||0<e.imgCount?function(h){var _=setTimeout(function(){if(e.stylesheets&&_h(e,e.stylesheets),e.unsuspend){var w=e.unsuspend;e.unsuspend=null,w()}},6e4+a);0<e.imgBytes&&ip===0&&(ip=62500*z1());var T=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_h(e,e.stylesheets),e.unsuspend)){var w=e.unsuspend;e.unsuspend=null,w()}},(e.imgBytes>ip?50:800)+a);return e.unsuspend=h,function(){e.unsuspend=null,clearTimeout(_),clearTimeout(T)}}:null}function gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mh=null;function _h(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mh=new Map,a.forEach(sE,e),mh=null,gh.call(e))}function sE(e,a){if(!(a.state.loading&4)){var h=mh.get(e);if(h)var _=h.get(null);else{h=new Map,mh.set(e,h);for(var T=e.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<T.length;w++){var G=T[w];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(h.set(G.dataset.precedence,G),_=G)}_&&h.set(null,_)}T=a.instance,G=T.getAttribute("data-precedence"),w=h.get(G)||_,w===_&&h.set(null,T),h.set(G,T),this.count++,_=gh.bind(this),T.addEventListener("load",_),T.addEventListener("error",_),w?w.parentNode.insertBefore(T,w.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(T,e.firstChild)),a.state.loading|=4}}var Mu={$$typeof:X,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function oE(e,a,h,_,T,w,G,ue,_e){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=_,this.onUncaughtError=T,this.onCaughtError=w,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function Ty(e,a,h,_,T,w,G,ue,_e,we,Ne,Be){return e=new oE(e,a,h,G,_e,we,Ne,Be,ue),a=1,w===!0&&(a|=24),w=Di(3,null,null,a),e.current=w,w.stateNode=e,a=Pf(),a.refCount++,e.pooledCache=a,a.refCount++,w.memoizedState={element:_,isDehydrated:h,cache:a},jf(w),e}function wy(e){return e?(e=ts,e):ts}function Cy(e,a,h,_,T,w){T=wy(T),_.context===null?_.context=T:_.pendingContext=T,_=js(a),_.payload={element:h},w=w===void 0?null:w,w!==null&&(_.callback=w),h=Us(e,_,a),h!==null&&(or(h,e,a),hu(h,e,a))}function Ly(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var h=e.retryLane;e.retryLane=h!==0&&h<a?h:a}}function rp(e,a){Ly(e,a),(e=e.alternate)&&Ly(e,a)}function Dy(e){if(e.tag===13||e.tag===31){var a=Bi(e,67108864);a!==null&&or(a,e,67108864),rp(e,67108864)}}function Ay(e){if(e.tag===13||e.tag===31){var a=Cr();a=On(a);var h=Bi(e,a);h!==null&&or(h,e,a),rp(e,a)}}var yh=!0;function lE(e,a,h,_){var T=R.T;R.T=null;var w=j.p;try{j.p=2,ap(e,a,h,_)}finally{j.p=w,R.T=T}}function uE(e,a,h,_){var T=R.T;R.T=null;var w=j.p;try{j.p=8,ap(e,a,h,_)}finally{j.p=w,R.T=T}}function ap(e,a,h,_){if(yh){var T=sp(_);if(T===null)Hd(e,a,_,vh,h),Ny(e,_);else if(hE(T,e,a,h,_))_.stopPropagation();else if(Ny(e,_),a&4&&-1<cE.indexOf(e)){for(;T!==null;){var w=ga(T);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var G=Yi(w.pendingLanes);if(G!==0){var ue=w;for(ue.pendingLanes|=2,ue.entangledLanes|=2;G;){var _e=1<<31-di(G);ue.entanglements[1]|=_e,G&=~_e}Aa(w),(Qt&6)===0&&(th=He()+500,Lu(0))}}break;case 31:case 13:ue=Bi(w,2),ue!==null&&or(ue,w,2),ih(),rp(w,2)}if(w=sp(_),w===null&&Hd(e,a,_,vh,h),w===T)break;T=w}T!==null&&_.stopPropagation()}else Hd(e,a,_,null,h)}}function sp(e){return e=Un(e),op(e)}var vh=null;function op(e){if(vh=null,e=$t(e),e!==null){var a=c(e);if(a===null)e=null;else{var h=a.tag;if(h===13){if(e=f(a),e!==null)return e;e=null}else if(h===31){if(e=g(a),e!==null)return e;e=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return vh=e,null}function ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case It:return 2;case yn:return 8;case Je:case Jr:return 32;case _t:return 268435456;default:return 32}default:return 32}}var lp=!1,Ks=null,$s=null,eo=null,Ru=new Map,Iu=new Map,to=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(e,a){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Ru.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(a.pointerId)}}function Pu(e,a,h,_,T,w){return e===null||e.nativeEvent!==w?(e={blockedOn:a,domEventName:h,eventSystemFlags:_,nativeEvent:w,targetContainers:[T]},a!==null&&(a=ga(a),a!==null&&Dy(a)),e):(e.eventSystemFlags|=_,a=e.targetContainers,T!==null&&a.indexOf(T)===-1&&a.push(T),e)}function hE(e,a,h,_,T){switch(a){case"focusin":return Ks=Pu(Ks,e,a,h,_,T),!0;case"dragenter":return $s=Pu($s,e,a,h,_,T),!0;case"mouseover":return eo=Pu(eo,e,a,h,_,T),!0;case"pointerover":var w=T.pointerId;return Ru.set(w,Pu(Ru.get(w)||null,e,a,h,_,T)),!0;case"gotpointercapture":return w=T.pointerId,Iu.set(w,Pu(Iu.get(w)||null,e,a,h,_,T)),!0}return!1}function Oy(e){var a=$t(e.target);if(a!==null){var h=c(a);if(h!==null){if(a=h.tag,a===13){if(a=f(h),a!==null){e.blockedOn=a,mo(e.priority,function(){Ay(h)});return}}else if(a===31){if(a=g(h),a!==null){e.blockedOn=a,mo(e.priority,function(){Ay(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){e.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sh(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var h=sp(e.nativeEvent);if(h===null){h=e.nativeEvent;var _=new h.constructor(h.type,h);ni=_,h.target.dispatchEvent(_),ni=null}else return a=ga(h),a!==null&&Dy(a),e.blockedOn=h,!1;a.shift()}return!0}function My(e,a,h){Sh(e)&&h.delete(a)}function fE(){lp=!1,Ks!==null&&Sh(Ks)&&(Ks=null),$s!==null&&Sh($s)&&($s=null),eo!==null&&Sh(eo)&&(eo=null),Ru.forEach(My),Iu.forEach(My)}function xh(e,a){e.blockedOn===a&&(e.blockedOn=null,lp||(lp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fE)))}var Eh=null;function Ry(e){Eh!==e&&(Eh=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var a=0;a<e.length;a+=3){var h=e[a],_=e[a+1],T=e[a+2];if(typeof _!="function"){if(op(_||h)===null)continue;break}var w=ga(h);w!==null&&(e.splice(a,3),a-=3,sd(w,{pending:!0,data:T,method:h.method,action:_},_,T))}}))}function Nl(e){function a(_e){return xh(_e,e)}Ks!==null&&xh(Ks,e),$s!==null&&xh($s,e),eo!==null&&xh(eo,e),Ru.forEach(a),Iu.forEach(a);for(var h=0;h<to.length;h++){var _=to[h];_.blockedOn===e&&(_.blockedOn=null)}for(;0<to.length&&(h=to[0],h.blockedOn===null);)Oy(h),h.blockedOn===null&&to.shift();if(h=(e.ownerDocument||e).$$reactFormReplay,h!=null)for(_=0;_<h.length;_+=3){var T=h[_],w=h[_+1],G=T[jt]||null;if(typeof w=="function")G||Ry(h);else if(G){var ue=null;if(w&&w.hasAttribute("formAction")){if(T=w,G=w[jt]||null)ue=G.formAction;else if(op(T)!==null)continue}else ue=G.action;typeof ue=="function"?h[_+1]=ue:(h.splice(_,3),_-=3),Ry(h)}}}function Iy(){function e(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(G){return T=G})},focusReset:"manual",scroll:"manual"})}function a(){T!==null&&(T(),T=null),_||setTimeout(h,20)}function h(){if(!_&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var _=!1,T=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(h,100),function(){_=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),T!==null&&(T(),T=null)}}}function up(e){this._internalRoot=e}bh.prototype.render=up.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(l(409));var h=a.current,_=Cr();Cy(h,_,e,a,null,null)},bh.prototype.unmount=up.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Cy(e.current,2,null,e,null,null),ih(),a[fr]=null}};function bh(e){this._internalRoot=e}bh.prototype.unstable_scheduleHydration=function(e){if(e){var a=pa();e={blockedOn:null,target:e,priority:a};for(var h=0;h<to.length&&a!==0&&a<to[h].priority;h++);to.splice(h,0,e),h===0&&Oy(e)}};var Py=n.version;if(Py!=="19.2.3")throw Error(l(527,Py,"19.2.3"));j.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(a),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var dE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{vn=Th.inject(dE),Nn=Th}catch{}}return Fu.createRoot=function(e,a){if(!r(e))throw Error(l(299));var h=!1,_="",T=Gm,w=qm,G=Hm;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onUncaughtError!==void 0&&(T=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(G=a.onRecoverableError)),a=Ty(e,1,!1,null,null,h,_,null,T,w,G,Iy),e[fr]=a.current,qd(e),new up(a)},Fu.hydrateRoot=function(e,a,h){if(!r(e))throw Error(l(299));var _=!1,T="",w=Gm,G=qm,ue=Hm,_e=null;return h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(G=h.onCaughtError),h.onRecoverableError!==void 0&&(ue=h.onRecoverableError),h.formState!==void 0&&(_e=h.formState)),a=Ty(e,1,!0,a,h??null,_,T,_e,w,G,ue,Iy),a.context=wy(null),h=a.current,_=Cr(),_=On(_),T=js(_),T.callback=null,Us(h,T,_),h=_,a.current.lanes=h,Gi(a,h),Aa(a),e[fr]=a.current,qd(e),new bh(a)},Fu.version="19.2.3",Fu}var Zy;function bE(){if(Zy)return fp.exports;Zy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),fp.exports=EE(),fp.exports}var TE=bE();const wE=[{id:"smoke",label:" Smoke / AQI",color:"#888"},{id:"winter",label:" Winter Storm",color:"#00BFFF"},{id:"heat",label:" Heatwave",color:"#FF4500"},{id:"flood",label:" Flood / Hurricane",color:"#0000FF"},{id:"flu",label:" Respiratory Illness",color:"#32CD32"},{id:"technical",label:" Tech / Architecture",color:"#6610f2"}],CE=({activeTab:t,onTabChange:n})=>D.jsx("div",{style:{display:"flex",gap:"5px",padding:"10px",backgroundColor:"#f8f9fa",borderBottom:"1px solid #ddd",overflowX:"auto",position:"relative",zIndex:1100,flexShrink:0},children:wE.map(i=>D.jsx("button",{onClick:()=>n(i.id),style:{padding:"8px 16px",border:"none",borderRadius:"20px",backgroundColor:t===i.id?i.color:"#e9ecef",color:t===i.id?"white":"#495057",cursor:"pointer",fontWeight:"bold",whiteSpace:"nowrap",transition:"all 0.2s ease",boxShadow:t===i.id?"0 2px 4px rgba(0,0,0,0.2)":"none"},children:i.label},i.id))});var Yh={exports:{}};var LE=Yh.exports,Xy;function DE(){return Xy||(Xy=1,(function(t,n){((i,l)=>{t.exports=l()})(LE,function i(){var l=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:{},r,c=!l.document&&!!l.postMessage,f=l.IS_PAPA_WORKER||!1,g={},y=0,v={};function E(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(M){var P=W(M);P.chunkSize=parseInt(P.chunkSize),M.step||M.chunk||(P.chunkSize=null),this._handle=new J(P),(this._handle.streamer=this)._config=P}).call(this,k),this.parseChunk=function(M,P){var Z=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Z){let te=this._config.newline;te||(q=this._config.quoteChar||'"',te=this._handle.guessLineEndings(M,q)),M=[...M.split(te).slice(Z)].join(te)}this.isFirstChunk&&ee(this._config.beforeFirstChunk)&&(q=this._config.beforeFirstChunk(M))!==void 0&&(M=q),this.isFirstChunk=!1,this._halted=!1;var Z=this._partialLine+M,q=(this._partialLine="",this._handle.parse(Z,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(M=q.meta.cursor,Z=(this._finished||(this._partialLine=Z.substring(M-this._baseIndex),this._baseIndex=M),q&&q.data&&(this._rowCount+=q.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),f)l.postMessage({results:q,workerId:v.WORKER_ID,finished:Z});else if(ee(this._config.chunk)&&!P){if(this._config.chunk(q,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=q=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(q.data),this._completeResults.errors=this._completeResults.errors.concat(q.errors),this._completeResults.meta=q.meta),this._completed||!Z||!ee(this._config.complete)||q&&q.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Z||q&&q.meta.paused||this._nextChunk(),q}this._halted=!0},this._sendError=function(M){ee(this._config.error)?this._config.error(M):f&&this._config.error&&l.postMessage({workerId:v.WORKER_ID,error:M,finished:!1})}}function x(k){var M;(k=k||{}).chunkSize||(k.chunkSize=v.RemoteChunkSize),E.call(this,k),this._nextChunk=c?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),c||(M.onload=K(this._chunkLoaded,this),M.onerror=K(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!c),this._config.downloadRequestHeaders){var P,Z=this._config.downloadRequestHeaders;for(P in Z)M.setRequestHeader(P,Z[P])}var q;this._config.chunkSize&&(q=this._start+this._config.chunkSize-1,M.setRequestHeader("Range","bytes="+this._start+"-"+q));try{M.send(this._config.downloadRequestBody)}catch(te){this._chunkError(te.message)}c&&M.status===0&&this._chunkError()}},this._chunkLoaded=function(){M.readyState===4&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize||M.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(M),this.parseChunk(M.responseText)))},this._chunkError=function(P){P=M.statusText||P,this._sendError(new Error(P))}}function A(k){(k=k||{}).chunkSize||(k.chunkSize=v.LocalChunkSize),E.call(this,k);var M,P,Z=typeof FileReader<"u";this.stream=function(q){this._input=q,P=q.slice||q.webkitSlice||q.mozSlice,Z?((M=new FileReader).onload=K(this._chunkLoaded,this),M.onerror=K(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input,te=(this._config.chunkSize&&(te=Math.min(this._start+this._config.chunkSize,this._input.size),q=P.call(q,this._start,te)),M.readAsText(q,this._config.encoding));Z||this._chunkLoaded({target:{result:te}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(M.error)}}function N(k){var M;E.call(this,k=k||{}),this.stream=function(P){return M=P,this._nextChunk()},this._nextChunk=function(){var P,Z;if(!this._finished)return P=this._config.chunkSize,M=P?(Z=M.substring(0,P),M.substring(P)):(Z=M,""),this._finished=!M,this.parseChunk(Z)}}function B(k){E.call(this,k=k||{});var M=[],P=!0,Z=!1;this.pause=function(){E.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){E.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Z&&M.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):P=!0},this._streamData=K(function(q){try{M.push(typeof q=="string"?q:q.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(te){this._streamError(te)}},this),this._streamError=K(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=K(function(){this._streamCleanUp(),Z=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function J(k){var M,P,Z,q,te=Math.pow(2,53),ne=-te,ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,R=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,j=this,z=0,ie=0,Q=!1,Y=!1,$=[],ce={data:[],errors:[],meta:{}};function pe(he){return k.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function ge(){if(ce&&Z&&(De("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+v.DefaultDelimiter+"'"),Z=!1),k.skipEmptyLines&&(ce.data=ce.data.filter(function(fe){return!pe(fe)})),Se()){let fe=function(Xe,Ze){ee(k.transformHeader)&&(Xe=k.transformHeader(Xe,Ze)),$.push(Xe)};var Ae=fe;if(ce)if(Array.isArray(ce.data[0])){for(var he=0;Se()&&he<ce.data.length;he++)ce.data[he].forEach(fe);ce.data.splice(0,1)}else ce.data.forEach(fe)}function Ie(fe,Xe){for(var Ze=k.header?{}:[],Fe=0;Fe<fe.length;Fe++){var Ue=Fe,wt=fe[Fe],wt=((ht,Oe)=>(Jt=>(k.dynamicTypingFunction&&k.dynamicTyping[Jt]===void 0&&(k.dynamicTyping[Jt]=k.dynamicTypingFunction(Jt)),(k.dynamicTyping[Jt]||k.dynamicTyping)===!0))(ht)?Oe==="true"||Oe==="TRUE"||Oe!=="false"&&Oe!=="FALSE"&&((Jt=>{if(ae.test(Jt)&&(Jt=parseFloat(Jt),ne<Jt&&Jt<te))return 1})(Oe)?parseFloat(Oe):R.test(Oe)?new Date(Oe):Oe===""?null:Oe):Oe)(Ue=k.header?Fe>=$.length?"__parsed_extra":$[Fe]:Ue,wt=k.transform?k.transform(wt,Ue):wt);Ue==="__parsed_extra"?(Ze[Ue]=Ze[Ue]||[],Ze[Ue].push(wt)):Ze[Ue]=wt}return k.header&&(Fe>$.length?De("FieldMismatch","TooManyFields","Too many fields: expected "+$.length+" fields but parsed "+Fe,ie+Xe):Fe<$.length&&De("FieldMismatch","TooFewFields","Too few fields: expected "+$.length+" fields but parsed "+Fe,ie+Xe)),Ze}var Me;ce&&(k.header||k.dynamicTyping||k.transform)&&(Me=1,!ce.data.length||Array.isArray(ce.data[0])?(ce.data=ce.data.map(Ie),Me=ce.data.length):ce.data=Ie(ce.data,0),k.header&&ce.meta&&(ce.meta.fields=$),ie+=Me)}function Se(){return k.header&&$.length===0}function De(he,Ie,Me,Ae){he={type:he,code:Ie,message:Me},Ae!==void 0&&(he.row=Ae),ce.errors.push(he)}ee(k.step)&&(q=k.step,k.step=function(he){ce=he,Se()?ge():(ge(),ce.data.length!==0&&(z+=he.data.length,k.preview&&z>k.preview?P.abort():(ce.data=ce.data[0],q(ce,j))))}),this.parse=function(he,Ie,Me){var Ae=k.quoteChar||'"',Ae=(k.newline||(k.newline=this.guessLineEndings(he,Ae)),Z=!1,k.delimiter?ee(k.delimiter)&&(k.delimiter=k.delimiter(he),ce.meta.delimiter=k.delimiter):((Ae=((fe,Xe,Ze,Fe,Ue)=>{var wt,ht,Oe,Jt;Ue=Ue||[",","	","|",";",v.RECORD_SEP,v.UNIT_SEP];for(var ei=0;ei<Ue.length;ei++){for(var gn,Ui=Ue[ei],He=0,Tn=0,It=0,yn=(Oe=void 0,new re({comments:Fe,delimiter:Ui,newline:Xe,preview:10}).parse(fe)),Je=0;Je<yn.data.length;Je++)Ze&&pe(yn.data[Je])?It++:(gn=yn.data[Je].length,Tn+=gn,Oe===void 0?Oe=gn:0<gn&&(He+=Math.abs(gn-Oe),Oe=gn));0<yn.data.length&&(Tn/=yn.data.length-It),(ht===void 0||He<=ht)&&(Jt===void 0||Jt<Tn)&&1.99<Tn&&(ht=He,wt=Ui,Jt=Tn)}return{successful:!!(k.delimiter=wt),bestDelimiter:wt}})(he,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=Ae.bestDelimiter:(Z=!0,k.delimiter=v.DefaultDelimiter),ce.meta.delimiter=k.delimiter),W(k));return k.preview&&k.header&&Ae.preview++,M=he,P=new re(Ae),ce=P.parse(M,Ie,Me),ge(),Q?{meta:{paused:!0}}:ce||{meta:{paused:!1}}},this.paused=function(){return Q},this.pause=function(){Q=!0,P.abort(),M=ee(k.chunk)?"":M.substring(P.getCharIndex())},this.resume=function(){j.streamer._halted?(Q=!1,j.streamer.parseChunk(M,!0)):setTimeout(j.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,P.abort(),ce.meta.aborted=!0,ee(k.complete)&&k.complete(ce),M=""},this.guessLineEndings=function(fe,Ae){fe=fe.substring(0,1048576);var Ae=new RegExp(se(Ae)+"([^]*?)"+se(Ae),"gm"),Me=(fe=fe.replace(Ae,"")).split("\r"),Ae=fe.split(`
`),fe=1<Ae.length&&Ae[0].length<Me[0].length;if(Me.length===1||fe)return`
`;for(var Xe=0,Ze=0;Ze<Me.length;Ze++)Me[Ze][0]===`
`&&Xe++;return Xe>=Me.length/2?`\r
`:"\r"}}function se(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function re(k){var M=(k=k||{}).delimiter,P=k.newline,Z=k.comments,q=k.step,te=k.preview,ne=k.fastMode,ae=null,R=!1,j=k.quoteChar==null?'"':k.quoteChar,z=j;if(k.escapeChar!==void 0&&(z=k.escapeChar),(typeof M!="string"||-1<v.BAD_DELIMITERS.indexOf(M))&&(M=","),Z===M)throw new Error("Comment character same as delimiter");Z===!0?Z="#":(typeof Z!="string"||-1<v.BAD_DELIMITERS.indexOf(Z))&&(Z=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var ie=0,Q=!1;this.parse=function(Y,$,ce){if(typeof Y!="string")throw new Error("Input must be a string");var pe=Y.length,ge=M.length,Se=P.length,De=Z.length,he=ee(q),Ie=[],Me=[],Ae=[],fe=ie=0;if(!Y)return He();if(ne||ne!==!1&&Y.indexOf(j)===-1){for(var Xe=Y.split(P),Ze=0;Ze<Xe.length;Ze++){if(Ae=Xe[Ze],ie+=Ae.length,Ze!==Xe.length-1)ie+=P.length;else if(ce)return He();if(!Z||Ae.substring(0,De)!==Z){if(he){if(Ie=[],Jt(Ae.split(M)),Tn(),Q)return He()}else Jt(Ae.split(M));if(te&&te<=Ze)return Ie=Ie.slice(0,te),He(!0)}}return He()}for(var Fe=Y.indexOf(M,ie),Ue=Y.indexOf(P,ie),wt=new RegExp(se(z)+se(j),"g"),ht=Y.indexOf(j,ie);;)if(Y[ie]===j)for(ht=ie,ie++;;){if((ht=Y.indexOf(j,ht+1))===-1)return ce||Me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ie.length,index:ie}),gn();if(ht===pe-1)return gn(Y.substring(ie,ht).replace(wt,j));if(j===z&&Y[ht+1]===z)ht++;else if(j===z||ht===0||Y[ht-1]!==z){Fe!==-1&&Fe<ht+1&&(Fe=Y.indexOf(M,ht+1));var Oe=ei((Ue=Ue!==-1&&Ue<ht+1?Y.indexOf(P,ht+1):Ue)===-1?Fe:Math.min(Fe,Ue));if(Y.substr(ht+1+Oe,ge)===M){Ae.push(Y.substring(ie,ht).replace(wt,j)),Y[ie=ht+1+Oe+ge]!==j&&(ht=Y.indexOf(j,ie)),Fe=Y.indexOf(M,ie),Ue=Y.indexOf(P,ie);break}if(Oe=ei(Ue),Y.substring(ht+1+Oe,ht+1+Oe+Se)===P){if(Ae.push(Y.substring(ie,ht).replace(wt,j)),Ui(ht+1+Oe+Se),Fe=Y.indexOf(M,ie),ht=Y.indexOf(j,ie),he&&(Tn(),Q))return He();if(te&&Ie.length>=te)return He(!0);break}Me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ie.length,index:ie}),ht++}}else if(Z&&Ae.length===0&&Y.substring(ie,ie+De)===Z){if(Ue===-1)return He();ie=Ue+Se,Ue=Y.indexOf(P,ie),Fe=Y.indexOf(M,ie)}else if(Fe!==-1&&(Fe<Ue||Ue===-1))Ae.push(Y.substring(ie,Fe)),ie=Fe+ge,Fe=Y.indexOf(M,ie);else{if(Ue===-1)break;if(Ae.push(Y.substring(ie,Ue)),Ui(Ue+Se),he&&(Tn(),Q))return He();if(te&&Ie.length>=te)return He(!0)}return gn();function Jt(It){Ie.push(It),fe=ie}function ei(It){var yn=0;return yn=It!==-1&&(It=Y.substring(ht+1,It))&&It.trim()===""?It.length:yn}function gn(It){return ce||(It===void 0&&(It=Y.substring(ie)),Ae.push(It),ie=pe,Jt(Ae),he&&Tn()),He()}function Ui(It){ie=It,Jt(Ae),Ae=[],Ue=Y.indexOf(P,ie)}function He(It){if(k.header&&!$&&Ie.length&&!R){var yn=Ie[0],Je=Object.create(null),Jr=new Set(yn);let _t=!1;for(let it=0;it<yn.length;it++){let xi=yn[it];if(Je[xi=ee(k.transformHeader)?k.transformHeader(xi,it):xi]){let vn,Nn=Je[xi];for(;vn=xi+"_"+Nn,Nn++,Jr.has(vn););Jr.add(vn),yn[it]=vn,Je[xi]++,_t=!0,(ae=ae===null?{}:ae)[vn]=xi}else Je[xi]=1,yn[it]=xi;Jr.add(xi)}_t&&console.warn("Duplicate headers found and renamed."),R=!0}return{data:Ie,errors:Me,meta:{delimiter:M,linebreak:P,aborted:Q,truncated:!!It,cursor:fe+($||0),renamedHeaders:ae}}}function Tn(){q(He()),Ie=[],Me=[]}},this.abort=function(){Q=!0},this.getCharIndex=function(){return ie}}function F(k){var M=k.data,P=g[M.workerId],Z=!1;if(M.error)P.userError(M.error,M.file);else if(M.results&&M.results.data){var q={abort:function(){Z=!0,X(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(ee(P.userStep)){for(var te=0;te<M.results.data.length&&(P.userStep({data:M.results.data[te],errors:M.results.errors,meta:M.results.meta},q),!Z);te++);delete M.results}else ee(P.userChunk)&&(P.userChunk(M.results,q,M.file),delete M.results)}M.finished&&!Z&&X(M.workerId,M.results)}function X(k,M){var P=g[k];ee(P.userComplete)&&P.userComplete(M),P.terminate(),delete g[k]}function V(){throw new Error("Not implemented.")}function W(k){if(typeof k!="object"||k===null)return k;var M,P=Array.isArray(k)?[]:{};for(M in k)P[M]=W(k[M]);return P}function K(k,M){return function(){k.apply(M,arguments)}}function ee(k){return typeof k=="function"}return v.parse=function(k,M){var P=(M=M||{}).dynamicTyping||!1;if(ee(P)&&(M.dynamicTypingFunction=P,P={}),M.dynamicTyping=P,M.transform=!!ee(M.transform)&&M.transform,!M.worker||!v.WORKERS_SUPPORTED)return P=null,v.NODE_STREAM_INPUT,typeof k=="string"?(k=(Z=>Z.charCodeAt(0)!==65279?Z:Z.slice(1))(k),P=new(M.download?x:N)(M)):k.readable===!0&&ee(k.read)&&ee(k.on)?P=new B(M):(l.File&&k instanceof File||k instanceof Object)&&(P=new A(M)),P.stream(k);(P=(()=>{var Z;return!!v.WORKERS_SUPPORTED&&(Z=(()=>{var q=l.URL||l.webkitURL||null,te=i.toString();return v.BLOB_URL||(v.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",te,")();"],{type:"text/javascript"})))})(),(Z=new l.Worker(Z)).onmessage=F,Z.id=y++,g[Z.id]=Z)})()).userStep=M.step,P.userChunk=M.chunk,P.userComplete=M.complete,P.userError=M.error,M.step=ee(M.step),M.chunk=ee(M.chunk),M.complete=ee(M.complete),M.error=ee(M.error),delete M.worker,P.postMessage({input:k,config:M,workerId:P.id})},v.unparse=function(k,M){var P=!1,Z=!0,q=",",te=`\r
`,ne='"',ae=ne+ne,R=!1,j=null,z=!1,ie=((()=>{if(typeof M=="object"){if(typeof M.delimiter!="string"||v.BAD_DELIMITERS.filter(function($){return M.delimiter.indexOf($)!==-1}).length||(q=M.delimiter),typeof M.quotes!="boolean"&&typeof M.quotes!="function"&&!Array.isArray(M.quotes)||(P=M.quotes),typeof M.skipEmptyLines!="boolean"&&typeof M.skipEmptyLines!="string"||(R=M.skipEmptyLines),typeof M.newline=="string"&&(te=M.newline),typeof M.quoteChar=="string"&&(ne=M.quoteChar),typeof M.header=="boolean"&&(Z=M.header),Array.isArray(M.columns)){if(M.columns.length===0)throw new Error("Option columns is empty");j=M.columns}M.escapeChar!==void 0&&(ae=M.escapeChar+ne),M.escapeFormulae instanceof RegExp?z=M.escapeFormulae:typeof M.escapeFormulae=="boolean"&&M.escapeFormulae&&(z=/^[=+\-@\t\r].*$/)}})(),new RegExp(se(ne),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return Q(null,k,R);if(typeof k[0]=="object")return Q(j||Object.keys(k[0]),k,R)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||j),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),Q(k.fields||[],k.data||[],R);throw new Error("Unable to serialize unrecognized input");function Q($,ce,pe){var ge="",Se=(typeof $=="string"&&($=JSON.parse($)),typeof ce=="string"&&(ce=JSON.parse(ce)),Array.isArray($)&&0<$.length),De=!Array.isArray(ce[0]);if(Se&&Z){for(var he=0;he<$.length;he++)0<he&&(ge+=q),ge+=Y($[he],he);0<ce.length&&(ge+=te)}for(var Ie=0;Ie<ce.length;Ie++){var Me=(Se?$:ce[Ie]).length,Ae=!1,fe=Se?Object.keys(ce[Ie]).length===0:ce[Ie].length===0;if(pe&&!Se&&(Ae=pe==="greedy"?ce[Ie].join("").trim()==="":ce[Ie].length===1&&ce[Ie][0].length===0),pe==="greedy"&&Se){for(var Xe=[],Ze=0;Ze<Me;Ze++){var Fe=De?$[Ze]:Ze;Xe.push(ce[Ie][Fe])}Ae=Xe.join("").trim()===""}if(!Ae){for(var Ue=0;Ue<Me;Ue++){0<Ue&&!fe&&(ge+=q);var wt=Se&&De?$[Ue]:Ue;ge+=Y(ce[Ie][wt],Ue)}Ie<ce.length-1&&(!pe||0<Me&&!fe)&&(ge+=te)}}return ge}function Y($,ce){var pe,ge;return $==null?"":$.constructor===Date?JSON.stringify($).slice(1,25):(ge=!1,z&&typeof $=="string"&&z.test($)&&($="'"+$,ge=!0),pe=$.toString().replace(ie,ae),(ge=ge||P===!0||typeof P=="function"&&P($,ce)||Array.isArray(P)&&P[ce]||((Se,De)=>{for(var he=0;he<De.length;he++)if(-1<Se.indexOf(De[he]))return!0;return!1})(pe,v.BAD_DELIMITERS)||-1<pe.indexOf(q)||pe.charAt(0)===" "||pe.charAt(pe.length-1)===" ")?ne+pe+ne:pe)}},v.RECORD_SEP="",v.UNIT_SEP="",v.BYTE_ORDER_MARK="\uFEFF",v.BAD_DELIMITERS=["\r",`
`,'"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!c&&!!l.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=",",v.Parser=re,v.ParserHandle=J,v.NetworkStreamer=x,v.FileStreamer=A,v.StringStreamer=N,v.ReadableStreamStreamer=B,l.jQuery&&((r=l.jQuery).fn.parse=function(k){var M=k.config||{},P=[];return this.each(function(te){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&l.FileReader)||!this.files||this.files.length===0)return!0;for(var ne=0;ne<this.files.length;ne++)P.push({file:this.files[ne],inputElem:this,instanceConfig:r.extend({},M)})}),Z(),this;function Z(){if(P.length===0)ee(k.complete)&&k.complete();else{var te,ne,ae,R,j=P[0];if(ee(k.before)){var z=k.before(j.file,j.inputElem);if(typeof z=="object"){if(z.action==="abort")return te="AbortError",ne=j.file,ae=j.inputElem,R=z.reason,void(ee(k.error)&&k.error({name:te},ne,ae,R));if(z.action==="skip")return void q();typeof z.config=="object"&&(j.instanceConfig=r.extend(j.instanceConfig,z.config))}else if(z==="skip")return void q()}var ie=j.instanceConfig.complete;j.instanceConfig.complete=function(Q){ee(ie)&&ie(Q,j.file,j.inputElem),q()},v.parse(j.file,j.instanceConfig)}}function q(){P.splice(0,1),Z()}}),f&&(l.onmessage=function(k){k=k.data,v.WORKER_ID===void 0&&k&&(v.WORKER_ID=k.workerId),typeof k.input=="string"?l.postMessage({workerId:v.WORKER_ID,results:v.parse(k.input,k.config),finished:!0}):(l.File&&k.input instanceof File||k.input instanceof Object)&&(k=v.parse(k.input,k.config))&&l.postMessage({workerId:v.WORKER_ID,results:k,finished:!0})}),(x.prototype=Object.create(E.prototype)).constructor=x,(A.prototype=Object.create(E.prototype)).constructor=A,(N.prototype=Object.create(N.prototype)).constructor=N,(B.prototype=Object.create(E.prototype)).constructor=B,v})})(Yh)),Yh.exports}var AE=DE();const yc=lo(AE);var Wn=63710088e-1,mf={centimeters:Wn*100,centimetres:Wn*100,degrees:360/(2*Math.PI),feet:Wn*3.28084,inches:Wn*39.37,kilometers:Wn/1e3,kilometres:Wn/1e3,meters:Wn,metres:Wn,miles:Wn/1609.344,millimeters:Wn*1e3,millimetres:Wn*1e3,nauticalmiles:Wn/1852,radians:1,yards:Wn*1.0936},Kh={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function bn(t,n,i={}){const l={type:"Feature"};return(i.id===0||i.id)&&(l.id=i.id),i.bbox&&(l.bbox=i.bbox),l.properties=n||{},l.geometry=t,l}function rS(t,n,i={}){switch(t){case"Point":return ut(n).geometry;case"LineString":return bt(n).geometry;case"Polygon":return lt(n).geometry;case"MultiPoint":return vc(n).geometry;case"MultiLineString":return uo(n).geometry;case"MultiPolygon":return ur(n).geometry;default:throw new Error(t+" is invalid")}}function ut(t,n,i={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Kn(t[0])||!Kn(t[1]))throw new Error("coordinates must contain numbers");return bn({type:"Point",coordinates:t},n,i)}function aS(t,n,i={}){return Qe(t.map(l=>ut(l,n)),i)}function lt(t,n,i={}){for(const r of t){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let c=0;c<r[r.length-1].length;c++)if(r[r.length-1][c]!==r[0][c])throw new Error("First and last Position are not equivalent.")}return bn({type:"Polygon",coordinates:t},n,i)}function sS(t,n,i={}){return Qe(t.map(l=>lt(l,n)),i)}function bt(t,n,i={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return bn({type:"LineString",coordinates:t},n,i)}function oS(t,n,i={}){return Qe(t.map(l=>bt(l,n)),i)}function Qe(t,n={}){const i={type:"FeatureCollection"};return n.id&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.features=t,i}function uo(t,n,i={}){return bn({type:"MultiLineString",coordinates:t},n,i)}function vc(t,n,i={}){return bn({type:"MultiPoint",coordinates:t},n,i)}function ur(t,n,i={}){return bn({type:"MultiPolygon",coordinates:t},n,i)}function hg(t,n,i={}){return bn({type:"GeometryCollection",geometries:t},n,i)}function lS(t,n=0){if(n&&!(n>=0))throw new Error("precision must be a positive number");const i=Math.pow(10,n||0);return Math.round(t*i)/i}function Sc(t,n="kilometers"){const i=mf[n];if(!i)throw new Error(n+" units is invalid");return t*i}function Vl(t,n="kilometers"){const i=mf[n];if(!i)throw new Error(n+" units is invalid");return t/i}function fg(t,n){return Ia(Vl(t,n))}function Ul(t){let n=t%360;return n<0&&(n+=360),n}function uS(t){return t=t%360,t>180?t-360:t<-180?t+360:t}function Ia(t){return t%(2*Math.PI)*180/Math.PI}function Qn(t){return t%360*Math.PI/180}function Xo(t,n="kilometers",i="kilometers"){if(!(t>=0))throw new Error("length must be a positive number");return Sc(Vl(t,n),i)}function dg(t,n="meters",i="kilometers"){if(!(t>=0))throw new Error("area must be a positive number");const l=Kh[n];if(!l)throw new Error("invalid original units");const r=Kh[i];if(!r)throw new Error("invalid final units");return t/l*r}function Kn(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function Ft(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function uc(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(n=>{if(!Kn(n))throw new Error("bbox must only contain numbers")})}function cS(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}const kE=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Kh,azimuthToBearing:uS,bearingToAzimuth:Ul,convertArea:dg,convertLength:Xo,degreesToRadians:Qn,earthRadius:Wn,factors:mf,feature:bn,featureCollection:Qe,geometry:rS,geometryCollection:hg,isNumber:Kn,isObject:Ft,lengthToDegrees:fg,lengthToRadians:Vl,lineString:bt,lineStrings:oS,multiLineString:uo,multiPoint:vc,multiPolygon:ur,point:ut,points:aS,polygon:lt,polygons:sS,radiansToDegrees:Ia,radiansToLength:Sc,round:lS,validateBBox:uc,validateId:cS},Symbol.toStringTag,{value:"Module"}));function Bt(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ct(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function pg(t){if(t.length>1&&Kn(t[0])&&Kn(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return pg(t[0]);throw new Error("coordinates must only contain numbers")}function hS(t,n,i){if(!n||!i)throw new Error("type and name required");if(!t||t.type!==n)throw new Error("Invalid input to "+i+": must be a "+n+", given "+t.type)}function cc(t,n,i){if(!t)throw new Error("No feature passed");if(!i)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!t.geometry||t.geometry.type!==n)throw new Error("Invalid input to "+i+": must be a "+n+", given "+t.geometry.type)}function Es(t,n,i){if(!t)throw new Error("No featureCollection passed");if(!i)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+i+", FeatureCollection required");for(const l of t.features){if(!l||l.type!=="Feature"||!l.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!l.geometry||l.geometry.type!==n)throw new Error("Invalid input to "+i+": must be a "+n+", given "+l.geometry.type)}}function cn(t){return t.type==="Feature"?t.geometry:t}function cr(t,n){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}const NE=Object.freeze(Object.defineProperty({__proto__:null,collectionOf:Es,containsNumber:pg,featureOf:cc,geojsonType:hS,getCoord:Bt,getCoords:ct,getGeom:cn,getType:cr},Symbol.toStringTag,{value:"Module"}));function ao(t,n,i={}){if(i.final===!0)return OE(t,n);const l=Bt(t),r=Bt(n),c=Qn(l[0]),f=Qn(r[0]),g=Qn(l[1]),y=Qn(r[1]),v=Math.sin(f-c)*Math.cos(y),E=Math.cos(g)*Math.sin(y)-Math.sin(g)*Math.cos(y)*Math.cos(f-c);return Ia(Math.atan2(v,E))}function OE(t,n){let i=ao(n,t);return i=(i+180)%360,i}function so(t,n,i,l={}){const r=Bt(t),c=Qn(r[0]),f=Qn(r[1]),g=Qn(i),y=Vl(n,l.units),v=Math.asin(Math.sin(f)*Math.cos(y)+Math.cos(f)*Math.sin(y)*Math.cos(g)),E=c+Math.atan2(Math.sin(g)*Math.sin(y)*Math.cos(f),Math.cos(y)-Math.sin(f)*Math.sin(v)),x=Ia(E),A=Ia(v);return r[2]!==void 0?ut([x,A,r[2]],l.properties):ut([x,A],l.properties)}function fn(t,n,i={}){var l=Bt(t),r=Bt(n),c=Qn(r[1]-l[1]),f=Qn(r[0]-l[0]),g=Qn(l[1]),y=Qn(r[1]),v=Math.pow(Math.sin(c/2),2)+Math.pow(Math.sin(f/2),2)*Math.cos(g)*Math.cos(y);return Sc(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),i.units)}function ME(t,n,i={}){const r=cn(t).coordinates;let c=0;for(let f=0;f<r.length&&!(n>=c&&f===r.length-1);f++)if(c>=n){const g=n-c;if(g){const y=ao(r[f],r[f-1])-180;return so(r[f],g,y,i)}else return ut(r[f])}else c+=fn(r[f],r[f+1],i);return ut(r[r.length-1])}function Jo(t,n,i={}){let l;return i.final?l=Jy(Bt(n),Bt(t)):l=Jy(Bt(t),Bt(n)),l>180?-(360-l):l}function Jy(t,n){const i=Qn(t[1]),l=Qn(n[1]);let r=Qn(n[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);const c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),f=Math.atan2(r,c);return(Ia(f)+360)%360}function RE(t,n,i,l={}){if(!Ft(l))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!n)throw new Error("midPoint is required");if(!i)throw new Error("endPoint is required");const r=t,c=n,f=i,g=Ul(l.mercator!==!0?ao(c,r):Jo(c,r));let y=Ul(l.mercator!==!0?ao(c,f):Jo(c,f));y<g&&(y=y+360);const v=y-g;return l.explementary===!0?360-v:v}function _n(t,n,i){if(t!==null)for(var l,r,c,f,g,y,v,E=0,x=0,A,N=t.type,B=N==="FeatureCollection",J=N==="Feature",se=B?t.features.length:1,re=0;re<se;re++){v=B?t.features[re].geometry:J?t.geometry:t,A=v?v.type==="GeometryCollection":!1,g=A?v.geometries.length:1;for(var F=0;F<g;F++){var X=0,V=0;if(f=A?v.geometries[F]:v,f!==null){y=f.coordinates;var W=f.type;switch(E=i&&(W==="Polygon"||W==="MultiPolygon")?1:0,W){case null:break;case"Point":if(n(y,x,re,X,V)===!1)return!1;x++,X++;break;case"LineString":case"MultiPoint":for(l=0;l<y.length;l++){if(n(y[l],x,re,X,V)===!1)return!1;x++,W==="MultiPoint"&&X++}W==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(l=0;l<y.length;l++){for(r=0;r<y[l].length-E;r++){if(n(y[l][r],x,re,X,V)===!1)return!1;x++}W==="MultiLineString"&&X++,W==="Polygon"&&V++}W==="Polygon"&&X++;break;case"MultiPolygon":for(l=0;l<y.length;l++){for(V=0,r=0;r<y[l].length;r++){for(c=0;c<y[l][r].length-E;c++){if(n(y[l][r][c],x,re,X,V)===!1)return!1;x++}V++}X++}break;case"GeometryCollection":for(l=0;l<f.geometries.length;l++)if(_n(f.geometries[l],n,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function gg(t,n,i,l){var r=i;return _n(t,function(c,f,g,y,v){f===0&&i===void 0?r=c:r=n(r,c,f,g,y,v)},l),r}function mg(t,n){var i;switch(t.type){case"FeatureCollection":for(i=0;i<t.features.length&&n(t.features[i].properties,i)!==!1;i++);break;case"Feature":n(t.properties,0);break}}function fS(t,n,i){var l=i;return mg(t,function(r,c){c===0&&i===void 0?l=r:l=n(l,r,c)}),l}function Rt(t,n){if(t.type==="Feature")n(t,0);else if(t.type==="FeatureCollection")for(var i=0;i<t.features.length&&n(t.features[i],i)!==!1;i++);}function _g(t,n,i){var l=i;return Rt(t,function(r,c){c===0&&i===void 0?l=r:l=n(l,r,c)}),l}function hc(t){var n=[];return _n(t,function(i){n.push(i)}),n}function Si(t,n){var i,l,r,c,f,g,y,v,E,x,A=0,N=t.type==="FeatureCollection",B=t.type==="Feature",J=N?t.features.length:1;for(i=0;i<J;i++){for(g=N?t.features[i].geometry:B?t.geometry:t,v=N?t.features[i].properties:B?t.properties:{},E=N?t.features[i].bbox:B?t.bbox:void 0,x=N?t.features[i].id:B?t.id:void 0,y=g?g.type==="GeometryCollection":!1,f=y?g.geometries.length:1,r=0;r<f;r++){if(c=y?g.geometries[r]:g,c===null){if(n(null,A,v,E,x)===!1)return!1;continue}switch(c.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(n(c,A,v,E,x)===!1)return!1;break}case"GeometryCollection":{for(l=0;l<c.geometries.length;l++)if(n(c.geometries[l],A,v,E,x)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}A++}}function yg(t,n,i){var l=i;return Si(t,function(r,c,f,g,y){c===0&&i===void 0?l=r:l=n(l,r,c,f,g,y)}),l}function $n(t,n){Si(t,function(i,l,r,c,f){var g=i===null?null:i.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return n(bn(i,r,{bbox:c,id:f}),l,0)===!1?!1:void 0}var y;switch(g){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon";break}for(var v=0;v<i.coordinates.length;v++){var E=i.coordinates[v],x={type:y,coordinates:E};if(n(bn(x,r),l,v)===!1)return!1}})}function dS(t,n,i){var l=i;return $n(t,function(r,c,f){c===0&&f===0&&i===void 0?l=r:l=n(l,r,c,f)}),l}function _s(t,n){$n(t,function(i,l,r){var c=0;if(i.geometry){var f=i.geometry.type;if(!(f==="Point"||f==="MultiPoint")){var g,y=0,v=0,E=0;if(_n(i,function(x,A,N,B,J){if(g===void 0||l>y||B>v||J>E){g=x,y=l,v=B,E=J,c=0;return}var se=bt([g,x],i.properties);if(n(se,l,r,J,c)===!1)return!1;c++,g=x})===!1)return!1}}})}function vg(t,n,i){var l=i,r=!1;return _s(t,function(c,f,g,y,v){r===!1&&i===void 0?l=c:l=n(l,c,f,g,y,v),r=!0}),l}function Sg(t,n){if(!t)throw new Error("geojson is required");$n(t,function(i,l,r){if(i.geometry!==null){var c=i.geometry.type,f=i.geometry.coordinates;switch(c){case"LineString":if(n(i,l,r,0,0)===!1)return!1;break;case"Polygon":for(var g=0;g<f.length;g++)if(n(bt(f[g],i.properties),l,r,g)===!1)return!1;break}}})}function xg(t,n,i){var l=i;return Sg(t,function(r,c,f,g){c===0&&i===void 0?l=r:l=n(l,r,c,f,g)}),l}function pS(t,n){if(n=n||{},!Ft(n))throw new Error("options is invalid");var i=n.featureIndex||0,l=n.multiFeatureIndex||0,r=n.geometryIndex||0,c=n.segmentIndex||0,f=n.properties,g;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),f=f||t.features[i].properties,g=t.features[i].geometry;break;case"Feature":f=f||t.properties,g=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=t;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":case"MultiPoint":return null;case"LineString":return c<0&&(c=y.length+c-1),bt([y[c],y[c+1]],f,n);case"Polygon":return r<0&&(r=y.length+r),c<0&&(c=y[r].length+c-1),bt([y[r][c],y[r][c+1]],f,n);case"MultiLineString":return l<0&&(l=y.length+l),c<0&&(c=y[l].length+c-1),bt([y[l][c],y[l][c+1]],f,n);case"MultiPolygon":return l<0&&(l=y.length+l),r<0&&(r=y[l].length+r),c<0&&(c=y[l][r].length-c-1),bt([y[l][r][c],y[l][r][c+1]],f,n)}throw new Error("geojson is invalid")}function gS(t,n){if(n=n||{},!Ft(n))throw new Error("options is invalid");var i=n.featureIndex||0,l=n.multiFeatureIndex||0,r=n.geometryIndex||0,c=n.coordIndex||0,f=n.properties,g;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),f=f||t.features[i].properties,g=t.features[i].geometry;break;case"Feature":f=f||t.properties,g=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":g=t;break;default:throw new Error("geojson is invalid")}if(g===null)return null;var y=g.coordinates;switch(g.type){case"Point":return ut(y,f,n);case"MultiPoint":return l<0&&(l=y.length+l),ut(y[l],f,n);case"LineString":return c<0&&(c=y.length+c),ut(y[c],f,n);case"Polygon":return r<0&&(r=y.length+r),c<0&&(c=y[r].length+c),ut(y[r][c],f,n);case"MultiLineString":return l<0&&(l=y.length+l),c<0&&(c=y[l].length+c),ut(y[l][c],f,n);case"MultiPolygon":return l<0&&(l=y.length+l),r<0&&(r=y[l].length+r),c<0&&(c=y[l][r].length-c),ut(y[l][r][c],f,n)}throw new Error("geojson is invalid")}const IE=Object.freeze(Object.defineProperty({__proto__:null,coordAll:hc,coordEach:_n,coordReduce:gg,featureEach:Rt,featureReduce:_g,findPoint:gS,findSegment:pS,flattenEach:$n,flattenReduce:dS,geomEach:Si,geomReduce:yg,lineEach:Sg,lineReduce:xg,propEach:mg,propReduce:fS,segmentEach:_s,segmentReduce:vg},Symbol.toStringTag,{value:"Module"}));function xc(t){return yg(t,(n,i)=>n+PE(i),0)}function PE(t){let n=0,i;switch(t.type){case"Polygon":return Vy(t.coordinates);case"MultiPolygon":for(i=0;i<t.coordinates.length;i++)n+=Vy(t.coordinates[i]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Vy(t){let n=0;if(t&&t.length>0){n+=Math.abs(Wy(t[0]));for(let i=1;i<t.length;i++)n-=Math.abs(Wy(t[i]))}return n}var BE=Wn*Wn/2,mp=Math.PI/180;function Wy(t){const n=t.length-1;if(n<=2)return 0;let i=0,l=0;for(;l<n;){const r=t[l],c=t[l+1===n?0:l+1],f=t[l+2>=n?(l+2)%n:l+2],g=r[0]*mp,y=c[1]*mp,v=f[0]*mp;i+=(v-g)*Math.sin(y),l++}return i*BE}function kt(t,n={}){if(t.bbox!=null&&n.recompute!==!0)return t.bbox;const i=[1/0,1/0,-1/0,-1/0];return _n(t,l=>{i[0]>l[0]&&(i[0]=l[0]),i[1]>l[1]&&(i[1]=l[1]),i[2]<l[0]&&(i[2]=l[0]),i[3]<l[1]&&(i[3]=l[1])}),i}function FE(t,n,i){var l=t.length,r=Il(t[0],n),c=[],f,g,y;let v,E;for(i||(i=[]),f=1;f<l;f++){for(v=t[f-1],E=t[f],g=y=Il(E,n);;)if(r|g){if(r&g)break;r?(v=qp(v,E,r,n),r=Il(v,n)):(E=qp(v,E,g,n),g=Il(E,n))}else{c.push(v),g!==y?(c.push(E),f<l-1&&(i.push(c),c=[])):f===l-1&&c.push(E);break}r=y}return c.length&&i.push(c),i}function zE(t,n){var i,l,r,c,f,g,y;for(l=1;l<=8;l*=2){for(i=[],r=t[t.length-1],c=!(Il(r,n)&l),f=0;f<t.length;f++)g=t[f],y=!(Il(g,n)&l),y!==c&&i.push(qp(r,g,l,n)),y&&i.push(g),r=g,c=y;if(t=i,!t.length)break}return i}function qp(t,n,i,l){return i&8?[t[0]+(n[0]-t[0])*(l[3]-t[1])/(n[1]-t[1]),l[3]]:i&4?[t[0]+(n[0]-t[0])*(l[1]-t[1])/(n[1]-t[1]),l[1]]:i&2?[l[2],t[1]+(n[1]-t[1])*(l[2]-t[0])/(n[0]-t[0])]:i&1?[l[0],t[1]+(n[1]-t[1])*(l[0]-t[0])/(n[0]-t[0])]:null}function Il(t,n){var i=0;return t[0]<n[0]?i|=1:t[0]>n[2]&&(i|=2),t[1]<n[1]?i|=4:t[1]>n[3]&&(i|=8),i}function jE(t,n){const i=cn(t),l=i.type,r=t.type==="Feature"?t.properties:{};let c=i.coordinates;switch(l){case"LineString":case"MultiLineString":{const f=[];return l==="LineString"&&(c=[c]),c.forEach(g=>{FE(g,n,f)}),f.length===1?bt(f[0],r):uo(f,r)}case"Polygon":return lt(Qy(c,n),r);case"MultiPolygon":return ur(c.map(f=>Qy(f,n)),r);default:throw new Error("geometry "+l+" not supported")}}function Qy(t,n){const i=[];for(const l of t){const r=zE(l,n);r.length>0&&((r[0][0]!==r[r.length-1][0]||r[0][1]!==r[r.length-1][1])&&r.push(r[0]),r.length>=4&&i.push(r))}return i}function Ec(t,n={}){const i=Number(t[0]),l=Number(t[1]),r=Number(t[2]),c=Number(t[3]);if(t.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");const f=[i,l];return lt([[f,[r,l],[r,c],[i,c],f]],n.properties,{bbox:t,id:n.id})}var UE=class{constructor(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(let n=0;n<this.length;n++)this.points[n].z=this.points[n].z||0;for(let n=0;n<this.length-1;n++){const i=this.points[n],l=this.points[n+1];this.centers.push({x:(i.x+l.x)/2,y:(i.y+l.y)/2,z:(i.z+l.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(let n=0;n<this.centers.length-1;n++){const i=this.points[n+1].x-(this.centers[n].x+this.centers[n+1].x)/2,l=this.points[n+1].y-(this.centers[n].y+this.centers[n+1].y)/2,r=this.points[n+1].z-(this.centers[n].y+this.centers[n+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n].x+i),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n].y+l),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n].z+r)},{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n+1].x+i),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n+1].y+l),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n+1].z+r)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}cacheSteps(t){const n=[];let i=this.pos(0);n.push(0);for(let l=0;l<this.duration;l+=10){const r=this.pos(l);Math.sqrt((r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y)+(r.z-i.z)*(r.z-i.z))>t&&(n.push(l),i=r)}return n}vector(t){const n=this.pos(t+10),i=this.pos(t-10);return{angle:180*Math.atan2(n.y-i.y,n.x-i.x)/3.14,speed:Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))}}pos(t){let n=t-this.delay;n<0&&(n=0),n>this.duration&&(n=this.duration-1);const i=n/this.duration;if(i>=1)return this.points[this.length-1];const l=Math.floor((this.points.length-1)*i),r=(this.length-1)*i-l;return YE(r,this.points[l],this.controls[l][1],this.controls[l+1][0],this.points[l+1])}};function YE(t,n,i,l,r){const c=GE(t);return{x:r.x*c[0]+l.x*c[1]+i.x*c[2]+n.x*c[3],y:r.y*c[0]+l.y*c[1]+i.y*c[2]+n.y*c[3],z:r.z*c[0]+l.z*c[1]+i.z*c[2]+n.z*c[3]}}function GE(t){const n=t*t;return[n*t,3*n*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}function qE(t,n={}){const i=n.resolution||1e4,l=n.sharpness||.85,r=[],c=cn(t).coordinates.map(v=>({x:v[0],y:v[1]})),f=new UE({duration:i,points:c,sharpness:l}),g=v=>{var E=f.pos(v);Math.floor(v/100)%2===0&&r.push([E.x,E.y])};for(var y=0;y<f.duration;y+=10)g(y);return g(f.duration),bt(r,n.properties)}function $h(t){const n=ct(t);let i=0,l=1,r,c;for(;l<n.length;)r=c||n[0],c=n[l],i+=(c[0]-r[0])*(c[1]+r[1]),l++;return i>0}function HE(t){const n=cn(t).coordinates;if(n[0].length<=4)return!1;let i=!1;const l=n[0].length-1;for(let r=0;r<l;r++){const c=n[0][(r+2)%l][0]-n[0][(r+1)%l][0],f=n[0][(r+2)%l][1]-n[0][(r+1)%l][1],g=n[0][r][0]-n[0][(r+1)%l][0],y=n[0][r][1]-n[0][(r+1)%l][1],v=c*y-f*g;if(r===0)i=v>0;else if(i!==v>0)return!0}return!1}const vs=11102230246251565e-32,ki=134217729,ZE=(3+8*vs)*vs;function _p(t,n,i,l,r){let c,f,g,y,v=n[0],E=l[0],x=0,A=0;E>v==E>-v?(c=v,v=n[++x]):(c=E,E=l[++A]);let N=0;if(x<t&&A<i)for(E>v==E>-v?(f=v+c,g=c-(f-v),v=n[++x]):(f=E+c,g=c-(f-E),E=l[++A]),c=f,g!==0&&(r[N++]=g);x<t&&A<i;)E>v==E>-v?(f=c+v,y=f-c,g=c-(f-y)+(v-y),v=n[++x]):(f=c+E,y=f-c,g=c-(f-y)+(E-y),E=l[++A]),c=f,g!==0&&(r[N++]=g);for(;x<t;)f=c+v,y=f-c,g=c-(f-y)+(v-y),v=n[++x],c=f,g!==0&&(r[N++]=g);for(;A<i;)f=c+E,y=f-c,g=c-(f-y)+(E-y),E=l[++A],c=f,g!==0&&(r[N++]=g);return(c!==0||N===0)&&(r[N++]=c),N}function XE(t,n){let i=n[0];for(let l=1;l<t;l++)i+=n[l];return i}function bc(t){return new Float64Array(t)}const JE=(3+16*vs)*vs,VE=(2+12*vs)*vs,WE=(9+64*vs)*vs*vs,Ol=bc(4),Ky=bc(8),$y=bc(12),ev=bc(16),ji=bc(4);function QE(t,n,i,l,r,c,f){let g,y,v,E,x,A,N,B,J,se,re,F,X,V,W,K,ee,k;const M=t-r,P=i-r,Z=n-c,q=l-c;V=M*q,A=ki*M,N=A-(A-M),B=M-N,A=ki*q,J=A-(A-q),se=q-J,W=B*se-(V-N*J-B*J-N*se),K=Z*P,A=ki*Z,N=A-(A-Z),B=Z-N,A=ki*P,J=A-(A-P),se=P-J,ee=B*se-(K-N*J-B*J-N*se),re=W-ee,x=W-re,Ol[0]=W-(re+x)+(x-ee),F=V+re,x=F-V,X=V-(F-x)+(re-x),re=X-K,x=X-re,Ol[1]=X-(re+x)+(x-K),k=F+re,x=k-F,Ol[2]=F-(k-x)+(re-x),Ol[3]=k;let te=XE(4,Ol),ne=VE*f;if(te>=ne||-te>=ne||(x=t-M,g=t-(M+x)+(x-r),x=i-P,v=i-(P+x)+(x-r),x=n-Z,y=n-(Z+x)+(x-c),x=l-q,E=l-(q+x)+(x-c),g===0&&y===0&&v===0&&E===0)||(ne=WE*f+ZE*Math.abs(te),te+=M*E+q*g-(Z*v+P*y),te>=ne||-te>=ne))return te;V=g*q,A=ki*g,N=A-(A-g),B=g-N,A=ki*q,J=A-(A-q),se=q-J,W=B*se-(V-N*J-B*J-N*se),K=y*P,A=ki*y,N=A-(A-y),B=y-N,A=ki*P,J=A-(A-P),se=P-J,ee=B*se-(K-N*J-B*J-N*se),re=W-ee,x=W-re,ji[0]=W-(re+x)+(x-ee),F=V+re,x=F-V,X=V-(F-x)+(re-x),re=X-K,x=X-re,ji[1]=X-(re+x)+(x-K),k=F+re,x=k-F,ji[2]=F-(k-x)+(re-x),ji[3]=k;const ae=_p(4,Ol,4,ji,Ky);V=M*E,A=ki*M,N=A-(A-M),B=M-N,A=ki*E,J=A-(A-E),se=E-J,W=B*se-(V-N*J-B*J-N*se),K=Z*v,A=ki*Z,N=A-(A-Z),B=Z-N,A=ki*v,J=A-(A-v),se=v-J,ee=B*se-(K-N*J-B*J-N*se),re=W-ee,x=W-re,ji[0]=W-(re+x)+(x-ee),F=V+re,x=F-V,X=V-(F-x)+(re-x),re=X-K,x=X-re,ji[1]=X-(re+x)+(x-K),k=F+re,x=k-F,ji[2]=F-(k-x)+(re-x),ji[3]=k;const R=_p(ae,Ky,4,ji,$y);V=g*E,A=ki*g,N=A-(A-g),B=g-N,A=ki*E,J=A-(A-E),se=E-J,W=B*se-(V-N*J-B*J-N*se),K=y*v,A=ki*y,N=A-(A-y),B=y-N,A=ki*v,J=A-(A-v),se=v-J,ee=B*se-(K-N*J-B*J-N*se),re=W-ee,x=W-re,ji[0]=W-(re+x)+(x-ee),F=V+re,x=F-V,X=V-(F-x)+(re-x),re=X-K,x=X-re,ji[1]=X-(re+x)+(x-K),k=F+re,x=k-F,ji[2]=F-(k-x)+(re-x),ji[3]=k;const j=_p(R,$y,4,ji,ev);return ev[j-1]}function KE(t,n,i,l,r,c){const f=(n-c)*(i-r),g=(t-r)*(l-c),y=f-g,v=Math.abs(f+g);return Math.abs(y)>=JE*v?y:-QE(t,n,i,l,r,c,v)}function $E(t,n){var i,l,r=0,c,f,g,y,v,E,x,A=t[0],N=t[1],B=n.length;for(i=0;i<B;i++){l=0;var J=n[i],se=J.length-1;if(E=J[0],E[0]!==J[se][0]&&E[1]!==J[se][1])throw new Error("First and last coordinates in a ring must be the same");for(f=E[0]-A,g=E[1]-N,l;l<se;l++){if(x=J[l+1],y=x[0]-A,v=x[1]-N,g===0&&v===0){if(y<=0&&f>=0||f<=0&&y>=0)return 0}else if(v>=0&&g<=0||v<=0&&g>=0){if(c=KE(f,y,g,v,0,0),c===0)return 0;(c>0&&v>0&&g<=0||c<0&&v<=0&&g>0)&&r++}E=x,g=v,f=y}}return r%2!==0}function rt(t,n,i={}){if(!t)throw new Error("point is required");if(!n)throw new Error("polygon is required");const l=Bt(t),r=cn(n),c=r.type,f=n.bbox;let g=r.coordinates;if(f&&eb(l,f)===!1)return!1;c==="Polygon"&&(g=[g]);let y=!1;for(var v=0;v<g.length;++v){const E=$E(l,g[v]);if(E===0)return!i.ignoreBoundary;E&&(y=!0)}return y}function eb(t,n){return n[0]<=t[0]&&n[1]<=t[1]&&n[2]>=t[0]&&n[3]>=t[1]}function pt(t,n,i={}){const l=Bt(t),r=ct(n);for(let c=0;c<r.length-1;c++){let f=!1;if(i.ignoreEndVertices&&(c===0&&(f="start"),c===r.length-2&&(f="end"),c===0&&c+1===r.length-1&&(f="both")),tb(r[c],r[c+1],l,f,typeof i.epsilon>"u"?null:i.epsilon))return!0}return!1}function tb(t,n,i,l,r){const c=i[0],f=i[1],g=t[0],y=t[1],v=n[0],E=n[1],x=i[0]-g,A=i[1]-y,N=v-g,B=E-y,J=x*B-A*N;if(r!==null){if(Math.abs(J)>r)return!1}else if(J!==0)return!1;if(Math.abs(N)===Math.abs(B)&&Math.abs(N)===0)return l?!1:i[0]===t[0]&&i[1]===t[1];if(l){if(l==="start")return Math.abs(N)>=Math.abs(B)?N>0?g<c&&c<=v:v<=c&&c<g:B>0?y<f&&f<=E:E<=f&&f<y;if(l==="end")return Math.abs(N)>=Math.abs(B)?N>0?g<=c&&c<v:v<c&&c<=g:B>0?y<=f&&f<E:E<f&&f<=y;if(l==="both")return Math.abs(N)>=Math.abs(B)?N>0?g<c&&c<v:v<c&&c<g:B>0?y<f&&f<E:E<f&&f<y}else return Math.abs(N)>=Math.abs(B)?N>0?g<=c&&c<=v:v<=c&&c<=g:B>0?y<=f&&f<=E:E<=f&&f<=y;return!1}function nb(t,n,i,l,r){mS(t,n,i||0,l||t.length-1,r||ib)}function mS(t,n,i,l,r){for(;l>i;){if(l-i>600){var c=l-i+1,f=n-i+1,g=Math.log(c),y=.5*Math.exp(2*g/3),v=.5*Math.sqrt(g*y*(c-y)/c)*(f-c/2<0?-1:1),E=Math.max(i,Math.floor(n-f*y/c+v)),x=Math.min(l,Math.floor(n+(c-f)*y/c+v));mS(t,n,E,x,r)}var A=t[n],N=i,B=l;for(zu(t,i,n),r(t[l],A)>0&&zu(t,i,l);N<B;){for(zu(t,N,B),N++,B--;r(t[N],A)<0;)N++;for(;r(t[B],A)>0;)B--}r(t[i],A)===0?zu(t,i,B):(B++,zu(t,B,l)),B<=n&&(i=B+1),n<=B&&(l=B-1)}}function zu(t,n,i){var l=t[n];t[n]=t[i],t[i]=l}function ib(t,n){return t<n?-1:t>n?1:0}let _f=class{constructor(n=9){this._maxEntries=Math.max(4,n),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(n){let i=this.data;const l=[];if(!Ch(n,i))return l;const r=this.toBBox,c=[];for(;i;){for(let f=0;f<i.children.length;f++){const g=i.children[f],y=i.leaf?r(g):g;Ch(n,y)&&(i.leaf?l.push(g):vp(n,y)?this._all(g,l):c.push(g))}i=c.pop()}return l}collides(n){let i=this.data;if(!Ch(n,i))return!1;const l=[];for(;i;){for(let r=0;r<i.children.length;r++){const c=i.children[r],f=i.leaf?this.toBBox(c):c;if(Ch(n,f)){if(i.leaf||vp(n,f))return!0;l.push(c)}}i=l.pop()}return!1}load(n){if(!(n&&n.length))return this;if(n.length<this._minEntries){for(let l=0;l<n.length;l++)this.insert(n[l]);return this}let i=this._build(n.slice(),0,n.length-1,0);if(!this.data.children.length)this.data=i;else if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){const l=this.data;this.data=i,i=l}this._insert(i,this.data.height-i.height-1,!0)}return this}insert(n){return n&&this._insert(n,this.data.height-1),this}clear(){return this.data=Rl([]),this}remove(n,i){if(!n)return this;let l=this.data;const r=this.toBBox(n),c=[],f=[];let g,y,v;for(;l||c.length;){if(l||(l=c.pop(),y=c[c.length-1],g=f.pop(),v=!0),l.leaf){const E=rb(n,l.children,i);if(E!==-1)return l.children.splice(E,1),c.push(l),this._condense(c),this}!v&&!l.leaf&&vp(l,r)?(c.push(l),f.push(g),g=0,y=l,l=l.children[0]):y?(g++,l=y.children[g],v=!1):l=null}return this}toBBox(n){return n}compareMinX(n,i){return n.minX-i.minX}compareMinY(n,i){return n.minY-i.minY}toJSON(){return this.data}fromJSON(n){return this.data=n,this}_all(n,i){const l=[];for(;n;)n.leaf?i.push(...n.children):l.push(...n.children),n=l.pop();return i}_build(n,i,l,r){const c=l-i+1;let f=this._maxEntries,g;if(c<=f)return g=Rl(n.slice(i,l+1)),Ml(g,this.toBBox),g;r||(r=Math.ceil(Math.log(c)/Math.log(f)),f=Math.ceil(c/Math.pow(f,r-1))),g=Rl([]),g.leaf=!1,g.height=r;const y=Math.ceil(c/f),v=y*Math.ceil(Math.sqrt(f));tv(n,i,l,v,this.compareMinX);for(let E=i;E<=l;E+=v){const x=Math.min(E+v-1,l);tv(n,E,x,y,this.compareMinY);for(let A=E;A<=x;A+=y){const N=Math.min(A+y-1,x);g.children.push(this._build(n,A,N,r-1))}}return Ml(g,this.toBBox),g}_chooseSubtree(n,i,l,r){for(;r.push(i),!(i.leaf||r.length-1===l);){let c=1/0,f=1/0,g;for(let y=0;y<i.children.length;y++){const v=i.children[y],E=yp(v),x=ob(n,v)-E;x<f?(f=x,c=E<c?E:c,g=v):x===f&&E<c&&(c=E,g=v)}i=g||i.children[0]}return i}_insert(n,i,l){const r=l?n:this.toBBox(n),c=[],f=this._chooseSubtree(r,this.data,i,c);for(f.children.push(n),Wu(f,r);i>=0&&c[i].children.length>this._maxEntries;)this._split(c,i),i--;this._adjustParentBBoxes(r,c,i)}_split(n,i){const l=n[i],r=l.children.length,c=this._minEntries;this._chooseSplitAxis(l,c,r);const f=this._chooseSplitIndex(l,c,r),g=Rl(l.children.splice(f,l.children.length-f));g.height=l.height,g.leaf=l.leaf,Ml(l,this.toBBox),Ml(g,this.toBBox),i?n[i-1].children.push(g):this._splitRoot(l,g)}_splitRoot(n,i){this.data=Rl([n,i]),this.data.height=n.height+1,this.data.leaf=!1,Ml(this.data,this.toBBox)}_chooseSplitIndex(n,i,l){let r,c=1/0,f=1/0;for(let g=i;g<=l-i;g++){const y=Vu(n,0,g,this.toBBox),v=Vu(n,g,l,this.toBBox),E=lb(y,v),x=yp(y)+yp(v);E<c?(c=E,r=g,f=x<f?x:f):E===c&&x<f&&(f=x,r=g)}return r||l-i}_chooseSplitAxis(n,i,l){const r=n.leaf?this.compareMinX:ab,c=n.leaf?this.compareMinY:sb,f=this._allDistMargin(n,i,l,r),g=this._allDistMargin(n,i,l,c);f<g&&n.children.sort(r)}_allDistMargin(n,i,l,r){n.children.sort(r);const c=this.toBBox,f=Vu(n,0,i,c),g=Vu(n,l-i,l,c);let y=wh(f)+wh(g);for(let v=i;v<l-i;v++){const E=n.children[v];Wu(f,n.leaf?c(E):E),y+=wh(f)}for(let v=l-i-1;v>=i;v--){const E=n.children[v];Wu(g,n.leaf?c(E):E),y+=wh(g)}return y}_adjustParentBBoxes(n,i,l){for(let r=l;r>=0;r--)Wu(i[r],n)}_condense(n){for(let i=n.length-1,l;i>=0;i--)n[i].children.length===0?i>0?(l=n[i-1].children,l.splice(l.indexOf(n[i]),1)):this.clear():Ml(n[i],this.toBBox)}};function rb(t,n,i){if(!i)return n.indexOf(t);for(let l=0;l<n.length;l++)if(i(t,n[l]))return l;return-1}function Ml(t,n){Vu(t,0,t.children.length,n,t)}function Vu(t,n,i,l,r){r||(r=Rl(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let c=n;c<i;c++){const f=t.children[c];Wu(r,t.leaf?l(f):f)}return r}function Wu(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function ab(t,n){return t.minX-n.minX}function sb(t,n){return t.minY-n.minY}function yp(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function wh(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ob(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}function lb(t,n){const i=Math.max(t.minX,n.minX),l=Math.max(t.minY,n.minY),r=Math.min(t.maxX,n.maxX),c=Math.min(t.maxY,n.maxY);return Math.max(0,r-i)*Math.max(0,c-l)}function vp(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function Ch(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function Rl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function tv(t,n,i,l,r){const c=[n,i];for(;c.length;){if(i=c.pop(),n=c.pop(),i-n<=l)continue;const f=n+Math.ceil((i-n)/l/2)*l;nb(t,f,n,i,r),c.push(n,f,f,i)}}function Sp(t){var n;if(t.bbox)n=t.bbox;else if(Array.isArray(t)&&t.length===4)n=t;else if(Array.isArray(t)&&t.length===6)n=[t[0],t[1],t[3],t[4]];else if(t.type==="Feature")n=kt(t);else if(t.type==="FeatureCollection")n=kt(t);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}}var ub=class{constructor(t=9){this.tree=new _f(t),this.tree.toBBox=Sp}insert(t){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:kt(t),this.tree.insert(t),this}load(t){var n=[];return Array.isArray(t)?t.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:kt(i),n.push(i)}):Rt(t,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:kt(i),n.push(i)}),this.tree.load(n),this}remove(t,n){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:kt(t),this.tree.remove(t,n),this}clear(){return this.tree.clear(),this}search(t){var n=this.tree.search(Sp(t));return Qe(n)}collides(t){return this.tree.collides(Sp(t))}all(){const t=this.tree.all();return Qe(t)}toJSON(){return this.tree.toJSON()}fromJSON(t){return this.tree.fromJSON(t),this}};function yf(t){return new ub(t)}function _S(t,n){if(n=n??{},!Ft(n))throw new Error("options is invalid");var i=n.precision,l=n.coordinates,r=n.mutate;if(i=i==null||isNaN(i)?6:i,l=l==null||isNaN(l)?3:l,!t)throw new Error("<geojson> is required");if(typeof i!="number")throw new Error("<precision> must be a number");if(typeof l!="number")throw new Error("<coordinates> must be a number");(r===!1||r===void 0)&&(t=JSON.parse(JSON.stringify(t)));var c=Math.pow(10,i);return _n(t,function(f){cb(f,c,l)}),t}function cb(t,n,i){t.length>i&&t.splice(i,t.length);for(var l=0;l<t.length;l++)t[l]=Math.round(t[l]*n)/n;return t}function fc(t){if(!t)throw new Error("geojson is required");const n=[];return $n(t,i=>{hb(i,n)}),Qe(n)}function hb(t,n){let i=[];const l=t.geometry;if(l!==null){switch(l.type){case"Polygon":i=ct(l);break;case"LineString":i=[ct(l)]}i.forEach(r=>{fb(r,t.properties).forEach(f=>{f.id=n.length,n.push(f)})})}}function fb(t,n){const i=[];return t.reduce((l,r)=>{const c=bt([l,r],n);return c.bbox=db(l,r),i.push(c),r}),i}function db(t,n){const i=t[0],l=t[1],r=n[0],c=n[1],f=i<r?i:r,g=l<c?l:c,y=i>r?i:r,v=l>c?l:c;return[f,g,y,v]}let yS=class{constructor(n=[],i=pb){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:l}=this,r=i[n];for(;n>0;){const c=n-1>>1,f=i[c];if(l(r,f)>=0)break;i[n]=f,n=c}i[n]=r}_down(n){const{data:i,compare:l}=this,r=this.length>>1,c=i[n];for(;n<r;){let f=(n<<1)+1,g=i[f];const y=f+1;if(y<this.length&&l(i[y],g)<0&&(f=y,g=i[y]),l(g,c)>=0)break;i[n]=g,n=f}i[n]=c}};function pb(t,n){return t<n?-1:t>n?1:0}function vS(t,n){return t.p.x>n.p.x?1:t.p.x<n.p.x?-1:t.p.y!==n.p.y?t.p.y>n.p.y?1:-1:1}function gb(t,n){return t.rightSweepEvent.p.x>n.rightSweepEvent.p.x?1:t.rightSweepEvent.p.x<n.rightSweepEvent.p.x?-1:t.rightSweepEvent.p.y!==n.rightSweepEvent.p.y?t.rightSweepEvent.p.y<n.rightSweepEvent.p.y?1:-1:1}class nv{constructor(n,i,l,r){this.p={x:n[0],y:n[1]},this.featureId=i,this.ringId=l,this.eventId=r,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(n){return this.p.x===n.p.x&&this.p.y===n.p.y}}function mb(t,n){if(t.type==="FeatureCollection"){const i=t.features;for(let l=0;l<i.length;l++)iv(i[l],n)}else iv(t,n)}let Lh=0,Dh=0,Ah=0;function iv(t,n){const i=t.type==="Feature"?t.geometry:t;let l=i.coordinates;(i.type==="Polygon"||i.type==="MultiLineString")&&(l=[l]),i.type==="LineString"&&(l=[[l]]);for(let r=0;r<l.length;r++)for(let c=0;c<l[r].length;c++){let f=l[r][c][0],g=null;Dh=Dh+1;for(let y=0;y<l[r][c].length-1;y++){g=l[r][c][y+1];const v=new nv(f,Lh,Dh,Ah),E=new nv(g,Lh,Dh,Ah+1);v.otherEvent=E,E.otherEvent=v,vS(v,E)>0?(E.isLeftEndpoint=!0,v.isLeftEndpoint=!1):(v.isLeftEndpoint=!0,E.isLeftEndpoint=!1),n.push(v),n.push(E),f=g,Ah=Ah+1}}Lh=Lh+1}let _b=class{constructor(n){this.leftSweepEvent=n,this.rightSweepEvent=n.otherEvent}};function yb(t,n){if(t===null||n===null||t.leftSweepEvent.ringId===n.leftSweepEvent.ringId&&(t.rightSweepEvent.isSamePoint(n.leftSweepEvent)||t.rightSweepEvent.isSamePoint(n.leftSweepEvent)||t.rightSweepEvent.isSamePoint(n.rightSweepEvent)||t.leftSweepEvent.isSamePoint(n.leftSweepEvent)||t.leftSweepEvent.isSamePoint(n.rightSweepEvent)))return!1;const i=t.leftSweepEvent.p.x,l=t.leftSweepEvent.p.y,r=t.rightSweepEvent.p.x,c=t.rightSweepEvent.p.y,f=n.leftSweepEvent.p.x,g=n.leftSweepEvent.p.y,y=n.rightSweepEvent.p.x,v=n.rightSweepEvent.p.y,E=(v-g)*(r-i)-(y-f)*(c-l),x=(y-f)*(l-g)-(v-g)*(i-f),A=(r-i)*(l-g)-(c-l)*(i-f);if(E===0)return!1;const N=x/E,B=A/E;if(N>=0&&N<=1&&B>=0&&B<=1){const J=i+N*(r-i),se=l+N*(c-l);return[J,se]}return!1}function vb(t,n){n=n||!1;const i=[],l=new yS([],gb);for(;t.length;){const r=t.pop();if(r.isLeftEndpoint){const c=new _b(r);for(let f=0;f<l.data.length;f++){const g=l.data[f];if(n&&g.leftSweepEvent.featureId===r.featureId)continue;const y=yb(c,g);y!==!1&&i.push(y)}l.push(c)}else r.isLeftEndpoint===!1&&l.pop()}return i}function Sb(t,n){const i=new yS([],vS);return mb(t,i),vb(i,n)}var xb=Sb;function Pa(t,n,i={}){const{removeDuplicates:l=!0,ignoreSelfIntersections:r=!0}=i;let c=[];t.type==="FeatureCollection"?c=c.concat(t.features):t.type==="Feature"?c.push(t):(t.type==="LineString"||t.type==="Polygon"||t.type==="MultiLineString"||t.type==="MultiPolygon")&&c.push(bn(t)),n.type==="FeatureCollection"?c=c.concat(n.features):n.type==="Feature"?c.push(n):(n.type==="LineString"||n.type==="Polygon"||n.type==="MultiLineString"||n.type==="MultiPolygon")&&c.push(bn(n));const f=xb(Qe(c),r);let g=[];if(l){const y={};f.forEach(v=>{const E=v.join(",");y[E]||(y[E]=!0,g.push(v))})}else g=f;return Qe(g.map(y=>ut(y)))}var Eb=Object.defineProperty,bb=Object.defineProperties,Tb=Object.getOwnPropertyDescriptors,rv=Object.getOwnPropertySymbols,wb=Object.prototype.hasOwnProperty,Cb=Object.prototype.propertyIsEnumerable,av=(t,n,i)=>n in t?Eb(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,Lb=(t,n)=>{for(var i in n||(n={}))wb.call(n,i)&&av(t,i,n[i]);if(rv)for(var i of rv(n))Cb.call(n,i)&&av(t,i,n[i]);return t},Db=(t,n)=>bb(t,Tb(n));function ys(t,n,i={}){if(!t||!n)throw new Error("lines and inputPoint are required arguments");const l=Bt(n);let r=ut([1/0,1/0],{lineStringIndex:-1,segmentIndex:-1,totalDistance:-1,lineDistance:-1,segmentDistance:-1,pointDistance:1/0,multiFeatureIndex:-1,index:-1,location:-1,dist:1/0}),c=0,f=0,g=-1;return $n(t,function(y,v,E){g!==E&&(g=E,f=0);const x=ct(y),A=x.length-2;for(let N=0;N<x.length-1;N++){const B=ut(x[N]),J=Bt(B),se=ut(x[N+1]),re=Bt(se),F=fn(B,se,i);let X,V;re[0]===l[0]&&re[1]===l[1]?[X,V]=[re,!0]:J[0]===l[0]&&J[1]===l[1]?[X,V]=[J,!1]:[X,V]=Nb(J,re,l);const W=fn(n,X,i);if(W<r.properties.pointDistance){const K=fn(B,X,i);r=ut(X,{lineStringIndex:E,segmentIndex:V&&N+1<=A?N+1:N,totalDistance:c+K,lineDistance:f+K,segmentDistance:K,pointDistance:W,multiFeatureIndex:-1,index:-1,location:-1,dist:1/0}),r.properties=Db(Lb({},r.properties),{multiFeatureIndex:r.properties.lineStringIndex,index:r.properties.segmentIndex,location:r.properties.totalDistance,dist:r.properties.pointDistance})}c+=F,f+=F}}),r}function Uo(t,n){const[i,l,r]=t,[c,f,g]=n;return i*c+l*f+r*g}function ju(t,n){const[i,l,r]=t,[c,f,g]=n;return[l*g-r*f,r*c-i*g,i*f-l*c]}function Ab(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))}function sv(t){const n=Ab(t);return[t[0]/n,t[1]/n,t[2]/n]}function xp(t){const n=Qn(t[1]),i=Qn(t[0]);return[Math.cos(n)*Math.cos(i),Math.cos(n)*Math.sin(i),Math.sin(n)]}function kb(t){const[n,i,l]=t,r=Math.min(Math.max(l,-1),1),c=Ia(Math.asin(r));return[Ia(Math.atan2(i,n)),c]}function Nb(t,n,i){const l=xp(t),r=xp(n),c=xp(i),f=ju(l,r);if(f[0]===0&&f[1]===0&&f[2]===0)return Uo(l,r)>0?[[...n],!0]:[[...i],!1];const g=ju(f,c);if(g[0]===0&&g[1]===0&&g[2]===0)return[[...n],!0];const y=ju(g,f),v=sv(y),E=[-v[0],-v[1],-v[2]],x=Uo(c,v)>Uo(c,E)?v:E,A=sv(f),N=Uo(ju(l,x),A),B=Uo(ju(x,r),A);return N>=0&&B>=0?[kb(x),!1]:Uo(l,c)>Uo(r,c)?[[...t],!1]:[[...n],!0]}function Eg(t,n){if(!t)throw new Error("line is required");if(!n)throw new Error("splitter is required");const i=cr(t),l=cr(n);if(i!=="LineString")throw new Error("line must be LineString");if(l==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(l==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var r=_S(n,{precision:7});switch(t.type!=="Feature"&&(t=bn(t)),l){case"Point":return Hp(t,r);case"MultiPoint":return ov(t,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return ov(t,Pa(t,r,{ignoreSelfIntersections:!0}))}}function ov(t,n){var i=[],l=yf();return $n(n,function(r){if(i.forEach(function(g,y){g.id=y}),!i.length)i=Hp(t,r).features,l.load(Qe(i));else{var c=l.search(r);if(c.features.length){var f=SS(r,c);i=i.filter(function(g){return g.id!==f.id}),l.remove(f),Rt(Hp(f,r),function(g){i.push(g),l.insert(g)})}}}),Qe(i)}function Hp(t,n){var i=[],l=ct(t)[0],r=ct(t)[t.geometry.coordinates.length-1];if(Ep(l,Bt(n))||Ep(r,Bt(n)))return Qe([t]);var c=yf(),f=fc(t);c.load(f);var g=c.search(n);if(!g.features.length)return Qe([t]);var y=SS(n,g),v=[l],E=_g(f,function(x,A,N){var B=ct(A)[1],J=Bt(n);return N===y.id?(x.push(J),i.push(bt(x)),Ep(J,B)?[J]:[J,B]):(x.push(B),x)},v);return E.length>1&&i.push(bt(E)),Qe(i)}function SS(t,n){if(!n.features.length)throw new Error("lines must contain features");if(n.features.length===1)return n.features[0];var i,l=1/0;return Rt(n,function(r){var c=ys(r,t),f=c.properties.dist;f<l&&(i=r,l=f)}),i}function Ep(t,n){return t[0]===n[0]&&t[1]===n[1]}function Ob(t,n){const i=cn(t),l=cn(n),r=i.type,c=l.type,f=i.coordinates,g=l.coordinates;switch(r){case"Point":if(c==="Point")return Tg(f,g);throw new Error("feature2 "+c+" geometry not supported");case"MultiPoint":switch(c){case"Point":return Ib(i,l);case"MultiPoint":return Pb(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"Point":return pt(l,i,{ignoreEndVertices:!0});case"LineString":return zb(i,l);case"MultiPoint":return Bb(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Point":return rt(l,i,{ignoreBoundary:!0});case"LineString":return Ub(i,l);case"Polygon":return bg(i,l);case"MultiPoint":return Fb(i,l);case"MultiPolygon":return Rb(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPolygon":if(c==="Polygon")return Mb(i,l);throw new Error("feature2 "+c+" geometry not supported");default:throw new Error("feature1 "+r+" geometry not supported")}}function Mb(t,n){return t.coordinates.some(i=>bg({type:"Polygon",coordinates:i},n))}function Rb(t,n){return n.coordinates.every(i=>bg(t,{type:"Polygon",coordinates:i}))}function Ib(t,n){let i,l=!1;for(i=0;i<t.coordinates.length;i++)if(Tg(t.coordinates[i],n.coordinates)){l=!0;break}return l}function Pb(t,n){for(const i of n.coordinates){let l=!1;for(const r of t.coordinates)if(Tg(i,r)){l=!0;break}if(!l)return!1}return!0}function Bb(t,n){let i=!1;for(const l of n.coordinates)if(pt(l,t,{ignoreEndVertices:!0})&&(i=!0),!pt(l,t))return!1;return!!i}function Fb(t,n){for(const i of n.coordinates)if(!rt(i,t,{ignoreBoundary:!0}))return!1;return!0}function zb(t,n){let i=!1;for(const l of n.coordinates)if(pt({type:"Point",coordinates:l},t,{ignoreEndVertices:!0})&&(i=!0),!pt({type:"Point",coordinates:l},t,{ignoreEndVertices:!1}))return!1;return i}function jb(t,n){const i=t.coordinates,l=[];for(let r=0;r<i.length-1;r++){const c=bt([i[r],i[r+1]]),f=Eg(c,bn(n));f.features.length===0?l.push(c):l.push(...f.features)}return Qe(l)}function Ub(t,n){const i=kt(t),l=kt(n);if(!xS(i,l))return!1;for(const f of n.coordinates)if(!rt(f,t))return!1;let r=!1;const c=jb(n,t);for(const f of c.features){const g=Yb(f.geometry.coordinates[0],f.geometry.coordinates[1]);if(!rt(g,t))return!1;!r&&rt(g,t,{ignoreBoundary:!0})&&(r=!0)}return r}function bg(t,n){if(t.type==="Feature"&&t.geometry===null||n.type==="Feature"&&n.geometry===null)return!1;const i=kt(t),l=kt(n);if(!xS(i,l))return!1;const r=cn(n).coordinates;for(const c of r)for(const f of c)if(!rt(f,t))return!1;return!0}function xS(t,n){return!(t[0]>n[0]||t[2]<n[2]||t[1]>n[1]||t[3]<n[3])}function Tg(t,n){return t[0]===n[0]&&t[1]===n[1]}function Yb(t,n){return[(t[0]+n[0])/2,(t[1]+n[1])/2]}function Yl(t,n={}){const i=cn(t);switch(!n.properties&&t.type==="Feature"&&(n.properties=t.properties),i.type){case"Polygon":return Gb(i,n);case"MultiPolygon":return qb(i,n);default:throw new Error("invalid poly")}}function Gb(t,n={}){const l=cn(t).coordinates,r=n.properties?n.properties:t.type==="Feature"?t.properties:{};return ES(l,r)}function qb(t,n={}){const l=cn(t).coordinates,r=n.properties?n.properties:t.type==="Feature"?t.properties:{},c=[];return l.forEach(f=>{c.push(ES(f,r))}),Qe(c)}function ES(t,n){return t.length>1?uo(t,n):bt(t[0],n)}var Hb=Object.defineProperty,Wl=(t,n)=>Hb(t,"name",{value:n,configurable:!0}),bS=class{constructor(n){this.direction=!1,this.compareProperties=!0;var i,l,r;this.precision=10**-((i=n?.precision)!=null?i:17),this.direction=(l=n?.direction)!=null?l:!1,this.compareProperties=(r=n?.compareProperties)!=null?r:!0}compare(n,i){if(n.type!==i.type||!Qu(n,i))return!1;switch(n.type){case"Point":return this.compareCoord(n.coordinates,i.coordinates);case"LineString":return this.compareLine(n.coordinates,i.coordinates);case"Polygon":return this.comparePolygon(n,i);case"GeometryCollection":return this.compareGeometryCollection(n,i);case"Feature":return this.compareFeature(n,i);case"FeatureCollection":return this.compareFeatureCollection(n,i);default:if(n.type.startsWith("Multi")){const l=Zp(n),r=Zp(i);return l.every(c=>r.some(f=>this.compare(c,f)))}}return!1}compareCoord(n,i){return n.length===i.length&&n.every((l,r)=>Math.abs(l-i[r])<this.precision)}compareLine(n,i,l=0,r=!1){if(!Qu(n,i))return!1;const c=n;let f=i;if(r&&!this.compareCoord(c[0],f[0])){const y=this.fixStartIndex(f,c);if(y)f=y;else return!1}const g=this.compareCoord(c[l],f[l]);return this.direction||g?this.comparePath(c,f):this.compareCoord(c[l],f[f.length-(1+l)])?this.comparePath(c.slice().reverse(),f):!1}fixStartIndex(n,i){let l,r=-1;for(let c=0;c<n.length;c++)if(this.compareCoord(n[c],i[0])){r=c;break}return r>=0&&(l=[].concat(n.slice(r,n.length),n.slice(1,r+1))),l}comparePath(n,i){return n.every((l,r)=>this.compareCoord(l,i[r]))}comparePolygon(n,i){if(this.compareLine(n.coordinates[0],i.coordinates[0],1,!0)){const l=n.coordinates.slice(1,n.coordinates.length),r=i.coordinates.slice(1,i.coordinates.length);return l.every(c=>r.some(f=>this.compareLine(c,f,1,!0)))}return!1}compareGeometryCollection(n,i){return Qu(n.geometries,i.geometries)&&this.compareBBox(n,i)&&n.geometries.every((l,r)=>this.compare(l,i.geometries[r]))}compareFeature(n,i){return n.id===i.id&&(this.compareProperties?Cg(n.properties,i.properties):!0)&&this.compareBBox(n,i)&&this.compare(n.geometry,i.geometry)}compareFeatureCollection(n,i){return Qu(n.features,i.features)&&this.compareBBox(n,i)&&n.features.every((l,r)=>this.compare(l,i.features[r]))}compareBBox(n,i){return!n.bbox&&!i.bbox||(n.bbox&&i.bbox?this.compareCoord(n.bbox,i.bbox):!1)}};Wl(bS,"GeojsonEquality");var Zb=bS;function Qu(t,n){return t.coordinates?t.coordinates.length===n.coordinates.length:t.length===n.length}Wl(Qu,"sameLength");function Zp(t){return t.coordinates.map(n=>({type:t.type.replace("Multi",""),coordinates:n}))}Wl(Zp,"explode");function wg(t,n,i){return new Zb(i).compare(t,n)}Wl(wg,"geojsonEquality");function Cg(t,n){if(t===null&&n===null)return!0;if(t===null||n===null)return!1;const i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(var r of i){const c=t[r],f=n[r],g=lv(c)&&lv(f);if(g&&!Cg(c,f)||!g&&c!==f)return!1}return!0}Wl(Cg,"equal");var lv=Wl(t=>t!=null&&typeof t=="object","isObject");function Vo(t,n={}){var i=typeof n=="object"?n.mutate:n;if(!t)throw new Error("geojson is required");var l=cr(t),r=[];switch(l){case"LineString":r=bp(t,l);break;case"MultiLineString":case"Polygon":ct(t).forEach(function(f){r.push(bp(f,l))});break;case"MultiPolygon":ct(t).forEach(function(f){var g=[];f.forEach(function(y){g.push(bp(y,l))}),r.push(g)});break;case"Point":return t;case"MultiPoint":var c={};ct(t).forEach(function(f){var g=f.join("-");Object.prototype.hasOwnProperty.call(c,g)||(r.push(f),c[g]=!0)});break;default:throw new Error(l+" geometry not supported")}return t.coordinates?i===!0?(t.coordinates=r,t):{type:l,coordinates:r}:i===!0?(t.geometry.coordinates=r,t):bn({type:l,coordinates:r},t.properties,{bbox:t.bbox,id:t.id})}function bp(t,n){const i=ct(t);if(i.length===2&&!uv(i[0],i[1]))return i;const l=[];let r=0,c=1,f=2;for(l.push(i[r]);f<i.length;)pt(i[c],bt([i[r],i[f]]))?c=f:(l.push(i[c]),r=c,c++,f=c),f++;if(l.push(i[c]),n==="Polygon"||n==="MultiPolygon"){if(pt(l[0],bt([l[1],l[l.length-2]]))&&(l.shift(),l.pop(),l.push(l[0])),l.length<4)throw new Error("invalid polygon, fewer than 4 points");if(!uv(l[0],l[l.length-1]))throw new Error("invalid polygon, first and last points not equal")}return l}function uv(t,n){return t[0]===n[0]&&t[1]===n[1]}function Ku(t,n,i={}){let l=i.precision;if(l=l==null||isNaN(l)?6:l,typeof l!="number"||!(l>=0))throw new Error("precision must be a positive number");const r=cn(t).type,c=cn(n).type;return r!==c?!1:wg(Vo(t),Vo(n),{precision:l})}function TS(t,n){var i=cn(t),l=cn(n),r=i.type,c=l.type;switch(r){case"MultiPoint":switch(c){case"LineString":return cv(i,l);case"Polygon":return fv(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"MultiPoint":return cv(l,i);case"LineString":return Xb(i,l);case"Polygon":return hv(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"MultiPoint":return fv(l,i);case"LineString":return hv(l,i);default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function cv(t,n){for(var i=!1,l=!1,r=t.coordinates.length,c=0;c<r&&!i&&!l;){for(var f=0;f<n.coordinates.length-1;f++){var g=!0;(f===0||f===n.coordinates.length-2)&&(g=!1),Jb(n.coordinates[f],n.coordinates[f+1],t.coordinates[c],g)?i=!0:l=!0}c++}return i&&l}function Xb(t,n){const i=Pa(t,n);if(i.features.length===0)return!1;for(const l of i.features)if(!Ku(l.geometry,ut(t.coordinates[0]))&&!Ku(l.geometry,ut(t.coordinates[t.coordinates.length-1]))&&!Ku(l.geometry,ut(n.coordinates[0]))&&!Ku(l.geometry,ut(n.coordinates[n.coordinates.length-1])))return!0;return!1}function hv(t,n){const i=Yl(n);return Pa(t,i).features.length>0}function fv(t,n){var i=!1,l=!1,r=t.coordinates.length;for(let c=0;c<r&&(!i||!l);c++)rt(ut(t.coordinates[c]),n)?i=!0:l=!0;return l&&i}function Jb(t,n,i,l){var r=i[0]-t[0],c=i[1]-t[1],f=n[0]-t[0],g=n[1]-t[1],y=r*g-c*f;return y!==0?!1:l?Math.abs(f)>=Math.abs(g)?f>0?t[0]<=i[0]&&i[0]<=n[0]:n[0]<=i[0]&&i[0]<=t[0]:g>0?t[1]<=i[1]&&i[1]<=n[1]:n[1]<=i[1]&&i[1]<=t[1]:Math.abs(f)>=Math.abs(g)?f>0?t[0]<i[0]&&i[0]<n[0]:n[0]<i[0]&&i[0]<t[0]:g>0?t[1]<i[1]&&i[1]<n[1]:n[1]<i[1]&&i[1]<t[1]}function Lg(t,n,{ignoreSelfIntersections:i=!0}={ignoreSelfIntersections:!0}){let l=!0;return $n(t,r=>{$n(n,c=>{if(l===!1)return!1;l=Vb(r.geometry,c.geometry,i)})}),l}function Vb(t,n,i){switch(t.type){case"Point":switch(n.type){case"Point":return!$b(t.coordinates,n.coordinates);case"LineString":return!dv(n,t);case"Polygon":return!rt(t,n)}break;case"LineString":switch(n.type){case"Point":return!dv(t,n);case"LineString":return!Wb(t,n,i);case"Polygon":return!pv(n,t,i)}break;case"Polygon":switch(n.type){case"Point":return!rt(n,t);case"LineString":return!pv(t,n,i);case"Polygon":return!Qb(n,t,i)}}return!1}function dv(t,n){for(let i=0;i<t.coordinates.length-1;i++)if(Kb(t.coordinates[i],t.coordinates[i+1],n.coordinates))return!0;return!1}function Wb(t,n,i){return Pa(t,n,{ignoreSelfIntersections:i}).features.length>0}function pv(t,n,i){for(const r of n.coordinates)if(rt(r,t))return!0;return Pa(n,Yl(t),{ignoreSelfIntersections:i}).features.length>0}function Qb(t,n,i){for(const r of t.coordinates[0])if(rt(r,n))return!0;for(const r of n.coordinates[0])if(rt(r,t))return!0;return Pa(Yl(t),Yl(n),{ignoreSelfIntersections:i}).features.length>0}function Kb(t,n,i){const l=i[0]-t[0],r=i[1]-t[1],c=n[0]-t[0],f=n[1]-t[1];return l*f-r*c!==0?!1:Math.abs(c)>=Math.abs(f)?c>0?t[0]<=i[0]&&i[0]<=n[0]:n[0]<=i[0]&&i[0]<=t[0]:f>0?t[1]<=i[1]&&i[1]<=n[1]:n[1]<=i[1]&&i[1]<=t[1]}function $b(t,n){return t[0]===n[0]&&t[1]===n[1]}function wS(t,n,{ignoreSelfIntersections:i=!0}={}){let l=!1;return $n(t,r=>{$n(n,c=>{if(l===!0)return!0;l=!Lg(r.geometry,c.geometry,{ignoreSelfIntersections:i})})}),l}var Tp,gv;function eT(){return gv||(gv=1,Tp=function t(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var l,r,c;if(Array.isArray(n)){if(l=n.length,l!=i.length)return!1;for(r=l;r--!==0;)if(!t(n[r],i[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(c=Object.keys(n),l=c.length,l!==Object.keys(i).length)return!1;for(r=l;r--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[r]))return!1;for(r=l;r--!==0;){var f=c[r];if(!t(n[f],i[f]))return!1}return!0}return n!==n&&i!==i}),Tp}var tT=eT();const Ho=lo(tT);function CS(t,n,i={}){if(i=i||{},!Ft(i))throw new Error("options is invalid");var l=i.tolerance||0,r=[],c=yf();const f=fc(t);c.load(f);var g;let y=[];return _s(n,function(v){var E=!1;v&&(Rt(c.search(v),function(x){if(E===!1){var A=ct(v).sort(),N=ct(x).sort();if(Ho(A,N))E=!0,g?g=wp(g,v)||g:g=v;else if(l===0?pt(A[0],x)&&pt(A[1],x):ys(x,A[0]).properties.dist<=l&&ys(x,A[1]).properties.dist<=l)E=!0,g?g=wp(g,v)||g:g=v;else if(l===0?pt(N[0],v)&&pt(N[1],v):ys(v,N[0]).properties.dist<=l&&ys(v,N[1]).properties.dist<=l)if(g){const B=wp(g,x);B?g=B:y.push(x)}else g=x}}),E===!1&&g&&(r.push(g),y.length&&(r=r.concat(y),y=[]),g=void 0))}),g&&r.push(g),Qe(r)}function wp(t,n){var i=ct(n),l=ct(t),r=l[0],c=l[l.length-1],f=t.geometry.coordinates;if(Ho(i[0],r))f.unshift(i[1]);else if(Ho(i[0],c))f.push(i[1]);else if(Ho(i[1],r))f.unshift(i[0]);else if(Ho(i[1],c))f.push(i[0]);else return;return t}function nT(t,n){const i=cn(t),l=cn(n),r=i.type,c=l.type;if(r==="MultiPoint"&&c!=="MultiPoint"||(r==="LineString"||r==="MultiLineString")&&c!=="LineString"&&c!=="MultiLineString"||(r==="Polygon"||r==="MultiPolygon")&&c!=="Polygon"&&c!=="MultiPolygon")throw new Error("features must be of the same type");if(r==="Point")throw new Error("Point geometry not supported");if(wg(t,n,{precision:6}))return!1;let f=0;switch(r){case"MultiPoint":for(var g=0;g<i.coordinates.length;g++)for(var y=0;y<l.coordinates.length;y++){var v=i.coordinates[g],E=l.coordinates[y];if(v[0]===E[0]&&v[1]===E[1])return!0}return!1;case"LineString":case"MultiLineString":_s(t,x=>{_s(n,A=>{CS(x,A).features.length&&f++})});break;case"Polygon":case"MultiPolygon":_s(t,x=>{_s(n,A=>{Pa(x,A).features.length&&f++})});break}return f>0}function iT(t,n){if(!t)throw new Error("line1 is required");if(!n)throw new Error("line2 is required");var i=mv(t,"line1");if(i!=="LineString")throw new Error("line1 must be a LineString");var l=mv(n,"line2");if(l!=="LineString")throw new Error("line2 must be a LineString");for(var r=fc(Vo(t)).features,c=fc(Vo(n)).features,f=0;f<r.length;f++){var g=r[f].geometry.coordinates;if(!c[f])break;var y=c[f].geometry.coordinates;if(!rT(g,y))return!1}return!0}function rT(t,n){var i=Ul(Jo(t[0],t[1])),l=Ul(Jo(n[0],n[1]));return i===l||(l-i)%180===0}function mv(t,n){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+n)}function aT(t,n){var i=cn(t),l=cn(n),r=i.type,c=l.type;switch(r){case"Point":switch(c){case"LineString":return Ni(i,l);case"MultiLineString":for(var f=!1,g=0;g<l.coordinates.length;g++)Ni(i,{coordinates:l.coordinates[g]})&&(f=!0);return f;case"Polygon":for(var y=0;y<l.coordinates.length;y++)if(pt(i,{type:"LineString",coordinates:l.coordinates[y]}))return!0;return!1;case"MultiPolygon":for(var y=0;y<l.coordinates.length;y++)for(var g=0;g<l.coordinates[y].length;g++)if(pt(i,{type:"LineString",coordinates:l.coordinates[y][g]}))return!0;return!1;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPoint":switch(c){case"LineString":for(var f=!1,y=0;y<i.coordinates.length;y++)if(f||Ni({coordinates:i.coordinates[y]},l)&&(f=!0),pt({type:"Point",coordinates:i.coordinates[y]},l,{ignoreEndVertices:!0}))return!1;return f;case"MultiLineString":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||Ni({coordinates:i.coordinates[y]},{coordinates:l.coordinates[g]})&&(f=!0),pt({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[g]},{ignoreEndVertices:!0}))return!1;return f;case"Polygon":for(var f=!1,y=0;y<i.coordinates.length;y++)if(f||pt({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[y]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||pt({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[g][0]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[y]},{type:"Polygon",coordinates:l.coordinates[g]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"Point":return Ni(l,i);case"MultiPoint":for(var f=!1,y=0;y<l.coordinates.length;y++)if(f||Ni({coordinates:l.coordinates[y]},i)&&(f=!0),pt({type:"Point",coordinates:l.coordinates[y]},i,{ignoreEndVertices:!0}))return!1;return f;case"LineString":var v=!1;if(Ni({coordinates:i.coordinates[0]},l)&&(v=!0),Ni({coordinates:i.coordinates[i.coordinates.length-1]},l)&&(v=!0),v===!1)return!1;for(var y=0;y<i.coordinates.length;y++)if(pt({type:"Point",coordinates:i.coordinates[y]},l,{ignoreEndVertices:!0}))return!1;return v;case"MultiLineString":for(var v=!1,y=0;y<l.coordinates.length;y++){Ni({coordinates:i.coordinates[0]},{coordinates:l.coordinates[y]})&&(v=!0),Ni({coordinates:i.coordinates[i.coordinates.length-1]},{coordinates:l.coordinates[y]})&&(v=!0);for(var g=0;g<i.coordinates[y].length;g++)if(pt({type:"Point",coordinates:i.coordinates[g]},{type:"LineString",coordinates:l.coordinates[y]},{ignoreEndVertices:!0}))return!1}return v;case"Polygon":for(var f=!1,y=0;y<i.coordinates.length;y++)if(f||pt({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[y]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<i.coordinates.length;y++){for(var g=0;g<l.coordinates.length;g++)f||pt({type:"Point",coordinates:i.coordinates[y]},{type:"LineString",coordinates:l.coordinates[g][0]})&&(f=!0);if(rt({type:"Point",coordinates:i.coordinates[y]},l,{ignoreBoundary:!0}))return!1}return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiLineString":switch(c){case"Point":for(var y=0;y<i.coordinates.length;y++)if(Ni(l,{coordinates:i.coordinates[y]}))return!0;return!1;case"MultiPoint":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||Ni({coordinates:l.coordinates[g]},{coordinates:i.coordinates[g]})&&(f=!0),pt({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[g]},{ignoreEndVertices:!0}))return!1;return f;case"LineString":for(var v=!1,y=0;y<i.coordinates.length;y++){Ni({coordinates:i.coordinates[y][0]},l)&&(v=!0),Ni({coordinates:i.coordinates[y][i.coordinates[y].length-1]},l)&&(v=!0);for(var g=0;g<l.coordinates.length;g++)if(pt({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[y]},{ignoreEndVertices:!0}))return!1}return v;case"MultiLineString":for(var v=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++){Ni({coordinates:i.coordinates[y][0]},{coordinates:l.coordinates[g]})&&(v=!0),Ni({coordinates:i.coordinates[y][i.coordinates[y].length-1]},{coordinates:l.coordinates[g]})&&(v=!0);for(var E=0;E<i.coordinates[y].length;E++)if(pt({type:"Point",coordinates:i.coordinates[y][E]},{type:"LineString",coordinates:l.coordinates[g]},{ignoreEndVertices:!0}))return!1}return v;case"Polygon":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<i.coordinates.length;g++)if(f||pt({type:"Point",coordinates:i.coordinates[y][g]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[y][g]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<l.coordinates[0].length;y++)for(var g=0;g<i.coordinates.length;g++)for(var E=0;E<i.coordinates[g].length;E++)if(f||pt({type:"Point",coordinates:i.coordinates[g][E]},{type:"LineString",coordinates:l.coordinates[0][y]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[g][E]},{type:"Polygon",coordinates:[l.coordinates[0][y]]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Point":for(var y=0;y<i.coordinates.length;y++)if(pt(l,{type:"LineString",coordinates:i.coordinates[y]}))return!0;return!1;case"MultiPoint":for(var f=!1,y=0;y<l.coordinates.length;y++)if(f||pt({type:"Point",coordinates:l.coordinates[y]},{type:"LineString",coordinates:i.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:l.coordinates[y]},i,{ignoreBoundary:!0}))return!1;return f;case"LineString":for(var f=!1,y=0;y<l.coordinates.length;y++)if(f||pt({type:"Point",coordinates:l.coordinates[y]},{type:"LineString",coordinates:i.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:l.coordinates[y]},i,{ignoreBoundary:!0}))return!1;return f;case"MultiLineString":for(var f=!1,y=0;y<l.coordinates.length;y++)for(var g=0;g<l.coordinates[y].length;g++)if(f||pt({type:"Point",coordinates:l.coordinates[y][g]},{type:"LineString",coordinates:i.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:l.coordinates[y][g]},i,{ignoreBoundary:!0}))return!1;return f;case"Polygon":for(var f=!1,y=0;y<i.coordinates[0].length;y++)if(f||pt({type:"Point",coordinates:i.coordinates[0][y]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[0][y]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<l.coordinates[0].length;y++)for(var g=0;g<i.coordinates[0].length;g++)if(f||pt({type:"Point",coordinates:i.coordinates[0][g]},{type:"LineString",coordinates:l.coordinates[0][y]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[0][g]},{type:"Polygon",coordinates:l.coordinates[0][y]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPolygon":switch(c){case"Point":for(var y=0;y<i.coordinates[0].length;y++)if(pt(l,{type:"LineString",coordinates:i.coordinates[0][y]}))return!0;return!1;case"MultiPoint":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||pt({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[0][y]})&&(f=!0),rt({type:"Point",coordinates:l.coordinates[g]},{type:"Polygon",coordinates:i.coordinates[0][y]},{ignoreBoundary:!0}))return!1;return f;case"LineString":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<l.coordinates.length;g++)if(f||pt({type:"Point",coordinates:l.coordinates[g]},{type:"LineString",coordinates:i.coordinates[0][y]})&&(f=!0),rt({type:"Point",coordinates:l.coordinates[g]},{type:"Polygon",coordinates:i.coordinates[0][y]},{ignoreBoundary:!0}))return!1;return f;case"MultiLineString":for(var f=!1,y=0;y<i.coordinates.length;y++)for(var g=0;g<l.coordinates.length;g++)for(var E=0;E<l.coordinates[g].length;E++)if(f||pt({type:"Point",coordinates:l.coordinates[g][E]},{type:"LineString",coordinates:i.coordinates[y][0]})&&(f=!0),rt({type:"Point",coordinates:l.coordinates[g][E]},{type:"Polygon",coordinates:[i.coordinates[y][0]]},{ignoreBoundary:!0}))return!1;return f;case"Polygon":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<i.coordinates[0][y].length;g++)if(f||pt({type:"Point",coordinates:i.coordinates[0][y][g]},{type:"LineString",coordinates:l.coordinates[0]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[0][y][g]},l,{ignoreBoundary:!0}))return!1;return f;case"MultiPolygon":for(var f=!1,y=0;y<i.coordinates[0].length;y++)for(var g=0;g<l.coordinates[0].length;g++)for(var E=0;E<i.coordinates[0].length;E++)if(f||pt({type:"Point",coordinates:i.coordinates[0][y][E]},{type:"LineString",coordinates:l.coordinates[0][g]})&&(f=!0),rt({type:"Point",coordinates:i.coordinates[0][y][E]},{type:"Polygon",coordinates:l.coordinates[0][g]},{ignoreBoundary:!0}))return!1;return f;default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function Ni(t,n){return!!(_v(n.coordinates[0],t.coordinates)||_v(n.coordinates[n.coordinates.length-1],t.coordinates))}function _v(t,n){return t[0]===n[0]&&t[1]===n[1]}function sT(t){if(!t.type)return!1;const n=cn(t),i=n.type,l=n.coordinates;switch(i){case"Point":return l.length>1;case"MultiPoint":for(var r=0;r<l.length;r++)if(l[r].length<2)return!1;return!0;case"LineString":if(l.length<2)return!1;for(var r=0;r<l.length;r++)if(l[r].length<2)return!1;return!0;case"MultiLineString":if(l.length<2)return!1;for(var r=0;r<l.length;r++)if(l[r].length<2)return!1;return!0;case"Polygon":for(var r=0;r<n.coordinates.length;r++)if(l[r].length<4||!yv(l[r])||vv(l[r])||r>0&&Pa(lt([l[0]]),lt([l[r]])).features.length>1)return!1;return!0;case"MultiPolygon":for(var r=0;r<n.coordinates.length;r++)for(var c=n.coordinates[r],f=0;f<c.length;f++)if(c[f].length<4||!yv(c[f])||vv(c[f])||f===0&&!oT(c,n.coordinates,r)||f>0&&Pa(lt([c[0]]),lt([c[f]])).features.length>1)return!1;return!0;default:return!1}}function yv(t){return t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]}function vv(t){for(var n=0;n<t.length-1;n++)for(var i=t[n],l=n+1;l<t.length-2;l++){var r=[t[l],t[l+1]];if(pt(i,bt(r)))return!0}return!1}function oT(t,n,i){for(var l=lt(t),r=i+1;r<n.length;r++)if(!Lg(l,lt(n[r]))&&TS(l,bt(n[r][0])))return!1;return!0}function LS(t,n){var i=cn(t),l=cn(n),r=i.type,c=l.type;switch(r){case"Point":switch(c){case"MultiPoint":return lT(i,l);case"LineString":return pt(i,l,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return rt(i,l,{ignoreBoundary:!0});default:throw new Error("feature2 "+c+" geometry not supported")}case"MultiPoint":switch(c){case"MultiPoint":return uT(i,l);case"LineString":return cT(i,l);case"Polygon":case"MultiPolygon":return hT(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"LineString":switch(c){case"LineString":return fT(i,l);case"Polygon":case"MultiPolygon":return pT(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}case"Polygon":switch(c){case"Polygon":case"MultiPolygon":return gT(i,l);default:throw new Error("feature2 "+c+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function lT(t,n){var i,l=!1;for(i=0;i<n.coordinates.length;i++)if(AS(n.coordinates[i],t.coordinates)){l=!0;break}return l}function uT(t,n){for(var i=0;i<t.coordinates.length;i++){for(var l=!1,r=0;r<n.coordinates.length;r++)AS(t.coordinates[i],n.coordinates[r])&&(l=!0);if(!l)return!1}return!0}function cT(t,n){for(var i=!1,l=0;l<t.coordinates.length;l++){if(!pt(t.coordinates[l],n))return!1;i||(i=pt(t.coordinates[l],n,{ignoreEndVertices:!0}))}return i}function hT(t,n){for(var i=!0,l=!1,r=0;r<t.coordinates.length;r++){if(l=rt(t.coordinates[r],n),!l){i=!1;break}l=rt(t.coordinates[r],n,{ignoreBoundary:!0})}return i&&l}function fT(t,n){for(var i=0;i<t.coordinates.length;i++)if(!pt(t.coordinates[i],n))return!1;return!0}function dT(t,n){const i=t.coordinates,l=[];for(let r=0;r<i.length-1;r++){const c=bt([i[r],i[r+1]]),f=Eg(c,bn(n));f.features.length===0?l.push(c):l.push(...f.features)}return Qe(l)}function pT(t,n){const i=kt(n),l=kt(t);if(!DS(i,l))return!1;for(const f of t.coordinates)if(!rt(f,n))return!1;let r=!1;const c=dT(t,n);for(const f of c.features){const g=mT(f.geometry.coordinates[0],f.geometry.coordinates[1]);if(!rt(g,n))return!1;!r&&rt(g,n,{ignoreBoundary:!0})&&(r=!0)}return r}function gT(t,n){var i=kt(t),l=kt(n);if(!DS(l,i))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!rt(t.coordinates[0][r],n))return!1;return!0}function DS(t,n){return!(t[0]>n[0]||t[2]<n[2]||t[1]>n[1]||t[3]<n[3])}function AS(t,n){return t[0]===n[0]&&t[1]===n[1]}function mT(t,n){return[(t[0]+n[0])/2,(t[1]+n[1])/2]}function vf(t,n={}){const i=kt(t),l=(i[0]+i[2])/2,r=(i[1]+i[3])/2;return ut([l,r],n.properties,n)}var Gh={exports:{}},_T=Gh.exports,Sv;function yT(){return Sv||(Sv=1,(function(t,n){(function(i,l){t.exports=l()})(_T,(function(){function i(p,s){(s==null||s>p.length)&&(s=p.length);for(var o=0,d=Array(s);o<s;o++)d[o]=p[o];return d}function l(p,s,o){return s=E(s),(function(d,S){if(S&&(typeof S=="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C})(d)})(p,A()?Reflect.construct(s,o||[],E(p).constructor):s.apply(p,o))}function r(p,s){if(!(p instanceof s))throw new TypeError("Cannot call a class as a function")}function c(p,s,o){if(A())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,s);var S=new(p.bind.apply(p,d));return o&&N(S,o.prototype),S}function f(p,s){for(var o=0;o<s.length;o++){var d=s[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,se(d.key),d)}}function g(p,s,o){return s&&f(p.prototype,s),o&&f(p,o),Object.defineProperty(p,"prototype",{writable:!1}),p}function y(p,s){var o=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!o){if(Array.isArray(p)||(o=re(p))||s){o&&(p=o);var d=0,S=function(){};return{s:S,n:function(){return d>=p.length?{done:!0}:{done:!1,value:p[d++]}},e:function(le){throw le},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,I=!0,H=!1;return{s:function(){o=o.call(p)},n:function(){var le=o.next();return I=le.done,le},e:function(le){H=!0,C=le},f:function(){try{I||o.return==null||o.return()}finally{if(H)throw C}}}}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(p,s,o){var d=(function(C,I){for(;!{}.hasOwnProperty.call(C,I)&&(C=E(C))!==null;);return C})(p,s);if(d){var S=Object.getOwnPropertyDescriptor(d,s);return S.get?S.get.call(arguments.length<3?p:o):S.value}},v.apply(null,arguments)}function E(p){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},E(p)}function x(p,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(s&&s.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),s&&N(p,s)}function A(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(A=function(){return!!p})()}function N(p,s){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,d){return o.__proto__=d,o},N(p,s)}function B(p,s,o,d){var S=v(E(1&d?p.prototype:p),s,o);return 2&d&&typeof S=="function"?function(C){return S.apply(o,C)}:S}function J(p){return(function(s){if(Array.isArray(s))return i(s)})(p)||(function(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)})(p)||re(p)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function se(p){var s=(function(o,d){if(typeof o!="object"||!o)return o;var S=o[Symbol.toPrimitive];if(S!==void 0){var C=S.call(o,d);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)})(p,"string");return typeof s=="symbol"?s:s+""}function re(p,s){if(p){if(typeof p=="string")return i(p,s);var o={}.toString.call(p).slice(8,-1);return o==="Object"&&p.constructor&&(o=p.constructor.name),o==="Map"||o==="Set"?Array.from(p):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(p,s):void 0}}function F(p){var s=typeof Map=="function"?new Map:void 0;return F=function(o){if(o===null||!(function(S){try{return Function.toString.call(S).indexOf("[native code]")!==-1}catch{return typeof S=="function"}})(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(o))return s.get(o);s.set(o,d)}function d(){return c(o,arguments,E(this).constructor)}return d.prototype=Object.create(o.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),N(d,o)},F(p)}var X=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(s){this._quadrantSegments=s,this._quadrantSegments===0&&(this._joinStyle=p.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=p.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),s<=0&&(this._quadrantSegments=1),this._joinStyle!==p.JOIN_ROUND&&(this._quadrantSegments=p.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(s){this._joinStyle=s}},{key:"setSimplifyFactor",value:function(s){this._simplifyFactor=s<0?0:s}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(s){this._endCapStyle=s}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(s){this._mitreLimit=s}},{key:"setSingleSided",value:function(s){this._isSingleSided=s}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=p.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=p.CAP_ROUND,this._joinStyle=p.JOIN_ROUND,this._mitreLimit=p.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=p.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var s=arguments[0];this.setQuadrantSegments(s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.setQuadrantSegments(o),this.setEndCapStyle(d)}else if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],H=arguments[3];this.setQuadrantSegments(S),this.setEndCapStyle(C),this.setJoinStyle(I),this.setMitreLimit(H)}}}},{key:"bufferDistanceError",value:function(s){var o=Math.PI/2/s;return 1-Math.cos(o/2)}}])})();X.CAP_ROUND=1,X.CAP_FLAT=2,X.CAP_SQUARE=3,X.JOIN_ROUND=1,X.JOIN_MITRE=2,X.JOIN_BEVEL=3,X.DEFAULT_QUADRANT_SEGMENTS=8,X.DEFAULT_MITRE_LIMIT=5,X.DEFAULT_SIMPLIFY_FACTOR=.01;var V=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({Exception:s})[0],d}return x(s,p),g(s,[{key:"toString",value:function(){return this.message}}])})(F(Error)),W=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({IllegalArgumentException:s})[0],d}return x(s,p),g(s)})(V),K=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p){}}])})();function ee(){}function k(){}function M(){}var P,Z,q,te,ne,ae,R,j,z=(function(){return g((function p(){r(this,p)}),null,[{key:"equalsWithTolerance",value:function(p,s,o){return Math.abs(p-s)<=o}}])})(),ie=(function(){return g((function p(s,o){r(this,p),this.low=o||0,this.high=s||0}),null,[{key:"toBinaryString",value:function(p){var s,o="";for(s=2147483648;s>0;s>>>=1)o+=(p.high&s)===s?"1":"0";for(s=2147483648;s>0;s>>>=1)o+=(p.low&s)===s?"1":"0";return o}}])})();function Q(){}function Y(){}Q.NaN=NaN,Q.isNaN=function(p){return Number.isNaN(p)},Q.isInfinite=function(p){return!Number.isFinite(p)},Q.MAX_VALUE=Number.MAX_VALUE,Q.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Q.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(ae=2146435072,R=new Float64Array(1),j=new Int32Array(R.buffer),Q.doubleToLongBits=function(p){R[0]=p;var s=0|j[0],o=0|j[1];return(o&ae)===ae&&1048575&o&&s!==0&&(s=0,o=2146959360),new ie(o,s)},Q.longBitsToDouble=function(p){return j[0]=p.low,j[1]=p.high,R[0]}):(P=1023,Z=Math.log2,q=Math.floor,te=Math.pow,ne=(function(){for(var p=53;p>0;p--){var s=te(2,p)-1;if(q(Z(s))+1===p)return s}return 0})(),Q.doubleToLongBits=function(p){var s,o,d,S,C,I,H,le,de;if(p<0||1/p===Number.NEGATIVE_INFINITY?(I=1<<31,p=-p):I=0,p===0)return new ie(le=I,de=0);if(p===1/0)return new ie(le=2146435072|I,de=0);if(p!=p)return new ie(le=2146959360,de=0);if(S=0,de=0,(s=q(p))>1)if(s<=ne)(S=q(Z(s)))<=20?(de=0,le=s<<20-S&1048575):(de=s%(o=te(2,d=S-20))<<32-d,le=s/o&1048575);else for(d=s,de=0;(d=q(o=d/2))!==0;)S++,de>>>=1,de|=(1&le)<<31,le>>>=1,o!==d&&(le|=524288);if(H=S+P,C=s===0,s=p-s,S<52&&s!==0)for(d=0;;){if((o=2*s)>=1?(s=o-1,C?(H--,C=!1):(d<<=1,d|=1,S++)):(s=o,C?--H==0&&(S++,C=!1):(d<<=1,S++)),S===20)le|=d,d=0;else if(S===52){de|=d;break}if(o===1){S<20?le|=d<<20-S:S<52&&(de|=d<<52-S);break}}return le|=H<<20,new ie(le|=I,de)},Q.longBitsToDouble=function(p){var s,o,d,S,C=p.high,I=p.low,H=C&1<<31?-1:1;for(d=((2146435072&C)>>20)-P,S=0,o=1<<19,s=1;s<=20;s++)C&o&&(S+=te(2,-s)),o>>>=1;for(o=1<<31,s=21;s<=52;s++)I&o&&(S+=te(2,-s)),o>>>=1;if(d===-1023){if(S===0)return 0*H;d=-1022}else{if(d===1024)return S===0?H/0:NaN;S+=1}return H*S*te(2,d)});var $=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({RuntimeException:s})[0],d}return x(s,p),g(s)})(V),ce=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,null,[{key:"constructor_",value:function(){if(arguments.length===0)$.constructor_.call(this);else if(arguments.length===1){var o=arguments[0];$.constructor_.call(this,o)}}}])})($),pe=(function(){function p(){r(this,p)}return g(p,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)p.shouldNeverReachHere(null);else if(arguments.length===1){var s=arguments[0];throw new ce("Should never reach here"+(s!==null?": "+s:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var s=arguments[0];p.isTrue(s,null)}else if(arguments.length===2){var o=arguments[1];if(!arguments[0])throw o===null?new ce:new ce(o)}}},{key:"equals",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];p.equals(s,o,null)}else if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2];if(!S.equals(d))throw new ce("Expected "+d+" but encountered "+S+(C!==null?": "+C:""))}}}])})(),ge=new ArrayBuffer(8),Se=new Float64Array(ge),De=new Int32Array(ge),he=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getM",value:function(){return Q.NaN}},{key:"setOrdinate",value:function(s,o){switch(s){case p.X:this.x=o;break;case p.Y:this.y=o;break;case p.Z:this.setZ(o);break;default:throw new W("Invalid ordinate index: "+s)}}},{key:"equals2D",value:function(){if(arguments.length===1){var s=arguments[0];return this.x===s.x&&this.y===s.y}if(arguments.length===2){var o=arguments[0],d=arguments[1];return!!z.equalsWithTolerance(this.x,o.x,d)&&!!z.equalsWithTolerance(this.y,o.y,d)}}},{key:"setM",value:function(s){throw new W("Invalid ordinate index: "+p.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(s){switch(s){case p.X:return this.x;case p.Y:return this.y;case p.Z:return this.getZ()}throw new W("Invalid ordinate index: "+s)}},{key:"equals3D",value:function(s){return this.x===s.x&&this.y===s.y&&(this.getZ()===s.getZ()||Q.isNaN(this.getZ())&&Q.isNaN(s.getZ()))}},{key:"equals",value:function(s){return s instanceof p&&this.equals2D(s)}},{key:"equalInZ",value:function(s,o){return z.equalsWithTolerance(this.getZ(),s.getZ(),o)}},{key:"setX",value:function(s){this.x=s}},{key:"compareTo",value:function(s){var o=s;return this.x<o.x?-1:this.x>o.x?1:this.y<o.y?-1:this.y>o.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(s){this.z=s}},{key:"clone",value:function(){try{return null}catch(s){if(s instanceof CloneNotSupportedException)return pe.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw s}}},{key:"copy",value:function(){return new p(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(s){var o=this.x-s.x,d=this.y-s.y,S=this.getZ()-s.getZ();return Math.sqrt(o*o+d*d+S*S)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(s){this.y=s}},{key:"distance",value:function(s){var o=this.x-s.x,d=this.y-s.y;return Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var s=17;return s=37*(s=37*s+p.hashCode(this.x))+p.hashCode(this.y)}},{key:"setCoordinate",value:function(s){this.x=s.x,this.y=s.y,this.z=s.getZ()}},{key:"interfaces_",get:function(){return[ee,k,M]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)p.constructor_.call(this,0,0);else if(arguments.length===1){var s=arguments[0];p.constructor_.call(this,s.x,s.y,s.getZ())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];p.constructor_.call(this,o,d,p.NULL_ORDINATE)}else if(arguments.length===3){var S=arguments[0],C=arguments[1],I=arguments[2];this.x=S,this.y=C,this.z=I}}},{key:"hashCode",value:function(s){return Se[0]=s,De[0]^De[1]}}])})(),Ie=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"compare",value:function(s,o){var d=p.compare(s.x,o.x);if(d!==0)return d;var S=p.compare(s.y,o.y);return S!==0?S:this._dimensionsToTest<=2?0:p.compare(s.getZ(),o.getZ())}},{key:"interfaces_",get:function(){return[Y]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)p.constructor_.call(this,2);else if(arguments.length===1){var s=arguments[0];if(s!==2&&s!==3)throw new W("only 2 or 3 dimensions may be specified");this._dimensionsToTest=s}}},{key:"compare",value:function(s,o){return s<o?-1:s>o?1:Q.isNaN(s)?Q.isNaN(o)?0:-1:Q.isNaN(o)?1:0}}])})();he.DimensionalComparator=Ie,he.NULL_ORDINATE=Q.NaN,he.X=0,he.Y=1,he.Z=2,he.M=3;var Me=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(s){if(!(s instanceof p))return!1;var o=s;return this.isNull()?o.isNull():this._maxx===o.getMaxX()&&this._maxy===o.getMaxY()&&this._minx===o.getMinX()&&this._miny===o.getMinY()}},{key:"intersection",value:function(s){if(this.isNull()||s.isNull()||!this.intersects(s))return new p;var o=this._minx>s._minx?this._minx:s._minx,d=this._miny>s._miny?this._miny:s._miny;return new p(o,this._maxx<s._maxx?this._maxx:s._maxx,d,this._maxy<s._maxy?this._maxy:s._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof he){var s=arguments[0];return this.covers(s.x,s.y)}if(arguments[0]instanceof p){var o=arguments[0];return!this.isNull()&&!o.isNull()&&o.getMinX()>=this._minx&&o.getMaxX()<=this._maxx&&o.getMinY()>=this._miny&&o.getMaxY()<=this._maxy}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];return!this.isNull()&&d>=this._minx&&d<=this._maxx&&S>=this._miny&&S<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return!this.isNull()&&!s.isNull()&&!(s._minx>this._maxx||s._maxx<this._minx||s._miny>this._maxy||s._maxy<this._miny)}if(arguments[0]instanceof he){var o=arguments[0];return this.intersects(o.x,o.y)}}else if(arguments.length===2){if(arguments[0]instanceof he&&arguments[1]instanceof he){var d=arguments[0],S=arguments[1];return!this.isNull()&&!((d.x<S.x?d.x:S.x)>this._maxx)&&!((d.x>S.x?d.x:S.x)<this._minx)&&!((d.y<S.y?d.y:S.y)>this._maxy)&&!((d.y>S.y?d.y:S.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var C=arguments[0],I=arguments[1];return!this.isNull()&&!(C>this._maxx||C<this._minx||I>this._maxy||I<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var s=this.getWidth(),o=this.getHeight();return Math.sqrt(s*s+o*o)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof he){var s=arguments[0];this.expandToInclude(s.x,s.y)}else if(arguments[0]instanceof p){var o=arguments[0];if(o.isNull())return null;this.isNull()?(this._minx=o.getMinX(),this._maxx=o.getMaxX(),this._miny=o.getMinY(),this._maxy=o.getMaxY()):(o._minx<this._minx&&(this._minx=o._minx),o._maxx>this._maxx&&(this._maxx=o._maxx),o._miny<this._miny&&(this._miny=o._miny),o._maxy>this._maxy&&(this._maxy=o._maxy))}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.isNull()?(this._minx=d,this._maxx=d,this._miny=S,this._maxy=S):(d<this._minx&&(this._minx=d),d>this._maxx&&(this._maxx=d),S<this._miny&&(this._miny=S),S>this._maxy&&(this._maxy=S))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var s=this.getWidth(),o=this.getHeight();return s<o?s:o}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(s){var o=s;return this.isNull()?o.isNull()?0:-1:o.isNull()?1:this._minx<o._minx?-1:this._minx>o._minx?1:this._miny<o._miny?-1:this._miny>o._miny?1:this._maxx<o._maxx?-1:this._maxx>o._maxx?1:this._maxy<o._maxy?-1:this._maxy>o._maxy?1:0}},{key:"translate",value:function(s,o){if(this.isNull())return null;this.init(this.getMinX()+s,this.getMaxX()+s,this.getMinY()+o,this.getMaxY()+o)}},{key:"copy",value:function(){return new p(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(s){return!(!this.isNull()&&!s.isNull())||s._minx>this._maxx||s._maxx<this._minx||s._miny>this._maxy||s._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var s=this.getWidth(),o=this.getHeight();return s>o?s:o}},{key:"expandBy",value:function(){if(arguments.length===1){var s=arguments[0];this.expandBy(s,s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];if(this.isNull())return null;this._minx-=o,this._maxx+=o,this._miny-=d,this._maxy+=d,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.covers(s)}if(arguments[0]instanceof he){var o=arguments[0];return this.covers(o)}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];return this.covers(d,S)}}},{key:"centre",value:function(){return this.isNull()?null:new he((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof he){var s=arguments[0];this.init(s.x,s.x,s.y,s.y)}else if(arguments[0]instanceof p){var o=arguments[0];this._minx=o._minx,this._maxx=o._maxx,this._miny=o._miny,this._maxy=o._maxy}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.init(d.x,S.x,d.y,S.y)}else if(arguments.length===4){var C=arguments[0],I=arguments[1],H=arguments[2],le=arguments[3];C<I?(this._minx=C,this._maxx=I):(this._minx=I,this._maxx=C),H<le?(this._miny=H,this._maxy=le):(this._miny=le,this._maxy=H)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(s){if(this.intersects(s))return 0;var o=0;this._maxx<s._minx?o=s._minx-this._maxx:this._minx>s._maxx&&(o=this._minx-s._maxx);var d=0;return this._maxy<s._miny?d=s._miny-this._maxy:this._miny>s._maxy&&(d=this._miny-s._maxy),o===0?d:d===0?o:Math.sqrt(o*o+d*d)}},{key:"hashCode",value:function(){var s=17;return s=37*(s=37*(s=37*(s=37*s+he.hashCode(this._minx))+he.hashCode(this._maxx))+he.hashCode(this._miny))+he.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[ee,M]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof he){var s=arguments[0];this.init(s.x,s.x,s.y,s.y)}else if(arguments[0]instanceof p){var o=arguments[0];this.init(o)}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.init(d.x,S.x,d.y,S.y)}else if(arguments.length===4){var C=arguments[0],I=arguments[1],H=arguments[2],le=arguments[3];this.init(C,I,H,le)}}},{key:"intersects",value:function(){if(arguments.length===3){var s=arguments[0],o=arguments[1],d=arguments[2];return d.x>=(s.x<o.x?s.x:o.x)&&d.x<=(s.x>o.x?s.x:o.x)&&d.y>=(s.y<o.y?s.y:o.y)&&d.y<=(s.y>o.y?s.y:o.y)}if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],H=arguments[3],le=Math.min(I.x,H.x),de=Math.max(I.x,H.x),ye=Math.min(S.x,C.x),be=Math.max(S.x,C.x);return!(ye>de)&&!(be<le)&&(le=Math.min(I.y,H.y),de=Math.max(I.y,H.y),ye=Math.min(S.y,C.y),be=Math.max(S.y,C.y),!(ye>de)&&!(be<le))}}}])})(),Ae=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===p.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(s){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(s){return this===s||this.equalsExact(s,0)}},{key:"geometryChanged",value:function(){this.apply(p.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(s){return s!==null&&this.norm().equalsExact(s.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var s;if(arguments.length===1){var o=arguments[0];return s=o,this.getTypeCode()!==s.getTypeCode()?this.getTypeCode()-s.getTypeCode():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(o)}if(arguments.length===2){var d=arguments[0],S=arguments[1];return s=d,this.getTypeCode()!==s.getTypeCode()?this.getTypeCode()-s.getTypeCode():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(d,S)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(s){if(s.getTypeCode()===p.TYPECODE_GEOMETRYCOLLECTION)throw new W("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(s,o,d){return d===0?s.equals(o):s.distance(o)<=d}},{key:"norm",value:function(){var s=this.copy();return s.normalize(),s}},{key:"reverse",value:function(){var s=this.reverseInternal();return this.envelope!=null&&(s.envelope=this.envelope.copy()),s.setSRID(this.getSRID()),s}},{key:"copy",value:function(){var s=this.copyInternal();return s.envelope=this._envelope==null?null:this._envelope.copy(),s._SRID=this._SRID,s._userData=this._userData,s}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Me(this._envelope)}},{key:"setSRID",value:function(s){this._SRID=s}},{key:"setUserData",value:function(s){this._userData=s}},{key:"compare",value:function(s,o){for(var d=s.iterator(),S=o.iterator();d.hasNext()&&S.hasNext();){var C=d.next(),I=S.next(),H=C.compareTo(I);if(H!==0)return H}return d.hasNext()?1:S.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(s){return this.getClass()===s.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===p.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===p.TYPECODE_MULTIPOINT||this.getTypeCode()===p.TYPECODE_MULTILINESTRING||this.getTypeCode()===p.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[k,ee,M]}},{key:"getClass",value:function(){return p}}],[{key:"hasNonEmptyElements",value:function(s){for(var o=0;o<s.length;o++)if(!s[o].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(s){for(var o=0;o<s.length;o++)if(s[o]===null)return!0;return!1}}])})();Ae.constructor_=function(p){p&&(this._envelope=null,this._userData=null,this._factory=p,this._SRID=p.getSRID())},Ae.TYPECODE_POINT=0,Ae.TYPECODE_MULTIPOINT=1,Ae.TYPECODE_LINESTRING=2,Ae.TYPECODE_LINEARRING=3,Ae.TYPECODE_MULTILINESTRING=4,Ae.TYPECODE_POLYGON=5,Ae.TYPECODE_MULTIPOLYGON=6,Ae.TYPECODE_GEOMETRYCOLLECTION=7,Ae.TYPENAME_POINT="Point",Ae.TYPENAME_MULTIPOINT="MultiPoint",Ae.TYPENAME_LINESTRING="LineString",Ae.TYPENAME_LINEARRING="LinearRing",Ae.TYPENAME_MULTILINESTRING="MultiLineString",Ae.TYPENAME_POLYGON="Polygon",Ae.TYPENAME_MULTIPOLYGON="MultiPolygon",Ae.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",Ae.geometryChangedFilter={get interfaces_(){return[K]},filter:function(p){p.geometryChangedAction()}};var fe=(function(){function p(){r(this,p)}return g(p,null,[{key:"toLocationSymbol",value:function(s){switch(s){case p.EXTERIOR:return"e";case p.BOUNDARY:return"b";case p.INTERIOR:return"i";case p.NONE:return"-"}throw new W("Unknown location value: "+s)}}])})();fe.INTERIOR=0,fe.BOUNDARY=1,fe.EXTERIOR=2,fe.NONE=-1;var Xe=(function(){return g((function p(){r(this,p)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),Ze=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({NoSuchElementException:s})[0],d}return x(s,p),g(s)})(V),Fe=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({UnsupportedOperationException:s})[0],d}return x(s,p),g(s)})(V),Ue=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s,[{key:"contains",value:function(){}}])})(Xe),wt=(function(p){function s(o){var d;return r(this,s),(d=l(this,s)).map=new Map,o instanceof Xe&&d.addAll(o),d}return x(s,p),g(s,[{key:"contains",value:function(o){var d=o.hashCode?o.hashCode():o;return!!this.map.has(d)}},{key:"add",value:function(o){var d=o.hashCode?o.hashCode():o;return!this.map.has(d)&&!!this.map.set(d,o)}},{key:"addAll",value:function(o){var d,S=y(o);try{for(S.s();!(d=S.n()).done;){var C=d.value;this.add(C)}}catch(I){S.e(I)}finally{S.f()}return!0}},{key:"remove",value:function(){throw new Fe}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new ht(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(Ue),ht=(function(){return g((function p(s){r(this,p),this.iterator=s.values();var o=this.iterator.next(),d=o.done,S=o.value;this.done=d,this.value=S}),[{key:"next",value:function(){if(this.done)throw new Ze;var p=this.value,s=this.iterator.next(),o=s.done,d=s.value;return this.done=o,this.value=d,p}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new Fe}}])})(),Oe=(function(){function p(){r(this,p)}return g(p,null,[{key:"opposite",value:function(s){return s===p.LEFT?p.RIGHT:s===p.RIGHT?p.LEFT:s}}])})();Oe.ON=0,Oe.LEFT=1,Oe.RIGHT=2;var Jt=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({EmptyStackException:s})[0],d}return x(s,p),g(s)})(V),ei=(function(p){function s(o){var d;return r(this,s),(d=l(this,s,[o])).name=Object.keys({IndexOutOfBoundsException:s})[0],d}return x(s,p),g(s)})(V),gn=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(Xe),Ui=(function(p){function s(){var o;return r(this,s),(o=l(this,s)).array=[],o}return x(s,p),g(s,[{key:"add",value:function(o){return this.array.push(o),!0}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new ei;return this.array[o]}},{key:"push",value:function(o){return this.array.push(o),o}},{key:"pop",value:function(){if(this.array.length===0)throw new Jt;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Jt;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(o){return this.array.indexOf(o)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(gn);function He(p,s){return p.interfaces_&&p.interfaces_.indexOf(s)>-1}var Tn=(function(){return g((function p(s){r(this,p),this.str=s}),[{key:"append",value:function(p){this.str+=p}},{key:"setCharAt",value:function(p,s){this.str=this.str.substr(0,p)+s+this.str.substr(p+1)}},{key:"toString",value:function(){return this.str}}])})(),It=(function(){function p(s){r(this,p),this.value=s}return g(p,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(s){return this.value<s?-1:this.value>s?1:0}}],[{key:"compare",value:function(s,o){return s<o?-1:s>o?1:0}},{key:"isNan",value:function(s){return Number.isNaN(s)}},{key:"valueOf",value:function(s){return new p(s)}}])})(),yn=(function(){return g((function p(){r(this,p)}),null,[{key:"isWhitespace",value:function(p){return p<=32&&p>=0||p===127}},{key:"toUpperCase",value:function(p){return p.toUpperCase()}}])})(),Je=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"le",value:function(s){return this._hi<s._hi||this._hi===s._hi&&this._lo<=s._lo}},{key:"extractSignificantDigits",value:function(s,o){var d=this.abs(),S=p.magnitude(d._hi),C=p.TEN.pow(S);(d=d.divide(C)).gt(p.TEN)?(d=d.divide(p.TEN),S+=1):d.lt(p.ONE)&&(d=d.multiply(p.TEN),S-=1);for(var I=S+1,H=new Tn,le=p.MAX_PRINT_DIGITS-1,de=0;de<=le;de++){s&&de===I&&H.append(".");var ye=Math.trunc(d._hi);if(ye<0)break;var be=!1,ze=0;ye>9?(be=!0,ze="9"):ze="0"+ye,H.append(ze),d=d.subtract(p.valueOf(ye)).multiply(p.TEN),be&&d.selfAdd(p.TEN);var Ge=!0,Ve=p.magnitude(d._hi);if(Ve<0&&Math.abs(Ve)>=le-de&&(Ge=!1),!Ge)break}return o[0]=S,H.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return this.add(s.negate())}if(typeof arguments[0]=="number"){var o=arguments[0];return this.add(-o)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof p){var s=arguments[0];return this._hi===s._hi&&this._lo===s._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return this.isNaN()?this:this.selfAdd(-s._hi,-s._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.isNaN()?this:this.selfAdd(-o,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(s){return this.le(s)?this:s}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.selfDivide(s._hi,s._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfDivide(o,0)}}else if(arguments.length===2){var d,S,C,I,H=arguments[0],le=arguments[1],de=null,ye=null,be=null,ze=null;return C=this._hi/H,ze=(de=(be=p.SPLIT*C)-(de=be-C))*(ye=(ze=p.SPLIT*H)-(ye=ze-H))-(I=C*H)+de*(S=H-ye)+(d=C-de)*ye+d*S,ze=C+(be=(this._hi-I-ze+this._lo-C*le)/H),this._hi=ze,this._lo=C-ze+be,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof p){var s,o,d,S,C=arguments[0],I=null,H=null,le=null,de=null;return s=(d=this._hi/C._hi)-(I=(le=p.SPLIT*d)-(I=le-d)),de=I*(H=(de=p.SPLIT*C._hi)-(H=de-C._hi))-(S=d*C._hi)+I*(o=C._hi-H)+s*H+s*o,new p(de=d+(le=(this._hi-S-de+this._lo-d*C._lo)/C._hi),d-de+le)}if(typeof arguments[0]=="number"){var ye=arguments[0];return Q.isNaN(ye)?p.createNaN():p.copy(this).selfDivide(ye,0)}}},{key:"ge",value:function(s){return this._hi>s._hi||this._hi===s._hi&&this._lo>=s._lo}},{key:"pow",value:function(s){if(s===0)return p.valueOf(1);var o=new p(this),d=p.valueOf(1),S=Math.abs(s);if(S>1)for(;S>0;)S%2==1&&d.selfMultiply(o),(S/=2)>0&&(o=o.sqr());else d=o;return s<0?d.reciprocal():d}},{key:"ceil",value:function(){if(this.isNaN())return p.NaN;var s=Math.ceil(this._hi),o=0;return s===this._hi&&(o=Math.ceil(this._lo)),new p(s,o)}},{key:"compareTo",value:function(s){var o=s;return this._hi<o._hi?-1:this._hi>o._hi?1:this._lo<o._lo?-1:this._lo>o._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return this.init(s),this}if(typeof arguments[0]=="number"){var o=arguments[0];return this.init(o),this}}},{key:"max",value:function(s){return this.ge(s)?this:s}},{key:"sqrt",value:function(){if(this.isZero())return p.valueOf(0);if(this.isNegative())return p.NaN;var s=1/Math.sqrt(this._hi),o=this._hi*s,d=p.valueOf(o),S=this.subtract(d.sqr())._hi*(.5*s);return d.add(S)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.selfAdd(s._hi,s._lo)}if(typeof arguments[0]=="number"){var o,d,S,C,I,H=arguments[0],le=null;return le=(S=this._hi+H)-(C=S-this._hi),d=(I=(le=H-C+(this._hi-le))+this._lo)+(S-(o=S+I)),this._hi=o+d,this._lo=d+(o-this._hi),this}}else if(arguments.length===2){var de,ye,be,ze,Ge=arguments[0],Ve=arguments[1],tt=null,Ct=null,gt=null;be=this._hi+Ge,ye=this._lo+Ve,Ct=be-(gt=be-this._hi),tt=ye-(ze=ye-this._lo);var Yt=(de=be+(gt=(Ct=Ge-gt+(this._hi-Ct))+ye))+(gt=(tt=Ve-ze+(this._lo-tt))+(gt+(be-de))),an=gt+(de-Yt);return this._hi=Yt,this._lo=an,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof p){var s=arguments[0];return this.selfMultiply(s._hi,s._lo)}if(typeof arguments[0]=="number"){var o=arguments[0];return this.selfMultiply(o,0)}}else if(arguments.length===2){var d,S,C=arguments[0],I=arguments[1],H=null,le=null,de=null,ye=null;H=(de=p.SPLIT*this._hi)-this._hi,ye=p.SPLIT*C,H=de-H,d=this._hi-H,le=ye-C;var be=(de=this._hi*C)+(ye=H*(le=ye-le)-de+H*(S=C-le)+d*le+d*S+(this._hi*I+this._lo*C)),ze=ye+(H=de-be);return this._hi=be,this._lo=ze,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return p.NaN;var s=Math.floor(this._hi),o=0;return s===this._hi&&(o=Math.floor(this._lo)),new p(s,o)}},{key:"negate",value:function(){return this.isNaN()?this:new p(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(s){if(s instanceof CloneNotSupportedException)return null;throw s}}},{key:"multiply",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return s.isNaN()?p.createNaN():p.copy(this).selfMultiply(s)}if(typeof arguments[0]=="number"){var o=arguments[0];return Q.isNaN(o)?p.createNaN():p.copy(this).selfMultiply(o,0)}}},{key:"isNaN",value:function(){return Q.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var s=p.magnitude(this._hi);return s>=-3&&s<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var s=this.getSpecialNumberString();if(s!==null)return s;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!0,o),S=o[0]+1,C=d;if(d.charAt(0)===".")C="0"+d;else if(S<0)C="0."+p.stringOfChar("0",-S)+d;else if(d.indexOf(".")===-1){var I=S-d.length;C=d+p.stringOfChar("0",I)+".0"}return this.isNegative()?"-"+C:C}},{key:"reciprocal",value:function(){var s,o,d,S,C=null,I=null,H=null,le=null;s=(d=1/this._hi)-(C=(H=p.SPLIT*d)-(C=H-d)),I=(le=p.SPLIT*this._hi)-this._hi;var de=d+(H=(1-(S=d*this._hi)-(le=C*(I=le-I)-S+C*(o=this._hi-I)+s*I+s*o)-d*this._lo)/this._hi);return new p(de,d-de+H)}},{key:"toSciNotation",value:function(){if(this.isZero())return p.SCI_NOT_ZERO;var s=this.getSpecialNumberString();if(s!==null)return s;var o=new Array(1).fill(null),d=this.extractSignificantDigits(!1,o),S=p.SCI_NOT_EXPONENT_CHAR+o[0];if(d.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+d);var C="";d.length>1&&(C=d.substring(1));var I=d.charAt(0)+"."+C;return this.isNegative()?"-"+I+S:I+S}},{key:"abs",value:function(){return this.isNaN()?p.NaN:this.isNegative()?this.negate():new p(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(s){return this._hi<s._hi||this._hi===s._hi&&this._lo<s._lo}},{key:"add",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return p.copy(this).selfAdd(s)}if(typeof arguments[0]=="number"){var o=arguments[0];return p.copy(this).selfAdd(o)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var s=arguments[0];this._hi=s,this._lo=0}else if(arguments[0]instanceof p){var o=arguments[0];this._hi=o._hi,this._lo=o._lo}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this._hi=d,this._lo=S}}},{key:"gt",value:function(s){return this._hi>s._hi||this._hi===s._hi&&this._lo>s._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?p.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[M,ee,k]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var s=arguments[0];this.init(s)}else if(arguments[0]instanceof p){var o=arguments[0];this.init(o)}else if(typeof arguments[0]=="string"){var d=arguments[0];p.constructor_.call(this,p.parse(d))}}else if(arguments.length===2){var S=arguments[0],C=arguments[1];this.init(S,C)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1],d=arguments[2],S=arguments[3];return p.determinant(p.valueOf(s),p.valueOf(o),p.valueOf(d),p.valueOf(S))}if(arguments[3]instanceof p&&arguments[2]instanceof p&&arguments[0]instanceof p&&arguments[1]instanceof p){var C=arguments[1],I=arguments[2],H=arguments[3];return arguments[0].multiply(H).selfSubtract(C.multiply(I))}}},{key:"sqr",value:function(s){return p.valueOf(s).selfMultiply(s)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var s=arguments[0];return p.parse(s)}if(typeof arguments[0]=="number")return new p(arguments[0])}},{key:"sqrt",value:function(s){return p.valueOf(s).sqrt()}},{key:"parse",value:function(s){for(var o=0,d=s.length;yn.isWhitespace(s.charAt(o));)o++;var S=!1;if(o<d){var C=s.charAt(o);C!=="-"&&C!=="+"||(o++,C==="-"&&(S=!0))}for(var I=new p,H=0,le=0,de=0,ye=!1;!(o>=d);){var be=s.charAt(o);if(o++,yn.isDigit(be)){var ze=be-"0";I.selfMultiply(p.TEN),I.selfAdd(ze),H++}else{if(be!=="."){if(be==="e"||be==="E"){var Ge=s.substring(o);try{de=It.parseInt(Ge)}catch(Yt){throw Yt instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Ge+" in string "+s):Yt}break}throw new NumberFormatException("Unexpected character '"+be+"' at position "+o+" in string "+s)}le=H,ye=!0}}var Ve=I;ye||(le=H);var tt=H-le-de;if(tt===0)Ve=I;else if(tt>0){var Ct=p.TEN.pow(tt);Ve=I.divide(Ct)}else if(tt<0){var gt=p.TEN.pow(-tt);Ve=I.multiply(gt)}return S?Ve.negate():Ve}},{key:"createNaN",value:function(){return new p(Q.NaN,Q.NaN)}},{key:"copy",value:function(s){return new p(s)}},{key:"magnitude",value:function(s){var o=Math.abs(s),d=Math.log(o)/Math.log(10),S=Math.trunc(Math.floor(d));return 10*Math.pow(10,S)<=o&&(S+=1),S}},{key:"stringOfChar",value:function(s,o){for(var d=new Tn,S=0;S<o;S++)d.append(s);return d.toString()}}])})();Je.PI=new Je(3.141592653589793,12246467991473532e-32),Je.TWO_PI=new Je(6.283185307179586,24492935982947064e-32),Je.PI_2=new Je(1.5707963267948966,6123233995736766e-32),Je.E=new Je(2.718281828459045,14456468917292502e-32),Je.NaN=new Je(Q.NaN,Q.NaN),Je.EPS=123259516440783e-46,Je.SPLIT=134217729,Je.MAX_PRINT_DIGITS=32,Je.TEN=Je.valueOf(10),Je.ONE=Je.valueOf(1),Je.SCI_NOT_EXPONENT_CHAR="E",Je.SCI_NOT_ZERO="0.0E0";var Jr=(function(){function p(){r(this,p)}return g(p,null,[{key:"orientationIndex",value:function(s,o,d){var S=p.orientationIndexFilter(s,o,d);if(S<=1)return S;var C=Je.valueOf(o.x).selfAdd(-s.x),I=Je.valueOf(o.y).selfAdd(-s.y),H=Je.valueOf(d.x).selfAdd(-o.x),le=Je.valueOf(d.y).selfAdd(-o.y);return C.selfMultiply(le).selfSubtract(I.selfMultiply(H)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Je&&arguments[2]instanceof Je&&arguments[0]instanceof Je&&arguments[1]instanceof Je){var s=arguments[1],o=arguments[2],d=arguments[3];return arguments[0].multiply(d).selfSubtract(s.multiply(o)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var S=arguments[0],C=arguments[1],I=arguments[2],H=arguments[3],le=Je.valueOf(S),de=Je.valueOf(C),ye=Je.valueOf(I),be=Je.valueOf(H);return le.multiply(be).selfSubtract(de.multiply(ye)).signum()}}},{key:"intersection",value:function(s,o,d,S){var C=new Je(s.y).selfSubtract(o.y),I=new Je(o.x).selfSubtract(s.x),H=new Je(s.x).selfMultiply(o.y).selfSubtract(new Je(o.x).selfMultiply(s.y)),le=new Je(d.y).selfSubtract(S.y),de=new Je(S.x).selfSubtract(d.x),ye=new Je(d.x).selfMultiply(S.y).selfSubtract(new Je(S.x).selfMultiply(d.y)),be=I.multiply(ye).selfSubtract(de.multiply(H)),ze=le.multiply(H).selfSubtract(C.multiply(ye)),Ge=C.multiply(de).selfSubtract(le.multiply(I)),Ve=be.selfDivide(Ge).doubleValue(),tt=ze.selfDivide(Ge).doubleValue();return Q.isNaN(Ve)||Q.isInfinite(Ve)||Q.isNaN(tt)||Q.isInfinite(tt)?null:new he(Ve,tt)}},{key:"orientationIndexFilter",value:function(s,o,d){var S=null,C=(s.x-d.x)*(o.y-d.y),I=(s.y-d.y)*(o.x-d.x),H=C-I;if(C>0){if(I<=0)return p.signum(H);S=C+I}else{if(!(C<0)||I>=0)return p.signum(H);S=-C-I}var le=p.DP_SAFE_EPSILON*S;return H>=le||-H>=le?p.signum(H):2}},{key:"signum",value:function(s){return s>0?1:s<0?-1:0}}])})();Jr.DP_SAFE_EPSILON=1e-15;var _t=(function(){return g((function p(){r(this,p)}),[{key:"getM",value:function(p){if(this.hasM()){var s=this.getDimension()-this.getMeasures();return this.getOrdinate(p,s)}return Q.NaN}},{key:"setOrdinate",value:function(p,s,o){}},{key:"getZ",value:function(p){return this.hasZ()?this.getOrdinate(p,2):Q.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(p,s){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(p){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(p){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(p){}},{key:"copy",value:function(){}},{key:"getY",value:function(p){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[k]}}])})();_t.X=0,_t.Y=1,_t.Z=2,_t.M=3;var it=(function(){function p(){r(this,p)}return g(p,null,[{key:"index",value:function(s,o,d){return Jr.orientationIndex(s,o,d)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var s=arguments[0],o=s.length-1;if(o<3)throw new W("Ring has fewer than 4 points, so orientation cannot be determined");for(var d=s[0],S=0,C=1;C<=o;C++){var I=s[C];I.y>d.y&&(d=I,S=C)}var H=S;do(H-=1)<0&&(H=o);while(s[H].equals2D(d)&&H!==S);var le=S;do le=(le+1)%o;while(s[le].equals2D(d)&&le!==S);var de=s[H],ye=s[le];if(de.equals2D(d)||ye.equals2D(d)||de.equals2D(ye))return!1;var be=p.index(de,d,ye);return be===0?de.x>ye.x:be>0}if(He(arguments[0],_t)){var ze=arguments[0],Ge=ze.size()-1;if(Ge<3)throw new W("Ring has fewer than 4 points, so orientation cannot be determined");for(var Ve=ze.getCoordinate(0),tt=0,Ct=1;Ct<=Ge;Ct++){var gt=ze.getCoordinate(Ct);gt.y>Ve.y&&(Ve=gt,tt=Ct)}var Yt=null,an=tt;do(an-=1)<0&&(an=Ge),Yt=ze.getCoordinate(an);while(Yt.equals2D(Ve)&&an!==tt);var Wt=null,Pi=tt;do Pi=(Pi+1)%Ge,Wt=ze.getCoordinate(Pi);while(Wt.equals2D(Ve)&&Pi!==tt);if(Yt.equals2D(Ve)||Wt.equals2D(Ve)||Yt.equals2D(Wt))return!1;var Hn=p.index(Yt,Ve,Wt);return Hn===0?Yt.x>Wt.x:Hn>0}}}])})();it.CLOCKWISE=-1,it.RIGHT=it.CLOCKWISE,it.COUNTERCLOCKWISE=1,it.LEFT=it.COUNTERCLOCKWISE,it.COLLINEAR=0,it.STRAIGHT=it.COLLINEAR;var xi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(p,s){var o=this.getRightmostSideOfSegment(p,s);return o<0&&(o=this.getRightmostSideOfSegment(p,s-1)),o<0&&(this._minCoord=null,this.checkForRightmostCoordinate(p)),o}},{key:"findRightmostEdgeAtVertex",value:function(){var p=this._minDe.getEdge().getCoordinates();pe.isTrue(this._minIndex>0&&this._minIndex<p.length,"rightmost point expected to be interior vertex of edge");var s=p[this._minIndex-1],o=p[this._minIndex+1],d=it.index(this._minCoord,o,s),S=!1;(s.y<this._minCoord.y&&o.y<this._minCoord.y&&d===it.COUNTERCLOCKWISE||s.y>this._minCoord.y&&o.y>this._minCoord.y&&d===it.CLOCKWISE)&&(S=!0),S&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(p,s){var o=p.getEdge().getCoordinates();if(s<0||s+1>=o.length||o[s].y===o[s+1].y)return-1;var d=Oe.LEFT;return o[s].y<o[s+1].y&&(d=Oe.RIGHT),d}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(p){for(var s=p.getEdge().getCoordinates(),o=0;o<s.length-1;o++)(this._minCoord===null||s[o].x>this._minCoord.x)&&(this._minDe=p,this._minIndex=o,this._minCoord=s[o])}},{key:"findRightmostEdgeAtNode",value:function(){var p=this._minDe.getNode().getEdges();this._minDe=p.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(p){for(var s=p.iterator();s.hasNext();){var o=s.next();o.isForward()&&this.checkForRightmostCoordinate(o)}pe.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Oe.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),vn=(function(p){function s(o,d){var S;return r(this,s),(S=l(this,s,[d?o+" [ "+d+" ]":o])).pt=d?new he(d):void 0,S.name=Object.keys({TopologyException:s})[0],S}return x(s,p),g(s,[{key:"getCoordinate",value:function(){return this.pt}}])})($),Nn=(function(){return g((function p(){r(this,p),this.array=[]}),[{key:"addLast",value:function(p){this.array.push(p)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),$e=(function(p){function s(o){var d;return r(this,s),(d=l(this,s)).array=[],o instanceof Xe&&d.addAll(o),d}return x(s,p),g(s,[{key:"interfaces_",get:function(){return[gn,Xe]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(o){return arguments.length===1?this.array.push(o):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(o){var d,S=y(o);try{for(S.s();!(d=S.n()).done;){var C=d.value;this.array.push(C)}}catch(I){S.e(I)}finally{S.f()}}},{key:"set",value:function(o,d){var S=this.array[o];return this.array[o]=d,S}},{key:"iterator",value:function(){return new di(this)}},{key:"get",value:function(o){if(o<0||o>=this.size())throw new ei;return this.array[o]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(o){o?this.array.sort((function(d,S){return o.compare(d,S)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(o){for(var d=0,S=this.array.length;d<S;d++)if(this.array[d]===o)return!!this.array.splice(d,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(gn),di=(function(){return g((function p(s){r(this,p),this.arrayList=s,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new Ze;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(p){return this.arrayList.set(this.position-1,p)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),Fa=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var p=this._dirEdgeList.iterator();p.hasNext();)p.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(p){for(var s=null,o=p.getEdges().iterator();o.hasNext();){var d=o.next();if(d.isVisited()||d.getSym().isVisited()){s=d;break}}if(s===null)throw new vn("unable to find edge to compute depths at "+p.getCoordinate());p.getEdges().computeDepths(s);for(var S=p.getEdges().iterator();S.hasNext();){var C=S.next();C.setVisited(!0),this.copySymDepths(C)}}},{key:"computeDepth",value:function(p){this.clearVisitedEdges();var s=this._finder.getEdge();s.getNode(),s.getLabel(),s.setEdgeDepths(Oe.RIGHT,p),this.copySymDepths(s),this.computeDepths(s)}},{key:"create",value:function(p){this.addReachable(p),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var p=this._dirEdgeList.iterator();p.hasNext();){var s=p.next();s.getDepth(Oe.RIGHT)>=1&&s.getDepth(Oe.LEFT)<=0&&!s.isInteriorAreaEdge()&&s.setInResult(!0)}}},{key:"computeDepths",value:function(p){var s=new wt,o=new Nn,d=p.getNode();for(o.addLast(d),s.add(d),p.setVisited(!0);!o.isEmpty();){var S=o.removeFirst();s.add(S),this.computeNodeDepth(S);for(var C=S.getEdges().iterator();C.hasNext();){var I=C.next().getSym();if(!I.isVisited()){var H=I.getNode();s.contains(H)||(o.addLast(H),s.add(H))}}}}},{key:"compareTo",value:function(p){var s=p;return this._rightMostCoord.x<s._rightMostCoord.x?-1:this._rightMostCoord.x>s._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var p=new Me,s=this._dirEdgeList.iterator();s.hasNext();)for(var o=s.next().getEdge().getCoordinates(),d=0;d<o.length-1;d++)p.expandToInclude(o[d]);this._env=p}return this._env}},{key:"addReachable",value:function(p){var s=new Ui;for(s.add(p);!s.empty();){var o=s.pop();this.add(o,s)}}},{key:"copySymDepths",value:function(p){var s=p.getSym();s.setDepth(Oe.LEFT,p.getDepth(Oe.RIGHT)),s.setDepth(Oe.RIGHT,p.getDepth(Oe.LEFT))}},{key:"add",value:function(p,s){p.setVisited(!0),this._nodes.add(p);for(var o=p.getEdges().iterator();o.hasNext();){var d=o.next();this._dirEdgeList.add(d);var S=d.getSym().getNode();S.isVisited()||s.push(S)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new $e,this._nodes=new $e,this._rightMostCoord=null,this._env=null,this._finder=new xi}}])})(),fo=(function(){return g((function p(){r(this,p)}),null,[{key:"intersection",value:function(p,s,o,d){var S=p.x<s.x?p.x:s.x,C=p.y<s.y?p.y:s.y,I=p.x>s.x?p.x:s.x,H=p.y>s.y?p.y:s.y,le=o.x<d.x?o.x:d.x,de=o.y<d.y?o.y:d.y,ye=o.x>d.x?o.x:d.x,be=o.y>d.y?o.y:d.y,ze=((S>le?S:le)+(I<ye?I:ye))/2,Ge=((C>de?C:de)+(H<be?H:be))/2,Ve=p.x-ze,tt=p.y-Ge,Ct=s.x-ze,gt=s.y-Ge,Yt=o.x-ze,an=o.y-Ge,Wt=d.x-ze,Pi=d.y-Ge,Hn=tt-gt,ri=Ct-Ve,es=Ve*gt-Ct*tt,Ta=an-Pi,xr=Wt-Yt,Bs=Yt*Pi-Wt*an,Bi=Hn*xr-Ta*ri,Fr=(ri*Bs-xr*es)/Bi,aa=(Ta*es-Hn*Bs)/Bi;return Q.isNaN(Fr)||Q.isInfinite(Fr)||Q.isNaN(aa)||Q.isInfinite(aa)?null:new he(Fr+ze,aa+Ge)}}])})(),Ei=(function(){return g((function p(){r(this,p)}),null,[{key:"arraycopy",value:function(p,s,o,d,S){for(var C=0,I=s;I<s+S;I++)o[d+C]=p[I],C++}},{key:"getProperty",value:function(p){return{"line.separator":`
`}[p]}}])})(),hr=(function(){function p(){r(this,p)}return g(p,null,[{key:"log10",value:function(s){var o=Math.log(s);return Q.isInfinite(o)||Q.isNaN(o)?o:o/p.LOG_10}},{key:"min",value:function(s,o,d,S){var C=s;return o<C&&(C=o),d<C&&(C=d),S<C&&(C=S),C}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1],d=arguments[2];return s<o?o:s>d?d:s}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],C=arguments[1],I=arguments[2];return S<C?C:S>I?I:S}}},{key:"wrap",value:function(s,o){return s<0?o- -s%o:s%o}},{key:"max",value:function(){if(arguments.length===3){var s=arguments[1],o=arguments[2],d=arguments[0];return s>d&&(d=s),o>d&&(d=o),d}if(arguments.length===4){var S=arguments[1],C=arguments[2],I=arguments[3],H=arguments[0];return S>H&&(H=S),C>H&&(H=C),I>H&&(H=I),H}}},{key:"average",value:function(s,o){return(s+o)/2}}])})();hr.LOG_10=Math.log(10);var li=(function(){function p(){r(this,p)}return g(p,null,[{key:"segmentToSegment",value:function(s,o,d,S){if(s.equals(o))return p.pointToSegment(s,d,S);if(d.equals(S))return p.pointToSegment(S,s,o);var C=!1;if(Me.intersects(s,o,d,S)){var I=(o.x-s.x)*(S.y-d.y)-(o.y-s.y)*(S.x-d.x);if(I===0)C=!0;else{var H=(s.y-d.y)*(S.x-d.x)-(s.x-d.x)*(S.y-d.y),le=((s.y-d.y)*(o.x-s.x)-(s.x-d.x)*(o.y-s.y))/I,de=H/I;(de<0||de>1||le<0||le>1)&&(C=!0)}}else C=!0;return C?hr.min(p.pointToSegment(s,d,S),p.pointToSegment(o,d,S),p.pointToSegment(d,s,o),p.pointToSegment(S,s,o)):0}},{key:"pointToSegment",value:function(s,o,d){if(o.x===d.x&&o.y===d.y)return s.distance(o);var S=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),C=((s.x-o.x)*(d.x-o.x)+(s.y-o.y)*(d.y-o.y))/S;if(C<=0)return s.distance(o);if(C>=1)return s.distance(d);var I=((o.y-s.y)*(d.x-o.x)-(o.x-s.x)*(d.y-o.y))/S;return Math.abs(I)*Math.sqrt(S)}},{key:"pointToLinePerpendicular",value:function(s,o,d){var S=(d.x-o.x)*(d.x-o.x)+(d.y-o.y)*(d.y-o.y),C=((o.y-s.y)*(d.x-o.x)-(o.x-s.x)*(d.y-o.y))/S;return Math.abs(C)*Math.sqrt(S)}},{key:"pointToSegmentString",value:function(s,o){if(o.length===0)throw new W("Line array must contain at least one vertex");for(var d=s.distance(o[0]),S=0;S<o.length-1;S++){var C=p.pointToSegment(s,o[S],o[S+1]);C<d&&(d=C)}return d}}])})(),ha=(function(){return g((function p(){r(this,p)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||He(arguments[0],_t);else if(arguments.length!==2){if(arguments.length===3){var p=arguments[0],s=arguments[1];return this.create(p,s)}}}}])})(),Yi=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p){}}])})(),bs=(function(){return g((function p(){r(this,p)}),null,[{key:"ofLine",value:function(p){var s=p.size();if(s<=1)return 0;var o=0,d=new he;p.getCoordinate(0,d);for(var S=d.x,C=d.y,I=1;I<s;I++){p.getCoordinate(I,d);var H=d.x,le=d.y,de=H-S,ye=le-C;o+=Math.sqrt(de*de+ye*ye),S=H,C=le}return o}}])})(),fa=g((function p(){r(this,p)})),Vr=(function(){function p(){r(this,p)}return g(p,null,[{key:"copyCoord",value:function(s,o,d,S){for(var C=Math.min(s.getDimension(),d.getDimension()),I=0;I<C;I++)d.setOrdinate(S,I,s.getOrdinate(o,I))}},{key:"isRing",value:function(s){var o=s.size();return o===0||!(o<=3)&&s.getOrdinate(0,_t.X)===s.getOrdinate(o-1,_t.X)&&s.getOrdinate(0,_t.Y)===s.getOrdinate(o-1,_t.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(He(arguments[0],_t)&&Number.isInteger(arguments[1])){var s=arguments[0],o=arguments[1];p.scroll(s,o,p.isRing(s))}else if(He(arguments[0],_t)&&arguments[1]instanceof he){var d=arguments[0],S=arguments[1],C=p.indexOf(S,d);if(C<=0)return null;p.scroll(d,C)}}else if(arguments.length===3){var I=arguments[0],H=arguments[1],le=arguments[2];if(H<=0)return null;for(var de=I.copy(),ye=le?I.size()-1:I.size(),be=0;be<ye;be++)for(var ze=0;ze<I.getDimension();ze++)I.setOrdinate(be,ze,de.getOrdinate((H+be)%ye,ze));if(le)for(var Ge=0;Ge<I.getDimension();Ge++)I.setOrdinate(ye,Ge,I.getOrdinate(0,Ge))}}},{key:"isEqual",value:function(s,o){var d=s.size();if(d!==o.size())return!1;for(var S=Math.min(s.getDimension(),o.getDimension()),C=0;C<d;C++)for(var I=0;I<S;I++){var H=s.getOrdinate(C,I),le=o.getOrdinate(C,I);if(s.getOrdinate(C,I)!==o.getOrdinate(C,I)&&(!Q.isNaN(H)||!Q.isNaN(le)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var s=arguments[0];return p.minCoordinateIndex(s,0,s.size()-1)}if(arguments.length===3){for(var o=arguments[0],d=arguments[2],S=-1,C=null,I=arguments[1];I<=d;I++){var H=o.getCoordinate(I);(C===null||C.compareTo(H)>0)&&(C=H,S=I)}return S}}},{key:"extend",value:function(s,o,d){var S=s.create(d,o.getDimension()),C=o.size();if(p.copy(o,0,S,0,C),C>0)for(var I=C;I<d;I++)p.copy(o,C-1,S,I,1);return S}},{key:"reverse",value:function(s){for(var o=s.size()-1,d=Math.trunc(o/2),S=0;S<=d;S++)p.swap(s,S,o-S)}},{key:"swap",value:function(s,o,d){if(o===d)return null;for(var S=0;S<s.getDimension();S++){var C=s.getOrdinate(o,S);s.setOrdinate(o,S,s.getOrdinate(d,S)),s.setOrdinate(d,S,C)}}},{key:"copy",value:function(s,o,d,S,C){for(var I=0;I<C;I++)p.copyCoord(s,o+I,d,S+I)}},{key:"ensureValidRing",value:function(s,o){var d=o.size();return d===0?o:d<=3?p.createClosedRing(s,o,4):o.getOrdinate(0,_t.X)===o.getOrdinate(d-1,_t.X)&&o.getOrdinate(0,_t.Y)===o.getOrdinate(d-1,_t.Y)?o:p.createClosedRing(s,o,d+1)}},{key:"indexOf",value:function(s,o){for(var d=0;d<o.size();d++)if(s.x===o.getOrdinate(d,_t.X)&&s.y===o.getOrdinate(d,_t.Y))return d;return-1}},{key:"createClosedRing",value:function(s,o,d){var S=s.create(d,o.getDimension()),C=o.size();p.copy(o,0,S,0,C);for(var I=C;I<d;I++)p.copy(o,0,S,I,1);return S}},{key:"minCoordinate",value:function(s){for(var o=null,d=0;d<s.size();d++){var S=s.getCoordinate(d);(o===null||o.compareTo(S)>0)&&(o=S)}return o}}])})(),Ye=(function(){function p(){r(this,p)}return g(p,null,[{key:"toDimensionSymbol",value:function(s){switch(s){case p.FALSE:return p.SYM_FALSE;case p.TRUE:return p.SYM_TRUE;case p.DONTCARE:return p.SYM_DONTCARE;case p.P:return p.SYM_P;case p.L:return p.SYM_L;case p.A:return p.SYM_A}throw new W("Unknown dimension value: "+s)}},{key:"toDimensionValue",value:function(s){switch(yn.toUpperCase(s)){case p.SYM_FALSE:return p.FALSE;case p.SYM_TRUE:return p.TRUE;case p.SYM_DONTCARE:return p.DONTCARE;case p.SYM_P:return p.P;case p.SYM_L:return p.L;case p.SYM_A:return p.A}throw new W("Unknown dimension symbol: "+s)}}])})();Ye.P=0,Ye.L=1,Ye.A=2,Ye.FALSE=-1,Ye.TRUE=-2,Ye.DONTCARE=-3,Ye.SYM_FALSE="F",Ye.SYM_TRUE="T",Ye.SYM_DONTCARE="*",Ye.SYM_P="0",Ye.SYM_L="1",Ye.SYM_A="2";var da=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p){}}])})(),Gi=(function(){return g((function p(){r(this,p)}),[{key:"filter",value:function(p,s){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),za=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Me:this._points.expandEnvelope(new Me)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new s(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ae){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var S=o;if(this._points.size()!==S._points.size())return!1;for(var C=0;C<this._points.size();C++)if(!this.equal(this._points.getCoordinate(C),S._points.getCoordinate(C),d))return!1;return!0}return B(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<Math.trunc(this._points.size()/2);o++){var d=this._points.size()-1-o;if(!this._points.getCoordinate(o).equals(this._points.getCoordinate(d))){if(this._points.getCoordinate(o).compareTo(this._points.getCoordinate(d))>0){var S=this._points.copy();Vr.reverse(S),this._points=S}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ye.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Vr.reverse(o),this.getFactory().createLineString(o)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return bs.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var o=arguments[0],d=0,S=0;d<this._points.size()&&S<o._points.size();){var C=this._points.getCoordinate(d).compareTo(o._points.getCoordinate(S));if(C!==0)return C;d++,S++}return d<this._points.size()?1:S<o._points.size()?-1:0}if(arguments.length===2){var I=arguments[0];return arguments[1].compare(this._points,I._points)}}},{key:"apply",value:function(){if(He(arguments[0],Yi))for(var o=arguments[0],d=0;d<this._points.size();d++)o.filter(this._points.getCoordinate(d));else if(He(arguments[0],Gi)){var S=arguments[0];if(this._points.size()===0)return null;for(var C=0;C<this._points.size()&&(S.filter(this._points,C),!S.isDone());C++);S.isGeometryChanged()&&this.geometryChanged()}else He(arguments[0],da)?arguments[0].filter(this):He(arguments[0],K)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new Fe}},{key:"isEquivalentClass",value:function(o){return o instanceof s}},{key:"getCoordinateN",value:function(o){return this._points.getCoordinate(o)}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(o){if(o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),o.size()===1)throw new W("Invalid number of points in LineString (found "+o.size()+" - must be 0 or >= 2)");this._points=o}},{key:"isCoordinate",value:function(o){for(var d=0;d<this._points.size();d++)if(this._points.getCoordinate(d).equals(o))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(o){return this.getFactory().createPoint(this._points.getCoordinate(o))}},{key:"interfaces_",get:function(){return[fa]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];Ae.constructor_.call(this,d),this.init(o)}}}}])})(Ae),po=g((function p(){r(this,p)})),Ts=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Me;var o=new Me;return o.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),o}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new s(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ae){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&(!(!this.isEmpty()||!o.isEmpty())||this.isEmpty()===o.isEmpty()&&this.equal(o.getCoordinate(),this.getCoordinate(),d))}return B(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Ye.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0];return this.getCoordinate().compareTo(o.getCoordinate())}if(arguments.length===2){var d=arguments[0];return arguments[1].compare(this._coordinates,d._coordinates)}}},{key:"apply",value:function(){if(He(arguments[0],Yi)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this.getCoordinate())}else if(He(arguments[0],Gi)){var d=arguments[0];if(this.isEmpty())return null;d.filter(this._coordinates,0),d.isGeometryChanged()&&this.geometryChanged()}else He(arguments[0],da)?arguments[0].filter(this):He(arguments[0],K)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(o){o===null&&(o=this.getFactory().getCoordinateSequenceFactory().create([])),pe.isTrue(o.size()<=1),this._coordinates=o}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[po]}}],[{key:"constructor_",value:function(){this._coordinates=null;var o=arguments[0],d=arguments[1];Ae.constructor_.call(this,d),this.init(o)}}])})(Ae),go=(function(){function p(){r(this,p)}return g(p,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var s=arguments[0];return Math.abs(p.ofRingSigned(s))}if(He(arguments[0],_t)){var o=arguments[0];return Math.abs(p.ofRingSigned(o))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var s=arguments[0];if(s.length<3)return 0;for(var o=0,d=s[0].x,S=1;S<s.length-1;S++){var C=s[S].x-d,I=s[S+1].y;o+=C*(s[S-1].y-I)}return o/2}if(He(arguments[0],_t)){var H=arguments[0],le=H.size();if(le<3)return 0;var de=new he,ye=new he,be=new he;H.getCoordinate(0,ye),H.getCoordinate(1,be);var ze=ye.x;be.x-=ze;for(var Ge=0,Ve=1;Ve<le-1;Ve++)de.y=ye.y,ye.x=be.x,ye.y=be.y,H.getCoordinate(Ve+1,be),be.x-=ze,Ge+=ye.x*(de.y-be.y);return Ge/2}}}])})(),On=(function(){return g((function p(){r(this,p)}),null,[{key:"sort",value:function(){var p=arguments,s=arguments[0];if(arguments.length===1)s.sort((function(ze,Ge){return ze.compareTo(Ge)}));else if(arguments.length===2)s.sort((function(ze,Ge){return p[1].compare(ze,Ge)}));else if(arguments.length===3){var o=s.slice(arguments[1],arguments[2]);o.sort();var d=s.slice(0,arguments[1]).concat(o,s.slice(arguments[2],s.length));s.splice(0,s.length);var S,C=y(d);try{for(C.s();!(S=C.n()).done;){var I=S.value;s.push(I)}}catch(ze){C.e(ze)}finally{C.f()}}else if(arguments.length===4){var H=s.slice(arguments[1],arguments[2]);H.sort((function(ze,Ge){return p[3].compare(ze,Ge)}));var le=s.slice(0,arguments[1]).concat(H,s.slice(arguments[2],s.length));s.splice(0,s.length);var de,ye=y(le);try{for(ye.s();!(de=ye.n()).done;){var be=de.value;s.push(be)}}catch(ze){ye.e(ze)}finally{ye.f()}}}},{key:"asList",value:function(p){var s,o=new $e,d=y(p);try{for(d.s();!(s=d.n()).done;){var S=s.value;o.add(S)}}catch(C){d.e(C)}finally{d.f()}return o}},{key:"copyOf",value:function(p,s){return p.slice(0,s)}}])})(),Ke=g((function p(){r(this,p)})),pa=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var o=new Array(this.getNumPoints()).fill(null),d=-1,S=this._shell.getCoordinates(),C=0;C<S.length;C++)o[++d]=S[C];for(var I=0;I<this._holes.length;I++)for(var H=this._holes[I].getCoordinates(),le=0;le<H.length;le++)o[++d]=H[le];return o}},{key:"getArea",value:function(){var o=0;o+=go.ofRing(this._shell.getCoordinateSequence());for(var d=0;d<this._holes.length;d++)o-=go.ofRing(this._holes[d].getCoordinateSequence());return o}},{key:"copyInternal",value:function(){for(var o=this._shell.copy(),d=new Array(this._holes.length).fill(null),S=0;S<this._holes.length;S++)d[S]=this._holes[S].copy();return new s(o,d,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var o=this._shell.getCoordinateSequence(),d=this.getEnvelopeInternal(),S=0;S<5;S++){var C=o.getX(S);if(C!==d.getMinX()&&C!==d.getMaxX())return!1;var I=o.getY(S);if(I!==d.getMinY()&&I!==d.getMaxY())return!1}for(var H=o.getX(0),le=o.getY(0),de=1;de<=4;de++){var ye=o.getX(de),be=o.getY(de);if(ye!==H==(be!==le))return!1;H=ye,le=be}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ae){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var S=o,C=this._shell,I=S._shell;if(!C.equalsExact(I,d)||this._holes.length!==S._holes.length)return!1;for(var H=0;H<this._holes.length;H++)if(!this._holes[H].equalsExact(S._holes[H],d))return!1;return!0}return B(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var o=0;o<this._holes.length;o++)this._holes[o]=this.normalized(this._holes[o],!1);On.sort(this._holes)}else if(arguments.length===2){var d=arguments[0],S=arguments[1];if(d.isEmpty())return null;var C=d.getCoordinateSequence(),I=Vr.minCoordinateIndex(C,0,C.size()-2);Vr.scroll(C,I,!0),it.isCCW(C)===S&&Vr.reverse(C)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var o=this.getExteriorRing().reverse(),d=new Array(this.getNumInteriorRing()).fill(null),S=0;S<d.length;S++)d[S]=this.getInteriorRingN(S).reverse();return this.getFactory().createPolygon(o,d)}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var o=0;o+=this._shell.getLength();for(var d=0;d<this._holes.length;d++)o+=this._holes[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=this._shell.getNumPoints(),d=0;d<this._holes.length;d++)o+=this._holes[d].getNumPoints();return o}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(o,d){var S=o.copy();return this.normalize(S,d),S}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=this._shell,S=o._shell;return d.compareToSameClass(S)}if(arguments.length===2){var C=arguments[1],I=arguments[0],H=this._shell,le=I._shell,de=H.compareToSameClass(le,C);if(de!==0)return de;for(var ye=this.getNumInteriorRing(),be=I.getNumInteriorRing(),ze=0;ze<ye&&ze<be;){var Ge=this.getInteriorRingN(ze),Ve=I.getInteriorRingN(ze),tt=Ge.compareToSameClass(Ve,C);if(tt!==0)return tt;ze++}return ze<ye?1:ze<be?-1:0}}},{key:"apply",value:function(){if(He(arguments[0],Yi)){var o=arguments[0];this._shell.apply(o);for(var d=0;d<this._holes.length;d++)this._holes[d].apply(o)}else if(He(arguments[0],Gi)){var S=arguments[0];if(this._shell.apply(S),!S.isDone())for(var C=0;C<this._holes.length&&(this._holes[C].apply(S),!S.isDone());C++);S.isGeometryChanged()&&this.geometryChanged()}else if(He(arguments[0],da))arguments[0].filter(this);else if(He(arguments[0],K)){var I=arguments[0];I.filter(this),this._shell.apply(I);for(var H=0;H<this._holes.length;H++)this._holes[H].apply(I)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var o=new Array(this._holes.length+1).fill(null);o[0]=this._shell;for(var d=0;d<this._holes.length;d++)o[d+1]=this._holes[d];return o.length<=1?this.getFactory().createLinearRing(o[0].getCoordinateSequence()):this.getFactory().createMultiLineString(o)}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(o){return this._holes[o]}},{key:"interfaces_",get:function(){return[Ke]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var o=arguments[0],d=arguments[1],S=arguments[2];if(Ae.constructor_.call(this,S),o===null&&(o=this.getFactory().createLinearRing()),d===null&&(d=[]),Ae.hasNullElements(d))throw new W("holes must not contain null elements");if(o.isEmpty()&&Ae.hasNonEmptyElements(d))throw new W("shell is empty but holes are not");this._shell=o,this._holes=d}}])})(Ae),mo=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s)})(Ue),qi=(function(p){function s(o){var d;return r(this,s),(d=l(this,s)).array=[],o instanceof Xe&&d.addAll(o),d}return x(s,p),g(s,[{key:"contains",value:function(o){var d,S=y(this.array);try{for(S.s();!(d=S.n()).done;)if(d.value.compareTo(o)===0)return!0}catch(C){S.e(C)}finally{S.f()}return!1}},{key:"add",value:function(o){if(this.contains(o))return!1;for(var d=0,S=this.array.length;d<S;d++)if(this.array[d].compareTo(o)===1)return!!this.array.splice(d,0,o);return this.array.push(o),!0}},{key:"addAll",value:function(o){var d,S=y(o);try{for(S.s();!(d=S.n()).done;){var C=d.value;this.add(C)}}catch(I){S.e(I)}finally{S.f()}return!0}},{key:"remove",value:function(){throw new Fe}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Mn(this.array)}}])})(mo),Mn=(function(){return g((function p(s){r(this,p),this.array=s,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new Ze;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new Fe}}])})(),jt=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeEnvelopeInternal",value:function(){for(var o=new Me,d=0;d<this._geometries.length;d++)o.expandToInclude(this._geometries[d].getEnvelopeInternal());return o}},{key:"getGeometryN",value:function(o){return this._geometries[o]}},{key:"getCoordinates",value:function(){for(var o=new Array(this.getNumPoints()).fill(null),d=-1,S=0;S<this._geometries.length;S++)for(var C=this._geometries[S].getCoordinates(),I=0;I<C.length;I++)o[++d]=C[I];return o}},{key:"getArea",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getArea();return o}},{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ae){var o=arguments[0],d=arguments[1];if(!this.isEquivalentClass(o))return!1;var S=o;if(this._geometries.length!==S._geometries.length)return!1;for(var C=0;C<this._geometries.length;C++)if(!this._geometries[C].equalsExact(S._geometries[C],d))return!1;return!0}return B(s,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var o=0;o<this._geometries.length;o++)this._geometries[o].normalize();On.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var o=Ye.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getBoundaryDimension());return o}},{key:"reverseInternal",value:function(){for(var o=this._geometries.length,d=new $e(o),S=0;S<o;S++)d.add(this._geometries[S].reverse());return this.getFactory().buildGeometry(d)}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var o=Ye.FALSE,d=0;d<this._geometries.length;d++)o=Math.max(o,this._geometries[d].getDimension());return o}},{key:"getLength",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getLength();return o}},{key:"getNumPoints",value:function(){for(var o=0,d=0;d<this._geometries.length;d++)o+=this._geometries[d].getNumPoints();return o}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var o=arguments[0],d=new qi(On.asList(this._geometries)),S=new qi(On.asList(o._geometries));return this.compare(d,S)}if(arguments.length===2){for(var C=arguments[1],I=arguments[0],H=this.getNumGeometries(),le=I.getNumGeometries(),de=0;de<H&&de<le;){var ye=this.getGeometryN(de),be=I.getGeometryN(de),ze=ye.compareToSameClass(be,C);if(ze!==0)return ze;de++}return de<H?1:de<le?-1:0}}},{key:"apply",value:function(){if(He(arguments[0],Yi))for(var o=arguments[0],d=0;d<this._geometries.length;d++)this._geometries[d].apply(o);else if(He(arguments[0],Gi)){var S=arguments[0];if(this._geometries.length===0)return null;for(var C=0;C<this._geometries.length&&(this._geometries[C].apply(S),!S.isDone());C++);S.isGeometryChanged()&&this.geometryChanged()}else if(He(arguments[0],da)){var I=arguments[0];I.filter(this);for(var H=0;H<this._geometries.length;H++)this._geometries[H].apply(I)}else if(He(arguments[0],K)){var le=arguments[0];le.filter(this);for(var de=0;de<this._geometries.length;de++)this._geometries[de].apply(le)}}},{key:"getBoundary",value:function(){return Ae.checkNotGeometryCollection(this),pe.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],d=arguments[1];if(Ae.constructor_.call(this,d),o===null&&(o=[]),Ae.hasNullElements(o))throw new W("geometries must not contain null elements");this._geometries=o}}}}])})(Ae),fr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ae){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&B(s,"equalsExact",this,1).call(this,o,d)}return B(s,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var o=arguments[0];return this._geometries[o].getCoordinate()}return B(s,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Ye.FALSE}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[po]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];jt.constructor_.call(this,o,d)}}])})(jt),bi=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){return new s(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Ye.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||B(s,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var o=this._points.copy();return Vr.reverse(o),this.getFactory().createLinearRing(o)}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!B(s,"isClosed",this,1).call(this))throw new W("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<s.MINIMUM_VALID_SIZE)throw new W("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];za.constructor_.call(this,o,d),this.validateConstruction()}}])})(za);bi.MINIMUM_VALID_SIZE=4;var Dr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"setOrdinate",value:function(o,d){switch(o){case s.X:this.x=d;break;case s.Y:this.y=d;break;default:throw new W("Invalid ordinate index: "+o)}}},{key:"getZ",value:function(){return he.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case s.X:return this.x;case s.Y:return this.y}throw new W("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new W("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)he.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof s){var o=arguments[0];he.constructor_.call(this,o.x,o.y)}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d.x,d.y)}}else if(arguments.length===2){var S=arguments[0],C=arguments[1];he.constructor_.call(this,S,C,he.NULL_ORDINATE)}}}])})(he);Dr.X=0,Dr.Y=1,Dr.Z=-1,Dr.M=-1;var Wr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case s.X:this.x=d;break;case s.Y:this.y=d;break;case s.M:this._m=d;break;default:throw new W("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getZ",value:function(){return he.NULL_ORDINATE}},{key:"getOrdinate",value:function(o){switch(o){case s.X:return this.x;case s.Y:return this.y;case s.M:return this._m}throw new W("Invalid ordinate index: "+o)}},{key:"setZ",value:function(o){throw new W("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)he.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof s){var o=arguments[0];he.constructor_.call(this,o.x,o.y),this._m=o._m}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d.x,d.y),this._m=this.getM()}}else if(arguments.length===3){var S=arguments[0],C=arguments[1],I=arguments[2];he.constructor_.call(this,S,C,he.NULL_ORDINATE),this._m=I}}}])})(he);Wr.X=0,Wr.Y=1,Wr.Z=-1,Wr.M=2;var ws=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(o,d){switch(o){case he.X:this.x=d;break;case he.Y:this.y=d;break;case he.Z:this.z=d;break;case he.M:this._m=d;break;default:throw new W("Invalid ordinate index: "+o)}}},{key:"setM",value:function(o){this._m=o}},{key:"getOrdinate",value:function(o){switch(o){case he.X:return this.x;case he.Y:return this.y;case he.Z:return this.getZ();case he.M:return this.getM()}throw new W("Invalid ordinate index: "+o)}},{key:"copy",value:function(){return new s(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(o){this.x=o.x,this.y=o.y,this.z=o.getZ(),this._m=o.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)he.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof s){var o=arguments[0];he.constructor_.call(this,o),this._m=o._m}else if(arguments[0]instanceof he){var d=arguments[0];he.constructor_.call(this,d),this._m=this.getM()}}else if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],H=arguments[3];he.constructor_.call(this,S,C,I),this._m=H}}}])})(he),Ar=(function(){function p(){r(this,p)}return g(p,null,[{key:"measures",value:function(s){return s instanceof Dr?0:s instanceof Wr||s instanceof ws?1:0}},{key:"dimension",value:function(s){return s instanceof Dr?2:s instanceof Wr?3:s instanceof ws?4:3}},{key:"create",value:function(){if(arguments.length===1){var s=arguments[0];return p.create(s,0)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return o===2?new Dr:o===3&&d===0?new he:o===3&&d===1?new Wr:o===4&&d===1?new ws:new he}}}])})(),Qr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getCoordinate",value:function(o){return this.get(o)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&He(arguments[0],Xe)){for(var o=arguments[1],d=!1,S=arguments[0].iterator();S.hasNext();)this.add(S.next(),o),d=!0;return d}return B(s,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var o=B(s,"clone",this,1).call(this),d=0;d<this.size();d++)o.add(d,this.get(d).clone());return o}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(s.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(s.coordArrayType);for(var o=this.size(),d=new Array(o).fill(null),S=0;S<o;S++)d[S]=this.get(o-S-1);return d}}},{key:"add",value:function(){if(arguments.length===1){var o=arguments[0];return B(s,"add",this,1).call(this,o)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],S=arguments[1];return this.add(d,S,!0),!0}if(arguments[0]instanceof he&&typeof arguments[1]=="boolean"){var C=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(C))return null;B(s,"add",this,1).call(this,C)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var I=arguments[0],H=arguments[1];return this.add(I,H),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var le=arguments[0],de=arguments[1];if(arguments[2])for(var ye=0;ye<le.length;ye++)this.add(le[ye],de);else for(var be=le.length-1;be>=0;be--)this.add(le[be],de);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof he){var ze=arguments[0],Ge=arguments[1];if(!arguments[2]){var Ve=this.size();if(Ve>0&&(ze>0&&this.get(ze-1).equals2D(Ge)||ze<Ve&&this.get(ze).equals2D(Ge)))return null}B(s,"add",this,1).call(this,ze,Ge)}}else if(arguments.length===4){var tt=arguments[0],Ct=arguments[1],gt=arguments[2],Yt=arguments[3],an=1;gt>Yt&&(an=-1);for(var Wt=gt;Wt!==Yt;Wt+=an)this.add(tt[Wt],Ct);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var o=this.get(0).copy();this.add(o,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var o=arguments[0];this.ensureCapacity(o.length),this.add(o,!0)}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.ensureCapacity(d.length),this.add(d,S)}}}}])})($e);Qr.coordArrayType=new Array(0).fill(null);var $t=(function(){function p(){r(this,p)}return g(p,null,[{key:"isRing",value:function(s){return!(s.length<4)&&!!s[0].equals2D(s[s.length-1])}},{key:"ptNotInList",value:function(s,o){for(var d=0;d<s.length;d++){var S=s[d];if(p.indexOf(S,o)<0)return S}return null}},{key:"scroll",value:function(s,o){var d=p.indexOf(o,s);if(d<0)return null;var S=new Array(s.length).fill(null);Ei.arraycopy(s,d,S,0,s.length-d),Ei.arraycopy(s,0,S,s.length-d,d),Ei.arraycopy(S,0,s,0,s.length)}},{key:"equals",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];if(s===o)return!0;if(s===null||o===null||s.length!==o.length)return!1;for(var d=0;d<s.length;d++)if(!s[d].equals(o[d]))return!1;return!0}if(arguments.length===3){var S=arguments[0],C=arguments[1],I=arguments[2];if(S===C)return!0;if(S===null||C===null||S.length!==C.length)return!1;for(var H=0;H<S.length;H++)if(I.compare(S[H],C[H])!==0)return!1;return!0}}},{key:"intersection",value:function(s,o){for(var d=new Qr,S=0;S<s.length;S++)o.intersects(s[S])&&d.add(s[S],!0);return d.toCoordinateArray()}},{key:"measures",value:function(s){if(s===null||s.length===0)return 0;var o,d=0,S=y(s);try{for(S.s();!(o=S.n()).done;){var C=o.value;d=Math.max(d,Ar.measures(C))}}catch(I){S.e(I)}finally{S.f()}return d}},{key:"hasRepeatedPoints",value:function(s){for(var o=1;o<s.length;o++)if(s[o-1].equals(s[o]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(s){return p.hasRepeatedPoints(s)?new Qr(s,!1).toCoordinateArray():s}},{key:"reverse",value:function(s){for(var o=s.length-1,d=Math.trunc(o/2),S=0;S<=d;S++){var C=s[S];s[S]=s[o-S],s[o-S]=C}}},{key:"removeNull",value:function(s){for(var o=0,d=0;d<s.length;d++)s[d]!==null&&o++;var S=new Array(o).fill(null);if(o===0)return S;for(var C=0,I=0;I<s.length;I++)s[I]!==null&&(S[C++]=s[I]);return S}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var s=arguments[0],o=new Array(s.length).fill(null),d=0;d<s.length;d++)o[d]=s[d].copy();return o}if(arguments.length===5)for(var S=arguments[0],C=arguments[1],I=arguments[2],H=arguments[3],le=arguments[4],de=0;de<le;de++)I[H+de]=S[C+de].copy()}},{key:"isEqualReversed",value:function(s,o){for(var d=0;d<s.length;d++){var S=s[d],C=o[s.length-d-1];if(S.compareTo(C)!==0)return!1}return!0}},{key:"envelope",value:function(s){for(var o=new Me,d=0;d<s.length;d++)o.expandToInclude(s[d]);return o}},{key:"toCoordinateArray",value:function(s){return s.toArray(p.coordArrayType)}},{key:"dimension",value:function(s){if(s===null||s.length===0)return 3;var o,d=0,S=y(s);try{for(S.s();!(o=S.n()).done;){var C=o.value;d=Math.max(d,Ar.dimension(C))}}catch(I){S.e(I)}finally{S.f()}return d}},{key:"atLeastNCoordinatesOrNothing",value:function(s,o){return o.length>=s?o:[]}},{key:"indexOf",value:function(s,o){for(var d=0;d<o.length;d++)if(s.equals(o[d]))return d;return-1}},{key:"increasingDirection",value:function(s){for(var o=0;o<Math.trunc(s.length/2);o++){var d=s.length-1-o,S=s[o].compareTo(s[d]);if(S!==0)return S}return 1}},{key:"compare",value:function(s,o){for(var d=0;d<s.length&&d<o.length;){var S=s[d].compareTo(o[d]);if(S!==0)return S;d++}return d<o.length?-1:d<s.length?1:0}},{key:"minCoordinate",value:function(s){for(var o=null,d=0;d<s.length;d++)(o===null||o.compareTo(s[d])>0)&&(o=s[d]);return o}},{key:"extract",value:function(s,o,d){o=hr.clamp(o,0,s.length);var S=(d=hr.clamp(d,-1,s.length))-o+1;d<0&&(S=0),o>=s.length&&(S=0),d<o&&(S=0);var C=new Array(S).fill(null);if(S===0)return C;for(var I=0,H=o;H<=d;H++)C[I++]=s[H];return C}}])})(),ga=(function(){return g((function p(){r(this,p)}),[{key:"compare",value:function(p,s){var o=p,d=s;return $t.compare(o,d)}},{key:"interfaces_",get:function(){return[Y]}}])})(),kr=(function(){return g((function p(){r(this,p)}),[{key:"compare",value:function(p,s){var o=p,d=s;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;var S=$t.compare(o,d);return $t.isEqualReversed(o,d)?0:S}},{key:"OLDcompare",value:function(p,s){var o=p,d=s;if(o.length<d.length)return-1;if(o.length>d.length)return 1;if(o.length===0)return 0;for(var S=$t.increasingDirection(o),C=$t.increasingDirection(d),I=S>0?0:o.length-1,H=C>0?0:o.length-1,le=0;le<o.length;le++){var de=o[I].compareTo(d[H]);if(de!==0)return de;I+=S,H+=C}return 0}},{key:"interfaces_",get:function(){return[Y]}}])})();$t.ForwardComparator=ga,$t.BidirectionalComparator=kr,$t.coordArrayType=new Array(0).fill(null);var dr=(function(){return g((function p(s){r(this,p),this.str=s}),[{key:"append",value:function(p){this.str+=p}},{key:"setCharAt",value:function(p,s){this.str=this.str.substr(0,p)+s+this.str.substr(p+1)}},{key:"toString",value:function(){return this.str}}])})(),dn=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getM",value:function(s){return this.hasM()?this._coordinates[s].getM():Q.NaN}},{key:"setOrdinate",value:function(s,o,d){switch(o){case _t.X:this._coordinates[s].x=d;break;case _t.Y:this._coordinates[s].y=d;break;default:this._coordinates[s].setOrdinate(o,d)}}},{key:"getZ",value:function(s){return this.hasZ()?this._coordinates[s].getZ():Q.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(s,o){switch(o){case _t.X:return this._coordinates[s].x;case _t.Y:return this._coordinates[s].y;default:return this._coordinates[s].getOrdinate(o)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var s=arguments[0];return this._coordinates[s]}if(arguments.length===2){var o=arguments[0];arguments[1].setCoordinate(this._coordinates[o])}}},{key:"getCoordinateCopy",value:function(s){var o=this.createCoordinate();return o.setCoordinate(this._coordinates[s]),o}},{key:"createCoordinate",value:function(){return Ar.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(s){return this._coordinates[s].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(s){for(var o=0;o<this._coordinates.length;o++)s.expandToInclude(this._coordinates[o]);return s}},{key:"copy",value:function(){for(var s=new Array(this.size()).fill(null),o=0;o<this._coordinates.length;o++){var d=this.createCoordinate();d.setCoordinate(this._coordinates[o]),s[o]=d}return new p(s,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var s=new dr(17*this._coordinates.length);s.append("("),s.append(this._coordinates[0]);for(var o=1;o<this._coordinates.length;o++)s.append(", "),s.append(this._coordinates[o]);return s.append(")"),s.toString()}return"()"}},{key:"getY",value:function(s){return this._coordinates[s].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[_t,M]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];p.constructor_.call(this,s,$t.dimension(s),$t.measures(s))}else if(Number.isInteger(arguments[0])){var o=arguments[0];this._coordinates=new Array(o).fill(null);for(var d=0;d<o;d++)this._coordinates[d]=new he}else if(He(arguments[0],_t)){var S=arguments[0];if(S===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=S.getDimension(),this._measures=S.getMeasures(),this._coordinates=new Array(S.size()).fill(null);for(var C=0;C<this._coordinates.length;C++)this._coordinates[C]=S.getCoordinateCopy(C)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var I=arguments[0],H=arguments[1];p.constructor_.call(this,I,H,$t.measures(I))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var le=arguments[0],de=arguments[1];this._coordinates=new Array(le).fill(null),this._dimension=de;for(var ye=0;ye<le;ye++)this._coordinates[ye]=Ar.create(de)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var be=arguments[0],ze=arguments[1],Ge=arguments[2];this._dimension=ze,this._measures=Ge,this._coordinates=be===null?new Array(0).fill(null):be}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Ve=arguments[0],tt=arguments[1],Ct=arguments[2];this._coordinates=new Array(Ve).fill(null),this._dimension=tt,this._measures=Ct;for(var gt=0;gt<Ve;gt++)this._coordinates[gt]=this.createCoordinate()}}}}])})(),Cs=(function(){function p(){r(this,p)}return g(p,[{key:"readResolve",value:function(){return p.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new dn(arguments[0]);if(He(arguments[0],_t))return new dn(arguments[0])}else{if(arguments.length===2){var s=arguments[1];return s>3&&(s=3),s<2&&(s=2),new dn(arguments[0],s)}if(arguments.length===3){var o=arguments[2],d=arguments[1]-o;return o>1&&(o=1),d>3&&(d=3),d<2&&(d=2),new dn(arguments[0],d+o,o)}}}},{key:"interfaces_",get:function(){return[ha,M]}}],[{key:"instance",value:function(){return p.instanceObject}}])})();Cs.instanceObject=new Cs;var Ls=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ae){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&B(s,"equalsExact",this,1).call(this,o,d)}return B(s,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var o=new $e,d=0;d<this._geometries.length;d++)for(var S=this._geometries[d].getBoundary(),C=0;C<S.getNumGeometries();C++)o.add(S.getGeometryN(C));var I=new Array(o.size()).fill(null);return this.getFactory().createMultiLineString(o.toArray(I))}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ke]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];jt.constructor_.call(this,o,d)}}])})(jt),Nr=(function(){return g((function p(){r(this,p)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Or=(function(p){function s(){var o;return r(this,s),(o=l(this,s)).map=new Map,o}return x(s,p),g(s,[{key:"get",value:function(o){return this.map.get(o)||null}},{key:"put",value:function(o,d){return this.map.set(o,d),d}},{key:"values",value:function(){for(var o=new $e,d=this.map.values(),S=d.next();!S.done;)o.add(S.value),S=d.next();return o}},{key:"entrySet",value:function(){var o=new wt;return this.map.entries().forEach((function(d){return o.add(d)})),o}},{key:"size",value:function(){return this.map.size()}}])})(Nr),ti=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"equals",value:function(s){if(!(s instanceof p))return!1;var o=s;return this._modelType===o._modelType&&this._scale===o._scale}},{key:"compareTo",value:function(s){var o=s,d=this.getMaximumSignificantDigits(),S=o.getMaximumSignificantDigits();return It.compare(d,S)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===p.FLOATING||this._modelType===p.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var s="UNKNOWN";return this._modelType===p.FLOATING?s="Floating":this._modelType===p.FLOATING_SINGLE?s="Floating-Single":this._modelType===p.FIXED&&(s="Fixed (Scale="+this.getScale()+")"),s}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var s=arguments[0];return Q.isNaN(s)||this._modelType===p.FLOATING_SINGLE?s:this._modelType===p.FIXED?Math.round(s*this._scale)/this._scale:s}if(arguments[0]instanceof he){var o=arguments[0];if(this._modelType===p.FLOATING)return null;o.x=this.makePrecise(o.x),o.y=this.makePrecise(o.y)}}},{key:"getMaximumSignificantDigits",value:function(){var s=16;return this._modelType===p.FLOATING?s=16:this._modelType===p.FLOATING_SINGLE?s=6:this._modelType===p.FIXED&&(s=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),s}},{key:"setScale",value:function(s){this._scale=Math.abs(s)}},{key:"interfaces_",get:function(){return[M,ee]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=p.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Mr){var s=arguments[0];this._modelType=s,s===p.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var o=arguments[0];this._modelType=p.FIXED,this.setScale(o)}else if(arguments[0]instanceof p){var d=arguments[0];this._modelType=d._modelType,this._scale=d._scale}}}},{key:"mostPrecise",value:function(s,o){return s.compareTo(o)>=0?s:o}}])})(),Mr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"readResolve",value:function(){return p.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[M]}}],[{key:"constructor_",value:function(){this._name=null;var s=arguments[0];this._name=s,p.nameToTypeMap.put(s,this)}}])})();Mr.nameToTypeMap=new Or,ti.Type=Mr,ti.FIXED=new Mr("FIXED"),ti.FLOATING=new Mr("FLOATING"),ti.FLOATING_SINGLE=new Mr("FLOATING SINGLE"),ti.maximumPreciseValue=9007199254740992;var ja=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"copyInternal",value:function(){for(var o=new Array(this._geometries.length).fill(null),d=0;d<o.length;d++)o[d]=this._geometries[d].copy();return new s(o,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof Ae){var o=arguments[0],d=arguments[1];return!!this.isEquivalentClass(o)&&B(s,"equalsExact",this,1).call(this,o,d)}return B(s,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ye.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return Ae.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new Fe}},{key:"getGeometryType",value:function(){return Ae.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[fa]}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];jt.constructor_.call(this,o,d)}}])})(jt),Hi=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"createEmpty",value:function(s){switch(s){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new W("Invalid dimension: "+s)}}},{key:"toGeometry",value:function(s){return s.isNull()?this.createPoint():s.getMinX()===s.getMaxX()&&s.getMinY()===s.getMaxY()?this.createPoint(new he(s.getMinX(),s.getMinY())):s.getMinX()===s.getMaxX()||s.getMinY()===s.getMaxY()?this.createLineString([new he(s.getMinX(),s.getMinY()),new he(s.getMaxX(),s.getMaxY())]):this.createPolygon(this.createLinearRing([new he(s.getMinX(),s.getMinY()),new he(s.getMinX(),s.getMaxY()),new he(s.getMaxX(),s.getMaxY()),new he(s.getMaxX(),s.getMinY()),new he(s.getMinX(),s.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];return this.createLineString(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(He(arguments[0],_t))return new za(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new ja(null,this):arguments.length===1?new ja(arguments[0],this):void 0}},{key:"buildGeometry",value:function(s){for(var o=null,d=!1,S=!1,C=s.iterator();C.hasNext();){var I=C.next(),H=I.getTypeCode();o===null&&(o=H),H!==o&&(d=!0),I instanceof jt&&(S=!0)}if(o===null)return this.createGeometryCollection();if(d||S)return this.createGeometryCollection(p.toGeometryArray(s));var le=s.iterator().next();if(s.size()>1){if(le instanceof pa)return this.createMultiPolygon(p.toPolygonArray(s));if(le instanceof za)return this.createMultiLineString(p.toLineStringArray(s));if(le instanceof Ts)return this.createMultiPoint(p.toPointArray(s));pe.shouldNeverReachHere("Unhandled geometry type: "+le.getGeometryType())}return le}},{key:"createMultiPointFromCoords",value:function(s){return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof he){var s=arguments[0];return this.createPoint(s!==null?this.getCoordinateSequenceFactory().create([s]):null)}if(He(arguments[0],_t))return new Ts(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(He(arguments[0],_t)){var s=arguments[0];return this.createPolygon(this.createLinearRing(s))}if(arguments[0]instanceof Array){var o=arguments[0];return this.createPolygon(this.createLinearRing(o))}if(arguments[0]instanceof bi){var d=arguments[0];return this.createPolygon(d,null)}}else if(arguments.length===2)return new pa(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new jt(null,this):arguments.length===1?new jt(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];return this.createLinearRing(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(He(arguments[0],_t))return new bi(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Ls(null,this):arguments.length===1?new Ls(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new fr(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new fr(arguments[0],this);if(He(arguments[0],_t)){var s=arguments[0];if(s===null)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(s.size()).fill(null),d=0;d<s.size();d++){var S=this.getCoordinateSequenceFactory().create(1,s.getDimension(),s.getMeasures());Vr.copy(s,d,S,0,1),o[d]=this.createPoint(S)}return this.createMultiPoint(o)}}}},{key:"interfaces_",get:function(){return[M]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)p.constructor_.call(this,new ti,0);else if(arguments.length===1){if(He(arguments[0],ha)){var s=arguments[0];p.constructor_.call(this,new ti,0,s)}else if(arguments[0]instanceof ti){var o=arguments[0];p.constructor_.call(this,o,0,p.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];p.constructor_.call(this,d,S,p.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var C=arguments[0],I=arguments[1],H=arguments[2];this._precisionModel=C,this._coordinateSequenceFactory=H,this._SRID=I}}},{key:"toMultiPolygonArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toGeometryArray",value:function(s){if(s===null)return null;var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Cs.instance()}},{key:"toMultiLineStringArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toLineStringArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toMultiPointArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toLinearRingArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toPointArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"toPolygonArray",value:function(s){var o=new Array(s.size()).fill(null);return s.toArray(o)}},{key:"createPointFromInternalCoord",value:function(s,o){return o.getPrecisionModel().makePrecise(s),o.getFactory().createPoint(s)}}])})(),St="XY",Kt="XYZ",Ti="XYM",Bn="XYZM",Rr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Ds="EMPTY",ft=1,Pt=2,pi=3,Ua=4,Ut=5,_o=6;for(var Ya in Rr)Rr[Ya].toUpperCase();var pr=(function(){return g((function p(s){r(this,p),this.wkt=s,this.index_=-1}),[{key:"isAlpha_",value:function(p){return p>="a"&&p<="z"||p>="A"&&p<="Z"}},{key:"isNumeric_",value:function(p,s){return p>="0"&&p<="9"||p=="."&&!(s!==void 0&&s)}},{key:"isWhiteSpace_",value:function(p){return p==" "||p=="	"||p=="\r"||p==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var p,s=this.nextChar_(),o=this.index_,d=s;if(s=="(")p=Pt;else if(s==",")p=Ut;else if(s==")")p=pi;else if(this.isNumeric_(s)||s=="-")p=Ua,d=this.readNumber_();else if(this.isAlpha_(s))p=ft,d=this.readText_();else{if(this.isWhiteSpace_(s))return this.nextToken();if(s!=="")throw new Error("Unexpected character: "+s);p=_o}return{position:o,value:d,type:p}}},{key:"readNumber_",value:function(){var p,s=this.index_,o=!1,d=!1;do p=="."?o=!0:p!="e"&&p!="E"||(d=!0),p=this.nextChar_();while(this.isNumeric_(p,o)||!d&&(p=="e"||p=="E")||d&&(p=="-"||p=="+"));return parseFloat(this.wkt.substring(s,this.index_--))}},{key:"readText_",value:function(){var p,s=this.index_;do p=this.nextChar_();while(this.isAlpha_(p));return this.wkt.substring(s,this.index_--).toUpperCase()}}])})(),en=(function(){return g((function p(s,o){r(this,p),this.lexer_=s,this.token_,this.layout_=St,this.factory=o}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(p){return this.token_.type==p}},{key:"match",value:function(p){var s=this.isTokenType(p);return s&&this.consume_(),s}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var p=St,s=this.token_;if(this.isTokenType(ft)){var o=s.value;o==="Z"?p=Kt:o==="M"?p=Ti:o==="ZM"&&(p=Bn),p!==St&&this.consume_()}return p}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(Pt)){var p=[];do p.push(this.parseGeometry_());while(this.match(Ut));if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(Pt)){var p=this.parsePoint_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(Pt)){var p=this.parsePointList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(Pt)){var p=this.parseLineStringTextList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var p;if(this.match(Pt)){if(p=this.token_.type==Pt?this.parsePointTextList_():this.parsePointList_(),this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(Pt)){var p=this.parseLineStringTextList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(Pt)){var p=this.parsePolygonTextList_();if(this.match(pi))return p}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var p=[],s=this.layout_.length,o=0;o<s;++o){var d=this.token_;if(!this.match(Ua))break;p.push(d.value)}if(p.length==s)return p;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var p=[this.parsePoint_()];this.match(Ut);)p.push(this.parsePoint_());return p}},{key:"parsePointTextList_",value:function(){for(var p=[this.parsePointText_()];this.match(Ut);)p.push(this.parsePointText_());return p}},{key:"parseLineStringTextList_",value:function(){for(var p=[this.parseLineStringText_()];this.match(Ut);)p.push(this.parseLineStringText_());return p}},{key:"parsePolygonTextList_",value:function(){for(var p=[this.parsePolygonText_()];this.match(Ut);)p.push(this.parsePolygonText_());return p}},{key:"isEmptyGeometry_",value:function(){var p=this.isTokenType(ft)&&this.token_.value==Ds;return p&&this.consume_(),p}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var p=this.factory,s=function(tt){return c(he,J(tt))},o=function(tt){var Ct=tt.map((function(gt){return p.createLinearRing(gt.map(s))}));return Ct.length>1?p.createPolygon(Ct[0],Ct.slice(1)):p.createPolygon(Ct[0])},d=this.token_;if(this.match(ft)){var S=d.value;if(this.layout_=this.parseGeometryLayout_(),S=="GEOMETRYCOLLECTION"){var C=this.parseGeometryCollectionText_();return p.createGeometryCollection(C)}switch(S){case"POINT":var I=this.parsePointText_();return I?p.createPoint(c(he,J(I))):p.createPoint();case"LINESTRING":var H=this.parseLineStringText_().map(s);return p.createLineString(H);case"LINEARRING":var le=this.parseLineStringText_().map(s);return p.createLinearRing(le);case"POLYGON":var de=this.parsePolygonText_();return de&&de.length!==0?o(de):p.createPolygon();case"MULTIPOINT":var ye=this.parseMultiPointText_();if(!ye||ye.length===0)return p.createMultiPoint();var be=ye.map(s).map((function(tt){return p.createPoint(tt)}));return p.createMultiPoint(be);case"MULTILINESTRING":var ze=this.parseMultiLineStringText_().map((function(tt){return p.createLineString(tt.map(s))}));return p.createMultiLineString(ze);case"MULTIPOLYGON":var Ge=this.parseMultiPolygonText_();if(!Ge||Ge.length===0)return p.createMultiPolygon();var Ve=Ge.map(o);return p.createMultiPolygon(Ve);default:throw new Error("Invalid geometry type: "+S)}}throw new Error(this.formatErrorMessage_())}}])})();function gr(p){if(p.isEmpty())return"";var s=p.getCoordinate(),o=[s.x,s.y];return s.z===void 0||Number.isNaN(s.z)||o.push(s.z),s.m===void 0||Number.isNaN(s.m)||o.push(s.m),o.join(" ")}function Zi(p){for(var s=p.getCoordinates().map((function(C){var I=[C.x,C.y];return C.z===void 0||Number.isNaN(C.z)||I.push(C.z),C.m===void 0||Number.isNaN(C.m)||I.push(C.m),I})),o=[],d=0,S=s.length;d<S;++d)o.push(s[d].join(" "));return o.join(", ")}function Mi(p){var s=[];s.push("("+Zi(p.getExteriorRing())+")");for(var o=0,d=p.getNumInteriorRing();o<d;++o)s.push("("+Zi(p.getInteriorRingN(o))+")");return s.join(", ")}var yo={Point:gr,LineString:Zi,LinearRing:Zi,Polygon:Mi,MultiPoint:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push("("+gr(p.getGeometryN(o))+")");return s.join(", ")},MultiLineString:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push("("+Zi(p.getGeometryN(o))+")");return s.join(", ")},MultiPolygon:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push("("+Mi(p.getGeometryN(o))+")");return s.join(", ")},GeometryCollection:function(p){for(var s=[],o=0,d=p.getNumGeometries();o<d;++o)s.push(Kr(p.getGeometryN(o)));return s.join(", ")}};function Kr(p){var s=p.getGeometryType(),o=yo[s];s=s.toUpperCase();var d=(function(S){var C="";if(S.isEmpty())return C;var I=S.getCoordinate();return I.z===void 0||Number.isNaN(I.z)||(C+="Z"),I.m===void 0||Number.isNaN(I.m)||(C+="M"),C})(p);return d.length>0&&(s+=" "+d),p.isEmpty()?s+" "+Ds:s+" ("+o(p)+")"}var As=(function(){return g((function p(s){r(this,p),this.geometryFactory=s||new Hi,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(p){var s=new pr(p);return new en(s,this.geometryFactory).parse()}},{key:"write",value:function(p){return Kr(p)}}])})(),$r=(function(){return g((function p(s){r(this,p),this.parser=new As(s)}),[{key:"write",value:function(p){return this.parser.write(p)}}],[{key:"toLineString",value:function(p,s){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+p.x+" "+p.y+", "+s.x+" "+s.y+" )"}}])})(),Vt=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getIndexAlongSegment",value:function(s,o){return this.computeIntLineIndex(),this._intLineIndex[s][o]}},{key:"getTopologySummary",value:function(){var s=new dr;return this.isEndPoint()&&s.append(" endpoint"),this._isProper&&s.append(" proper"),this.isCollinear()&&s.append(" collinear"),s.toString()}},{key:"computeIntersection",value:function(s,o,d,S){this._inputLines[0][0]=s,this._inputLines[0][1]=o,this._inputLines[1][0]=d,this._inputLines[1][1]=S,this._result=this.computeIntersect(s,o,d,S)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var s=arguments[0];this.getEdgeDistance(s,0)>this.getEdgeDistance(s,1)?(this._intLineIndex[s][0]=0,this._intLineIndex[s][1]=1):(this._intLineIndex[s][0]=1,this._intLineIndex[s][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(s){this._precisionModel=s}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var s=arguments[0],o=0;o<this._result;o++)if(!this._intPt[o].equals2D(this._inputLines[s][0])&&!this._intPt[o].equals2D(this._inputLines[s][1]))return!0;return!1}}},{key:"getIntersection",value:function(s){return this._intPt[s]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==p.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(s,o){return p.computeEdgeDistance(this._intPt[o],this._inputLines[s][0],this._inputLines[s][1])}},{key:"isCollinear",value:function(){return this._result===p.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return $r.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+$r.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(s,o){return this._inputLines[s][o]}},{key:"isIntersection",value:function(s){for(var o=0;o<this._result;o++)if(this._intPt[o].equals2D(s))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(s,o){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[s][o]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new he,this._intPt[1]=new he,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(s,o,d){var S=Math.abs(d.x-o.x),C=Math.abs(d.y-o.y),I=-1;if(s.equals(o))I=0;else if(s.equals(d))I=S>C?S:C;else{var H=Math.abs(s.x-o.x),le=Math.abs(s.y-o.y);(I=S>C?H:le)!==0||s.equals(o)||(I=Math.max(H,le))}return pe.isTrue(!(I===0&&!s.equals(o)),"Bad distance calculation"),I}},{key:"nonRobustComputeEdgeDistance",value:function(s,o,d){var S=s.x-o.x,C=s.y-o.y,I=Math.sqrt(S*S+C*C);return pe.isTrue(!(I===0&&!s.equals(o)),"Invalid distance calculation"),I}}])})();Vt.DONT_INTERSECT=0,Vt.DO_INTERSECT=1,Vt.COLLINEAR=2,Vt.NO_INTERSECTION=0,Vt.POINT_INTERSECTION=1,Vt.COLLINEAR_INTERSECTION=2;var mr=(function(p){function s(){return r(this,s),l(this,s)}return x(s,p),g(s,[{key:"isInSegmentEnvelopes",value:function(o){var d=new Me(this._inputLines[0][0],this._inputLines[0][1]),S=new Me(this._inputLines[1][0],this._inputLines[1][1]);return d.contains(o)&&S.contains(o)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return B(s,"computeIntersection",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1],S=arguments[2];if(this._isProper=!1,Me.intersects(d,S,o)&&it.index(d,S,o)===0&&it.index(S,d,o)===0)return this._isProper=!0,(o.equals(d)||o.equals(S))&&(this._isProper=!1),this._result=Vt.POINT_INTERSECTION,null;this._result=Vt.NO_INTERSECTION}},{key:"intersection",value:function(o,d,S,C){var I=this.intersectionSafe(o,d,S,C);return this.isInSegmentEnvelopes(I)||(I=new he(s.nearestEndpoint(o,d,S,C))),this._precisionModel!==null&&this._precisionModel.makePrecise(I),I}},{key:"checkDD",value:function(o,d,S,C,I){var H=Jr.intersection(o,d,S,C),le=this.isInSegmentEnvelopes(H);Ei.out.println("DD in env = "+le+"  --------------------- "+H),I.distance(H)>1e-4&&Ei.out.println("Distance = "+I.distance(H))}},{key:"intersectionSafe",value:function(o,d,S,C){var I=fo.intersection(o,d,S,C);return I===null&&(I=s.nearestEndpoint(o,d,S,C)),I}},{key:"computeCollinearIntersection",value:function(o,d,S,C){var I=Me.intersects(o,d,S),H=Me.intersects(o,d,C),le=Me.intersects(S,C,o),de=Me.intersects(S,C,d);return I&&H?(this._intPt[0]=S,this._intPt[1]=C,Vt.COLLINEAR_INTERSECTION):le&&de?(this._intPt[0]=o,this._intPt[1]=d,Vt.COLLINEAR_INTERSECTION):I&&le?(this._intPt[0]=S,this._intPt[1]=o,!S.equals(o)||H||de?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):I&&de?(this._intPt[0]=S,this._intPt[1]=d,!S.equals(d)||H||le?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):H&&le?(this._intPt[0]=C,this._intPt[1]=o,!C.equals(o)||I||de?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):H&&de?(this._intPt[0]=C,this._intPt[1]=d,!C.equals(d)||I||le?Vt.COLLINEAR_INTERSECTION:Vt.POINT_INTERSECTION):Vt.NO_INTERSECTION}},{key:"computeIntersect",value:function(o,d,S,C){if(this._isProper=!1,!Me.intersects(o,d,S,C))return Vt.NO_INTERSECTION;var I=it.index(o,d,S),H=it.index(o,d,C);if(I>0&&H>0||I<0&&H<0)return Vt.NO_INTERSECTION;var le=it.index(S,C,o),de=it.index(S,C,d);return le>0&&de>0||le<0&&de<0?Vt.NO_INTERSECTION:I===0&&H===0&&le===0&&de===0?this.computeCollinearIntersection(o,d,S,C):(I===0||H===0||le===0||de===0?(this._isProper=!1,o.equals2D(S)||o.equals2D(C)?this._intPt[0]=o:d.equals2D(S)||d.equals2D(C)?this._intPt[0]=d:I===0?this._intPt[0]=new he(S):H===0?this._intPt[0]=new he(C):le===0?this._intPt[0]=new he(o):de===0&&(this._intPt[0]=new he(d))):(this._isProper=!0,this._intPt[0]=this.intersection(o,d,S,C)),Vt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(o,d,S,C){var I=o,H=li.pointToSegment(o,S,C),le=li.pointToSegment(d,S,C);return le<H&&(H=le,I=d),(le=li.pointToSegment(S,o,d))<H&&(H=le,I=S),(le=li.pointToSegment(C,o,d))<H&&(H=le,I=C),I}}])})(Vt),ma=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"countSegment",value:function(s,o){if(s.x<this._p.x&&o.x<this._p.x)return null;if(this._p.x===o.x&&this._p.y===o.y)return this._isPointOnSegment=!0,null;if(s.y===this._p.y&&o.y===this._p.y){var d=s.x,S=o.x;return d>S&&(d=o.x,S=s.x),this._p.x>=d&&this._p.x<=S&&(this._isPointOnSegment=!0),null}if(s.y>this._p.y&&o.y<=this._p.y||o.y>this._p.y&&s.y<=this._p.y){var C=it.index(s,o,this._p);if(C===it.COLLINEAR)return this._isPointOnSegment=!0,null;o.y<s.y&&(C=-C),C===it.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==fe.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?fe.BOUNDARY:this._crossingCount%2==1?fe.INTERIOR:fe.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var s=arguments[0];this._p=s}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof he&&He(arguments[1],_t)){for(var s=arguments[1],o=new p(arguments[0]),d=new he,S=new he,C=1;C<s.size();C++)if(s.getCoordinate(C,d),s.getCoordinate(C-1,S),o.countSegment(d,S),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof he&&arguments[1]instanceof Array){for(var I=arguments[1],H=new p(arguments[0]),le=1;le<I.length;le++){var de=I[le],ye=I[le-1];if(H.countSegment(de,ye),H.isOnSegment())return H.getLocation()}return H.getLocation()}}}])})(),ui=(function(){function p(){r(this,p)}return g(p,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof he&&He(arguments[1],_t)){for(var s=arguments[0],o=arguments[1],d=new mr,S=new he,C=new he,I=o.size(),H=1;H<I;H++)if(o.getCoordinate(H-1,S),o.getCoordinate(H,C),d.computeIntersection(s,S,C),d.hasIntersection())return!0;return!1}if(arguments[0]instanceof he&&arguments[1]instanceof Array){for(var le=arguments[0],de=arguments[1],ye=new mr,be=1;be<de.length;be++){var ze=de[be-1],Ge=de[be];if(ye.computeIntersection(le,ze,Ge),ye.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(s,o){return ma.locatePointInRing(s,o)}},{key:"isInRing",value:function(s,o){return p.locateInRing(s,o)!==fe.EXTERIOR}}])})(),ni=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"setAllLocations",value:function(s){for(var o=0;o<this.location.length;o++)this.location[o]=s}},{key:"isNull",value:function(){for(var s=0;s<this.location.length;s++)if(this.location[s]!==fe.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(s){for(var o=0;o<this.location.length;o++)this.location[o]===fe.NONE&&(this.location[o]=s)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(s){if(s.location.length>this.location.length){var o=new Array(3).fill(null);o[Oe.ON]=this.location[Oe.ON],o[Oe.LEFT]=fe.NONE,o[Oe.RIGHT]=fe.NONE,this.location=o}for(var d=0;d<this.location.length;d++)this.location[d]===fe.NONE&&d<s.location.length&&(this.location[d]=s.location[d])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var s=this.location[Oe.LEFT];this.location[Oe.LEFT]=this.location[Oe.RIGHT],this.location[Oe.RIGHT]=s}},{key:"toString",value:function(){var s=new Tn;return this.location.length>1&&s.append(fe.toLocationSymbol(this.location[Oe.LEFT])),s.append(fe.toLocationSymbol(this.location[Oe.ON])),this.location.length>1&&s.append(fe.toLocationSymbol(this.location[Oe.RIGHT])),s.toString()}},{key:"setLocations",value:function(s,o,d){this.location[Oe.ON]=s,this.location[Oe.LEFT]=o,this.location[Oe.RIGHT]=d}},{key:"get",value:function(s){return s<this.location.length?this.location[s]:fe.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var s=0;s<this.location.length;s++)if(this.location[s]===fe.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var s=arguments[0];this.setLocation(Oe.ON,s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.location[o]=d}}},{key:"init",value:function(s){this.location=new Array(s).fill(null),this.setAllLocations(fe.NONE)}},{key:"isEqualOnSide",value:function(s,o){return this.location[o]===s.location[o]}},{key:"allPositionsEqual",value:function(s){for(var o=0;o<this.location.length;o++)if(this.location[o]!==s)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var o=arguments[0];this.init(1),this.location[Oe.ON]=o}else if(arguments[0]instanceof p){var d=arguments[0];if(this.init(d.location.length),d!==null)for(var S=0;S<this.location.length;S++)this.location[S]=d.location[S]}}else if(arguments.length===3){var C=arguments[0],I=arguments[1],H=arguments[2];this.init(3),this.location[Oe.ON]=C,this.location[Oe.LEFT]=I,this.location[Oe.RIGHT]=H}}}])})(),Un=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getGeometryCount",value:function(){var s=0;return this.elt[0].isNull()||s++,this.elt[1].isNull()||s++,s}},{key:"setAllLocations",value:function(s,o){this.elt[s].setAllLocations(o)}},{key:"isNull",value:function(s){return this.elt[s].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var s=arguments[0];this.setAllLocationsIfNull(0,s),this.setAllLocationsIfNull(1,s)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.elt[o].setAllLocationsIfNull(d)}}},{key:"isLine",value:function(s){return this.elt[s].isLine()}},{key:"merge",value:function(s){for(var o=0;o<2;o++)this.elt[o]===null&&s.elt[o]!==null?this.elt[o]=new ni(s.elt[o]):this.elt[o].merge(s.elt[o])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var s=arguments[0];return this.elt[s].get(Oe.ON)}if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.elt[o].get(d)}}},{key:"toString",value:function(){var s=new Tn;return this.elt[0]!==null&&(s.append("A:"),s.append(this.elt[0].toString())),this.elt[1]!==null&&(s.append(" B:"),s.append(this.elt[1].toString())),s.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var s=arguments[0];return this.elt[s].isArea()}}},{key:"isAnyNull",value:function(s){return this.elt[s].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];this.elt[s].setLocation(Oe.ON,o)}else if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2];this.elt[d].setLocation(S,C)}}},{key:"isEqualOnSide",value:function(s,o){return this.elt[0].isEqualOnSide(s.elt[0],o)&&this.elt[1].isEqualOnSide(s.elt[1],o)}},{key:"allPositionsEqual",value:function(s,o){return this.elt[s].allPositionsEqual(o)}},{key:"toLine",value:function(s){this.elt[s].isArea()&&(this.elt[s]=new ni(this.elt[s].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var s=arguments[0];this.elt[0]=new ni(s),this.elt[1]=new ni(s)}else if(arguments[0]instanceof p){var o=arguments[0];this.elt[0]=new ni(o.elt[0]),this.elt[1]=new ni(o.elt[1])}}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.elt[0]=new ni(fe.NONE),this.elt[1]=new ni(fe.NONE),this.elt[d].setLocation(S)}else if(arguments.length===3){var C=arguments[0],I=arguments[1],H=arguments[2];this.elt[0]=new ni(C,I,H),this.elt[1]=new ni(C,I,H)}else if(arguments.length===4){var le=arguments[0],de=arguments[1],ye=arguments[2],be=arguments[3];this.elt[0]=new ni(fe.NONE,fe.NONE,fe.NONE),this.elt[1]=new ni(fe.NONE,fe.NONE,fe.NONE),this.elt[le].setLocations(de,ye,be)}}},{key:"toLineLabel",value:function(s){for(var o=new p(fe.NONE),d=0;d<2;d++)o.setLocation(d,s.getLocation(d));return o}}])})(),_r=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var p=new Array(this._pts.size()).fill(null),s=0;s<this._pts.size();s++)p[s]=this._pts.get(s);this._ring=this._geometryFactory.createLinearRing(p),this._isHole=it.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(p){this._startDe=p;var s=p,o=!0;do{if(s===null)throw new vn("Found null DirectedEdge");if(s.getEdgeRing()===this)throw new vn("Directed Edge visited twice during ring-building at "+s.getCoordinate());this._edges.add(s);var d=s.getLabel();pe.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(s.getEdge(),s.isForward(),o),o=!1,this.setEdgeRing(s,this),s=this.getNext(s)}while(s!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(p){return this._pts.get(p)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var p=this._startDe;do{var s=p.getNode().getEdges().getOutgoingDegree(this);s>this._maxNodeDegree&&(this._maxNodeDegree=s),p=this.getNext(p)}while(p!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(p,s,o){var d=p.getCoordinates();if(s){var S=1;o&&(S=0);for(var C=S;C<d.length;C++)this._pts.add(d[C])}else{var I=d.length-2;o&&(I=d.length-1);for(var H=I;H>=0;H--)this._pts.add(d[H])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var p=this._startDe;do p.getEdge().setInResult(!0),p=p.getNext();while(p!==this._startDe)}},{key:"containsPoint",value:function(p){var s=this.getLinearRing();if(!s.getEnvelopeInternal().contains(p)||!ui.isInRing(p,s.getCoordinates()))return!1;for(var o=this._holes.iterator();o.hasNext();)if(o.next().containsPoint(p))return!1;return!0}},{key:"addHole",value:function(p){this._holes.add(p)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var p=arguments[0];this.mergeLabel(p,0),this.mergeLabel(p,1)}else if(arguments.length===2){var s=arguments[1],o=arguments[0].getLocation(s,Oe.RIGHT);if(o===fe.NONE)return null;if(this._label.getLocation(s)===fe.NONE)return this._label.setLocation(s,o),null}}},{key:"setShell",value:function(p){this._shell=p,p!==null&&p.addHole(this)}},{key:"toPolygon",value:function(p){for(var s=new Array(this._holes.size()).fill(null),o=0;o<this._holes.size();o++)s[o]=this._holes.get(o).getLinearRing();return p.createPolygon(this.getLinearRing(),s)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new $e,this._pts=new $e,this._label=new Un(fe.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new $e,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var p=arguments[0],s=arguments[1];this._geometryFactory=s,this.computePoints(p),this.computeRing()}}}}])})(),st=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"setEdgeRing",value:function(o,d){o.setMinEdgeRing(d)}},{key:"getNext",value:function(o){return o.getNextMin()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];_r.constructor_.call(this,o,d)}}])})(_r),Ri=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"buildMinimalRings",value:function(){var o=new $e,d=this._startDe;do{if(d.getMinEdgeRing()===null){var S=new st(d,this._geometryFactory);o.add(S)}d=d.getNext()}while(d!==this._startDe);return o}},{key:"setEdgeRing",value:function(o,d){o.setEdgeRing(d)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var o=this._startDe;do o.getNode().getEdges().linkMinimalDirectedEdges(this),o=o.getNext();while(o!==this._startDe)}},{key:"getNext",value:function(o){return o.getNext()}}],[{key:"constructor_",value:function(){var o=arguments[0],d=arguments[1];_r.constructor_.call(this,o,d)}}])})(_r),zt=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(p){this._isVisited=p}},{key:"setInResult",value:function(p){this._isInResult=p}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(p){this._label=p}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(p){this._isCovered=p,this._isCoveredSet=!0}},{key:"updateIM",value:function(p){pe.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(p)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var p=arguments[0];this._label=p}}}}])})(),_a=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"isIncidentEdgeInResult",value:function(){for(var o=this.getEdges().getEdges().iterator();o.hasNext();)if(o.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(o){o.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(o){}},{key:"computeMergedLocation",value:function(o,d){var S=fe.NONE;if(S=this._label.getLocation(d),!o.isNull(d)){var C=o.getLocation(d);S!==fe.BOUNDARY&&(S=C)}return S}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return B(s,"setLabel",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];this._label===null?this._label=new Un(o,d):this._label.setLocation(o,d)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof s){var o=arguments[0];this.mergeLabel(o._label)}else if(arguments[0]instanceof Un)for(var d=arguments[0],S=0;S<2;S++){var C=this.computeMergedLocation(d,S);this._label.getLocation(S)===fe.NONE&&this._label.setLocation(S,C)}}},{key:"add",value:function(o){this._edges.insert(o),o.setNode(this)}},{key:"setLabelBoundary",value:function(o){if(this._label===null)return null;var d=fe.NONE;this._label!==null&&(d=this._label.getLocation(o));var S=null;switch(d){case fe.BOUNDARY:S=fe.INTERIOR;break;case fe.INTERIOR:default:S=fe.BOUNDARY}this._label.setLocation(o,S)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var o=arguments[0],d=arguments[1];this._coord=o,this._edges=d,this._label=new Un(0,fe.NONE)}}])})(zt),ea=(function(p){function s(){return r(this,s),l(this,s,arguments)}return x(s,p),g(s)})(Nr);function wi(p){return p==null?0:p.color}function Tt(p){return p==null?null:p.parent}function Sn(p,s){p!==null&&(p.color=s)}function Ci(p){return p==null?null:p.left}function Ir(p){return p==null?null:p.right}var rn=(function(p){function s(){var o;return r(this,s),(o=l(this,s)).root_=null,o.size_=0,o}return x(s,p),g(s,[{key:"get",value:function(o){for(var d=this.root_;d!==null;){var S=o.compareTo(d.key);if(S<0)d=d.left;else{if(!(S>0))return d.value;d=d.right}}return null}},{key:"put",value:function(o,d){if(this.root_===null)return this.root_={key:o,value:d,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var S,C,I=this.root_;do if(S=I,(C=o.compareTo(I.key))<0)I=I.left;else{if(!(C>0)){var H=I.value;return I.value=d,H}I=I.right}while(I!==null);var le={key:o,left:null,right:null,value:d,parent:S,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return C<0?S.left=le:S.right=le,this.fixAfterInsertion(le),this.size_++,null}},{key:"fixAfterInsertion",value:function(o){var d;for(o.color=1;o!=null&&o!==this.root_&&o.parent.color===1;)Tt(o)===Ci(Tt(Tt(o)))?wi(d=Ir(Tt(Tt(o))))===1?(Sn(Tt(o),0),Sn(d,0),Sn(Tt(Tt(o)),1),o=Tt(Tt(o))):(o===Ir(Tt(o))&&(o=Tt(o),this.rotateLeft(o)),Sn(Tt(o),0),Sn(Tt(Tt(o)),1),this.rotateRight(Tt(Tt(o)))):wi(d=Ci(Tt(Tt(o))))===1?(Sn(Tt(o),0),Sn(d,0),Sn(Tt(Tt(o)),1),o=Tt(Tt(o))):(o===Ci(Tt(o))&&(o=Tt(o),this.rotateRight(o)),Sn(Tt(o),0),Sn(Tt(Tt(o)),1),this.rotateLeft(Tt(Tt(o))));this.root_.color=0}},{key:"values",value:function(){var o=new $e,d=this.getFirstEntry();if(d!==null)for(o.add(d.value);(d=s.successor(d))!==null;)o.add(d.value);return o}},{key:"entrySet",value:function(){var o=new wt,d=this.getFirstEntry();if(d!==null)for(o.add(d);(d=s.successor(d))!==null;)o.add(d);return o}},{key:"rotateLeft",value:function(o){if(o!=null){var d=o.right;o.right=d.left,d.left!=null&&(d.left.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.left===o?o.parent.left=d:o.parent.right=d,d.left=o,o.parent=d}}},{key:"rotateRight",value:function(o){if(o!=null){var d=o.left;o.left=d.right,d.right!=null&&(d.right.parent=o),d.parent=o.parent,o.parent==null?this.root_=d:o.parent.right===o?o.parent.right=d:o.parent.left=d,d.right=o,o.parent=d}}},{key:"getFirstEntry",value:function(){var o=this.root_;if(o!=null)for(;o.left!=null;)o=o.left;return o}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(o){for(var d=this.root_;d!==null;){var S=o.compareTo(d.key);if(S<0)d=d.left;else{if(!(S>0))return!0;d=d.right}}return!1}}],[{key:"successor",value:function(o){var d;if(o===null)return null;if(o.right!==null){for(d=o.right;d.left!==null;)d=d.left;return d}d=o.parent;for(var S=o;d!==null&&S===d.right;)S=d,d=d.parent;return d}}])})(ea),yr=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"find",value:function(p){return this.nodeMap.get(p)}},{key:"addNode",value:function(){if(arguments[0]instanceof he){var p=arguments[0],s=this.nodeMap.get(p);return s===null&&(s=this.nodeFact.createNode(p),this.nodeMap.put(p,s)),s}if(arguments[0]instanceof _a){var o=arguments[0],d=this.nodeMap.get(o.getCoordinate());return d===null?(this.nodeMap.put(o.getCoordinate(),o),o):(d.mergeLabel(o),d)}}},{key:"print",value:function(p){for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(p){for(var s=new $e,o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().getLocation(p)===fe.BOUNDARY&&s.add(d)}return s}},{key:"add",value:function(p){var s=p.getCoordinate();this.addNode(s).add(p)}}],[{key:"constructor_",value:function(){this.nodeMap=new rn,this.nodeFact=null;var p=arguments[0];this.nodeFact=p}}])})(),wn=(function(){function p(){r(this,p)}return g(p,null,[{key:"isNorthern",value:function(s){return s===p.NE||s===p.NW}},{key:"isOpposite",value:function(s,o){return s!==o&&(s-o+4)%4===2}},{key:"commonHalfPlane",value:function(s,o){if(s===o)return s;if((s-o+4)%4===2)return-1;var d=s<o?s:o;return d===0&&(s>o?s:o)===3?3:d}},{key:"isInHalfPlane",value:function(s,o){return o===p.SE?s===p.SE||s===p.SW:s===o||s===o+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1];if(s===0&&o===0)throw new W("Cannot compute the quadrant for point ( "+s+", "+o+" )");return s>=0?o>=0?p.NE:p.SE:o>=0?p.NW:p.SW}if(arguments[0]instanceof he&&arguments[1]instanceof he){var d=arguments[0],S=arguments[1];if(S.x===d.x&&S.y===d.y)throw new W("Cannot compute the quadrant for two identical points "+d);return S.x>=d.x?S.y>=d.y?p.NE:p.SE:S.y>=d.y?p.NW:p.SW}}}])})();wn.NE=0,wn.NW=1,wn.SW=2,wn.SE=3;var ya=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"compareDirection",value:function(s){return this._dx===s._dx&&this._dy===s._dy?0:this._quadrant>s._quadrant?1:this._quadrant<s._quadrant?-1:it.index(s._p0,s._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(s){this._node=s}},{key:"print",value:function(s){var o=Math.atan2(this._dy,this._dx),d=this.getClass().getName(),S=d.lastIndexOf("."),C=d.substring(S+1);s.print("  "+C+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+o+"   "+this._label)}},{key:"compareTo",value:function(s){var o=s;return this.compareDirection(o)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var s=Math.atan2(this._dy,this._dx),o=this.getClass().getName(),d=o.lastIndexOf(".");return"  "+o.substring(d+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+s+"   "+this._label}},{key:"computeLabel",value:function(s){}},{key:"init",value:function(s,o){this._p0=s,this._p1=o,this._dx=o.x-s.x,this._dy=o.y-s.y,this._quadrant=wn.quadrant(this._dx,this._dy),pe.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var s=arguments[0];this._edge=s}else if(arguments.length===3){var o=arguments[0],d=arguments[1],S=arguments[2];p.constructor_.call(this,o,d,S,null)}else if(arguments.length===4){var C=arguments[0],I=arguments[1],H=arguments[2],le=arguments[3];p.constructor_.call(this,C),this.init(I,H),this._label=le}}}])})(),ks=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(o){return this._depth[o]}},{key:"setVisited",value:function(o){this._isVisited=o}},{key:"computeDirectedLabel",value:function(){this._label=new Un(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(o,d){if(this._depth[o]!==-999&&this._depth[o]!==d)throw new vn("assigned depths do not match",this.getCoordinate());this._depth[o]=d}},{key:"isInteriorAreaEdge",value:function(){for(var o=!0,d=0;d<2;d++)this._label.isArea(d)&&this._label.getLocation(d,Oe.LEFT)===fe.INTERIOR&&this._label.getLocation(d,Oe.RIGHT)===fe.INTERIOR||(o=!1);return o}},{key:"setNextMin",value:function(o){this._nextMin=o}},{key:"print",value:function(o){B(s,"print",this,1).call(this,o),o.print(" "+this._depth[Oe.LEFT]+"/"+this._depth[Oe.RIGHT]),o.print(" ("+this.getDepthDelta()+")"),this._isInResult&&o.print(" inResult")}},{key:"setMinEdgeRing",value:function(o){this._minEdgeRing=o}},{key:"isLineEdge",value:function(){var o=this._label.isLine(0)||this._label.isLine(1),d=!this._label.isArea(0)||this._label.allPositionsEqual(0,fe.EXTERIOR),S=!this._label.isArea(1)||this._label.allPositionsEqual(1,fe.EXTERIOR);return o&&d&&S}},{key:"setEdgeRing",value:function(o){this._edgeRing=o}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var o=this._edge.getDepthDelta();return this._isForward||(o=-o),o}},{key:"setInResult",value:function(o){this._isInResult=o}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(o){this.print(o),o.print(" "),this._isForward?this._edge.print(o):this._edge.printReverse(o)}},{key:"setSym",value:function(o){this._sym=o}},{key:"setVisitedEdge",value:function(o){this.setVisited(o),this._sym.setVisited(o)}},{key:"setEdgeDepths",value:function(o,d){var S=this.getEdge().getDepthDelta();this._isForward||(S=-S);var C=1;o===Oe.LEFT&&(C=-1);var I=Oe.opposite(o),H=d+S*C;this.setDepth(o,d),this.setDepth(I,H)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(o){this._next=o}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var o=arguments[0],d=arguments[1];if(ya.constructor_.call(this,o),this._isForward=d,d)this.init(o.getCoordinate(0),o.getCoordinate(1));else{var S=o.getNumPoints()-1;this.init(o.getCoordinate(S),o.getCoordinate(S-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(o,d){return o===fe.EXTERIOR&&d===fe.INTERIOR?1:o===fe.INTERIOR&&d===fe.EXTERIOR?-1:0}}])})(ya),Yn=(function(){return g((function p(){r(this,p)}),[{key:"createNode",value:function(p){return new _a(p,null)}}])})(),Xi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(p){p.println("Edges:");for(var s=0;s<this._edges.size();s++){p.println("edge "+s+":");var o=this._edges.get(s);o.print(p),o.eiList.print(p)}}},{key:"find",value:function(p){return this._nodes.find(p)}},{key:"addNode",value:function(){if(arguments[0]instanceof _a){var p=arguments[0];return this._nodes.addNode(p)}if(arguments[0]instanceof he){var s=arguments[0];return this._nodes.addNode(s)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var p=this._nodes.iterator();p.hasNext();)p.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(p){Ei.out.println(p)}},{key:"isBoundaryNode",value:function(p,s){var o=this._nodes.find(s);if(o===null)return!1;var d=o.getLabel();return d!==null&&d.getLocation(p)===fe.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var p=this._nodes.iterator();p.hasNext();)p.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(p,s,o,d){return!!p.equals(o)&&it.index(p,s,d)===it.COLLINEAR&&wn.quadrant(p,s)===wn.quadrant(o,d)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(p){Ei.out.print(p)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(p,s){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),S=d.getCoordinates();if(this.matchInSameDirection(p,s,S[0],S[1])||this.matchInSameDirection(p,s,S[S.length-1],S[S.length-2]))return d}return null}},{key:"insertEdge",value:function(p){this._edges.add(p)}},{key:"findEdgeEnd",value:function(p){for(var s=this.getEdgeEnds().iterator();s.hasNext();){var o=s.next();if(o.getEdge()===p)return o}return null}},{key:"addEdges",value:function(p){for(var s=p.iterator();s.hasNext();){var o=s.next();this._edges.add(o);var d=new ks(o,!0),S=new ks(o,!1);d.setSym(S),S.setSym(d),this.add(d),this.add(S)}}},{key:"add",value:function(p){this._nodes.add(p),this._edgeEndList.add(p)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(p,s){for(var o=0;o<this._edges.size();o++){var d=this._edges.get(o),S=d.getCoordinates();if(p.equals(S[0])&&s.equals(S[1]))return d}return null}}],[{key:"constructor_",value:function(){if(this._edges=new $e,this._nodes=null,this._edgeEndList=new $e,arguments.length===0)this._nodes=new yr(new Yn);else if(arguments.length===1){var p=arguments[0];this._nodes=new yr(p)}}},{key:"linkResultDirectedEdges",value:function(p){for(var s=p.iterator();s.hasNext();)s.next().getEdges().linkResultDirectedEdges()}}])})(),Ns=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"sortShellsAndHoles",value:function(s,o,d){for(var S=s.iterator();S.hasNext();){var C=S.next();C.isHole()?d.add(C):o.add(C)}}},{key:"computePolygons",value:function(s){for(var o=new $e,d=s.iterator();d.hasNext();){var S=d.next().toPolygon(this._geometryFactory);o.add(S)}return o}},{key:"placeFreeHoles",value:function(s,o){for(var d=o.iterator();d.hasNext();){var S=d.next();if(S.getShell()===null){var C=p.findEdgeRingContaining(S,s);if(C===null)throw new vn("unable to assign hole to a shell",S.getCoordinate(0));S.setShell(C)}}}},{key:"buildMinimalEdgeRings",value:function(s,o,d){for(var S=new $e,C=s.iterator();C.hasNext();){var I=C.next();if(I.getMaxNodeDegree()>2){I.linkDirectedEdgesForMinimalEdgeRings();var H=I.buildMinimalRings(),le=this.findShell(H);le!==null?(this.placePolygonHoles(le,H),o.add(le)):d.addAll(H)}else S.add(I)}return S}},{key:"buildMaximalEdgeRings",value:function(s){for(var o=new $e,d=s.iterator();d.hasNext();){var S=d.next();if(S.isInResult()&&S.getLabel().isArea()&&S.getEdgeRing()===null){var C=new Ri(S,this._geometryFactory);o.add(C),C.setInResult()}}return o}},{key:"placePolygonHoles",value:function(s,o){for(var d=o.iterator();d.hasNext();){var S=d.next();S.isHole()&&S.setShell(s)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(s){for(var o=0,d=null,S=s.iterator();S.hasNext();){var C=S.next();C.isHole()||(d=C,o++)}return pe.isTrue(o<=1,"found two shells in MinimalEdgeRing list"),d}},{key:"add",value:function(){if(arguments.length===1){var s=arguments[0];this.add(s.getEdgeEnds(),s.getNodes())}else if(arguments.length===2){var o=arguments[0],d=arguments[1];Xi.linkResultDirectedEdges(d);var S=this.buildMaximalEdgeRings(o),C=new $e,I=this.buildMinimalEdgeRings(S,this._shellList,C);this.sortShellsAndHoles(I,this._shellList,C),this.placeFreeHoles(this._shellList,C)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new $e;var s=arguments[0];this._geometryFactory=s}},{key:"findEdgeRingContaining",value:function(s,o){for(var d=s.getLinearRing(),S=d.getEnvelopeInternal(),C=d.getCoordinateN(0),I=null,H=null,le=o.iterator();le.hasNext();){var de=le.next(),ye=de.getLinearRing(),be=ye.getEnvelopeInternal();if(!be.equals(S)&&be.contains(S)){C=$t.ptNotInList(d.getCoordinates(),ye.getCoordinates());var ze=!1;ui.isInRing(C,ye.getCoordinates())&&(ze=!0),ze&&(I===null||H.contains(be))&&(H=(I=de).getLinearRing().getEnvelopeInternal())}}return I}}])})(),ta=(function(){return g((function p(){r(this,p)}),[{key:"getBounds",value:function(){}}])})(),dt=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[ta,M]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var p=arguments[0],s=arguments[1];this._bounds=p,this._item=s}}])})(),va=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var p=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),p}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(p){for(var s=null,o=this._items.get(p);2*p<=this._size&&((s=2*p)!==this._size&&this._items.get(s+1).compareTo(this._items.get(s))<0&&s++,this._items.get(s).compareTo(o)<0);p=s)this._items.set(p,this._items.get(s));this._items.set(p,o)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(p){this._items.add(null),this._size+=1;var s=this._size;for(this._items.set(0,p);p.compareTo(this._items.get(Math.trunc(s/2)))<0;s/=2)this._items.set(s,this._items.get(Math.trunc(s/2)));this._items.set(s,p)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new $e,this._items.add(null)}}])})(),gi=(function(){return g((function p(){r(this,p)}),[{key:"insert",value:function(p,s){}},{key:"remove",value:function(p,s){}},{key:"query",value:function(){}}])})(),xn=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(p){pe.isTrue(this._bounds===null),this._childBoundables.add(p)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[ta,M]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new $e,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var p=arguments[0];this._level=p}}}}])})(),Ji={reverseOrder:function(){return{compare:function(p,s){return s.compareTo(p)}}},min:function(p){return Ji.sort(p),p.get(0)},sort:function(p,s){var o=p.toArray();s?On.sort(o,s):On.sort(o);for(var d=p.iterator(),S=0,C=o.length;S<C;S++)d.next(),d.set(o[S])},singletonList:function(p){var s=new $e;return s.add(p),s}},Qo=(function(){function p(){r(this,p)}return g(p,null,[{key:"maxDistance",value:function(s,o,d,S,C,I,H,le){var de=p.distance(s,o,C,I);return de=Math.max(de,p.distance(s,o,H,le)),de=Math.max(de,p.distance(d,S,C,I)),de=Math.max(de,p.distance(d,S,H,le))}},{key:"distance",value:function(s,o,d,S){var C=d-s,I=S-o;return Math.sqrt(C*C+I*I)}},{key:"maximumDistance",value:function(s,o){var d=Math.min(s.getMinX(),o.getMinX()),S=Math.min(s.getMinY(),o.getMinY()),C=Math.max(s.getMaxX(),o.getMaxX()),I=Math.max(s.getMaxY(),o.getMaxY());return p.distance(d,S,C,I)}},{key:"minMaxDistance",value:function(s,o){var d=s.getMinX(),S=s.getMinY(),C=s.getMaxX(),I=s.getMaxY(),H=o.getMinX(),le=o.getMinY(),de=o.getMaxX(),ye=o.getMaxY(),be=p.maxDistance(d,S,d,I,H,le,H,ye);return be=Math.min(be,p.maxDistance(d,S,d,I,H,le,de,le)),be=Math.min(be,p.maxDistance(d,S,d,I,de,ye,H,ye)),be=Math.min(be,p.maxDistance(d,S,d,I,de,ye,de,le)),be=Math.min(be,p.maxDistance(d,S,C,S,H,le,H,ye)),be=Math.min(be,p.maxDistance(d,S,C,S,H,le,de,le)),be=Math.min(be,p.maxDistance(d,S,C,S,de,ye,H,ye)),be=Math.min(be,p.maxDistance(d,S,C,S,de,ye,de,le)),be=Math.min(be,p.maxDistance(C,I,d,I,H,le,H,ye)),be=Math.min(be,p.maxDistance(C,I,d,I,H,le,de,le)),be=Math.min(be,p.maxDistance(C,I,d,I,de,ye,H,ye)),be=Math.min(be,p.maxDistance(C,I,d,I,de,ye,de,le)),be=Math.min(be,p.maxDistance(C,I,C,S,H,le,H,ye)),be=Math.min(be,p.maxDistance(C,I,C,S,H,le,de,le)),be=Math.min(be,p.maxDistance(C,I,C,S,de,ye,H,ye)),be=Math.min(be,p.maxDistance(C,I,C,S,de,ye,de,le))}}])})(),Pr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"maximumDistance",value:function(){return Qo.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(s,o){var d=p.isComposite(this._boundable1),S=p.isComposite(this._boundable2);if(d&&S)return p.area(this._boundable1)>p.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,s,o),null):(this.expand(this._boundable2,this._boundable1,!0,s,o),null);if(d)return this.expand(this._boundable1,this._boundable2,!1,s,o),null;if(S)return this.expand(this._boundable2,this._boundable1,!0,s,o),null;throw new W("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(p.isComposite(this._boundable1)||p.isComposite(this._boundable2))}},{key:"compareTo",value:function(s){var o=s;return this._distance<o._distance?-1:this._distance>o._distance?1:0}},{key:"expand",value:function(s,o,d,S,C){for(var I=s.getChildBoundables().iterator();I.hasNext();){var H=I.next(),le=null;(le=d?new p(o,H,this._itemDistance):new p(H,o,this._itemDistance)).getDistance()<C&&S.add(le)}}},{key:"getBoundable",value:function(s){return s===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var s=arguments[0],o=arguments[1],d=arguments[2];this._boundable1=s,this._boundable2=o,this._itemDistance=d,this._distance=this.distance()}},{key:"area",value:function(s){return s.getBounds().getArea()}},{key:"isComposite",value:function(s){return s instanceof xn}}])})(),Ko=(function(){return g((function p(){r(this,p)}),[{key:"visitItem",value:function(p){}}])})(),na=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"queryInternal",value:function(){if(He(arguments[2],Ko)&&arguments[0]instanceof Object&&arguments[1]instanceof xn)for(var s=arguments[0],o=arguments[2],d=arguments[1].getChildBoundables(),S=0;S<d.size();S++){var C=d.get(S);this.getIntersectsOp().intersects(C.getBounds(),s)&&(C instanceof xn?this.queryInternal(s,C,o):C instanceof dt?o.visitItem(C.getItem()):pe.shouldNeverReachHere())}else if(He(arguments[2],gn)&&arguments[0]instanceof Object&&arguments[1]instanceof xn)for(var I=arguments[0],H=arguments[2],le=arguments[1].getChildBoundables(),de=0;de<le.size();de++){var ye=le.get(de);this.getIntersectsOp().intersects(ye.getBounds(),I)&&(ye instanceof xn?this.queryInternal(I,ye,H):ye instanceof dt?H.add(ye.getItem()):pe.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(s){return s.get(s.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var s=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();d instanceof xn?s+=this.size(d):d instanceof dt&&(s+=1)}return s}}},{key:"removeItem",value:function(s,o){for(var d=null,S=s.getChildBoundables().iterator();S.hasNext();){var C=S.next();C instanceof dt&&C.getItem()===o&&(d=C)}return d!==null&&(s.getChildBoundables().remove(d),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var s=this.itemsTree(this._root);return s===null?new $e:s}if(arguments.length===1){for(var o=arguments[0],d=new $e,S=o.getChildBoundables().iterator();S.hasNext();){var C=S.next();if(C instanceof xn){var I=this.itemsTree(C);I!==null&&d.add(I)}else C instanceof dt?d.add(C.getItem()):pe.shouldNeverReachHere()}return d.size()<=0?null:d}}},{key:"insert",value:function(s,o){pe.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new dt(s,o))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var s=arguments[0],o=new $e;return this.boundablesAtLevel(s,this._root,o),o}if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2];if(pe.isTrue(d>-2),S.getLevel()===d)return C.add(S),null;for(var I=S.getChildBoundables().iterator();I.hasNext();){var H=I.next();H instanceof xn?this.boundablesAtLevel(d,H,C):(pe.isTrue(H instanceof dt),d===-1&&C.add(H))}return null}}},{key:"query",value:function(){if(arguments.length===1){var s=arguments[0];this.build();var o=new $e;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.queryInternal(s,this._root,o),o}if(arguments.length===2){var d=arguments[0],S=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),d)&&this.queryInternal(d,this._root,S)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.remove(s,this._root,o)}if(arguments.length===3){var d=arguments[0],S=arguments[1],C=arguments[2],I=this.removeItem(S,C);if(I)return!0;for(var H=null,le=S.getChildBoundables().iterator();le.hasNext();){var de=le.next();if(this.getIntersectsOp().intersects(de.getBounds(),d)&&de instanceof xn&&(I=this.remove(d,de,C))){H=de;break}}return H!==null&&H.getChildBoundables().isEmpty()&&S.getChildBoundables().remove(H),I}}},{key:"createHigherLevels",value:function(s,o){pe.isTrue(!s.isEmpty());var d=this.createParentBoundables(s,o+1);return d.size()===1?d.get(0):this.createHigherLevels(d,o+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var s=0,o=arguments[0].getChildBoundables().iterator();o.hasNext();){var d=o.next();if(d instanceof xn){var S=this.depth(d);S>s&&(s=S)}}return s+1}}},{key:"createParentBoundables",value:function(s,o){pe.isTrue(!s.isEmpty());var d=new $e;d.add(this.createNode(o));var S=new $e(s);Ji.sort(S,this.getComparator());for(var C=S.iterator();C.hasNext();){var I=C.next();this.lastNode(d).getChildBoundables().size()===this.getNodeCapacity()&&d.add(this.createNode(o)),this.lastNode(d).addChildBoundable(I)}return d}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[M]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new $e,this._nodeCapacity=null,arguments.length===0)p.constructor_.call(this,p.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var s=arguments[0];pe.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}}},{key:"compareDoubles",value:function(s,o){return s>o?1:s<o?-1:0}}])})();na.IntersectsOp=function(){},na.DEFAULT_NODE_CAPACITY=10;var vo=(function(){return g((function p(){r(this,p)}),[{key:"distance",value:function(p,s){}}])})(),Vi=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"createParentBoundablesFromVerticalSlices",value:function(o,d){pe.isTrue(o.length>0);for(var S=new $e,C=0;C<o.length;C++)S.addAll(this.createParentBoundablesFromVerticalSlice(o[C],d));return S}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1];return this.nearestNeighbourK(o,Q.POSITIVE_INFINITY,d)}if(arguments.length===3){var S=arguments[0],C=arguments[2],I=arguments[1],H=new va;H.add(S);for(var le=new va;!H.isEmpty()&&I>=0;){var de=H.poll(),ye=de.getDistance();if(ye>=I)break;de.isLeaves()?le.size()<C?le.add(de):(le.peek().getDistance()>ye&&(le.poll(),le.add(de)),I=le.peek().getDistance()):de.expandToQueue(H,I)}return s.getItems(le)}}},{key:"createNode",value:function(o){return new Os(o)}},{key:"size",value:function(){return arguments.length===0?B(s,"size",this,1).call(this):B(s,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Me))return B(s,"insert",this,1).apply(this,arguments);var o=arguments[0],d=arguments[1];if(o.isNull())return null;B(s,"insert",this,1).call(this,o,d)}},{key:"getIntersectsOp",value:function(){return s.intersectsOp}},{key:"verticalSlices",value:function(o,d){for(var S=Math.trunc(Math.ceil(o.size()/d)),C=new Array(d).fill(null),I=o.iterator(),H=0;H<d;H++){C[H]=new $e;for(var le=0;I.hasNext()&&le<S;){var de=I.next();C[H].add(de),le++}}return C}},{key:"query",value:function(){if(arguments.length===1){var o=arguments[0];return B(s,"query",this,1).call(this,o)}if(arguments.length===2){var d=arguments[0],S=arguments[1];B(s,"query",this,1).call(this,d,S)}}},{key:"getComparator",value:function(){return s.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(o,d){return B(s,"createParentBoundables",this,1).call(this,o,d)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof Me){var o=arguments[0],d=arguments[1];return B(s,"remove",this,1).call(this,o,d)}return B(s,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?B(s,"depth",this,1).call(this):B(s,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(o,d){pe.isTrue(!o.isEmpty());var S=Math.trunc(Math.ceil(o.size()/this.getNodeCapacity())),C=new $e(o);Ji.sort(C,s.xComparator);var I=this.verticalSlices(C,Math.trunc(Math.ceil(Math.sqrt(S))));return this.createParentBoundablesFromVerticalSlices(I,d)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(He(arguments[0],vo)){var o=arguments[0];if(this.isEmpty())return null;var d=new Pr(this.getRoot(),this.getRoot(),o);return this.nearestNeighbour(d)}if(arguments[0]instanceof Pr){var S=arguments[0],C=Q.POSITIVE_INFINITY,I=null,H=new va;for(H.add(S);!H.isEmpty()&&C>0;){var le=H.poll(),de=le.getDistance();if(de>=C)break;le.isLeaves()?(C=de,I=le):le.expandToQueue(H,C)}return I===null?null:[I.getBoundable(0).getItem(),I.getBoundable(1).getItem()]}}else{if(arguments.length===2){var ye=arguments[0],be=arguments[1];if(this.isEmpty()||ye.isEmpty())return null;var ze=new Pr(this.getRoot(),ye.getRoot(),be);return this.nearestNeighbour(ze)}if(arguments.length===3){var Ge=arguments[2],Ve=new dt(arguments[0],arguments[1]),tt=new Pr(this.getRoot(),Ve,Ge);return this.nearestNeighbour(tt)[0]}if(arguments.length===4){var Ct=arguments[2],gt=arguments[3],Yt=new dt(arguments[0],arguments[1]),an=new Pr(this.getRoot(),Yt,Ct);return this.nearestNeighbourK(an,gt)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var o=arguments[0],d=arguments[1],S=Q.POSITIVE_INFINITY,C=new va;for(C.add(o);!C.isEmpty();){var I=C.poll(),H=I.getDistance();if(H>d)return!1;if(I.maximumDistance()<=d)return!0;if(I.isLeaves()){if((S=H)<=d)return!0}else I.expandToQueue(C,S)}return!1}if(arguments.length===3){var le=arguments[0],de=arguments[1],ye=arguments[2],be=new Pr(this.getRoot(),le.getRoot(),de);return this.isWithinDistance(be,ye)}}},{key:"interfaces_",get:function(){return[gi,M]}}],[{key:"constructor_",value:function(){if(arguments.length===0)s.constructor_.call(this,s.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var o=arguments[0];na.constructor_.call(this,o)}}},{key:"centreX",value:function(o){return s.avg(o.getMinX(),o.getMaxX())}},{key:"avg",value:function(o,d){return(o+d)/2}},{key:"getItems",value:function(o){for(var d=new Array(o.size()).fill(null),S=0;!o.isEmpty();){var C=o.poll();d[S]=C.getBoundable(0).getItem(),S++}return d}},{key:"centreY",value:function(o){return s.avg(o.getMinY(),o.getMaxY())}}])})(na),Os=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"computeBounds",value:function(){for(var o=null,d=this.getChildBoundables().iterator();d.hasNext();){var S=d.next();o===null?o=new Me(S.getBounds()):o.expandToInclude(S.getBounds())}return o}}],[{key:"constructor_",value:function(){var o=arguments[0];xn.constructor_.call(this,o)}}])})(xn);Vi.STRtreeNode=Os,Vi.xComparator=new((function(){return g((function p(){r(this,p)}),[{key:"interfaces_",get:function(){return[Y]}},{key:"compare",value:function(p,s){return na.compareDoubles(Vi.centreX(p.getBounds()),Vi.centreX(s.getBounds()))}}])})()),Vi.yComparator=new((function(){return g((function p(){r(this,p)}),[{key:"interfaces_",get:function(){return[Y]}},{key:"compare",value:function(p,s){return na.compareDoubles(Vi.centreY(p.getBounds()),Vi.centreY(s.getBounds()))}}])})()),Vi.intersectsOp=new((function(){return g((function p(){r(this,p)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(p,s){return p.intersects(s)}}])})()),Vi.DEFAULT_NODE_CAPACITY=10;var $l=(function(){function p(){r(this,p)}return g(p,null,[{key:"relativeSign",value:function(s,o){return s<o?-1:s>o?1:0}},{key:"compare",value:function(s,o,d){if(o.equals2D(d))return 0;var S=p.relativeSign(o.x,d.x),C=p.relativeSign(o.y,d.y);switch(s){case 0:return p.compareValue(S,C);case 1:return p.compareValue(C,S);case 2:return p.compareValue(C,-S);case 3:return p.compareValue(-S,C);case 4:return p.compareValue(-S,-C);case 5:return p.compareValue(-C,-S);case 6:return p.compareValue(-C,S);case 7:return p.compareValue(S,-C)}return pe.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(s,o){return s<0?-1:s>0?1:o<0?-1:o>0?1:0}}])})(),Wi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(p){p.print(this.coord),p.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(p){var s=p;return this.segmentIndex<s.segmentIndex?-1:this.segmentIndex>s.segmentIndex?1:this.coord.equals2D(s.coord)?0:this._isInterior?s._isInterior?$l.compare(this._segmentOctant,this.coord,s.coord):1:-1}},{key:"isEndPoint",value:function(p){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===p}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var p=arguments[0],s=arguments[1],o=arguments[2],d=arguments[3];this._segString=p,this.coord=new he(s),this.segmentIndex=o,this._segmentOctant=d,this._isInterior=!s.equals2D(p.getCoordinate(o))}}])})(),eu=(function(){return g((function p(){r(this,p)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),So=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var p=new Qr;this.addEndpoints();for(var s=this.iterator(),o=s.next();s.hasNext();){var d=s.next();this.addEdgeCoordinates(o,d,p),o=d}return p.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var p=new $e;this.findCollapsesFromInsertedNodes(p),this.findCollapsesFromExistingVertices(p);for(var s=p.iterator();s.hasNext();){var o=s.next().intValue();this.add(this._edge.getCoordinate(o),o)}}},{key:"createSplitEdgePts",value:function(p,s){var o=s.segmentIndex-p.segmentIndex+2;if(o===2)return[new he(p.coord),new he(s.coord)];var d=this._edge.getCoordinate(s.segmentIndex),S=s.isInterior()||!s.coord.equals2D(d);S||o--;var C=new Array(o).fill(null),I=0;C[I++]=new he(p.coord);for(var H=p.segmentIndex+1;H<=s.segmentIndex;H++)C[I++]=this._edge.getCoordinate(H);return S&&(C[I]=new he(s.coord)),C}},{key:"print",value:function(p){p.println("Intersections:");for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"findCollapsesFromExistingVertices",value:function(p){for(var s=0;s<this._edge.size()-2;s++){var o=this._edge.getCoordinate(s);this._edge.getCoordinate(s+1);var d=this._edge.getCoordinate(s+2);o.equals2D(d)&&p.add(It.valueOf(s+1))}}},{key:"addEdgeCoordinates",value:function(p,s,o){var d=this.createSplitEdgePts(p,s);o.add(d,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(p){this.addEndpoints(),this.addCollapsedNodes();for(var s=this.iterator(),o=s.next();s.hasNext();){var d=s.next(),S=this.createSplitEdge(o,d);p.add(S),o=d}}},{key:"findCollapseIndex",value:function(p,s,o){if(!p.coord.equals2D(s.coord))return!1;var d=s.segmentIndex-p.segmentIndex;return s.isInterior()||d--,d===1&&(o[0]=p.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(p){for(var s=new Array(1).fill(null),o=this.iterator(),d=o.next();o.hasNext();){var S=o.next();this.findCollapseIndex(d,S,s)&&p.add(It.valueOf(s[0])),d=S}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var p=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(p),p)}},{key:"createSplitEdge",value:function(p,s){var o=this.createSplitEdgePts(p,s);return new vr(o,this._edge.getData())}},{key:"add",value:function(p,s){var o=new Wi(this._edge,p,s,this._edge.getSegmentOctant(s)),d=this._nodeMap.get(o);return d!==null?(pe.isTrue(d.coord.equals2D(p),"Found equal nodes with different coordinates"),d):(this._nodeMap.put(o,o),o)}},{key:"checkSplitEdgesCorrectness",value:function(p){var s=this._edge.getCoordinates(),o=p.get(0).getCoordinate(0);if(!o.equals2D(s[0]))throw new $("bad split edge start point at "+o);var d=p.get(p.size()-1).getCoordinates(),S=d[d.length-1];if(!S.equals2D(s[s.length-1]))throw new $("bad split edge end point at "+S)}}],[{key:"constructor_",value:function(){this._nodeMap=new rn,this._edge=null;var p=arguments[0];this._edge=p}}])})(),Br=(function(){function p(){r(this,p)}return g(p,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],o=arguments[1];if(s===0&&o===0)throw new W("Cannot compute the octant for point ( "+s+", "+o+" )");var d=Math.abs(s),S=Math.abs(o);return s>=0?o>=0?d>=S?0:1:d>=S?7:6:o>=0?d>=S?3:2:d>=S?4:5}if(arguments[0]instanceof he&&arguments[1]instanceof he){var C=arguments[0],I=arguments[1],H=I.x-C.x,le=I.y-C.y;if(H===0&&le===0)throw new W("Cannot compute the octant for two identical points "+C);return p.octant(H,le)}}}])})(),$o=(function(){return g((function p(){r(this,p)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(p){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(p){}},{key:"getData",value:function(){}}])})(),el=(function(){return g((function p(){r(this,p)}),[{key:"addIntersection",value:function(p,s){}},{key:"interfaces_",get:function(){return[$o]}}])})(),vr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(s){return this._pts[s]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(s){return s===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(s),this.getCoordinate(s+1))}},{key:"setData",value:function(s){this._data=s}},{key:"safeOctant",value:function(s,o){return s.equals2D(o)?0:Br.octant(s,o)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var s=arguments[0],o=arguments[1];this.addIntersectionNode(s,o)}else if(arguments.length===4){var d=arguments[1],S=arguments[3],C=new he(arguments[0].getIntersection(S));this.addIntersection(C,d)}}},{key:"toString",value:function(){return $r.toLineString(new dn(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(s,o){var d=o,S=d+1;if(S<this._pts.length){var C=this._pts[S];s.equals2D(C)&&(d=S)}return this._nodeList.add(s,d)}},{key:"addIntersections",value:function(s,o,d){for(var S=0;S<s.getIntersectionNum();S++)this.addIntersection(s,o,d,S)}},{key:"interfaces_",get:function(){return[el]}}],[{key:"constructor_",value:function(){this._nodeList=new So(this),this._pts=null,this._data=null;var s=arguments[0],o=arguments[1];this._pts=s,this._data=o}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var s=arguments[0],o=new $e;return p.getNodedSubstrings(s,o),o}if(arguments.length===2)for(var d=arguments[1],S=arguments[0].iterator();S.hasNext();)S.next().getNodeList().addSplitEdges(d)}}])})(),ii=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof p){var s=arguments[0],o=it.index(this.p0,this.p1,s.p0),d=it.index(this.p0,this.p1,s.p1);return o>=0&&d>=0||o<=0&&d<=0?Math.max(o,d):0}if(arguments[0]instanceof he){var S=arguments[0];return it.index(this.p0,this.p1,S)}}},{key:"toGeometry",value:function(s){return s.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(s){if(!(s instanceof p))return!1;var o=s;return this.p0.equals(o.p0)&&this.p1.equals(o.p1)}},{key:"intersection",value:function(s){var o=new mr;return o.computeIntersection(this.p0,this.p1,s.p0,s.p1),o.hasIntersection()?o.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof he){var s=arguments[0];if(s.equals(this.p0)||s.equals(this.p1))return new he(s);var o=this.projectionFactor(s),d=new he;return d.x=this.p0.x+o*(this.p1.x-this.p0.x),d.y=this.p0.y+o*(this.p1.y-this.p0.y),d}if(arguments[0]instanceof p){var S=arguments[0],C=this.projectionFactor(S.p0),I=this.projectionFactor(S.p1);if(C>=1&&I>=1||C<=0&&I<=0)return null;var H=this.project(S.p0);C<0&&(H=this.p0),C>1&&(H=this.p1);var le=this.project(S.p1);return I<0&&(le=this.p0),I>1&&(le=this.p1),new p(H,le)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(s){return s===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(s){return li.pointToLinePerpendicular(s,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return p.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(s){if(s.equals(this.p0))return 0;if(s.equals(this.p1))return 1;var o=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,S=o*o+d*d;return S<=0?Q.NaN:((s.x-this.p0.x)*o+(s.y-this.p0.y)*d)/S}},{key:"closestPoints",value:function(s){var o=this.intersection(s);if(o!==null)return[o,o];var d=new Array(2).fill(null),S=Q.MAX_VALUE,C=null,I=this.closestPoint(s.p0);S=I.distance(s.p0),d[0]=I,d[1]=s.p0;var H=this.closestPoint(s.p1);(C=H.distance(s.p1))<S&&(S=C,d[0]=H,d[1]=s.p1);var le=s.closestPoint(this.p0);(C=le.distance(this.p0))<S&&(S=C,d[0]=this.p0,d[1]=le);var de=s.closestPoint(this.p1);return(C=de.distance(this.p1))<S&&(S=C,d[0]=this.p1,d[1]=de),d}},{key:"closestPoint",value:function(s){var o=this.projectionFactor(s);return o>0&&o<1?this.project(s):this.p0.distance(s)<this.p1.distance(s)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(s){var o=s,d=this.p0.compareTo(o.p0);return d!==0?d:this.p1.compareTo(o.p1)}},{key:"reverse",value:function(){var s=this.p0;this.p0=this.p1,this.p1=s}},{key:"equalsTopo",value:function(s){return this.p0.equals(s.p0)&&this.p1.equals(s.p1)||this.p0.equals(s.p1)&&this.p1.equals(s.p0)}},{key:"lineIntersection",value:function(s){return fo.intersection(this.p0,this.p1,s.p0,s.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(s,o){var d=this.p0.x+s*(this.p1.x-this.p0.x),S=this.p0.y+s*(this.p1.y-this.p0.y),C=this.p1.x-this.p0.x,I=this.p1.y-this.p0.y,H=Math.sqrt(C*C+I*I),le=0,de=0;if(o!==0){if(H<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");le=o*C/H,de=o*I/H}return new he(d-de,S+le)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var s=arguments[0];this.setCoordinates(s.p0,s.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0.x=o.x,this.p0.y=o.y,this.p1.x=d.x,this.p1.y=d.y}}},{key:"segmentFraction",value:function(s){var o=this.projectionFactor(s);return o<0?o=0:(o>1||Q.isNaN(o))&&(o=1),o}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(s){var o=this.p1.getY()-this.p0.getY(),d=this.p0.getX()-this.p1.getX(),S=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),C=o*o+d*d,I=o*o-d*d,H=s.getX(),le=s.getY();return new he((-I*H-2*o*d*le-2*o*S)/C,(I*le-2*o*d*H-2*d*S)/C)}},{key:"distance",value:function(){if(arguments[0]instanceof p){var s=arguments[0];return li.segmentToSegment(this.p0,this.p1,s.p0,s.p1)}if(arguments[0]instanceof he){var o=arguments[0];return li.pointToSegment(o,this.p0,this.p1)}}},{key:"pointAlong",value:function(s){var o=new he;return o.x=this.p0.x+s*(this.p1.x-this.p0.x),o.y=this.p0.y+s*(this.p1.y-this.p0.y),o}},{key:"hashCode",value:function(){var s=Q.doubleToLongBits(this.p0.x);s^=31*Q.doubleToLongBits(this.p0.y);var o=Math.trunc(s)^Math.trunc(s>>32),d=Q.doubleToLongBits(this.p1.x);return d^=31*Q.doubleToLongBits(this.p1.y),o^(Math.trunc(d)^Math.trunc(d>>32))}},{key:"interfaces_",get:function(){return[ee,M]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)p.constructor_.call(this,new he,new he);else if(arguments.length===1){var s=arguments[0];p.constructor_.call(this,s.p0,s.p1)}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this.p0=o,this.p1=d}else if(arguments.length===4){var S=arguments[0],C=arguments[1],I=arguments[2],H=arguments[3];p.constructor_.call(this,new he(S,C),new he(I,H))}}},{key:"midPoint",value:function(s,o){return new he((s.x+o.x)/2,(s.y+o.y)/2)}}])})(),tl=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var p=arguments[1],s=arguments[2],o=arguments[3];arguments[0].getLineSegment(p,this._overlapSeg1),s.getLineSegment(o,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new ii,this._overlapSeg2=new ii}}])})(),xo=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(p,s){s.p0=this._pts[p],s.p1=this._pts[p+1]}},{key:"computeSelect",value:function(p,s,o,d){var S=this._pts[s],C=this._pts[o];if(o-s==1)return d.select(this,s),null;if(!p.intersects(S,C))return null;var I=Math.trunc((s+o)/2);s<I&&this.computeSelect(p,s,I,d),I<o&&this.computeSelect(p,I,o,d)}},{key:"getCoordinates",value:function(){for(var p=new Array(this._end-this._start+1).fill(null),s=0,o=this._start;o<=this._end;o++)p[s++]=this._pts[o];return p}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var p=arguments[0],s=arguments[1];this.computeOverlaps(this._start,this._end,p,p._start,p._end,s)}else if(arguments.length===6){var o=arguments[0],d=arguments[1],S=arguments[2],C=arguments[3],I=arguments[4],H=arguments[5];if(d-o==1&&I-C==1)return H.overlap(this,o,S,C),null;if(!this.overlaps(o,d,S,C,I))return null;var le=Math.trunc((o+d)/2),de=Math.trunc((C+I)/2);o<le&&(C<de&&this.computeOverlaps(o,le,S,C,de,H),de<I&&this.computeOverlaps(o,le,S,de,I,H)),le<d&&(C<de&&this.computeOverlaps(le,d,S,C,de,H),de<I&&this.computeOverlaps(le,d,S,de,I,H))}}},{key:"setId",value:function(p){this._id=p}},{key:"select",value:function(p,s){this.computeSelect(p,this._start,this._end,s)}},{key:"getEnvelope",value:function(){if(this._env===null){var p=this._pts[this._start],s=this._pts[this._end];this._env=new Me(p,s)}return this._env}},{key:"overlaps",value:function(p,s,o,d,S){return Me.intersects(this._pts[p],this._pts[s],o._pts[d],o._pts[S])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var p=arguments[0],s=arguments[1],o=arguments[2],d=arguments[3];this._pts=p,this._start=s,this._end=o,this._context=d}}])})(),tu=(function(){function p(){r(this,p)}return g(p,null,[{key:"findChainEnd",value:function(s,o){for(var d=o;d<s.length-1&&s[d].equals2D(s[d+1]);)d++;if(d>=s.length-1)return s.length-1;for(var S=wn.quadrant(s[d],s[d+1]),C=o+1;C<s.length&&!(!s[C-1].equals2D(s[C])&&wn.quadrant(s[C-1],s[C])!==S);)C++;return C-1}},{key:"getChains",value:function(){if(arguments.length===1){var s=arguments[0];return p.getChains(s,null)}if(arguments.length===2){var o=arguments[0],d=arguments[1],S=new $e,C=0;do{var I=p.findChainEnd(o,C),H=new xo(o,C,I,d);S.add(H),C=I}while(C<o.length-1);return S}}}])})(),Ms=(function(){return g((function p(){r(this,p)}),[{key:"computeNodes",value:function(p){}},{key:"getNodedSubstrings",value:function(){}}])})(),Rs=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(p){this._segInt=p}},{key:"interfaces_",get:function(){return[Ms]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var p=arguments[0];this.setSegmentIntersector(p)}}}}])})(),Eo=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return vr.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(o){for(var d=tu.getChains(o.getCoordinates(),o).iterator();d.hasNext();){var S=d.next();S.setId(this._idCounter++),this._index.insert(S.getEnvelope(),S),this._monoChains.add(S)}}},{key:"computeNodes",value:function(o){this._nodedSegStrings=o;for(var d=o.iterator();d.hasNext();)this.add(d.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var o=new bo(this._segInt),d=this._monoChains.iterator();d.hasNext();)for(var S=d.next(),C=this._index.query(S.getEnvelope()).iterator();C.hasNext();){var I=C.next();if(I.getId()>S.getId()&&(S.computeOverlaps(I,o),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new $e,this._index=new Vi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var o=arguments[0];Rs.constructor_.call(this,o)}}}}])})(Rs),bo=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"overlap",value:function(){if(arguments.length!==4)return B(s,"overlap",this,1).apply(this,arguments);var o=arguments[1],d=arguments[2],S=arguments[3],C=arguments[0].getContext(),I=d.getContext();this._si.processIntersections(C,o,I,S)}}],[{key:"constructor_",value:function(){this._si=null;var o=arguments[0];this._si=o}}])})(tl);Eo.SegmentOverlapAction=bo;var Li=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isDeletable",value:function(s,o,d,S){var C=this._inputLine[s],I=this._inputLine[o],H=this._inputLine[d];return!!this.isConcave(C,I,H)&&!!this.isShallow(C,I,H,S)&&this.isShallowSampled(C,I,s,d,S)}},{key:"deleteShallowConcavities",value:function(){for(var s=1,o=this.findNextNonDeletedIndex(s),d=this.findNextNonDeletedIndex(o),S=!1;d<this._inputLine.length;){var C=!1;this.isDeletable(s,o,d,this._distanceTol)&&(this._isDeleted[o]=p.DELETE,C=!0,S=!0),s=C?d:o,o=this.findNextNonDeletedIndex(s),d=this.findNextNonDeletedIndex(o)}return S}},{key:"isShallowConcavity",value:function(s,o,d,S){return it.index(s,o,d)===this._angleOrientation&&li.pointToSegment(o,s,d)<S}},{key:"isShallowSampled",value:function(s,o,d,S,C){var I=Math.trunc((S-d)/p.NUM_PTS_TO_CHECK);I<=0&&(I=1);for(var H=d;H<S;H+=I)if(!this.isShallow(s,o,this._inputLine[H],C))return!1;return!0}},{key:"isConcave",value:function(s,o,d){var S=it.index(s,o,d)===this._angleOrientation;return S}},{key:"simplify",value:function(s){this._distanceTol=Math.abs(s),s<0&&(this._angleOrientation=it.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var o=!1;do o=this.deleteShallowConcavities();while(o);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(s){for(var o=s+1;o<this._inputLine.length&&this._isDeleted[o]===p.DELETE;)o++;return o}},{key:"isShallow",value:function(s,o,d,S){return li.pointToSegment(o,s,d)<S}},{key:"collapseLine",value:function(){for(var s=new Qr,o=0;o<this._inputLine.length;o++)this._isDeleted[o]!==p.DELETE&&s.add(this._inputLine[o]);return s.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=it.COUNTERCLOCKWISE;var s=arguments[0];this._inputLine=s}},{key:"simplify",value:function(s,o){return new p(s).simplify(o)}}])})();Li.INIT=0,Li.DELETE=1,Li.KEEP=1,Li.NUM_PTS_TO_CHECK=10;var Ga=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getCoordinates",value:function(){return this._ptList.toArray(p.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(s){this._precisionModel=s}},{key:"addPt",value:function(s){var o=new he(s);if(this._precisionModel.makePrecise(o),this.isRedundant(o))return null;this._ptList.add(o)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(s,o){if(o)for(var d=0;d<s.length;d++)this.addPt(s[d]);else for(var S=s.length-1;S>=0;S--)this.addPt(s[S])}},{key:"isRedundant",value:function(s){if(this._ptList.size()<1)return!1;var o=this._ptList.get(this._ptList.size()-1);return s.distance(o)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Hi().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var s=new he(this._ptList.get(0)),o=this._ptList.get(this._ptList.size()-1);if(s.equals(o))return null;this._ptList.add(s)}},{key:"setMinimumVertexDistance",value:function(s){this._minimimVertexDistance=s}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new $e}}])})();Ga.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Cn=(function(){function p(){r(this,p)}return g(p,null,[{key:"toDegrees",value:function(s){return 180*s/Math.PI}},{key:"normalize",value:function(s){for(;s>Math.PI;)s-=p.PI_TIMES_2;for(;s<=-Math.PI;)s+=p.PI_TIMES_2;return s}},{key:"angle",value:function(){if(arguments.length===1){var s=arguments[0];return Math.atan2(s.y,s.x)}if(arguments.length===2){var o=arguments[0],d=arguments[1],S=d.x-o.x,C=d.y-o.y;return Math.atan2(C,S)}}},{key:"isAcute",value:function(s,o,d){var S=s.x-o.x,C=s.y-o.y;return S*(d.x-o.x)+C*(d.y-o.y)>0}},{key:"isObtuse",value:function(s,o,d){var S=s.x-o.x,C=s.y-o.y;return S*(d.x-o.x)+C*(d.y-o.y)<0}},{key:"interiorAngle",value:function(s,o,d){var S=p.angle(o,s),C=p.angle(o,d);return Math.abs(C-S)}},{key:"normalizePositive",value:function(s){if(s<0){for(;s<0;)s+=p.PI_TIMES_2;s>=p.PI_TIMES_2&&(s=0)}else{for(;s>=p.PI_TIMES_2;)s-=p.PI_TIMES_2;s<0&&(s=0)}return s}},{key:"angleBetween",value:function(s,o,d){var S=p.angle(o,s),C=p.angle(o,d);return p.diff(S,C)}},{key:"diff",value:function(s,o){var d=null;return(d=s<o?o-s:s-o)>Math.PI&&(d=2*Math.PI-d),d}},{key:"toRadians",value:function(s){return s*Math.PI/180}},{key:"getTurn",value:function(s,o){var d=Math.sin(o-s);return d>0?p.COUNTERCLOCKWISE:d<0?p.CLOCKWISE:p.NONE}},{key:"angleBetweenOriented",value:function(s,o,d){var S=p.angle(o,s),C=p.angle(o,d)-S;return C<=-Math.PI?C+p.PI_TIMES_2:C>Math.PI?C-p.PI_TIMES_2:C}}])})();Cn.PI_TIMES_2=2*Math.PI,Cn.PI_OVER_2=Math.PI/2,Cn.PI_OVER_4=Math.PI/4,Cn.COUNTERCLOCKWISE=it.COUNTERCLOCKWISE,Cn.CLOCKWISE=it.CLOCKWISE,Cn.NONE=it.COLLINEAR;var qa=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"addNextSegment",value:function(s,o){if(this._s0=this._s1,this._s1=this._s2,this._s2=s,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var d=it.index(this._s0,this._s1,this._s2),S=d===it.CLOCKWISE&&this._side===Oe.LEFT||d===it.COUNTERCLOCKWISE&&this._side===Oe.RIGHT;d===0?this.addCollinear(o):S?this.addOutsideTurn(d,o):this.addInsideTurn(d,o)}},{key:"addLineEndCap",value:function(s,o){var d=new ii(s,o),S=new ii;this.computeOffsetSegment(d,Oe.LEFT,this._distance,S);var C=new ii;this.computeOffsetSegment(d,Oe.RIGHT,this._distance,C);var I=o.x-s.x,H=o.y-s.y,le=Math.atan2(H,I);switch(this._bufParams.getEndCapStyle()){case X.CAP_ROUND:this._segList.addPt(S.p1),this.addDirectedFillet(o,le+Math.PI/2,le-Math.PI/2,it.CLOCKWISE,this._distance),this._segList.addPt(C.p1);break;case X.CAP_FLAT:this._segList.addPt(S.p1),this._segList.addPt(C.p1);break;case X.CAP_SQUARE:var de=new he;de.x=Math.abs(this._distance)*Math.cos(le),de.y=Math.abs(this._distance)*Math.sin(le);var ye=new he(S.p1.x+de.x,S.p1.y+de.y),be=new he(C.p1.x+de.x,C.p1.y+de.y);this._segList.addPt(ye),this._segList.addPt(be)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(s,o,d,S){var C=fo.intersection(o.p0,o.p1,d.p0,d.p1);if(C!==null&&(S<=0?1:C.distance(s)/Math.abs(S))<=this._bufParams.getMitreLimit())return this._segList.addPt(C),null;this.addLimitedMitreJoin(o,d,S,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(s,o){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*p.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===X.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===X.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(o&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,s,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(s){this._segList.addPt(new he(s.x+this._distance,s.y+this._distance)),this._segList.addPt(new he(s.x+this._distance,s.y-this._distance)),this._segList.addPt(new he(s.x-this._distance,s.y-this._distance)),this._segList.addPt(new he(s.x-this._distance,s.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(s,o){this._segList.addPts(s,o)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(s,o,d,S,C){var I=o.x-s.x,H=o.y-s.y,le=Math.atan2(H,I),de=d.x-s.x,ye=d.y-s.y,be=Math.atan2(ye,de);S===it.CLOCKWISE?le<=be&&(le+=2*Math.PI):le>=be&&(le-=2*Math.PI),this._segList.addPt(o),this.addDirectedFillet(s,le,be,S,C),this._segList.addPt(d)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(s,o,d){this._s1=s,this._s2=o,this._side=d,this._seg1.setCoordinates(s,o),this.computeOffsetSegment(this._seg1,d,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(s,o,d,S){var C=this._seg0.p1,I=Cn.angle(C,this._seg0.p0),H=Cn.angleBetweenOriented(this._seg0.p0,C,this._seg1.p1)/2,le=Cn.normalize(I+H),de=Cn.normalize(le+Math.PI),ye=S*d,be=d-ye*Math.abs(Math.sin(H)),ze=C.x+ye*Math.cos(de),Ge=C.y+ye*Math.sin(de),Ve=new he(ze,Ge),tt=new ii(C,Ve),Ct=tt.pointAlongOffset(1,be),gt=tt.pointAlongOffset(1,-be);this._side===Oe.LEFT?(this._segList.addPt(Ct),this._segList.addPt(gt)):(this._segList.addPt(gt),this._segList.addPt(Ct))}},{key:"addDirectedFillet",value:function(s,o,d,S,C){var I=S===it.CLOCKWISE?-1:1,H=Math.abs(o-d),le=Math.trunc(H/this._filletAngleQuantum+.5);if(le<1)return null;for(var de=H/le,ye=new he,be=0;be<le;be++){var ze=o+I*be*de;ye.x=s.x+C*Math.cos(ze),ye.y=s.y+C*Math.sin(ze),this._segList.addPt(ye)}}},{key:"computeOffsetSegment",value:function(s,o,d,S){var C=o===Oe.LEFT?1:-1,I=s.p1.x-s.p0.x,H=s.p1.y-s.p0.y,le=Math.sqrt(I*I+H*H),de=C*d*I/le,ye=C*d*H/le;S.p0.x=s.p0.x-ye,S.p0.y=s.p0.y+de,S.p1.x=s.p1.x-ye,S.p1.y=s.p1.y+de}},{key:"addInsideTurn",value:function(s,o){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*p.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var d=new he((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d);var S=new he((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(S)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(s){var o=new he(s.x+this._distance,s.y);this._segList.addPt(o),this.addDirectedFillet(s,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(s,o){this._segList.addPt(s.p1),this._segList.addPt(o.p0)}},{key:"init",value:function(s){this._distance=s,this._maxCurveSegmentError=s*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ga,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(s*p.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(s){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===X.JOIN_BEVEL||this._bufParams.getJoinStyle()===X.JOIN_MITRE?(s&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,it.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new ii,this._seg1=new ii,this._offset0=new ii,this._offset1=new ii,this._side=0,this._hasNarrowConcaveAngle=!1;var s=arguments[0],o=arguments[1],d=arguments[2];this._precisionModel=s,this._bufParams=o,this._li=new mr,this._filletAngleQuantum=Math.PI/2/o.getQuadrantSegments(),o.getQuadrantSegments()>=8&&o.getJoinStyle()===X.JOIN_ROUND&&(this._closingSegLengthFactor=p.MAX_CLOSING_SEG_LEN_FACTOR),this.init(d)}}])})();qa.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,qa.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,qa.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,qa.MAX_CLOSING_SEG_LEN_FACTOR=80;var Ha=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getOffsetCurve",value:function(s,o){if(this._distance=o,o===0)return null;var d=o<0,S=Math.abs(o),C=this.getSegGen(S);s.length<=1?this.computePointCurve(s[0],C):this.computeOffsetCurve(s,d,C);var I=C.getCoordinates();return d&&$t.reverse(I),I}},{key:"computeSingleSidedBufferCurve",value:function(s,o,d){var S=this.simplifyTolerance(this._distance);if(o){d.addSegments(s,!0);var C=Li.simplify(s,-S),I=C.length-1;d.initSideSegments(C[I],C[I-1],Oe.LEFT),d.addFirstSegment();for(var H=I-2;H>=0;H--)d.addNextSegment(C[H],!0)}else{d.addSegments(s,!1);var le=Li.simplify(s,S),de=le.length-1;d.initSideSegments(le[0],le[1],Oe.LEFT),d.addFirstSegment();for(var ye=2;ye<=de;ye++)d.addNextSegment(le[ye],!0)}d.addLastSegment(),d.closeRing()}},{key:"computeRingBufferCurve",value:function(s,o,d){var S=this.simplifyTolerance(this._distance);o===Oe.RIGHT&&(S=-S);var C=Li.simplify(s,S),I=C.length-1;d.initSideSegments(C[I-1],C[0],o);for(var H=1;H<=I;H++){var le=H!==1;d.addNextSegment(C[H],le)}d.closeRing()}},{key:"computeLineBufferCurve",value:function(s,o){var d=this.simplifyTolerance(this._distance),S=Li.simplify(s,d),C=S.length-1;o.initSideSegments(S[0],S[1],Oe.LEFT);for(var I=2;I<=C;I++)o.addNextSegment(S[I],!0);o.addLastSegment(),o.addLineEndCap(S[C-1],S[C]);var H=Li.simplify(s,-d),le=H.length-1;o.initSideSegments(H[le],H[le-1],Oe.LEFT);for(var de=le-2;de>=0;de--)o.addNextSegment(H[de],!0);o.addLastSegment(),o.addLineEndCap(H[1],H[0]),o.closeRing()}},{key:"computePointCurve",value:function(s,o){switch(this._bufParams.getEndCapStyle()){case X.CAP_ROUND:o.createCircle(s);break;case X.CAP_SQUARE:o.createSquare(s)}}},{key:"getLineCurve",value:function(s,o){if(this._distance=o,this.isLineOffsetEmpty(o))return null;var d=Math.abs(o),S=this.getSegGen(d);if(s.length<=1)this.computePointCurve(s[0],S);else if(this._bufParams.isSingleSided()){var C=o<0;this.computeSingleSidedBufferCurve(s,C,S)}else this.computeLineBufferCurve(s,S);return S.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(s){return s*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(s,o,d){if(this._distance=d,s.length<=2)return this.getLineCurve(s,d);if(d===0)return p.copyCoordinates(s);var S=this.getSegGen(d);return this.computeRingBufferCurve(s,o,S),S.getCoordinates()}},{key:"computeOffsetCurve",value:function(s,o,d){var S=this.simplifyTolerance(this._distance);if(o){var C=Li.simplify(s,-S),I=C.length-1;d.initSideSegments(C[I],C[I-1],Oe.LEFT),d.addFirstSegment();for(var H=I-2;H>=0;H--)d.addNextSegment(C[H],!0)}else{var le=Li.simplify(s,S),de=le.length-1;d.initSideSegments(le[0],le[1],Oe.LEFT),d.addFirstSegment();for(var ye=2;ye<=de;ye++)d.addNextSegment(le[ye],!0)}d.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(s){return s===0||s<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(s){return new qa(this._precisionModel,this._bufParams,s)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var s=arguments[0],o=arguments[1];this._precisionModel=s,this._bufParams=o}},{key:"copyCoordinates",value:function(s){for(var o=new Array(s.length).fill(null),d=0;d<o.length;d++)o[d]=new he(s[d]);return o}}])})(),mi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var p=arguments[0],s=new $e,o=this._subgraphs.iterator();o.hasNext();){var d=o.next(),S=d.getEnvelope();p.y<S.getMinY()||p.y>S.getMaxY()||this.findStabbedSegments(p,d.getDirectedEdges(),s)}return s}if(arguments.length===3){if(He(arguments[2],gn)&&arguments[0]instanceof he&&arguments[1]instanceof ks){for(var C=arguments[0],I=arguments[1],H=arguments[2],le=I.getEdge().getCoordinates(),de=0;de<le.length-1;de++)if(this._seg.p0=le[de],this._seg.p1=le[de+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<C.x||this._seg.isHorizontal()||C.y<this._seg.p0.y||C.y>this._seg.p1.y||it.index(this._seg.p0,this._seg.p1,C)===it.RIGHT)){var ye=I.getDepth(Oe.LEFT);this._seg.p0.equals(le[de])||(ye=I.getDepth(Oe.RIGHT));var be=new Za(this._seg,ye);H.add(be)}}else if(He(arguments[2],gn)&&arguments[0]instanceof he&&He(arguments[1],gn))for(var ze=arguments[0],Ge=arguments[2],Ve=arguments[1].iterator();Ve.hasNext();){var tt=Ve.next();tt.isForward()&&this.findStabbedSegments(ze,tt,Ge)}}}},{key:"getDepth",value:function(p){var s=this.findStabbedSegments(p);return s.size()===0?0:Ji.min(s)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new ii;var p=arguments[0];this._subgraphs=p}}])})(),Za=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(p){var s=p;if(this._upwardSeg.minX()>=s._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=s._upwardSeg.minX())return-1;var o=this._upwardSeg.orientationIndex(s._upwardSeg);return o!==0||(o=-1*s._upwardSeg.orientationIndex(this._upwardSeg))!==0?o:this._upwardSeg.compareTo(s._upwardSeg)}},{key:"compareX",value:function(p,s){var o=p.p0.compareTo(s.p0);return o!==0?o:p.p1.compareTo(s.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var p=arguments[0],s=arguments[1];this._upwardSeg=new ii(p),this._leftDepth=s}}])})();mi.DepthSegment=Za;var ia=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,null,[{key:"constructor_",value:function(){V.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(V),To=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getY",value:function(){var s=this.y/this.w;if(Q.isNaN(s)||Q.isInfinite(s))throw new ia;return s}},{key:"getX",value:function(){var s=this.x/this.w;if(Q.isNaN(s)||Q.isInfinite(s))throw new ia;return s}},{key:"getCoordinate",value:function(){var s=new he;return s.x=this.getX(),s.y=this.getY(),s}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var s=arguments[0];this.x=s.x,this.y=s.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var o=arguments[0],d=arguments[1];this.x=o,this.y=d,this.w=1}else if(arguments[0]instanceof p&&arguments[1]instanceof p){var S=arguments[0],C=arguments[1];this.x=S.y*C.w-C.y*S.w,this.y=C.x*S.w-S.x*C.w,this.w=S.x*C.y-C.x*S.y}else if(arguments[0]instanceof he&&arguments[1]instanceof he){var I=arguments[0],H=arguments[1];this.x=I.y-H.y,this.y=H.x-I.x,this.w=I.x*H.y-H.x*I.y}}else if(arguments.length===3){var le=arguments[0],de=arguments[1],ye=arguments[2];this.x=le,this.y=de,this.w=ye}else if(arguments.length===4){var be=arguments[0],ze=arguments[1],Ge=arguments[2],Ve=arguments[3],tt=be.y-ze.y,Ct=ze.x-be.x,gt=be.x*ze.y-ze.x*be.y,Yt=Ge.y-Ve.y,an=Ve.x-Ge.x,Wt=Ge.x*Ve.y-Ve.x*Ge.y;this.x=Ct*Wt-an*gt,this.y=Yt*gt-tt*Wt,this.w=tt*an-Yt*Ct}}}])})(),Is=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"area",value:function(){return p.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return p.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(s){if(s===null)throw new W("Supplied point is null.");return p.interpolateZ(s,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return p.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return p.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return p.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return p.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return p.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return p.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var s=arguments[0],o=arguments[1],d=arguments[2];this.p0=s,this.p1=o,this.p2=d}},{key:"area",value:function(s,o,d){return Math.abs(((d.x-s.x)*(o.y-s.y)-(o.x-s.x)*(d.y-s.y))/2)}},{key:"signedArea",value:function(s,o,d){return((d.x-s.x)*(o.y-s.y)-(o.x-s.x)*(d.y-s.y))/2}},{key:"det",value:function(s,o,d,S){return s*S-o*d}},{key:"interpolateZ",value:function(s,o,d,S){var C=o.x,I=o.y,H=d.x-C,le=S.x-C,de=d.y-I,ye=S.y-I,be=H*ye-le*de,ze=s.x-C,Ge=s.y-I,Ve=(ye*ze-le*Ge)/be,tt=(-de*ze+H*Ge)/be;return o.getZ()+Ve*(d.getZ()-o.getZ())+tt*(S.getZ()-o.getZ())}},{key:"longestSideLength",value:function(s,o,d){var S=s.distance(o),C=o.distance(d),I=d.distance(s),H=S;return C>H&&(H=C),I>H&&(H=I),H}},{key:"circumcentreDD",value:function(s,o,d){var S=Je.valueOf(s.x).subtract(d.x),C=Je.valueOf(s.y).subtract(d.y),I=Je.valueOf(o.x).subtract(d.x),H=Je.valueOf(o.y).subtract(d.y),le=Je.determinant(S,C,I,H).multiply(2),de=S.sqr().add(C.sqr()),ye=I.sqr().add(H.sqr()),be=Je.determinant(C,de,H,ye),ze=Je.determinant(S,de,I,ye),Ge=Je.valueOf(d.x).subtract(be.divide(le)).doubleValue(),Ve=Je.valueOf(d.y).add(ze.divide(le)).doubleValue();return new he(Ge,Ve)}},{key:"isAcute",value:function(s,o,d){return!!Cn.isAcute(s,o,d)&&!!Cn.isAcute(o,d,s)&&!!Cn.isAcute(d,s,o)}},{key:"circumcentre",value:function(s,o,d){var S=d.x,C=d.y,I=s.x-S,H=s.y-C,le=o.x-S,de=o.y-C,ye=2*p.det(I,H,le,de),be=p.det(H,I*I+H*H,de,le*le+de*de),ze=p.det(I,I*I+H*H,le,le*le+de*de);return new he(S-be/ye,C+ze/ye)}},{key:"perpendicularBisector",value:function(s,o){var d=o.x-s.x,S=o.y-s.y,C=new To(s.x+d/2,s.y+S/2,1),I=new To(s.x-S+d/2,s.y+d+S/2,1);return new To(C,I)}},{key:"angleBisector",value:function(s,o,d){var S=o.distance(s),C=S/(S+o.distance(d)),I=d.x-s.x,H=d.y-s.y;return new he(s.x+C*I,s.y+C*H)}},{key:"area3D",value:function(s,o,d){var S=o.x-s.x,C=o.y-s.y,I=o.getZ()-s.getZ(),H=d.x-s.x,le=d.y-s.y,de=d.getZ()-s.getZ(),ye=C*de-I*le,be=I*H-S*de,ze=S*le-C*H,Ge=ye*ye+be*be+ze*ze,Ve=Math.sqrt(Ge)/2;return Ve}},{key:"centroid",value:function(s,o,d){var S=(s.x+o.x+d.x)/3,C=(s.y+o.y+d.y)/3;return new he(S,C)}},{key:"inCentre",value:function(s,o,d){var S=o.distance(d),C=s.distance(d),I=s.distance(o),H=S+C+I,le=(S*s.x+C*o.x+I*d.x)/H,de=(S*s.y+C*o.y+I*d.y)/H;return new he(le,de)}}])})(),Ps=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(p,s,o,d,S){if(s===0&&p.length<bi.MINIMUM_VALID_SIZE)return null;var C=d,I=S;p.length>=bi.MINIMUM_VALID_SIZE&&it.isCCW(p)&&(C=S,I=d,o=Oe.opposite(o));var H=this._curveBuilder.getRingCurve(p,o,s);this.addCurve(H,C,I)}},{key:"addRingBothSides",value:function(p,s){this.addRingSide(p,s,Oe.LEFT,fe.EXTERIOR,fe.INTERIOR),this.addRingSide(p,s,Oe.RIGHT,fe.INTERIOR,fe.EXTERIOR)}},{key:"addPoint",value:function(p){if(this._distance<=0)return null;var s=p.getCoordinates(),o=this._curveBuilder.getLineCurve(s,this._distance);this.addCurve(o,fe.EXTERIOR,fe.INTERIOR)}},{key:"addPolygon",value:function(p){var s=this._distance,o=Oe.LEFT;this._distance<0&&(s=-this._distance,o=Oe.RIGHT);var d=p.getExteriorRing(),S=$t.removeRepeatedPoints(d.getCoordinates());if(this._distance<0&&this.isErodedCompletely(d,this._distance)||this._distance<=0&&S.length<3)return null;this.addRingSide(S,s,o,fe.EXTERIOR,fe.INTERIOR);for(var C=0;C<p.getNumInteriorRing();C++){var I=p.getInteriorRingN(C),H=$t.removeRepeatedPoints(I.getCoordinates());this._distance>0&&this.isErodedCompletely(I,-this._distance)||this.addRingSide(H,s,Oe.opposite(o),fe.INTERIOR,fe.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(p,s){var o=new Is(p[0],p[1],p[2]),d=o.inCentre();return li.pointToSegment(d,o.p0,o.p1)<Math.abs(s)}},{key:"addLineString",value:function(p){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var s=$t.removeRepeatedPoints(p.getCoordinates());if($t.isRing(s)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(s,this._distance);else{var o=this._curveBuilder.getLineCurve(s,this._distance);this.addCurve(o,fe.EXTERIOR,fe.INTERIOR)}}},{key:"addCurve",value:function(p,s,o){if(p===null||p.length<2)return null;var d=new vr(p,new Un(0,fe.BOUNDARY,s,o));this._curveList.add(d)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(p){if(p.isEmpty())return null;if(p instanceof pa)this.addPolygon(p);else if(p instanceof za)this.addLineString(p);else if(p instanceof Ts)this.addPoint(p);else if(p instanceof fr)this.addCollection(p);else if(p instanceof ja)this.addCollection(p);else if(p instanceof Ls)this.addCollection(p);else{if(!(p instanceof jt))throw new Fe(p.getGeometryType());this.addCollection(p)}}},{key:"isErodedCompletely",value:function(p,s){var o=p.getCoordinates();if(o.length<4)return s<0;if(o.length===4)return this.isTriangleErodedCompletely(o,s);var d=p.getEnvelopeInternal(),S=Math.min(d.getHeight(),d.getWidth());return s<0&&2*Math.abs(s)>S}},{key:"addCollection",value:function(p){for(var s=0;s<p.getNumGeometries();s++){var o=p.getGeometryN(s);this.add(o)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new $e;var p=arguments[0],s=arguments[1],o=arguments[2];this._inputGeom=p,this._distance=s,this._curveBuilder=o}}])})(),nl=(function(){return g((function p(){r(this,p)}),[{key:"locate",value:function(p){}}])})(),il=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,p.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Ze;var s=this._parent.getGeometryN(this._index++);return s instanceof jt?(this._subcollectionIterator=new p(s),this._subcollectionIterator.next()):s}},{key:"remove",value:function(){throw new Fe(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[eu]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var s=arguments[0];this._parent=s,this._atStart=!0,this._index=0,this._max=s.getNumGeometries()}},{key:"isAtomic",value:function(s){return!(s instanceof jt)}}])})(),wo=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"locate",value:function(s){return p.locate(s,this._geom)}},{key:"interfaces_",get:function(){return[nl]}}],[{key:"constructor_",value:function(){this._geom=null;var s=arguments[0];this._geom=s}},{key:"locatePointInPolygon",value:function(s,o){if(o.isEmpty())return fe.EXTERIOR;var d=o.getExteriorRing(),S=p.locatePointInRing(s,d);if(S!==fe.INTERIOR)return S;for(var C=0;C<o.getNumInteriorRing();C++){var I=o.getInteriorRingN(C),H=p.locatePointInRing(s,I);if(H===fe.BOUNDARY)return fe.BOUNDARY;if(H===fe.INTERIOR)return fe.EXTERIOR}return fe.INTERIOR}},{key:"locatePointInRing",value:function(s,o){return o.getEnvelopeInternal().intersects(s)?ui.locateInRing(s,o.getCoordinates()):fe.EXTERIOR}},{key:"containsPointInPolygon",value:function(s,o){return fe.EXTERIOR!==p.locatePointInPolygon(s,o)}},{key:"locateInGeometry",value:function(s,o){if(o instanceof pa)return p.locatePointInPolygon(s,o);if(o instanceof jt)for(var d=new il(o);d.hasNext();){var S=d.next();if(S!==o){var C=p.locateInGeometry(s,S);if(C!==fe.EXTERIOR)return C}}return fe.EXTERIOR}},{key:"isContained",value:function(s,o){return fe.EXTERIOR!==p.locate(s,o)}},{key:"locate",value:function(s,o){return o.isEmpty()?fe.EXTERIOR:o.getEnvelopeInternal().intersects(s)?p.locateInGeometry(s,o):fe.EXTERIOR}}])})(),Sa=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(p){this.getEdges();var s=this._edgeList.indexOf(p),o=s-1;return s===0&&(o=this._edgeList.size()-1),this._edgeList.get(o)}},{key:"propagateSideLabels",value:function(p){for(var s=fe.NONE,o=this.iterator();o.hasNext();){var d=o.next().getLabel();d.isArea(p)&&d.getLocation(p,Oe.LEFT)!==fe.NONE&&(s=d.getLocation(p,Oe.LEFT))}if(s===fe.NONE)return null;for(var S=s,C=this.iterator();C.hasNext();){var I=C.next(),H=I.getLabel();if(H.getLocation(p,Oe.ON)===fe.NONE&&H.setLocation(p,Oe.ON,S),H.isArea(p)){var le=H.getLocation(p,Oe.LEFT),de=H.getLocation(p,Oe.RIGHT);if(de!==fe.NONE){if(de!==S)throw new vn("side location conflict",I.getCoordinate());le===fe.NONE&&pe.shouldNeverReachHere("found single null side (at "+I.getCoordinate()+")"),S=le}else pe.isTrue(H.getLocation(p,Oe.LEFT)===fe.NONE,"found single null side"),H.setLocation(p,Oe.RIGHT,S),H.setLocation(p,Oe.LEFT,S)}}}},{key:"getCoordinate",value:function(){var p=this.iterator();return p.hasNext()?p.next().getCoordinate():null}},{key:"print",value:function(p){Ei.out.println("EdgeEndStar:   "+this.getCoordinate());for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"isAreaLabelsConsistent",value:function(p){return this.computeEdgeEndLabels(p.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(p){var s=this.getEdges();if(s.size()<=0)return!0;var o=s.size()-1,d=s.get(o).getLabel().getLocation(p,Oe.LEFT);pe.isTrue(d!==fe.NONE,"Found unlabelled area edge");for(var S=d,C=this.iterator();C.hasNext();){var I=C.next().getLabel();pe.isTrue(I.isArea(p),"Found non-area edge");var H=I.getLocation(p,Oe.LEFT),le=I.getLocation(p,Oe.RIGHT);if(H===le||le!==S)return!1;S=H}return!0}},{key:"findIndex",value:function(p){this.iterator();for(var s=0;s<this._edgeList.size();s++)if(this._edgeList.get(s)===p)return s;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new $e(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(p,s,o){return this._ptInAreaLocation[p]===fe.NONE&&(this._ptInAreaLocation[p]=wo.locate(s,o[p].getGeometry())),this._ptInAreaLocation[p]}},{key:"toString",value:function(){var p=new Tn;p.append("EdgeEndStar:   "+this.getCoordinate()),p.append(`
`);for(var s=this.iterator();s.hasNext();){var o=s.next();p.append(o),p.append(`
`)}return p.toString()}},{key:"computeEdgeEndLabels",value:function(p){for(var s=this.iterator();s.hasNext();)s.next().computeLabel(p)}},{key:"computeLabelling",value:function(p){this.computeEdgeEndLabels(p[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var s=[!1,!1],o=this.iterator();o.hasNext();)for(var d=o.next().getLabel(),S=0;S<2;S++)d.isLine(S)&&d.getLocation(S)===fe.BOUNDARY&&(s[S]=!0);for(var C=this.iterator();C.hasNext();)for(var I=C.next(),H=I.getLabel(),le=0;le<2;le++)if(H.isAnyNull(le)){var de=fe.NONE;if(s[le])de=fe.EXTERIOR;else{var ye=I.getCoordinate();de=this.getLocation(le,ye,p)}H.setAllLocationsIfNull(le,de)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(p,s){this._edgeMap.put(p,s),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new rn,this._edgeList=null,this._ptInAreaLocation=[fe.NONE,fe.NONE]}}])})(),Ii=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var o=null,d=null,S=this._SCANNING_FOR_INCOMING,C=0;C<this._resultAreaEdgeList.size();C++){var I=this._resultAreaEdgeList.get(C),H=I.getSym();if(I.getLabel().isArea())switch(o===null&&I.isInResult()&&(o=I),S){case this._SCANNING_FOR_INCOMING:if(!H.isInResult())continue;d=H,S=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!I.isInResult())continue;d.setNext(I),S=this._SCANNING_FOR_INCOMING}}if(S===this._LINKING_TO_OUTGOING){if(o===null)throw new vn("no outgoing dirEdge found",this.getCoordinate());pe.isTrue(o.isInResult(),"unable to link last incoming dirEdge"),d.setNext(o)}}},{key:"insert",value:function(o){var d=o;this.insertEdgeEnd(d,d)}},{key:"getRightmostEdge",value:function(){var o=this.getEdges(),d=o.size();if(d<1)return null;var S=o.get(0);if(d===1)return S;var C=o.get(d-1),I=S.getQuadrant(),H=C.getQuadrant();return wn.isNorthern(I)&&wn.isNorthern(H)?S:wn.isNorthern(I)||wn.isNorthern(H)?S.getDy()!==0?S:C.getDy()!==0?C:(pe.shouldNeverReachHere("found two horizontal edges incident on node"),null):C}},{key:"print",value:function(o){Ei.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var d=this.iterator();d.hasNext();){var S=d.next();o.print("out "),S.print(o),o.println(),o.print("in "),S.getSym().print(o),o.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new $e;for(var o=this.iterator();o.hasNext();){var d=o.next();(d.isInResult()||d.getSym().isInResult())&&this._resultAreaEdgeList.add(d)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(o){for(var d=this.iterator();d.hasNext();){var S=d.next().getLabel();S.setAllLocationsIfNull(0,o.getLocation(0)),S.setAllLocationsIfNull(1,o.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var o=null,d=null,S=this._edgeList.size()-1;S>=0;S--){var C=this._edgeList.get(S),I=C.getSym();d===null&&(d=I),o!==null&&I.setNext(o),o=C}d.setNext(o)}},{key:"computeDepths",value:function(){if(arguments.length===1){var o=arguments[0],d=this.findIndex(o),S=o.getDepth(Oe.LEFT),C=o.getDepth(Oe.RIGHT),I=this.computeDepths(d+1,this._edgeList.size(),S);if(this.computeDepths(0,d,I)!==C)throw new vn("depth mismatch at "+o.getCoordinate())}else if(arguments.length===3){for(var H=arguments[1],le=arguments[2],de=arguments[0];de<H;de++){var ye=this._edgeList.get(de);ye.setEdgeDepths(Oe.RIGHT,le),le=ye.getDepth(Oe.LEFT)}return le}}},{key:"mergeSymLabels",value:function(){for(var o=this.iterator();o.hasNext();){var d=o.next();d.getLabel().merge(d.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(o){for(var d=null,S=null,C=this._SCANNING_FOR_INCOMING,I=this._resultAreaEdgeList.size()-1;I>=0;I--){var H=this._resultAreaEdgeList.get(I),le=H.getSym();switch(d===null&&H.getEdgeRing()===o&&(d=H),C){case this._SCANNING_FOR_INCOMING:if(le.getEdgeRing()!==o)continue;S=le,C=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(H.getEdgeRing()!==o)continue;S.setNextMin(H),C=this._SCANNING_FOR_INCOMING}}C===this._LINKING_TO_OUTGOING&&(pe.isTrue(d!==null,"found null for first outgoing dirEdge"),pe.isTrue(d.getEdgeRing()===o,"unable to link last incoming dirEdge"),S.setNextMin(d))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var o=0,d=this.iterator();d.hasNext();)d.next().isInResult()&&o++;return o}if(arguments.length===1){for(var S=arguments[0],C=0,I=this.iterator();I.hasNext();)I.next().getEdgeRing()===S&&C++;return C}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var o=fe.NONE,d=this.iterator();d.hasNext();){var S=d.next(),C=S.getSym();if(!S.isLineEdge()){if(S.isInResult()){o=fe.INTERIOR;break}if(C.isInResult()){o=fe.EXTERIOR;break}}}if(o===fe.NONE)return null;for(var I=o,H=this.iterator();H.hasNext();){var le=H.next(),de=le.getSym();le.isLineEdge()?le.getEdge().setCovered(I===fe.INTERIOR):(le.isInResult()&&(I=fe.EXTERIOR),de.isInResult()&&(I=fe.INTERIOR))}}},{key:"computeLabelling",value:function(o){B(s,"computeLabelling",this,1).call(this,o),this._label=new Un(fe.NONE);for(var d=this.iterator();d.hasNext();)for(var S=d.next().getEdge().getLabel(),C=0;C<2;C++){var I=S.getLocation(C);I!==fe.INTERIOR&&I!==fe.BOUNDARY||this._label.setLocation(C,fe.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(Sa),xa=(function(p){function s(){return r(this,s),l(this,s)}return x(s,p),g(s,[{key:"createNode",value:function(o){return new _a(o,new Ii)}}])})(Yn),rl=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"compareTo",value:function(s){var o=s;return p.compareOriented(this._pts,this._orientation,o._pts,o._orientation)}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var s=arguments[0];this._pts=s,this._orientation=p.orientation(s)}},{key:"orientation",value:function(s){return $t.increasingDirection(s)===1}},{key:"compareOriented",value:function(s,o,d,S){for(var C=o?1:-1,I=S?1:-1,H=o?s.length:-1,le=S?d.length:-1,de=o?0:s.length-1,ye=S?0:d.length-1;;){var be=s[de].compareTo(d[ye]);if(be!==0)return be;var ze=(de+=C)===H,Ge=(ye+=I)===le;if(ze&&!Ge)return-1;if(!ze&&Ge)return 1;if(ze&&Ge)return 0}}}])})(),Qi=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"print",value:function(p){p.print("MULTILINESTRING ( ");for(var s=0;s<this._edges.size();s++){var o=this._edges.get(s);s>0&&p.print(","),p.print("(");for(var d=o.getCoordinates(),S=0;S<d.length;S++)S>0&&p.print(","),p.print(d[S].x+" "+d[S].y);p.println(")")}p.print(")  ")}},{key:"addAll",value:function(p){for(var s=p.iterator();s.hasNext();)this.add(s.next())}},{key:"findEdgeIndex",value:function(p){for(var s=0;s<this._edges.size();s++)if(this._edges.get(s).equals(p))return s;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(p){return this._edges.get(p)}},{key:"findEqualEdge",value:function(p){var s=new rl(p.getCoordinates());return this._ocaMap.get(s)}},{key:"add",value:function(p){this._edges.add(p);var s=new rl(p.getCoordinates());this._ocaMap.put(s,p)}}],[{key:"constructor_",value:function(){this._edges=new $e,this._ocaMap=new rn}}])})(),Co=(function(){return g((function p(){r(this,p)}),[{key:"processIntersections",value:function(p,s,o,d){}},{key:"isDone",value:function(){}}])})(),Ki=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isTrivialIntersection",value:function(s,o,d,S){if(s===d&&this._li.getIntersectionNum()===1){if(p.isAdjacentSegments(o,S))return!0;if(s.isClosed()){var C=s.size()-1;if(o===0&&S===C||S===0&&o===C)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(s,o,d,S){if(s===d&&o===S)return null;this.numTests++;var C=s.getCoordinates()[o],I=s.getCoordinates()[o+1],H=d.getCoordinates()[S],le=d.getCoordinates()[S+1];this._li.computeIntersection(C,I,H,le),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(s,o,d,S)||(this._hasIntersection=!0,s.addIntersections(this._li,o,0),d.addIntersections(this._li,S,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Co]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var s=arguments[0];this._li=s}},{key:"isAdjacentSegments",value:function(s,o){return Math.abs(s-o)===1}}])})(),Xa=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(p){p.print(this.coord),p.print(" seg # = "+this.segmentIndex),p.println(" dist = "+this.dist)}},{key:"compareTo",value:function(p){var s=p;return this.compare(s.segmentIndex,s.dist)}},{key:"isEndPoint",value:function(p){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===p}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(p,s){return this.segmentIndex<p?-1:this.segmentIndex>p?1:this.dist<s?-1:this.dist>s?1:0}},{key:"interfaces_",get:function(){return[ee]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var p=arguments[0],s=arguments[1],o=arguments[2];this.coord=new he(p),this.segmentIndex=s,this.dist=o}}])})(),Ja=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"print",value:function(p){p.println("Intersections:");for(var s=this.iterator();s.hasNext();)s.next().print(p)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(p){this.addEndpoints();for(var s=this.iterator(),o=s.next();s.hasNext();){var d=s.next(),S=this.createSplitEdge(o,d);p.add(S),o=d}}},{key:"addEndpoints",value:function(){var p=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[p],p,0)}},{key:"createSplitEdge",value:function(p,s){var o=s.segmentIndex-p.segmentIndex+2,d=this.edge.pts[s.segmentIndex],S=s.dist>0||!s.coord.equals2D(d);S||o--;var C=new Array(o).fill(null),I=0;C[I++]=new he(p.coord);for(var H=p.segmentIndex+1;H<=s.segmentIndex;H++)C[I++]=this.edge.pts[H];return S&&(C[I]=s.coord),new Lo(C,new Un(this.edge._label))}},{key:"add",value:function(p,s,o){var d=new Xa(p,s,o),S=this._nodeMap.get(d);return S!==null?S:(this._nodeMap.put(d,d),d)}},{key:"isIntersection",value:function(p){for(var s=this.iterator();s.hasNext();)if(s.next().coord.equals(p))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new rn,this.edge=null;var p=arguments[0];this.edge=p}}])})(),Va=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])||p.isTrue(this._matrix[fe.INTERIOR][fe.BOUNDARY])||p.isTrue(this._matrix[fe.BOUNDARY][fe.INTERIOR])||p.isTrue(this._matrix[fe.BOUNDARY][fe.BOUNDARY]))&&this._matrix[fe.EXTERIOR][fe.INTERIOR]===Ye.FALSE&&this._matrix[fe.EXTERIOR][fe.BOUNDARY]===Ye.FALSE}},{key:"isCoveredBy",value:function(){return(p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])||p.isTrue(this._matrix[fe.INTERIOR][fe.BOUNDARY])||p.isTrue(this._matrix[fe.BOUNDARY][fe.INTERIOR])||p.isTrue(this._matrix[fe.BOUNDARY][fe.BOUNDARY]))&&this._matrix[fe.INTERIOR][fe.EXTERIOR]===Ye.FALSE&&this._matrix[fe.BOUNDARY][fe.EXTERIOR]===Ye.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var s=arguments[0],o=0;o<s.length;o++){var d=Math.trunc(o/3),S=o%3;this._matrix[d][S]=Ye.toDimensionValue(s.charAt(o))}else if(arguments.length===3){var C=arguments[0],I=arguments[1],H=arguments[2];this._matrix[C][I]=H}}},{key:"isContains",value:function(){return p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])&&this._matrix[fe.EXTERIOR][fe.INTERIOR]===Ye.FALSE&&this._matrix[fe.EXTERIOR][fe.BOUNDARY]===Ye.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var s=arguments[0],o=0;o<s.length;o++){var d=Math.trunc(o/3),S=o%3;this.setAtLeast(d,S,Ye.toDimensionValue(s.charAt(o)))}else if(arguments.length===3){var C=arguments[0],I=arguments[1],H=arguments[2];this._matrix[C][I]<H&&(this._matrix[C][I]=H)}}},{key:"setAtLeastIfValid",value:function(s,o,d){s>=0&&o>=0&&this.setAtLeast(s,o,d)}},{key:"isWithin",value:function(){return p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])&&this._matrix[fe.INTERIOR][fe.EXTERIOR]===Ye.FALSE&&this._matrix[fe.BOUNDARY][fe.EXTERIOR]===Ye.FALSE}},{key:"isTouches",value:function(s,o){return s>o?this.isTouches(o,s):(s===Ye.A&&o===Ye.A||s===Ye.L&&o===Ye.L||s===Ye.L&&o===Ye.A||s===Ye.P&&o===Ye.A||s===Ye.P&&o===Ye.L)&&this._matrix[fe.INTERIOR][fe.INTERIOR]===Ye.FALSE&&(p.isTrue(this._matrix[fe.INTERIOR][fe.BOUNDARY])||p.isTrue(this._matrix[fe.BOUNDARY][fe.INTERIOR])||p.isTrue(this._matrix[fe.BOUNDARY][fe.BOUNDARY]))}},{key:"isOverlaps",value:function(s,o){return s===Ye.P&&o===Ye.P||s===Ye.A&&o===Ye.A?p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])&&p.isTrue(this._matrix[fe.INTERIOR][fe.EXTERIOR])&&p.isTrue(this._matrix[fe.EXTERIOR][fe.INTERIOR]):s===Ye.L&&o===Ye.L&&this._matrix[fe.INTERIOR][fe.INTERIOR]===1&&p.isTrue(this._matrix[fe.INTERIOR][fe.EXTERIOR])&&p.isTrue(this._matrix[fe.EXTERIOR][fe.INTERIOR])}},{key:"isEquals",value:function(s,o){return s===o&&p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])&&this._matrix[fe.INTERIOR][fe.EXTERIOR]===Ye.FALSE&&this._matrix[fe.BOUNDARY][fe.EXTERIOR]===Ye.FALSE&&this._matrix[fe.EXTERIOR][fe.INTERIOR]===Ye.FALSE&&this._matrix[fe.EXTERIOR][fe.BOUNDARY]===Ye.FALSE}},{key:"toString",value:function(){for(var s=new dr("123456789"),o=0;o<3;o++)for(var d=0;d<3;d++)s.setCharAt(3*o+d,Ye.toDimensionSymbol(this._matrix[o][d]));return s.toString()}},{key:"setAll",value:function(s){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this._matrix[o][d]=s}},{key:"get",value:function(s,o){return this._matrix[s][o]}},{key:"transpose",value:function(){var s=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=s,s=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=s,s=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=s,this}},{key:"matches",value:function(s){if(s.length!==9)throw new W("Should be length 9: "+s);for(var o=0;o<3;o++)for(var d=0;d<3;d++)if(!p.matches(this._matrix[o][d],s.charAt(3*o+d)))return!1;return!0}},{key:"add",value:function(s){for(var o=0;o<3;o++)for(var d=0;d<3;d++)this.setAtLeast(o,d,s.get(o,d))}},{key:"isDisjoint",value:function(){return this._matrix[fe.INTERIOR][fe.INTERIOR]===Ye.FALSE&&this._matrix[fe.INTERIOR][fe.BOUNDARY]===Ye.FALSE&&this._matrix[fe.BOUNDARY][fe.INTERIOR]===Ye.FALSE&&this._matrix[fe.BOUNDARY][fe.BOUNDARY]===Ye.FALSE}},{key:"isCrosses",value:function(s,o){return s===Ye.P&&o===Ye.L||s===Ye.P&&o===Ye.A||s===Ye.L&&o===Ye.A?p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])&&p.isTrue(this._matrix[fe.INTERIOR][fe.EXTERIOR]):s===Ye.L&&o===Ye.P||s===Ye.A&&o===Ye.P||s===Ye.A&&o===Ye.L?p.isTrue(this._matrix[fe.INTERIOR][fe.INTERIOR])&&p.isTrue(this._matrix[fe.EXTERIOR][fe.INTERIOR]):s===Ye.L&&o===Ye.L&&this._matrix[fe.INTERIOR][fe.INTERIOR]===0}},{key:"interfaces_",get:function(){return[k]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Ye.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var s=arguments[0];p.constructor_.call(this),this.set(s)}else if(arguments[0]instanceof p){var o=arguments[0];p.constructor_.call(this),this._matrix[fe.INTERIOR][fe.INTERIOR]=o._matrix[fe.INTERIOR][fe.INTERIOR],this._matrix[fe.INTERIOR][fe.BOUNDARY]=o._matrix[fe.INTERIOR][fe.BOUNDARY],this._matrix[fe.INTERIOR][fe.EXTERIOR]=o._matrix[fe.INTERIOR][fe.EXTERIOR],this._matrix[fe.BOUNDARY][fe.INTERIOR]=o._matrix[fe.BOUNDARY][fe.INTERIOR],this._matrix[fe.BOUNDARY][fe.BOUNDARY]=o._matrix[fe.BOUNDARY][fe.BOUNDARY],this._matrix[fe.BOUNDARY][fe.EXTERIOR]=o._matrix[fe.BOUNDARY][fe.EXTERIOR],this._matrix[fe.EXTERIOR][fe.INTERIOR]=o._matrix[fe.EXTERIOR][fe.INTERIOR],this._matrix[fe.EXTERIOR][fe.BOUNDARY]=o._matrix[fe.EXTERIOR][fe.BOUNDARY],this._matrix[fe.EXTERIOR][fe.EXTERIOR]=o._matrix[fe.EXTERIOR][fe.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var s=arguments[0],o=arguments[1];return o===Ye.SYM_DONTCARE||o===Ye.SYM_TRUE&&(s>=0||s===Ye.TRUE)||o===Ye.SYM_FALSE&&s===Ye.FALSE||o===Ye.SYM_P&&s===Ye.P||o===Ye.SYM_L&&s===Ye.L||o===Ye.SYM_A&&s===Ye.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var d=arguments[1];return new p(arguments[0]).matches(d)}}},{key:"isTrue",value:function(s){return s>=0||s===Ye.TRUE}}])})(),Wa=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(s){return s===null||s.length===0?null:(this.ensureCapacity(this._size+s.length),Ei.arraycopy(s,0,this._data,this._size,s.length),void(this._size+=s.length))}},{key:"ensureCapacity",value:function(s){if(s<=this._data.length)return null;var o=Math.max(s,2*this._data.length);this._data=On.copyOf(this._data,o)}},{key:"toArray",value:function(){var s=new Array(this._size).fill(null);return Ei.arraycopy(this._data,0,s,0,this._size),s}},{key:"add",value:function(s){this.ensureCapacity(this._size+1),this._data[this._size]=s,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)p.constructor_.call(this,10);else if(arguments.length===1){var s=arguments[0];this._data=new Array(s).fill(null)}}}])})(),al=(function(){function p(){r(this,p)}return g(p,[{key:"getChainStartIndices",value:function(s){var o=0,d=new Wa(Math.trunc(s.length/2));d.add(o);do{var S=this.findChainEnd(s,o);d.add(S),o=S}while(o<s.length-1);return d.toArray()}},{key:"findChainEnd",value:function(s,o){for(var d=wn.quadrant(s[o],s[o+1]),S=o+1;S<s.length&&wn.quadrant(s[S-1],s[S])===d;)S++;return S-1}},{key:"OLDgetChainStartIndices",value:function(s){var o=0,d=new $e;d.add(o);do{var S=this.findChainEnd(s,o);d.add(S),o=S}while(o<s.length-1);return p.toIntArray(d)}}],[{key:"toIntArray",value:function(s){for(var o=new Array(s.size()).fill(null),d=0;d<o.length;d++)o[d]=s.get(d).intValue();return o}}])})(),$i=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(p){var s=this.pts[this.startIndex[p]].x,o=this.pts[this.startIndex[p+1]].x;return s>o?s:o}},{key:"getMinX",value:function(p){var s=this.pts[this.startIndex[p]].x,o=this.pts[this.startIndex[p+1]].x;return s<o?s:o}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var p=arguments[0],s=arguments[1],o=arguments[2],d=arguments[3];this.computeIntersectsForChain(this.startIndex[p],this.startIndex[p+1],s,s.startIndex[o],s.startIndex[o+1],d)}else if(arguments.length===6){var S=arguments[0],C=arguments[1],I=arguments[2],H=arguments[3],le=arguments[4],de=arguments[5];if(C-S==1&&le-H==1)return de.addIntersections(this.e,S,I.e,H),null;if(!this.overlaps(S,C,I,H,le))return null;var ye=Math.trunc((S+C)/2),be=Math.trunc((H+le)/2);S<ye&&(H<be&&this.computeIntersectsForChain(S,ye,I,H,be,de),be<le&&this.computeIntersectsForChain(S,ye,I,be,le,de)),ye<C&&(H<be&&this.computeIntersectsForChain(ye,C,I,H,be,de),be<le&&this.computeIntersectsForChain(ye,C,I,be,le,de))}}},{key:"overlaps",value:function(p,s,o,d,S){return Me.intersects(this.pts[p],this.pts[s],o.pts[d],o.pts[S])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(p,s){for(var o=0;o<this.startIndex.length-1;o++)for(var d=0;d<p.startIndex.length-1;d++)this.computeIntersectsForChain(o,p,d,s)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var p=arguments[0];this.e=p,this.pts=p.getCoordinates();var s=new al;this.startIndex=s.getChainStartIndices(this.pts)}}])})(),ra=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"getDepth",value:function(s,o){return this._depth[s][o]}},{key:"setDepth",value:function(s,o,d){this._depth[s][o]=d}},{key:"isNull",value:function(){if(arguments.length===0){for(var s=0;s<2;s++)for(var o=0;o<3;o++)if(this._depth[s][o]!==p.NULL_VALUE)return!1;return!0}if(arguments.length===1){var d=arguments[0];return this._depth[d][1]===p.NULL_VALUE}if(arguments.length===2){var S=arguments[0],C=arguments[1];return this._depth[S][C]===p.NULL_VALUE}}},{key:"normalize",value:function(){for(var s=0;s<2;s++)if(!this.isNull(s)){var o=this._depth[s][1];this._depth[s][2]<o&&(o=this._depth[s][2]),o<0&&(o=0);for(var d=1;d<3;d++){var S=0;this._depth[s][d]>o&&(S=1),this._depth[s][d]=S}}}},{key:"getDelta",value:function(s){return this._depth[s][Oe.RIGHT]-this._depth[s][Oe.LEFT]}},{key:"getLocation",value:function(s,o){return this._depth[s][o]<=0?fe.EXTERIOR:fe.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var s=arguments[0],o=0;o<2;o++)for(var d=1;d<3;d++){var S=s.getLocation(o,d);S!==fe.EXTERIOR&&S!==fe.INTERIOR||(this.isNull(o,d)?this._depth[o][d]=p.depthAtLocation(S):this._depth[o][d]+=p.depthAtLocation(S))}else if(arguments.length===3){var C=arguments[0],I=arguments[1];arguments[2]===fe.INTERIOR&&this._depth[C][I]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var s=0;s<2;s++)for(var o=0;o<3;o++)this._depth[s][o]=p.NULL_VALUE}},{key:"depthAtLocation",value:function(s){return s===fe.EXTERIOR?0:s===fe.INTERIOR?1:p.NULL_VALUE}}])})();ra.NULL_VALUE=-1;var Lo=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var o=new Array(2).fill(null);return o[0]=this.pts[0],o[1]=this.pts[1],new s(o,Un.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(o){this._isIsolated=o}},{key:"setName",value:function(o){this._name=o}},{key:"equals",value:function(o){if(!(o instanceof s))return!1;var d=o;if(this.pts.length!==d.pts.length)return!1;for(var S=!0,C=!0,I=this.pts.length,H=0;H<this.pts.length;H++)if(this.pts[H].equals2D(d.pts[H])||(S=!1),this.pts[H].equals2D(d.pts[--I])||(C=!1),!S&&!C)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var o=arguments[0];return this.pts[o]}}},{key:"print",value:function(o){o.print("edge "+this._name+": "),o.print("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.print(","),o.print(this.pts[d].x+" "+this.pts[d].y);o.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(o){s.updateIM(this._label,o)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(o){o.print("edge "+this._name+": ");for(var d=this.pts.length-1;d>=0;d--)o.print(this.pts[d]+" ");o.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new $i(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new Me;for(var o=0;o<this.pts.length;o++)this._env.expandToInclude(this.pts[o])}return this._env}},{key:"addIntersection",value:function(o,d,S,C){var I=new he(o.getIntersection(C)),H=d,le=o.getEdgeDistance(S,C),de=H+1;if(de<this.pts.length){var ye=this.pts[de];I.equals2D(ye)&&(H=de,le=0)}this.eiList.add(I,H,le)}},{key:"toString",value:function(){var o=new dr;o.append("edge "+this._name+": "),o.append("LINESTRING (");for(var d=0;d<this.pts.length;d++)d>0&&o.append(","),o.append(this.pts[d].x+" "+this.pts[d].y);return o.append(")  "+this._label+" "+this._depthDelta),o.toString()}},{key:"isPointwiseEqual",value:function(o){if(this.pts.length!==o.pts.length)return!1;for(var d=0;d<this.pts.length;d++)if(!this.pts[d].equals2D(o.pts[d]))return!1;return!0}},{key:"setDepthDelta",value:function(o){this._depthDelta=o}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(o,d,S){for(var C=0;C<o.getIntersectionNum();C++)this.addIntersection(o,d,S,C)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Ja(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ra,this._depthDelta=0,arguments.length===1){var o=arguments[0];s.constructor_.call(this,o,null)}else if(arguments.length===2){var d=arguments[0],S=arguments[1];this.pts=d,this._label=S}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Va&&arguments[0]instanceof Un))return B(s,"updateIM",this).apply(this,arguments);var o=arguments[0],d=arguments[1];d.setAtLeastIfValid(o.getLocation(0,Oe.ON),o.getLocation(1,Oe.ON),1),o.isArea()&&(d.setAtLeastIfValid(o.getLocation(0,Oe.LEFT),o.getLocation(1,Oe.LEFT),2),d.setAtLeastIfValid(o.getLocation(0,Oe.RIGHT),o.getLocation(1,Oe.RIGHT),2))}}])})(zt),Qa=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"setWorkingPrecisionModel",value:function(s){this._workingPrecisionModel=s}},{key:"insertUniqueEdge",value:function(s){var o=this._edgeList.findEqualEdge(s);if(o!==null){var d=o.getLabel(),S=s.getLabel();o.isPointwiseEqual(s)||(S=new Un(s.getLabel())).flip(),d.merge(S);var C=p.depthDelta(S),I=o.getDepthDelta()+C;o.setDepthDelta(I)}else this._edgeList.add(s),s.setDepthDelta(p.depthDelta(s.getLabel()))}},{key:"buildSubgraphs",value:function(s,o){for(var d=new $e,S=s.iterator();S.hasNext();){var C=S.next(),I=C.getRightmostCoordinate(),H=new mi(d).getDepth(I);C.computeDepth(H),C.findResultEdges(),d.add(C),o.add(C.getDirectedEdges(),C.getNodes())}}},{key:"createSubgraphs",value:function(s){for(var o=new $e,d=s.getNodes().iterator();d.hasNext();){var S=d.next();if(!S.isVisited()){var C=new Fa;C.create(S),o.add(C)}}return Ji.sort(o,Ji.reverseOrder()),o}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(s){if(this._workingNoder!==null)return this._workingNoder;var o=new Eo,d=new mr;return d.setPrecisionModel(s),o.setSegmentIntersector(new Ki(d)),o}},{key:"buffer",value:function(s,o){var d=this._workingPrecisionModel;d===null&&(d=s.getPrecisionModel()),this._geomFact=s.getFactory();var S=new Ha(d,this._bufParams),C=new Ps(s,o,S).getCurves();if(C.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(C,d),this._graph=new Xi(new xa),this._graph.addEdges(this._edgeList.getEdges());var I=this.createSubgraphs(this._graph),H=new Ns(this._geomFact);this.buildSubgraphs(I,H);var le=H.getPolygons();return le.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(le)}},{key:"computeNodedEdges",value:function(s,o){var d=this.getNoder(o);d.computeNodes(s);for(var S=d.getNodedSubstrings().iterator();S.hasNext();){var C=S.next(),I=C.getCoordinates();if(I.length!==2||!I[0].equals2D(I[1])){var H=C.getData(),le=new Lo(C.getCoordinates(),new Un(H));this.insertUniqueEdge(le)}}}},{key:"setNoder",value:function(s){this._workingNoder=s}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Qi;var s=arguments[0];this._bufParams=s}},{key:"depthDelta",value:function(s){var o=s.getLocation(0,Oe.LEFT),d=s.getLocation(0,Oe.RIGHT);return o===fe.INTERIOR&&d===fe.EXTERIOR?1:o===fe.EXTERIOR&&d===fe.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(s){for(var o=new Hi,d=new $e;s.hasNext();){var S=s.next(),C=o.createLineString(S.getCoordinates());d.add(C)}return o.buildGeometry(d)}}])})(),sl=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"rescale",value:function(){if(He(arguments[0],Xe))for(var s=arguments[0].iterator();s.hasNext();){var o=s.next();this.rescale(o.getCoordinates())}else if(arguments[0]instanceof Array){for(var d=arguments[0],S=0;S<d.length;S++)d[S].x=d[S].x/this._scaleFactor+this._offsetX,d[S].y=d[S].y/this._scaleFactor+this._offsetY;d.length===2&&d[0].equals2D(d[1])&&Ei.out.println(d)}}},{key:"scale",value:function(){if(He(arguments[0],Xe)){for(var s=arguments[0],o=new $e(s.size()),d=s.iterator();d.hasNext();){var S=d.next();o.add(new vr(this.scale(S.getCoordinates()),S.getData()))}return o}if(arguments[0]instanceof Array){for(var C=arguments[0],I=new Array(C.length).fill(null),H=0;H<C.length;H++)I[H]=new he(Math.round((C[H].x-this._offsetX)*this._scaleFactor),Math.round((C[H].y-this._offsetY)*this._scaleFactor),C[H].getZ());return $t.removeRepeatedPoints(I)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var s=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(s),s}},{key:"computeNodes",value:function(s){var o=s;this._isScaled&&(o=this.scale(s)),this._noder.computeNodes(o)}},{key:"interfaces_",get:function(){return[Ms]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var s=arguments[0],o=arguments[1];p.constructor_.call(this,s,o,0,0)}else if(arguments.length===4){var d=arguments[0],S=arguments[1];this._noder=d,this._scaleFactor=S,this._isScaled=!this.isIntegerPrecision()}}}])})(),er=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var s=this._segStrings.iterator();s.hasNext();){var o=s.next().getCoordinates();this.checkEndPtVertexIntersections(o[0],this._segStrings),this.checkEndPtVertexIntersections(o[o.length-1],this._segStrings)}else if(arguments.length===2){for(var d=arguments[0],S=arguments[1].iterator();S.hasNext();)for(var C=S.next().getCoordinates(),I=1;I<C.length-1;I++)if(C[I].equals(d))throw new $("found endpt/interior pt intersection at index "+I+" :pt "+d)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var s=this._segStrings.iterator();s.hasNext();)for(var o=s.next(),d=this._segStrings.iterator();d.hasNext();){var S=d.next();this.checkInteriorIntersections(o,S)}else if(arguments.length===2)for(var C=arguments[0],I=arguments[1],H=C.getCoordinates(),le=I.getCoordinates(),de=0;de<H.length-1;de++)for(var ye=0;ye<le.length-1;ye++)this.checkInteriorIntersections(C,de,I,ye);else if(arguments.length===4){var be=arguments[0],ze=arguments[1],Ge=arguments[2],Ve=arguments[3];if(be===Ge&&ze===Ve)return null;var tt=be.getCoordinates()[ze],Ct=be.getCoordinates()[ze+1],gt=Ge.getCoordinates()[Ve],Yt=Ge.getCoordinates()[Ve+1];if(this._li.computeIntersection(tt,Ct,gt,Yt),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,tt,Ct)||this.hasInteriorIntersection(this._li,gt,Yt)))throw new $("found non-noded intersection at "+tt+"-"+Ct+" and "+gt+"-"+Yt)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var s=this._segStrings.iterator();s.hasNext();){var o=s.next();this.checkCollapses(o)}else if(arguments.length===1)for(var d=arguments[0].getCoordinates(),S=0;S<d.length-2;S++)this.checkCollapse(d[S],d[S+1],d[S+2])}},{key:"hasInteriorIntersection",value:function(s,o,d){for(var S=0;S<s.getIntersectionNum();S++){var C=s.getIntersection(S);if(!C.equals(o)&&!C.equals(d))return!0}return!1}},{key:"checkCollapse",value:function(s,o,d){if(s.equals(d))throw new $("found non-noded collapse at "+p.fact.createLineString([s,o,d]))}}],[{key:"constructor_",value:function(){this._li=new mr,this._segStrings=null;var s=arguments[0];this._segStrings=s}}])})();er.fact=new Hi;var Do=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"intersectsScaled",value:function(s,o){var d=Math.min(s.x,o.x),S=Math.max(s.x,o.x),C=Math.min(s.y,o.y),I=Math.max(s.y,o.y),H=this._maxx<d||this._minx>S||this._maxy<C||this._miny>I;if(H)return!1;var le=this.intersectsToleranceSquare(s,o);return pe.isTrue(!(H&&le),"Found bad envelope test"),le}},{key:"initCorners",value:function(s){var o=.5;this._minx=s.x-o,this._maxx=s.x+o,this._miny=s.y-o,this._maxy=s.y+o,this._corner[0]=new he(this._maxx,this._maxy),this._corner[1]=new he(this._minx,this._maxy),this._corner[2]=new he(this._minx,this._miny),this._corner[3]=new he(this._maxx,this._miny)}},{key:"intersects",value:function(s,o){return this._scaleFactor===1?this.intersectsScaled(s,o):(this.copyScaled(s,this._p0Scaled),this.copyScaled(o,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(s){return Math.round(s*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(s,o){o.x=this.scale(s.x),o.y=this.scale(s.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var s=p.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Me(this._originalPt.x-s,this._originalPt.x+s,this._originalPt.y-s,this._originalPt.y+s)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(s,o){return this._li.computeIntersection(s,o,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(s,o,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(s,o,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(s,o,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(s,o){var d=!1,S=!1;return this._li.computeIntersection(s,o,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(s,o,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(d=!0),this._li.computeIntersection(s,o,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(S=!0),this._li.computeIntersection(s,o,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!d||!S)||!!s.equals(this._pt)||!!o.equals(this._pt))))}},{key:"addSnappedNode",value:function(s,o){var d=s.getCoordinate(o),S=s.getCoordinate(o+1);return!!this.intersects(d,S)&&(s.addIntersection(this.getCoordinate(),o),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var s=arguments[0],o=arguments[1],d=arguments[2];if(this._originalPt=s,this._pt=s,this._scaleFactor=o,this._li=d,o<=0)throw new W("Scale factor must be non-zero");o!==1&&(this._pt=new he(this.scale(s.x),this.scale(s.y)),this._p0Scaled=new he,this._p1Scaled=new he),this.initCorners(this._pt)}}])})();Do.SAFE_ENV_EXPANSION_FACTOR=.75;var Ea=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var p=arguments[1];arguments[0].getLineSegment(p,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new ii}}])})(),ol=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var p=arguments[0];return this.snap(p,null,-1)}if(arguments.length===3){var s=arguments[0],o=arguments[1],d=arguments[2],S=s.getSafeEnvelope(),C=new tr(s,o,d);return this._index.query(S,new((function(){return g((function I(){r(this,I)}),[{key:"interfaces_",get:function(){return[Ko]}},{key:"visitItem",value:function(I){I.select(S,C)}}])})())),C.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var p=arguments[0];this._index=p}}])})(),tr=(function(p){function s(){var o;return r(this,s),o=l(this,s),s.constructor_.apply(o,arguments),o}return x(s,p),g(s,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof xo))return B(s,"select",this,1).apply(this,arguments);var o=arguments[1],d=arguments[0].getContext();if(this._parentEdge===d&&(o===this._hotPixelVertexIndex||o+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(d,o)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var o=arguments[0],d=arguments[1],S=arguments[2];this._hotPixel=o,this._parentEdge=d,this._hotPixelVertexIndex=S}}])})(Ea);ol.HotPixelSnapAction=tr;var Gn=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(p,s,o,d){if(p===o&&s===d)return null;var S=p.getCoordinates()[s],C=p.getCoordinates()[s+1],I=o.getCoordinates()[d],H=o.getCoordinates()[d+1];if(this._li.computeIntersection(S,C,I,H),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var le=0;le<this._li.getIntersectionNum();le++)this._interiorIntersections.add(this._li.getIntersection(le));p.addIntersections(this._li,s,0),o.addIntersections(this._li,d,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Co]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var p=arguments[0];this._li=p,this._interiorIntersections=new $e}}])})(),ba=(function(){return g((function p(){r(this,p),p.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(p){var s=vr.getNodedSubstrings(p),o=new er(s);try{o.checkValid()}catch(d){if(!(d instanceof V))throw d;d.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return vr.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(p,s){var o=this.findInteriorIntersections(p,s);this.computeIntersectionSnaps(o),this.computeVertexSnaps(p)}},{key:"findInteriorIntersections",value:function(p,s){var o=new Gn(s);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(p),o.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(He(arguments[0],Xe))for(var p=arguments[0].iterator();p.hasNext();){var s=p.next();this.computeVertexSnaps(s)}else if(arguments[0]instanceof vr)for(var o=arguments[0],d=o.getCoordinates(),S=0;S<d.length;S++){var C=new Do(d[S],this._scaleFactor,this._li);this._pointSnapper.snap(C,o,S)&&o.addIntersection(d[S],S)}}},{key:"computeNodes",value:function(p){this._nodedSegStrings=p,this._noder=new Eo,this._pointSnapper=new ol(this._noder.getIndex()),this.snapRound(p,this._li)}},{key:"computeIntersectionSnaps",value:function(p){for(var s=p.iterator();s.hasNext();){var o=s.next(),d=new Do(o,this._scaleFactor,this._li);this._pointSnapper.snap(d)}}},{key:"interfaces_",get:function(){return[Ms]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var p=arguments[0];this._pm=p,this._li=new mr,this._li.setPrecisionModel(p),this._scaleFactor=p.getScale()}}])})(),Sr=(function(){function p(){r(this,p),p.constructor_.apply(this,arguments)}return g(p,[{key:"bufferFixedPrecision",value:function(s){var o=new sl(new ba(new ti(1)),s.getScale()),d=new Qa(this._bufParams);d.setWorkingPrecisionModel(s),d.setNoder(o),this._resultGeometry=d.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var s=p.MAX_PRECISION_DIGITS;s>=0;s--){try{this.bufferReducedPrecision(s)}catch(C){if(!(C instanceof vn))throw C;this._saveException=C}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var o=arguments[0],d=p.precisionScaleFactor(this._argGeom,this._distance,o),S=new ti(d);this.bufferFixedPrecision(S)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var s=this._argGeom.getFactory().getPrecisionModel();s.getType()===ti.FIXED?this.bufferFixedPrecision(s):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(s){this._bufParams.setQuadrantSegments(s)}},{key:"bufferOriginalPrecision",value:function(){try{var s=new Qa(this._bufParams);this._resultGeometry=s.buffer(this._argGeom,this._distance)}catch(o){if(!(o instanceof $))throw o;this._saveException=o}}},{key:"getResultGeometry",value:function(s){return this._distance=s,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(s){this._bufParams.setEndCapStyle(s)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new X,this._resultGeometry=null,this._saveException=null,arguments.length===1){var s=arguments[0];this._argGeom=s}else if(arguments.length===2){var o=arguments[0],d=arguments[1];this._argGeom=o,this._bufParams=d}}},{key:"bufferOp",value:function(){if(arguments.length===2){var s=arguments[1];return new p(arguments[0]).getResultGeometry(s)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ae&&typeof arguments[1]=="number"){var o=arguments[1],d=arguments[2],S=new p(arguments[0]);return S.setQuadrantSegments(d),S.getResultGeometry(o)}if(arguments[2]instanceof X&&arguments[0]instanceof Ae&&typeof arguments[1]=="number"){var C=arguments[1];return new p(arguments[0],arguments[2]).getResultGeometry(C)}}else if(arguments.length===4){var I=arguments[1],H=arguments[2],le=arguments[3],de=new p(arguments[0]);return de.setQuadrantSegments(H),de.setEndCapStyle(le),de.getResultGeometry(I)}}},{key:"precisionScaleFactor",value:function(s,o,d){var S=s.getEnvelopeInternal(),C=hr.max(Math.abs(S.getMaxX()),Math.abs(S.getMaxY()),Math.abs(S.getMinX()),Math.abs(S.getMinY()))+2*(o>0?o:0),I=d-Math.trunc(Math.log(C)/Math.log(10)+1);return Math.pow(10,I)}}])})();Sr.CAP_ROUND=X.CAP_ROUND,Sr.CAP_BUTT=X.CAP_FLAT,Sr.CAP_FLAT=X.CAP_FLAT,Sr.CAP_SQUARE=X.CAP_SQUARE,Sr.MAX_PRECISION_DIGITS=12;var Ka=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],$a=(function(){return g((function p(s){r(this,p),this.geometryFactory=s||new Hi}),[{key:"read",value:function(p){var s,o=(s=typeof p=="string"?JSON.parse(p):p).type;if(!qn[o])throw new Error("Unknown GeoJSON type: "+s.type);return Ka.indexOf(o)!==-1?qn[o].call(this,s.coordinates):o==="GeometryCollection"?qn[o].call(this,s.geometries):qn[o].call(this,s)}},{key:"write",value:function(p){var s=p.getGeometryType();if(!Fn[s])throw new Error("Geometry is not supported");return Fn[s].call(this,p)}}])})(),qn={Feature:function(p){var s={};for(var o in p)s[o]=p[o];if(p.geometry){var d=p.geometry.type;if(!qn[d])throw new Error("Unknown GeoJSON type: "+p.type);s.geometry=this.read(p.geometry)}return p.bbox&&(s.bbox=qn.bbox.call(this,p.bbox)),s},FeatureCollection:function(p){var s={};if(p.features){s.features=[];for(var o=0;o<p.features.length;++o)s.features.push(this.read(p.features[o]))}return p.bbox&&(s.bbox=this.parse.bbox.call(this,p.bbox)),s},coordinates:function(p){for(var s=[],o=0;o<p.length;++o){var d=p[o];s.push(c(he,J(d)))}return s},bbox:function(p){return this.geometryFactory.createLinearRing([new he(p[0],p[1]),new he(p[2],p[1]),new he(p[2],p[3]),new he(p[0],p[3]),new he(p[0],p[1])])},Point:function(p){var s=c(he,J(p));return this.geometryFactory.createPoint(s)},MultiPoint:function(p){for(var s=[],o=0;o<p.length;++o)s.push(qn.Point.call(this,p[o]));return this.geometryFactory.createMultiPoint(s)},LineString:function(p){var s=qn.coordinates.call(this,p);return this.geometryFactory.createLineString(s)},MultiLineString:function(p){for(var s=[],o=0;o<p.length;++o)s.push(qn.LineString.call(this,p[o]));return this.geometryFactory.createMultiLineString(s)},Polygon:function(p){for(var s=qn.coordinates.call(this,p[0]),o=this.geometryFactory.createLinearRing(s),d=[],S=1;S<p.length;++S){var C=p[S],I=qn.coordinates.call(this,C),H=this.geometryFactory.createLinearRing(I);d.push(H)}return this.geometryFactory.createPolygon(o,d)},MultiPolygon:function(p){for(var s=[],o=0;o<p.length;++o){var d=p[o];s.push(qn.Polygon.call(this,d))}return this.geometryFactory.createMultiPolygon(s)},GeometryCollection:function(p){for(var s=[],o=0;o<p.length;++o){var d=p[o];s.push(this.read(d))}return this.geometryFactory.createGeometryCollection(s)}},Fn={coordinate:function(p){var s=[p.x,p.y];return p.z&&s.push(p.z),p.m&&s.push(p.m),s},Point:function(p){return{type:"Point",coordinates:Fn.coordinate.call(this,p.getCoordinate())}},MultiPoint:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=Fn.Point.call(this,d);s.push(S.coordinates)}return{type:"MultiPoint",coordinates:s}},LineString:function(p){for(var s=[],o=p.getCoordinates(),d=0;d<o.length;++d){var S=o[d];s.push(Fn.coordinate.call(this,S))}return{type:"LineString",coordinates:s}},MultiLineString:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=Fn.LineString.call(this,d);s.push(S.coordinates)}return{type:"MultiLineString",coordinates:s}},Polygon:function(p){var s=[],o=Fn.LineString.call(this,p._shell);s.push(o.coordinates);for(var d=0;d<p._holes.length;++d){var S=p._holes[d],C=Fn.LineString.call(this,S);s.push(C.coordinates)}return{type:"Polygon",coordinates:s}},MultiPolygon:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=Fn.Polygon.call(this,d);s.push(S.coordinates)}return{type:"MultiPolygon",coordinates:s}},GeometryCollection:function(p){for(var s=[],o=0;o<p._geometries.length;++o){var d=p._geometries[o],S=d.getGeometryType();s.push(Fn[S].call(this,d))}return{type:"GeometryCollection",geometries:s}}};return{BufferOp:Sr,GeoJSONReader:(function(){return g((function p(s){r(this,p),this.parser=new $a(s||new Hi)}),[{key:"read",value:function(p){return this.parser.read(p)}}])})(),GeoJSONWriter:(function(){return g((function p(){r(this,p),this.parser=new $a(this.geometryFactory)}),[{key:"write",value:function(p){return this.parser.write(p)}}])})()}}))})(Gh)),Gh.exports}var vT=yT();const ST=lo(vT);function co(){return new ef}function ef(){this.reset()}ef.prototype={constructor:ef,reset:function(){this.s=this.t=0},add:function(t){xv(kh,t,this.t),xv(this,kh.s,this.s),this.s?this.t+=kh.t:this.s=kh.t},valueOf:function(){return this.s}};var kh=new ef;function xv(t,n,i){var l=t.s=n+i,r=l-n,c=l-r;t.t=n-c+(i-r)}var pn=1e-6,Xt=Math.PI,Na=Xt/2,Ev=Xt/4,Ba=Xt*2,io=180/Xt,Zr=Xt/180,fi=Math.abs,xT=Math.atan,Gl=Math.atan2,An=Math.cos,kn=Math.sin,Ql=Math.sqrt;function kS(t){return t>1?0:t<-1?Xt:Math.acos(t)}function Wo(t){return t>1?Na:t<-1?-Na:Math.asin(t)}function $u(){}function tf(t,n){t&&Tv.hasOwnProperty(t.type)&&Tv[t.type](t,n)}var bv={Feature:function(t,n){tf(t.geometry,n)},FeatureCollection:function(t,n){for(var i=t.features,l=-1,r=i.length;++l<r;)tf(i[l].geometry,n)}},Tv={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var i=t.coordinates,l=-1,r=i.length;++l<r;)t=i[l],n.point(t[0],t[1],t[2])},LineString:function(t,n){Xp(t.coordinates,n,0)},MultiLineString:function(t,n){for(var i=t.coordinates,l=-1,r=i.length;++l<r;)Xp(i[l],n,0)},Polygon:function(t,n){wv(t.coordinates,n)},MultiPolygon:function(t,n){for(var i=t.coordinates,l=-1,r=i.length;++l<r;)wv(i[l],n)},GeometryCollection:function(t,n){for(var i=t.geometries,l=-1,r=i.length;++l<r;)tf(i[l],n)}};function Xp(t,n,i){var l=-1,r=t.length-i,c;for(n.lineStart();++l<r;)c=t[l],n.point(c[0],c[1],c[2]);n.lineEnd()}function wv(t,n){var i=-1,l=t.length;for(n.polygonStart();++i<l;)Xp(t[i],n,1);n.polygonEnd()}function ET(t,n){t&&bv.hasOwnProperty(t.type)?bv[t.type](t,n):tf(t,n)}co();co();function Jp(t){return[Gl(t[1],t[0]),Wo(t[2])]}function ql(t){var n=t[0],i=t[1],l=An(i);return[l*An(n),l*kn(n),kn(i)]}function Nh(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function nf(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Cp(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Oh(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Vp(t){var n=Ql(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}co();function NS(t,n){function i(l,r){return l=t(l,r),n(l[0],l[1])}return t.invert&&n.invert&&(i.invert=function(l,r){return l=n.invert(l,r),l&&t.invert(l[0],l[1])}),i}function Wp(t,n){return[t>Xt?t-Ba:t<-Xt?t+Ba:t,n]}Wp.invert=Wp;function bT(t,n,i){return(t%=Ba)?n||i?NS(Lv(t),Dv(n,i)):Lv(t):n||i?Dv(n,i):Wp}function Cv(t){return function(n,i){return n+=t,[n>Xt?n-Ba:n<-Xt?n+Ba:n,i]}}function Lv(t){var n=Cv(t);return n.invert=Cv(-t),n}function Dv(t,n){var i=An(t),l=kn(t),r=An(n),c=kn(n);function f(g,y){var v=An(y),E=An(g)*v,x=kn(g)*v,A=kn(y),N=A*i+E*l;return[Gl(x*r-N*c,E*i-A*l),Wo(N*r+x*c)]}return f.invert=function(g,y){var v=An(y),E=An(g)*v,x=kn(g)*v,A=kn(y),N=A*r-x*c;return[Gl(x*r+A*c,E*i+N*l),Wo(N*i-E*l)]},f}function TT(t,n,i,l,r,c){if(i){var f=An(n),g=kn(n),y=l*i;r==null?(r=n+l*Ba,c=n-y/2):(r=Av(f,r),c=Av(f,c),(l>0?r<c:r>c)&&(r+=l*Ba));for(var v,E=r;l>0?E>c:E<c;E-=y)v=Jp([f,-g*An(E),-g*kn(E)]),t.point(v[0],v[1])}}function Av(t,n){n=ql(n),n[0]-=t,Vp(n);var i=kS(-n[1]);return((-n[2]<0?-i:i)+Ba-pn)%Ba}function OS(){var t=[],n;return{point:function(i,l){n.push([i,l])},lineStart:function(){t.push(n=[])},lineEnd:$u,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],n=null,i}}}function wT(t,n,i,l,r,c){var f=t[0],g=t[1],y=n[0],v=n[1],E=0,x=1,A=y-f,N=v-g,B;if(B=i-f,!(!A&&B>0)){if(B/=A,A<0){if(B<E)return;B<x&&(x=B)}else if(A>0){if(B>x)return;B>E&&(E=B)}if(B=r-f,!(!A&&B<0)){if(B/=A,A<0){if(B>x)return;B>E&&(E=B)}else if(A>0){if(B<E)return;B<x&&(x=B)}if(B=l-g,!(!N&&B>0)){if(B/=N,N<0){if(B<E)return;B<x&&(x=B)}else if(N>0){if(B>x)return;B>E&&(E=B)}if(B=c-g,!(!N&&B<0)){if(B/=N,N<0){if(B>x)return;B>E&&(E=B)}else if(N>0){if(B<E)return;B<x&&(x=B)}return E>0&&(t[0]=f+E*A,t[1]=g+E*N),x<1&&(n[0]=f+x*A,n[1]=g+x*N),!0}}}}}function qh(t,n){return fi(t[0]-n[0])<pn&&fi(t[1]-n[1])<pn}function Mh(t,n,i,l){this.x=t,this.z=n,this.o=i,this.e=l,this.v=!1,this.n=this.p=null}function MS(t,n,i,l,r){var c=[],f=[],g,y;if(t.forEach(function(B){if(!((J=B.length-1)<=0)){var J,se=B[0],re=B[J],F;if(qh(se,re)){for(r.lineStart(),g=0;g<J;++g)r.point((se=B[g])[0],se[1]);r.lineEnd();return}c.push(F=new Mh(se,B,null,!0)),f.push(F.o=new Mh(se,null,F,!1)),c.push(F=new Mh(re,B,null,!1)),f.push(F.o=new Mh(re,null,F,!0))}}),!!c.length){for(f.sort(n),kv(c),kv(f),g=0,y=f.length;g<y;++g)f[g].e=i=!i;for(var v=c[0],E,x;;){for(var A=v,N=!0;A.v;)if((A=A.n)===v)return;E=A.z,r.lineStart();do{if(A.v=A.o.v=!0,A.e){if(N)for(g=0,y=E.length;g<y;++g)r.point((x=E[g])[0],x[1]);else l(A.x,A.n.x,1,r);A=A.n}else{if(N)for(E=A.p.z,g=E.length-1;g>=0;--g)r.point((x=E[g])[0],x[1]);else l(A.x,A.p.x,-1,r);A=A.p}A=A.o,E=A.z,N=!N}while(!A.v);r.lineEnd()}}}function kv(t){if(n=t.length){for(var n,i=0,l=t[0],r;++i<n;)l.n=r=t[i],r.p=l,l=r;l.n=r=t[0],r.p=l}}function RS(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function CT(t){return t.length===1&&(t=LT(t)),{left:function(n,i,l,r){for(l==null&&(l=0),r==null&&(r=n.length);l<r;){var c=l+r>>>1;t(n[c],i)<0?l=c+1:r=c}return l},right:function(n,i,l,r){for(l==null&&(l=0),r==null&&(r=n.length);l<r;){var c=l+r>>>1;t(n[c],i)>0?r=c:l=c+1}return l}}}function LT(t){return function(n,i){return RS(t(n),i)}}CT(RS);function IS(t){for(var n=t.length,i,l=-1,r=0,c,f;++l<n;)r+=t[l].length;for(c=new Array(r);--n>=0;)for(f=t[n],i=f.length;--i>=0;)c[--r]=f[i];return c}var ec=1e9,Rh=-ec;function DT(t,n,i,l){function r(v,E){return t<=v&&v<=i&&n<=E&&E<=l}function c(v,E,x,A){var N=0,B=0;if(v==null||(N=f(v,x))!==(B=f(E,x))||y(v,E)<0^x>0)do A.point(N===0||N===3?t:i,N>1?l:n);while((N=(N+x+4)%4)!==B);else A.point(E[0],E[1])}function f(v,E){return fi(v[0]-t)<pn?E>0?0:3:fi(v[0]-i)<pn?E>0?2:1:fi(v[1]-n)<pn?E>0?1:0:E>0?3:2}function g(v,E){return y(v.x,E.x)}function y(v,E){var x=f(v,1),A=f(E,1);return x!==A?x-A:x===0?E[1]-v[1]:x===1?v[0]-E[0]:x===2?v[1]-E[1]:E[0]-v[0]}return function(v){var E=v,x=OS(),A,N,B,J,se,re,F,X,V,W,K,ee={point:k,lineStart:q,lineEnd:te,polygonStart:P,polygonEnd:Z};function k(ae,R){r(ae,R)&&E.point(ae,R)}function M(){for(var ae=0,R=0,j=N.length;R<j;++R)for(var z=N[R],ie=1,Q=z.length,Y=z[0],$,ce,pe=Y[0],ge=Y[1];ie<Q;++ie)$=pe,ce=ge,Y=z[ie],pe=Y[0],ge=Y[1],ce<=l?ge>l&&(pe-$)*(l-ce)>(ge-ce)*(t-$)&&++ae:ge<=l&&(pe-$)*(l-ce)<(ge-ce)*(t-$)&&--ae;return ae}function P(){E=x,A=[],N=[],K=!0}function Z(){var ae=M(),R=K&&ae,j=(A=IS(A)).length;(R||j)&&(v.polygonStart(),R&&(v.lineStart(),c(null,null,1,v),v.lineEnd()),j&&MS(A,g,ae,c,v),v.polygonEnd()),E=v,A=N=B=null}function q(){ee.point=ne,N&&N.push(B=[]),W=!0,V=!1,F=X=NaN}function te(){A&&(ne(J,se),re&&V&&x.rejoin(),A.push(x.result())),ee.point=k,V&&E.lineEnd()}function ne(ae,R){var j=r(ae,R);if(N&&B.push([ae,R]),W)J=ae,se=R,re=j,W=!1,j&&(E.lineStart(),E.point(ae,R));else if(j&&V)E.point(ae,R);else{var z=[F=Math.max(Rh,Math.min(ec,F)),X=Math.max(Rh,Math.min(ec,X))],ie=[ae=Math.max(Rh,Math.min(ec,ae)),R=Math.max(Rh,Math.min(ec,R))];wT(z,ie,t,n,i,l)?(V||(E.lineStart(),E.point(z[0],z[1])),E.point(ie[0],ie[1]),j||E.lineEnd(),K=!1):j&&(E.lineStart(),E.point(ae,R),K=!1)}F=ae,X=R,V=j}return ee}}var Lp=co();function AT(t,n){var i=n[0],l=n[1],r=[kn(i),-An(i),0],c=0,f=0;Lp.reset();for(var g=0,y=t.length;g<y;++g)if(E=(v=t[g]).length)for(var v,E,x=v[E-1],A=x[0],N=x[1]/2+Ev,B=kn(N),J=An(N),se=0;se<E;++se,A=F,B=V,J=W,x=re){var re=v[se],F=re[0],X=re[1]/2+Ev,V=kn(X),W=An(X),K=F-A,ee=K>=0?1:-1,k=ee*K,M=k>Xt,P=B*V;if(Lp.add(Gl(P*ee*kn(k),J*W+P*An(k))),c+=M?K+ee*Ba:K,M^A>=i^F>=i){var Z=nf(ql(x),ql(re));Vp(Z);var q=nf(r,Z);Vp(q);var te=(M^K>=0?-1:1)*Wo(q[2]);(l>te||l===te&&(Z[0]||Z[1]))&&(f+=M^K>=0?1:-1)}}return(c<-pn||c<pn&&Lp<-pn)^f&1}co();function Nv(t){return t}co();co();var Hl=1/0,rf=Hl,dc=-Hl,af=dc,Ov={point:kT,lineStart:$u,lineEnd:$u,polygonStart:$u,polygonEnd:$u,result:function(){var t=[[Hl,rf],[dc,af]];return dc=af=-(rf=Hl=1/0),t}};function kT(t,n){t<Hl&&(Hl=t),t>dc&&(dc=t),n<rf&&(rf=n),n>af&&(af=n)}co();function PS(t,n,i,l){return function(r,c){var f=n(c),g=r.invert(l[0],l[1]),y=OS(),v=n(y),E=!1,x,A,N,B={point:J,lineStart:re,lineEnd:F,polygonStart:function(){B.point=X,B.lineStart=V,B.lineEnd=W,A=[],x=[]},polygonEnd:function(){B.point=J,B.lineStart=re,B.lineEnd=F,A=IS(A);var K=AT(x,g);A.length?(E||(c.polygonStart(),E=!0),MS(A,OT,K,i,c)):K&&(E||(c.polygonStart(),E=!0),c.lineStart(),i(null,null,1,c),c.lineEnd()),E&&(c.polygonEnd(),E=!1),A=x=null},sphere:function(){c.polygonStart(),c.lineStart(),i(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function J(K,ee){var k=r(K,ee);t(K=k[0],ee=k[1])&&c.point(K,ee)}function se(K,ee){var k=r(K,ee);f.point(k[0],k[1])}function re(){B.point=se,f.lineStart()}function F(){B.point=J,f.lineEnd()}function X(K,ee){N.push([K,ee]);var k=r(K,ee);v.point(k[0],k[1])}function V(){v.lineStart(),N=[]}function W(){X(N[0][0],N[0][1]),v.lineEnd();var K=v.clean(),ee=y.result(),k,M=ee.length,P,Z,q;if(N.pop(),x.push(N),N=null,!!M){if(K&1){if(Z=ee[0],(P=Z.length-1)>0){for(E||(c.polygonStart(),E=!0),c.lineStart(),k=0;k<P;++k)c.point((q=Z[k])[0],q[1]);c.lineEnd()}return}M>1&&K&2&&ee.push(ee.pop().concat(ee.shift())),A.push(ee.filter(NT))}}return B}}function NT(t){return t.length>1}function OT(t,n){return((t=t.x)[0]<0?t[1]-Na-pn:Na-t[1])-((n=n.x)[0]<0?n[1]-Na-pn:Na-n[1])}const Mv=PS(function(){return!0},MT,IT,[-Xt,-Na]);function MT(t){var n=NaN,i=NaN,l=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(c,f){var g=c>0?Xt:-Xt,y=fi(c-n);fi(y-Xt)<pn?(t.point(n,i=(i+f)/2>0?Na:-Na),t.point(l,i),t.lineEnd(),t.lineStart(),t.point(g,i),t.point(c,i),r=0):l!==g&&y>=Xt&&(fi(n-l)<pn&&(n-=l*pn),fi(c-g)<pn&&(c-=g*pn),i=RT(n,i,c,f),t.point(l,i),t.lineEnd(),t.lineStart(),t.point(g,i),r=0),t.point(n=c,i=f),l=g},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-r}}}function RT(t,n,i,l){var r,c,f=kn(t-i);return fi(f)>pn?xT((kn(n)*(c=An(l))*kn(i)-kn(l)*(r=An(n))*kn(t))/(r*c*f)):(n+l)/2}function IT(t,n,i,l){var r;if(t==null)r=i*Na,l.point(-Xt,r),l.point(0,r),l.point(Xt,r),l.point(Xt,0),l.point(Xt,-r),l.point(0,-r),l.point(-Xt,-r),l.point(-Xt,0),l.point(-Xt,r);else if(fi(t[0]-n[0])>pn){var c=t[0]<n[0]?Xt:-Xt;r=i*c/2,l.point(-c,r),l.point(0,r),l.point(c,r)}else l.point(n[0],n[1])}function PT(t,n){var i=An(t),l=i>0,r=fi(i)>pn;function c(E,x,A,N){TT(N,t,n,A,E,x)}function f(E,x){return An(E)*An(x)>i}function g(E){var x,A,N,B,J;return{lineStart:function(){B=N=!1,J=1},point:function(se,re){var F=[se,re],X,V=f(se,re),W=l?V?0:v(se,re):V?v(se+(se<0?Xt:-Xt),re):0;if(!x&&(B=N=V)&&E.lineStart(),V!==N&&(X=y(x,F),(!X||qh(x,X)||qh(F,X))&&(F[0]+=pn,F[1]+=pn,V=f(F[0],F[1]))),V!==N)J=0,V?(E.lineStart(),X=y(F,x),E.point(X[0],X[1])):(X=y(x,F),E.point(X[0],X[1]),E.lineEnd()),x=X;else if(r&&x&&l^V){var K;!(W&A)&&(K=y(F,x,!0))&&(J=0,l?(E.lineStart(),E.point(K[0][0],K[0][1]),E.point(K[1][0],K[1][1]),E.lineEnd()):(E.point(K[1][0],K[1][1]),E.lineEnd(),E.lineStart(),E.point(K[0][0],K[0][1])))}V&&(!x||!qh(x,F))&&E.point(F[0],F[1]),x=F,N=V,A=W},lineEnd:function(){N&&E.lineEnd(),x=null},clean:function(){return J|(B&&N)<<1}}}function y(E,x,A){var N=ql(E),B=ql(x),J=[1,0,0],se=nf(N,B),re=Nh(se,se),F=se[0],X=re-F*F;if(!X)return!A&&E;var V=i*re/X,W=-i*F/X,K=nf(J,se),ee=Oh(J,V),k=Oh(se,W);Cp(ee,k);var M=K,P=Nh(ee,M),Z=Nh(M,M),q=P*P-Z*(Nh(ee,ee)-1);if(!(q<0)){var te=Ql(q),ne=Oh(M,(-P-te)/Z);if(Cp(ne,ee),ne=Jp(ne),!A)return ne;var ae=E[0],R=x[0],j=E[1],z=x[1],ie;R<ae&&(ie=ae,ae=R,R=ie);var Q=R-ae,Y=fi(Q-Xt)<pn,$=Y||Q<pn;if(!Y&&z<j&&(ie=j,j=z,z=ie),$?Y?j+z>0^ne[1]<(fi(ne[0]-ae)<pn?j:z):j<=ne[1]&&ne[1]<=z:Q>Xt^(ae<=ne[0]&&ne[0]<=R)){var ce=Oh(M,(-P+te)/Z);return Cp(ce,ee),[ne,Jp(ce)]}}}function v(E,x){var A=l?t:Xt-t,N=0;return E<-A?N|=1:E>A&&(N|=2),x<-A?N|=4:x>A&&(N|=8),N}return PS(f,g,c,l?[0,-t]:[-Xt,t-Xt])}function BS(t){return function(n){var i=new Qp;for(var l in t)i[l]=t[l];return i.stream=n,i}}function Qp(){}Qp.prototype={constructor:Qp,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function FS(t,n,i){var l=n[1][0]-n[0][0],r=n[1][1]-n[0][1],c=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),c!=null&&t.clipExtent(null),ET(i,t.stream(Ov));var f=Ov.result(),g=Math.min(l/(f[1][0]-f[0][0]),r/(f[1][1]-f[0][1])),y=+n[0][0]+(l-g*(f[1][0]+f[0][0]))/2,v=+n[0][1]+(r-g*(f[1][1]+f[0][1]))/2;return c!=null&&t.clipExtent(c),t.scale(g*150).translate([y,v])}function BT(t,n,i){return FS(t,[[0,0],n],i)}var Rv=16,FT=An(30*Zr);function Iv(t,n){return+n?jT(t,n):zT(t)}function zT(t){return BS({point:function(n,i){n=t(n,i),this.stream.point(n[0],n[1])}})}function jT(t,n){function i(l,r,c,f,g,y,v,E,x,A,N,B,J,se){var re=v-l,F=E-r,X=re*re+F*F;if(X>4*n&&J--){var V=f+A,W=g+N,K=y+B,ee=Ql(V*V+W*W+K*K),k=Wo(K/=ee),M=fi(fi(K)-1)<pn||fi(c-x)<pn?(c+x)/2:Gl(W,V),P=t(M,k),Z=P[0],q=P[1],te=Z-l,ne=q-r,ae=F*te-re*ne;(ae*ae/X>n||fi((re*te+F*ne)/X-.5)>.3||f*A+g*N+y*B<FT)&&(i(l,r,c,f,g,y,Z,q,M,V/=ee,W/=ee,K,J,se),se.point(Z,q),i(Z,q,M,V,W,K,v,E,x,A,N,B,J,se))}}return function(l){var r,c,f,g,y,v,E,x,A,N,B,J,se={point:re,lineStart:F,lineEnd:V,polygonStart:function(){l.polygonStart(),se.lineStart=W},polygonEnd:function(){l.polygonEnd(),se.lineStart=F}};function re(k,M){k=t(k,M),l.point(k[0],k[1])}function F(){x=NaN,se.point=X,l.lineStart()}function X(k,M){var P=ql([k,M]),Z=t(k,M);i(x,A,E,N,B,J,x=Z[0],A=Z[1],E=k,N=P[0],B=P[1],J=P[2],Rv,l),l.point(x,A)}function V(){se.point=re,l.lineEnd()}function W(){F(),se.point=K,se.lineEnd=ee}function K(k,M){X(r=k,M),c=x,f=A,g=N,y=B,v=J,se.point=X}function ee(){i(x,A,E,N,B,J,c,f,r,g,y,v,Rv,l),se.lineEnd=V,V()}return se}}var UT=BS({point:function(t,n){this.stream.point(t*Zr,n*Zr)}});function YT(t){return GT(function(){return t})()}function GT(t){var n,i=150,l=480,r=250,c,f,g=0,y=0,v=0,E=0,x=0,A,N,B=null,J=Mv,se=null,re,F,X,V=Nv,W=.5,K=Iv(Z,W),ee,k;function M(ne){return ne=N(ne[0]*Zr,ne[1]*Zr),[ne[0]*i+c,f-ne[1]*i]}function P(ne){return ne=N.invert((ne[0]-c)/i,(f-ne[1])/i),ne&&[ne[0]*io,ne[1]*io]}function Z(ne,ae){return ne=n(ne,ae),[ne[0]*i+c,f-ne[1]*i]}M.stream=function(ne){return ee&&k===ne?ee:ee=UT(J(A,K(V(k=ne))))},M.clipAngle=function(ne){return arguments.length?(J=+ne?PT(B=ne*Zr,6*Zr):(B=null,Mv),te()):B*io},M.clipExtent=function(ne){return arguments.length?(V=ne==null?(se=re=F=X=null,Nv):DT(se=+ne[0][0],re=+ne[0][1],F=+ne[1][0],X=+ne[1][1]),te()):se==null?null:[[se,re],[F,X]]},M.scale=function(ne){return arguments.length?(i=+ne,q()):i},M.translate=function(ne){return arguments.length?(l=+ne[0],r=+ne[1],q()):[l,r]},M.center=function(ne){return arguments.length?(g=ne[0]%360*Zr,y=ne[1]%360*Zr,q()):[g*io,y*io]},M.rotate=function(ne){return arguments.length?(v=ne[0]%360*Zr,E=ne[1]%360*Zr,x=ne.length>2?ne[2]%360*Zr:0,q()):[v*io,E*io,x*io]},M.precision=function(ne){return arguments.length?(K=Iv(Z,W=ne*ne),te()):Ql(W)},M.fitExtent=function(ne,ae){return FS(M,ne,ae)},M.fitSize=function(ne,ae){return BT(M,ne,ae)};function q(){N=NS(A=bT(v,E,x),n);var ne=n(g,y);return c=l-ne[0]*i,f=r+ne[1]*i,te()}function te(){return ee=k=null,M}return function(){return n=t.apply(this,arguments),M.invert=n.invert&&P,q()}}function zS(t){return function(n,i){var l=An(n),r=An(i),c=t(l*r);return[c*r*kn(n),c*kn(i)]}}function jS(t){return function(n,i){var l=Ql(n*n+i*i),r=t(l),c=kn(r),f=An(r);return[Gl(n*c,l*f),Wo(l&&i*c/l)]}}var qT=zS(function(t){return Ql(2/(1+t))});qT.invert=jS(function(t){return 2*Wo(t/2)});var US=zS(function(t){return(t=kS(t))&&t/kn(t)});US.invert=jS(function(t){return t});function HT(){return YT(US).scale(79.4188).clipAngle(180-.001)}function Pv(t,n){return[t,n]}Pv.invert=Pv;var{BufferOp:ZT,GeoJSONReader:XT,GeoJSONWriter:JT}=ST;function VT(t,n,i){i=i||{};var l=i.units||"kilometers",r=i.steps||8;if(!t)throw new Error("geojson is required");if(typeof i!="object")throw new Error("options must be an object");if(typeof r!="number")throw new Error("steps must be an number");if(n===void 0)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var c=[];switch(t.type){case"GeometryCollection":return Si(t,function(f){var g=Hh(f,n,l,r);g&&c.push(g)}),Qe(c);case"FeatureCollection":return Rt(t,function(f){var g=Hh(f,n,l,r);g&&Rt(g,function(y){y&&c.push(y)})}),Qe(c)}return Hh(t,n,l,r)}function Hh(t,n,i,l){var r=t.properties||{},c=t.type==="Feature"?t.geometry:t;if(c.type==="GeometryCollection"){var f=[];return Si(t,function(J){var se=Hh(J,n,i,l);se&&f.push(se)}),Qe(f)}var g=WT(c),y={type:c.type,coordinates:GS(c.coordinates,g)},v=new XT,E=v.read(y),x=Sc(Vl(n,i),"meters"),A=ZT.bufferOp(E,x,l),N=new JT;if(A=N.write(A),!YS(A.coordinates)){var B={type:A.type,coordinates:qS(A.coordinates,g)};return bn(B,r)}}function YS(t){return Array.isArray(t[0])?YS(t[0]):isNaN(t[0])}function GS(t,n){return typeof t[0]!="object"?n(t):t.map(function(i){return GS(i,n)})}function qS(t,n){return typeof t[0]!="object"?n.invert(t):t.map(function(i){return qS(i,n)})}function WT(t){var n=vf(t).geometry.coordinates,i=[-n[0],-n[1]];return HT().rotate(i).scale(Wn)}function Dg(t,n={}){let i=0,l=0,r=0;return Si(t,function(c,f,g){let y=n.weight?g?.[n.weight]:void 0;if(y=y??1,!Kn(y))throw new Error("weight value must be a number for feature index "+f);y=Number(y),y>0&&_n(c,function(v){i+=v[0]*y,l+=v[1]*y,r+=y})}),ut([i/r,l/r],n.properties,n)}function Ss(t,n={}){let i=0,l=0,r=0;return _n(t,function(c){i+=c[0],l+=c[1],r++},!0),ut([i/r,l/r],n.properties)}function QT(t,n={}){if(n=n||{},!Ft(n))throw new Error("options is invalid");var i=n.counter||10;if(!Kn(i))throw new Error("counter must be a number");var l=n.weight,r=Dg(t,{weight:n.weight}),c=Qe([]);Rt(t,function(g){var y;c.features.push(Ss(g,{properties:{weight:(y=g.properties)==null?void 0:y[l]}}))});const f={tolerance:n.tolerance,medianCandidates:[]};return HS(r.geometry.coordinates,[0,0],c,f,i)}function HS(t,n,i,l,r){var c=l.tolerance||.001,f=0,g=0,y=0,v=0;if(Rt(i,function(A){var N,B=(N=A.properties)==null?void 0:N.weight,J=B??1;if(J=Number(J),!Kn(J))throw new Error("weight value must be a number");if(J>0){v+=1;var se=J*fn(A,t);se===0&&(se=1);var re=J/se;f+=A.geometry.coordinates[0]*re,g+=A.geometry.coordinates[1]*re,y+=re}}),v<1)throw new Error("no features to measure");var E=f/y,x=g/y;return v===1||r===0||Math.abs(E-n[0])<c&&Math.abs(x-n[1])<c?ut([E,x],{medianCandidates:l.medianCandidates}):(l.medianCandidates.push([E,x]),HS([E,x],t,i,l,r-1))}var Ih={exports:{}},Zh={exports:{}},KT=Zh.exports,Bv;function $T(){return Bv||(Bv=1,(function(t,n){(function(i,l){t.exports=l()})(KT,function(){function i(F,X,V,W,K){(function ee(k,M,P,Z,q){for(;Z>P;){if(Z-P>600){var te=Z-P+1,ne=M-P+1,ae=Math.log(te),R=.5*Math.exp(2*ae/3),j=.5*Math.sqrt(ae*R*(te-R)/te)*(ne-te/2<0?-1:1),z=Math.max(P,Math.floor(M-ne*R/te+j)),ie=Math.min(Z,Math.floor(M+(te-ne)*R/te+j));ee(k,M,z,ie,q)}var Q=k[M],Y=P,$=Z;for(l(k,P,M),q(k[Z],Q)>0&&l(k,P,Z);Y<$;){for(l(k,Y,$),Y++,$--;q(k[Y],Q)<0;)Y++;for(;q(k[$],Q)>0;)$--}q(k[P],Q)===0?l(k,P,$):l(k,++$,Z),$<=M&&(P=$+1),M<=$&&(Z=$-1)}})(F,X,V||0,W||F.length-1,K||r)}function l(F,X,V){var W=F[X];F[X]=F[V],F[V]=W}function r(F,X){return F<X?-1:F>X?1:0}var c=function(F){F===void 0&&(F=9),this._maxEntries=Math.max(4,F),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function f(F,X,V){if(!V)return X.indexOf(F);for(var W=0;W<X.length;W++)if(V(F,X[W]))return W;return-1}function g(F,X){y(F,0,F.children.length,X,F)}function y(F,X,V,W,K){K||(K=se(null)),K.minX=1/0,K.minY=1/0,K.maxX=-1/0,K.maxY=-1/0;for(var ee=X;ee<V;ee++){var k=F.children[ee];v(K,F.leaf?W(k):k)}return K}function v(F,X){return F.minX=Math.min(F.minX,X.minX),F.minY=Math.min(F.minY,X.minY),F.maxX=Math.max(F.maxX,X.maxX),F.maxY=Math.max(F.maxY,X.maxY),F}function E(F,X){return F.minX-X.minX}function x(F,X){return F.minY-X.minY}function A(F){return(F.maxX-F.minX)*(F.maxY-F.minY)}function N(F){return F.maxX-F.minX+(F.maxY-F.minY)}function B(F,X){return F.minX<=X.minX&&F.minY<=X.minY&&X.maxX<=F.maxX&&X.maxY<=F.maxY}function J(F,X){return X.minX<=F.maxX&&X.minY<=F.maxY&&X.maxX>=F.minX&&X.maxY>=F.minY}function se(F){return{children:F,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function re(F,X,V,W,K){for(var ee=[X,V];ee.length;)if(!((V=ee.pop())-(X=ee.pop())<=W)){var k=X+Math.ceil((V-X)/W/2)*W;i(F,k,X,V,K),ee.push(X,k,k,V)}}return c.prototype.all=function(){return this._all(this.data,[])},c.prototype.search=function(F){var X=this.data,V=[];if(!J(F,X))return V;for(var W=this.toBBox,K=[];X;){for(var ee=0;ee<X.children.length;ee++){var k=X.children[ee],M=X.leaf?W(k):k;J(F,M)&&(X.leaf?V.push(k):B(F,M)?this._all(k,V):K.push(k))}X=K.pop()}return V},c.prototype.collides=function(F){var X=this.data;if(!J(F,X))return!1;for(var V=[];X;){for(var W=0;W<X.children.length;W++){var K=X.children[W],ee=X.leaf?this.toBBox(K):K;if(J(F,ee)){if(X.leaf||B(F,ee))return!0;V.push(K)}}X=V.pop()}return!1},c.prototype.load=function(F){if(!F||!F.length)return this;if(F.length<this._minEntries){for(var X=0;X<F.length;X++)this.insert(F[X]);return this}var V=this._build(F.slice(),0,F.length-1,0);if(this.data.children.length)if(this.data.height===V.height)this._splitRoot(this.data,V);else{if(this.data.height<V.height){var W=this.data;this.data=V,V=W}this._insert(V,this.data.height-V.height-1,!0)}else this.data=V;return this},c.prototype.insert=function(F){return F&&this._insert(F,this.data.height-1),this},c.prototype.clear=function(){return this.data=se([]),this},c.prototype.remove=function(F,X){if(!F)return this;for(var V,W,K,ee=this.data,k=this.toBBox(F),M=[],P=[];ee||M.length;){if(ee||(ee=M.pop(),W=M[M.length-1],V=P.pop(),K=!0),ee.leaf){var Z=f(F,ee.children,X);if(Z!==-1)return ee.children.splice(Z,1),M.push(ee),this._condense(M),this}K||ee.leaf||!B(ee,k)?W?(V++,ee=W.children[V],K=!1):ee=null:(M.push(ee),P.push(V),V=0,W=ee,ee=ee.children[0])}return this},c.prototype.toBBox=function(F){return F},c.prototype.compareMinX=function(F,X){return F.minX-X.minX},c.prototype.compareMinY=function(F,X){return F.minY-X.minY},c.prototype.toJSON=function(){return this.data},c.prototype.fromJSON=function(F){return this.data=F,this},c.prototype._all=function(F,X){for(var V=[];F;)F.leaf?X.push.apply(X,F.children):V.push.apply(V,F.children),F=V.pop();return X},c.prototype._build=function(F,X,V,W){var K,ee=V-X+1,k=this._maxEntries;if(ee<=k)return g(K=se(F.slice(X,V+1)),this.toBBox),K;W||(W=Math.ceil(Math.log(ee)/Math.log(k)),k=Math.ceil(ee/Math.pow(k,W-1))),(K=se([])).leaf=!1,K.height=W;var M=Math.ceil(ee/k),P=M*Math.ceil(Math.sqrt(k));re(F,X,V,P,this.compareMinX);for(var Z=X;Z<=V;Z+=P){var q=Math.min(Z+P-1,V);re(F,Z,q,M,this.compareMinY);for(var te=Z;te<=q;te+=M){var ne=Math.min(te+M-1,q);K.children.push(this._build(F,te,ne,W-1))}}return g(K,this.toBBox),K},c.prototype._chooseSubtree=function(F,X,V,W){for(;W.push(X),!X.leaf&&W.length-1!==V;){for(var K=1/0,ee=1/0,k=void 0,M=0;M<X.children.length;M++){var P=X.children[M],Z=A(P),q=(te=F,ne=P,(Math.max(ne.maxX,te.maxX)-Math.min(ne.minX,te.minX))*(Math.max(ne.maxY,te.maxY)-Math.min(ne.minY,te.minY))-Z);q<ee?(ee=q,K=Z<K?Z:K,k=P):q===ee&&Z<K&&(K=Z,k=P)}X=k||X.children[0]}var te,ne;return X},c.prototype._insert=function(F,X,V){var W=V?F:this.toBBox(F),K=[],ee=this._chooseSubtree(W,this.data,X,K);for(ee.children.push(F),v(ee,W);X>=0&&K[X].children.length>this._maxEntries;)this._split(K,X),X--;this._adjustParentBBoxes(W,K,X)},c.prototype._split=function(F,X){var V=F[X],W=V.children.length,K=this._minEntries;this._chooseSplitAxis(V,K,W);var ee=this._chooseSplitIndex(V,K,W),k=se(V.children.splice(ee,V.children.length-ee));k.height=V.height,k.leaf=V.leaf,g(V,this.toBBox),g(k,this.toBBox),X?F[X-1].children.push(k):this._splitRoot(V,k)},c.prototype._splitRoot=function(F,X){this.data=se([F,X]),this.data.height=F.height+1,this.data.leaf=!1,g(this.data,this.toBBox)},c.prototype._chooseSplitIndex=function(F,X,V){for(var W,K,ee,k,M,P,Z,q=1/0,te=1/0,ne=X;ne<=V-X;ne++){var ae=y(F,0,ne,this.toBBox),R=y(F,ne,V,this.toBBox),j=(K=ae,ee=R,k=void 0,M=void 0,P=void 0,Z=void 0,k=Math.max(K.minX,ee.minX),M=Math.max(K.minY,ee.minY),P=Math.min(K.maxX,ee.maxX),Z=Math.min(K.maxY,ee.maxY),Math.max(0,P-k)*Math.max(0,Z-M)),z=A(ae)+A(R);j<q?(q=j,W=ne,te=z<te?z:te):j===q&&z<te&&(te=z,W=ne)}return W||V-X},c.prototype._chooseSplitAxis=function(F,X,V){var W=F.leaf?this.compareMinX:E,K=F.leaf?this.compareMinY:x;this._allDistMargin(F,X,V,W)<this._allDistMargin(F,X,V,K)&&F.children.sort(W)},c.prototype._allDistMargin=function(F,X,V,W){F.children.sort(W);for(var K=this.toBBox,ee=y(F,0,X,K),k=y(F,V-X,V,K),M=N(ee)+N(k),P=X;P<V-X;P++){var Z=F.children[P];v(ee,F.leaf?K(Z):Z),M+=N(ee)}for(var q=V-X-1;q>=X;q--){var te=F.children[q];v(k,F.leaf?K(te):te),M+=N(k)}return M},c.prototype._adjustParentBBoxes=function(F,X,V){for(var W=V;W>=0;W--)v(X[W],F)},c.prototype._condense=function(F){for(var X=F.length-1,V=void 0;X>=0;X--)F[X].children.length===0?X>0?(V=F[X-1].children).splice(V.indexOf(F[X]),1):this.clear():g(F[X],this.toBBox)},c})})(Zh)),Zh.exports}class ZS{constructor(n=[],i=ew){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:l}=this,r=i[n];for(;n>0;){const c=n-1>>1,f=i[c];if(l(r,f)>=0)break;i[n]=f,n=c}i[n]=r}_down(n){const{data:i,compare:l}=this,r=this.length>>1,c=i[n];for(;n<r;){let f=(n<<1)+1,g=i[f];const y=f+1;if(y<this.length&&l(i[y],g)<0&&(f=y,g=i[y]),l(g,c)>=0)break;i[n]=g,n=f}i[n]=c}}function ew(t,n){return t<n?-1:t>n?1:0}const tw=Object.freeze(Object.defineProperty({__proto__:null,default:ZS},Symbol.toStringTag,{value:"Module"})),nw=gE(tw);var Uu={exports:{}},Dp,Fv;function iw(){return Fv||(Fv=1,Dp=function(n,i,l,r){var c=n[0],f=n[1],g=!1;l===void 0&&(l=0),r===void 0&&(r=i.length);for(var y=(r-l)/2,v=0,E=y-1;v<y;E=v++){var x=i[l+v*2+0],A=i[l+v*2+1],N=i[l+E*2+0],B=i[l+E*2+1],J=A>f!=B>f&&c<(N-x)*(f-A)/(B-A)+x;J&&(g=!g)}return g}),Dp}var Ap,zv;function rw(){return zv||(zv=1,Ap=function(n,i,l,r){var c=n[0],f=n[1],g=!1;l===void 0&&(l=0),r===void 0&&(r=i.length);for(var y=r-l,v=0,E=y-1;v<y;E=v++){var x=i[v+l][0],A=i[v+l][1],N=i[E+l][0],B=i[E+l][1],J=A>f!=B>f&&c<(N-x)*(f-A)/(B-A)+x;J&&(g=!g)}return g}),Ap}var jv;function aw(){if(jv)return Uu.exports;jv=1;var t=iw(),n=rw();return Uu.exports=function(l,r,c,f){return r.length>0&&Array.isArray(r[0])?n(l,r,c,f):t(l,r,c,f)},Uu.exports.nested=n,Uu.exports.flat=t,Uu.exports}var tc={exports:{}},sw=tc.exports,Uv;function ow(){return Uv||(Uv=1,(function(t,n){(function(i,l){l(n)})(sw,function(i){const r=33306690738754706e-32;function c(J,se,re,F,X){let V,W,K,ee,k=se[0],M=F[0],P=0,Z=0;M>k==M>-k?(V=k,k=se[++P]):(V=M,M=F[++Z]);let q=0;if(P<J&&Z<re)for(M>k==M>-k?(K=V-((W=k+V)-k),k=se[++P]):(K=V-((W=M+V)-M),M=F[++Z]),V=W,K!==0&&(X[q++]=K);P<J&&Z<re;)M>k==M>-k?(K=V-((W=V+k)-(ee=W-V))+(k-ee),k=se[++P]):(K=V-((W=V+M)-(ee=W-V))+(M-ee),M=F[++Z]),V=W,K!==0&&(X[q++]=K);for(;P<J;)K=V-((W=V+k)-(ee=W-V))+(k-ee),k=se[++P],V=W,K!==0&&(X[q++]=K);for(;Z<re;)K=V-((W=V+M)-(ee=W-V))+(M-ee),M=F[++Z],V=W,K!==0&&(X[q++]=K);return V===0&&q!==0||(X[q++]=V),q}function f(J){return new Float64Array(J)}const g=33306690738754716e-32,y=22204460492503146e-32,v=11093356479670487e-47,E=f(4),x=f(8),A=f(12),N=f(16),B=f(4);i.orient2d=function(J,se,re,F,X,V){const W=(se-V)*(re-X),K=(J-X)*(F-V),ee=W-K;if(W===0||K===0||W>0!=K>0)return ee;const k=Math.abs(W+K);return Math.abs(ee)>=g*k?ee:-(function(M,P,Z,q,te,ne,ae){let R,j,z,ie,Q,Y,$,ce,pe,ge,Se,De,he,Ie,Me,Ae,fe,Xe;const Ze=M-te,Fe=Z-te,Ue=P-ne,wt=q-ne;Q=(Me=(ce=Ze-($=(Y=134217729*Ze)-(Y-Ze)))*(ge=wt-(pe=(Y=134217729*wt)-(Y-wt)))-((Ie=Ze*wt)-$*pe-ce*pe-$*ge))-(Se=Me-(fe=(ce=Ue-($=(Y=134217729*Ue)-(Y-Ue)))*(ge=Fe-(pe=(Y=134217729*Fe)-(Y-Fe)))-((Ae=Ue*Fe)-$*pe-ce*pe-$*ge))),E[0]=Me-(Se+Q)+(Q-fe),Q=(he=Ie-((De=Ie+Se)-(Q=De-Ie))+(Se-Q))-(Se=he-Ae),E[1]=he-(Se+Q)+(Q-Ae),Q=(Xe=De+Se)-De,E[2]=De-(Xe-Q)+(Se-Q),E[3]=Xe;let ht=(function(Ui,He){let Tn=He[0];for(let It=1;It<Ui;It++)Tn+=He[It];return Tn})(4,E),Oe=y*ae;if(ht>=Oe||-ht>=Oe||(R=M-(Ze+(Q=M-Ze))+(Q-te),z=Z-(Fe+(Q=Z-Fe))+(Q-te),j=P-(Ue+(Q=P-Ue))+(Q-ne),ie=q-(wt+(Q=q-wt))+(Q-ne),R===0&&j===0&&z===0&&ie===0)||(Oe=v*ae+r*Math.abs(ht),(ht+=Ze*ie+wt*R-(Ue*z+Fe*j))>=Oe||-ht>=Oe))return ht;Q=(Me=(ce=R-($=(Y=134217729*R)-(Y-R)))*(ge=wt-(pe=(Y=134217729*wt)-(Y-wt)))-((Ie=R*wt)-$*pe-ce*pe-$*ge))-(Se=Me-(fe=(ce=j-($=(Y=134217729*j)-(Y-j)))*(ge=Fe-(pe=(Y=134217729*Fe)-(Y-Fe)))-((Ae=j*Fe)-$*pe-ce*pe-$*ge))),B[0]=Me-(Se+Q)+(Q-fe),Q=(he=Ie-((De=Ie+Se)-(Q=De-Ie))+(Se-Q))-(Se=he-Ae),B[1]=he-(Se+Q)+(Q-Ae),Q=(Xe=De+Se)-De,B[2]=De-(Xe-Q)+(Se-Q),B[3]=Xe;const Jt=c(4,E,4,B,x);Q=(Me=(ce=Ze-($=(Y=134217729*Ze)-(Y-Ze)))*(ge=ie-(pe=(Y=134217729*ie)-(Y-ie)))-((Ie=Ze*ie)-$*pe-ce*pe-$*ge))-(Se=Me-(fe=(ce=Ue-($=(Y=134217729*Ue)-(Y-Ue)))*(ge=z-(pe=(Y=134217729*z)-(Y-z)))-((Ae=Ue*z)-$*pe-ce*pe-$*ge))),B[0]=Me-(Se+Q)+(Q-fe),Q=(he=Ie-((De=Ie+Se)-(Q=De-Ie))+(Se-Q))-(Se=he-Ae),B[1]=he-(Se+Q)+(Q-Ae),Q=(Xe=De+Se)-De,B[2]=De-(Xe-Q)+(Se-Q),B[3]=Xe;const ei=c(Jt,x,4,B,A);Q=(Me=(ce=R-($=(Y=134217729*R)-(Y-R)))*(ge=ie-(pe=(Y=134217729*ie)-(Y-ie)))-((Ie=R*ie)-$*pe-ce*pe-$*ge))-(Se=Me-(fe=(ce=j-($=(Y=134217729*j)-(Y-j)))*(ge=z-(pe=(Y=134217729*z)-(Y-z)))-((Ae=j*z)-$*pe-ce*pe-$*ge))),B[0]=Me-(Se+Q)+(Q-fe),Q=(he=Ie-((De=Ie+Se)-(Q=De-Ie))+(Se-Q))-(Se=he-Ae),B[1]=he-(Se+Q)+(Q-Ae),Q=(Xe=De+Se)-De,B[2]=De-(Xe-Q)+(Se-Q),B[3]=Xe;const gn=c(ei,A,4,B,N);return N[gn-1]})(J,se,re,F,X,V,k)},i.orient2dfast=function(J,se,re,F,X,V){return(se-V)*(re-X)-(J-X)*(F-V)},Object.defineProperty(i,"__esModule",{value:!0})})})(tc,tc.exports)),tc.exports}var Yv;function lw(){if(Yv)return Ih.exports;Yv=1;var t=$T(),n=nw,i=aw(),l=ow().orient2d;n.default&&(n=n.default),Ih.exports=r,Ih.exports.default=r;function r(V,W,K){W=Math.max(0,W===void 0?2:W),K=K||0;var ee=N(V),k=new t(16);k.toBBox=function($){return{minX:$[0],minY:$[1],maxX:$[0],maxY:$[1]}},k.compareMinX=function($,ce){return $[0]-ce[0]},k.compareMinY=function($,ce){return $[1]-ce[1]},k.load(V);for(var M=[],P=0,Z;P<ee.length;P++){var q=ee[P];k.remove(q),Z=B(q,Z),M.push(Z)}var te=new t(16);for(P=0;P<M.length;P++)te.insert(A(M[P]));for(var ne=W*W,ae=K*K;M.length;){var R=M.shift(),j=R.p,z=R.next.p,ie=J(j,z);if(!(ie<ae)){var Q=ie/ne;q=c(k,R.prev.p,j,z,R.next.next.p,Q,te),q&&Math.min(J(q,j),J(q,z))<=Q&&(M.push(R),M.push(B(q,R)),k.remove(q),te.remove(R),te.insert(A(R)),te.insert(A(R.next)))}}R=Z;var Y=[];do Y.push(R.p),R=R.next;while(R!==Z);return Y.push(R.p),Y}function c(V,W,K,ee,k,M,P){for(var Z=new n([],f),q=V.data;q;){for(var te=0;te<q.children.length;te++){var ne=q.children[te],ae=q.leaf?se(ne,K,ee):g(K,ee,ne);ae>M||Z.push({node:ne,dist:ae})}for(;Z.length&&!Z.peek().node.children;){var R=Z.pop(),j=R.node,z=se(j,W,K),ie=se(j,ee,k);if(R.dist<z&&R.dist<ie&&v(K,j,P)&&v(ee,j,P))return j}q=Z.pop(),q&&(q=q.node)}return null}function f(V,W){return V.dist-W.dist}function g(V,W,K){if(y(V,K)||y(W,K))return 0;var ee=re(V[0],V[1],W[0],W[1],K.minX,K.minY,K.maxX,K.minY);if(ee===0)return 0;var k=re(V[0],V[1],W[0],W[1],K.minX,K.minY,K.minX,K.maxY);if(k===0)return 0;var M=re(V[0],V[1],W[0],W[1],K.maxX,K.minY,K.maxX,K.maxY);if(M===0)return 0;var P=re(V[0],V[1],W[0],W[1],K.minX,K.maxY,K.maxX,K.maxY);return P===0?0:Math.min(ee,k,M,P)}function y(V,W){return V[0]>=W.minX&&V[0]<=W.maxX&&V[1]>=W.minY&&V[1]<=W.maxY}function v(V,W,K){for(var ee=Math.min(V[0],W[0]),k=Math.min(V[1],W[1]),M=Math.max(V[0],W[0]),P=Math.max(V[1],W[1]),Z=K.search({minX:ee,minY:k,maxX:M,maxY:P}),q=0;q<Z.length;q++)if(x(Z[q].p,Z[q].next.p,V,W))return!1;return!0}function E(V,W,K){return l(V[0],V[1],W[0],W[1],K[0],K[1])}function x(V,W,K,ee){return V!==ee&&W!==K&&E(V,W,K)>0!=E(V,W,ee)>0&&E(K,ee,V)>0!=E(K,ee,W)>0}function A(V){var W=V.p,K=V.next.p;return V.minX=Math.min(W[0],K[0]),V.minY=Math.min(W[1],K[1]),V.maxX=Math.max(W[0],K[0]),V.maxY=Math.max(W[1],K[1]),V}function N(V){for(var W=V[0],K=V[0],ee=V[0],k=V[0],M=0;M<V.length;M++){var P=V[M];P[0]<W[0]&&(W=P),P[0]>ee[0]&&(ee=P),P[1]<K[1]&&(K=P),P[1]>k[1]&&(k=P)}var Z=[W,K,ee,k],q=Z.slice();for(M=0;M<V.length;M++)i(V[M],Z)||q.push(V[M]);return X(q)}function B(V,W){var K={p:V,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return W?(K.next=W.next,K.prev=W,W.next.prev=K,W.next=K):(K.prev=K,K.next=K),K}function J(V,W){var K=V[0]-W[0],ee=V[1]-W[1];return K*K+ee*ee}function se(V,W,K){var ee=W[0],k=W[1],M=K[0]-ee,P=K[1]-k;if(M!==0||P!==0){var Z=((V[0]-ee)*M+(V[1]-k)*P)/(M*M+P*P);Z>1?(ee=K[0],k=K[1]):Z>0&&(ee+=M*Z,k+=P*Z)}return M=V[0]-ee,P=V[1]-k,M*M+P*P}function re(V,W,K,ee,k,M,P,Z){var q=K-V,te=ee-W,ne=P-k,ae=Z-M,R=V-k,j=W-M,z=q*q+te*te,ie=q*ne+te*ae,Q=ne*ne+ae*ae,Y=q*R+te*j,$=ne*R+ae*j,ce=z*Q-ie*ie,pe,ge,Se,De,he=ce,Ie=ce;ce===0?(ge=0,he=1,De=$,Ie=Q):(ge=ie*$-Q*Y,De=z*$-ie*Y,ge<0?(ge=0,De=$,Ie=Q):ge>he&&(ge=he,De=$+ie,Ie=Q)),De<0?(De=0,-Y<0?ge=0:-Y>z?ge=he:(ge=-Y,he=z)):De>Ie&&(De=Ie,-Y+ie<0?ge=0:-Y+ie>z?ge=he:(ge=-Y+ie,he=z)),pe=ge===0?0:ge/he,Se=De===0?0:De/Ie;var Me=(1-pe)*V+pe*K,Ae=(1-pe)*W+pe*ee,fe=(1-Se)*k+Se*P,Xe=(1-Se)*M+Se*Z,Ze=fe-Me,Fe=Xe-Ae;return Ze*Ze+Fe*Fe}function F(V,W){return V[0]===W[0]?V[1]-W[1]:V[0]-W[0]}function X(V){V.sort(F);for(var W=[],K=0;K<V.length;K++){for(;W.length>=2&&E(W[W.length-2],W[W.length-1],V[K])<=0;)W.pop();W.push(V[K])}for(var ee=[],k=V.length-1;k>=0;k--){for(;ee.length>=2&&E(ee[ee.length-2],ee[ee.length-1],V[k])<=0;)ee.pop();ee.push(V[k])}return ee.pop(),W.pop(),W.concat(ee)}return Ih.exports}var uw=lw();const cw=lo(uw);function XS(t,n={}){n.concavity=n.concavity||1/0;const i=[];if(_n(t,r=>{i.push([r[0],r[1]])}),!i.length)return null;const l=cw(i,n.concavity);return l.length>3?lt([l]):null}function JS(t,n={}){switch(cr(t)){case"Point":return ut(Bt(t),n.properties);case"Polygon":var i=[];_n(t,function(V){i.push(V)});var l=Ss(t,{properties:n.properties}),r=l.geometry.coordinates,c=0,f=0,g=0,y,v,E,x,A,N,B,J,se=i.map(function(V){return[V[0]-r[0],V[1]-r[1]]});for(y=0;y<i.length-1;y++)v=se[y],x=v[0],N=v[1],E=se[y+1],A=E[0],B=E[1],J=x*B-A*N,g+=J,c+=(x+A)*J,f+=(N+B)*J;if(g===0)return l;var re=g*.5,F=1/(6*re);return ut([r[0]+F*c,r[1]+F*f],n.properties);default:var X=XS(t);return X?JS(X,{properties:n.properties}):Ss(t,{properties:n.properties})}}function Sf(t,n,i={}){const l=i.steps||64,r=i.properties?i.properties:!Array.isArray(t)&&t.type==="Feature"&&t.properties?t.properties:{},c=[];for(let f=0;f<l;f++)c.push(so(t,n,f*-360/l,i).geometry.coordinates);return c.push(c[0]),lt([c],r)}function oi(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return VS(t);case"FeatureCollection":return hw(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ag(t);default:throw new Error("unknown GeoJSON type")}}function VS(t){const n={type:"Feature"};return Object.keys(t).forEach(i=>{switch(i){case"type":case"properties":case"geometry":return;default:n[i]=t[i]}}),n.properties=xf(t.properties),t.geometry==null?n.geometry=null:n.geometry=Ag(t.geometry),n}function xf(t){const n={};return t&&Object.keys(t).forEach(i=>{const l=t[i];typeof l=="object"?l===null?n[i]=null:Array.isArray(l)?n[i]=l.map(r=>r):n[i]=xf(l):n[i]=l}),n}function hw(t){const n={type:"FeatureCollection"};return Object.keys(t).forEach(i=>{switch(i){case"type":case"features":return;default:n[i]=t[i]}}),n.features=t.features.map(i=>VS(i)),n}function Ag(t){const n={type:t.type};return t.bbox&&(n.bbox=t.bbox),t.type==="GeometryCollection"?(n.geometries=t.geometries.map(i=>Ag(i)),n):(n.coordinates=WS(t.coordinates),n)}function WS(t){const n=t;return typeof n[0]!="object"?n.slice():n.map(i=>WS(i))}function QS(t,n){if(!t)throw new Error("geojson is required");if(t.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(n==null)throw new Error("filter is required");var i=[];return Rt(t,function(l){Ef(l.properties,n)&&i.push(l)}),Qe(i)}function kg(t,n,i){if(!t)throw new Error("geojson is required");if(t.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(n==null)throw new Error("property is required");for(var l=Ng(t,n),r=Object.keys(l),c=0;c<r.length;c++){for(var f=r[c],g=l[f],y=[],v=0;v<g.length;v++)y.push(t.features[g[v]]);i(Qe(y),f,c)}}function KS(t,n,i,l){var r=l;return kg(t,n,function(c,f,g){g===0&&l===void 0?r=c:r=i(r,c,f,g)}),r}function Ng(t,n){var i={};return Rt(t,function(l,r){var c=l.properties||{};if(Object.prototype.hasOwnProperty.call(c,String(n))){var f=c[n];Object.prototype.hasOwnProperty.call(i,f)?i[f].push(r):i[f]=[r]}}),i}function Ef(t,n){if(t===void 0)return!1;var i=typeof n;if(i==="number"||i==="string")return Object.prototype.hasOwnProperty.call(t,n);if(Array.isArray(n)){for(var l=0;l<n.length;l++)if(!Ef(t,n[l]))return!1;return!0}else return Og(t,n)}function Og(t,n){for(var i=Object.keys(n),l=0;l<i.length;l++){var r=i[l];if(t[r]!==n[r])return!1}return!0}function $S(t,n){if(!n)return{};if(!n.length)return{};for(var i={},l=0;l<n.length;l++){var r=n[l];Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i}const fw=Object.freeze(Object.defineProperty({__proto__:null,applyFilter:Ef,clusterEach:kg,clusterReduce:KS,createBins:Ng,filterProperties:$S,getCluster:QS,propertiesContainsFilter:Og},Symbol.toStringTag,{value:"Module"})),Gv=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],kp=1,Yu=8;class Mg{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,l]=new Uint8Array(n,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const r=l>>4;if(r!==kp)throw new Error(`Got v${r} data when expected v${kp}.`);const c=Gv[l&15];if(!c)throw new Error("Unrecognized array type.");const[f]=new Uint16Array(n,2,1),[g]=new Uint32Array(n,4,1);return new Mg(g,f,c,n)}constructor(n,i=64,l=Float64Array,r){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=l,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const c=Gv.indexOf(this.ArrayType),f=n*2*this.ArrayType.BYTES_PER_ELEMENT,g=n*this.IndexArrayType.BYTES_PER_ELEMENT,y=(8-g%8)%8;if(c<0)throw new Error(`Unexpected typed array class: ${l}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,Yu,n),this.coords=new this.ArrayType(this.data,Yu+g+y,n*2),this._pos=n*2,this._finished=!0):(this.data=new ArrayBuffer(Yu+f+g+y),this.ids=new this.IndexArrayType(this.data,Yu,n),this.coords=new this.ArrayType(this.data,Yu+g+y,n*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(kp<<4)+c]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=n)}add(n,i){const l=this._pos>>1;return this.ids[l]=l,this.coords[this._pos++]=n,this.coords[this._pos++]=i,l}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Kp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,i,l,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:c,coords:f,nodeSize:g}=this,y=[0,c.length-1,0],v=[];for(;y.length;){const E=y.pop()||0,x=y.pop()||0,A=y.pop()||0;if(x-A<=g){for(let se=A;se<=x;se++){const re=f[2*se],F=f[2*se+1];re>=n&&re<=l&&F>=i&&F<=r&&v.push(c[se])}continue}const N=A+x>>1,B=f[2*N],J=f[2*N+1];B>=n&&B<=l&&J>=i&&J<=r&&v.push(c[N]),(E===0?n<=B:i<=J)&&(y.push(A),y.push(N-1),y.push(1-E)),(E===0?l>=B:r>=J)&&(y.push(N+1),y.push(x),y.push(1-E))}return v}within(n,i,l){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:c,nodeSize:f}=this,g=[0,r.length-1,0],y=[],v=l*l;for(;g.length;){const E=g.pop()||0,x=g.pop()||0,A=g.pop()||0;if(x-A<=f){for(let se=A;se<=x;se++)qv(c[2*se],c[2*se+1],n,i)<=v&&y.push(r[se]);continue}const N=A+x>>1,B=c[2*N],J=c[2*N+1];qv(B,J,n,i)<=v&&y.push(r[N]),(E===0?n-l<=B:i-l<=J)&&(g.push(A),g.push(N-1),g.push(1-E)),(E===0?n+l>=B:i+l>=J)&&(g.push(N+1),g.push(x),g.push(1-E))}return y}}function Kp(t,n,i,l,r,c){if(r-l<=i)return;const f=l+r>>1;ex(t,n,f,l,r,c),Kp(t,n,i,l,f-1,1-c),Kp(t,n,i,f+1,r,1-c)}function ex(t,n,i,l,r,c){for(;r>l;){if(r-l>600){const v=r-l+1,E=i-l+1,x=Math.log(v),A=.5*Math.exp(2*x/3),N=.5*Math.sqrt(x*A*(v-A)/v)*(E-v/2<0?-1:1),B=Math.max(l,Math.floor(i-E*A/v+N)),J=Math.min(r,Math.floor(i+(v-E)*A/v+N));ex(t,n,i,B,J,c)}const f=n[2*i+c];let g=l,y=r;for(Gu(t,n,l,i),n[2*r+c]>f&&Gu(t,n,l,r);g<y;){for(Gu(t,n,g,y),g++,y--;n[2*g+c]<f;)g++;for(;n[2*y+c]>f;)y--}n[2*l+c]===f?Gu(t,n,l,y):(y++,Gu(t,n,y,r)),y<=i&&(l=y+1),i<=y&&(r=y-1)}}function Gu(t,n,i,l){Np(t,i,l),Np(n,2*i,2*l),Np(n,2*i+1,2*l+1)}function Np(t,n,i){const l=t[n];t[n]=t[i],t[i]=l}function qv(t,n,i,l){const r=t-i,c=n-l;return r*r+c*c}const dw=6371,Oa=Math.PI/180;function pw(t,n,i,l=1/0,r=1/0,c){let f=1;const g=[];l===void 0&&(l=1/0),r!==void 0&&(f=Zo(r/dw));const y=new ZS([],gw);let v={left:0,right:t.ids.length-1,axis:0,minLng:-180,minLat:-90,maxLng:180,maxLat:90};const E=Math.cos(i*Oa);for(;v;){const x=v.right,A=v.left;if(x-A<=t.nodeSize)for(let N=A;N<=x;N++){const B=t.ids[N];{const J=Zv(n,i,t.coords[2*N],t.coords[2*N+1],E);y.push({id:B,dist:J})}}else{const N=A+x>>1,B=t.coords[2*N],J=t.coords[2*N+1],se=t.ids[N];{const V=Zv(n,i,B,J,E);y.push({id:se,dist:V})}const re=(v.axis+1)%2,F={left:A,right:N-1,axis:re,minLng:v.minLng,minLat:v.minLat,maxLng:v.axis===0?B:v.maxLng,maxLat:v.axis===1?J:v.maxLat,dist:0},X={left:N+1,right:x,axis:re,minLng:v.axis===0?B:v.minLng,minLat:v.axis===1?J:v.minLat,maxLng:v.maxLng,maxLat:v.maxLat,dist:0};F.dist=Hv(n,i,E,F),X.dist=Hv(n,i,E,X),y.push(F),y.push(X)}for(;y.length&&y.peek().id!=null;){const N=y.pop();if(N.dist>f||(g.push(N.id),g.length===l))return g}v=y.pop()}return g}function Hv(t,n,i,l){const r=l.minLng,c=l.maxLng,f=l.minLat,g=l.maxLat;if(t>=r&&t<=c)return n<f?Zo((n-f)*Oa):n>g?Zo((n-g)*Oa):0;const y=Math.min(Zo((t-r)*Oa),Zo((t-c)*Oa)),v=mw(n,y);return v>f&&v<g?Xh(y,i,n,v):Math.min(Xh(y,i,n,f),Xh(y,i,n,g))}function gw(t,n){return t.dist-n.dist}function Zo(t){const n=Math.sin(t/2);return n*n}function Xh(t,n,i,l){return n*Math.cos(l*Oa)*t+Zo((i-l)*Oa)}function Zv(t,n,i,l,r){const c=Zo((t-i)*Oa);return Xh(c,r,n,l)}function mw(t,n){const i=1-2*n;return i<=0?t>0?90:-90:Math.atan(Math.tan(t*Oa)/i)/Oa}function _w(t,n,i={}){i.mutate!==!0&&(t=oi(t));const l=i.minPoints||3,r=new Mg(t.features.length);for(const A of t.features)r.add(A.geometry.coordinates[0],A.geometry.coordinates[1]);r.finish();var c=t.features.map(A=>!1),f=t.features.map(A=>!1),g=t.features.map(A=>!1),y=t.features.map(A=>-1);const v=A=>{const N=t.features[A],[B,J]=N.geometry.coordinates;return pw(r,B,J,void 0,n).map(se=>({minX:t.features[se].geometry.coordinates[0],minY:t.features[se].geometry.coordinates[1],maxX:t.features[se].geometry.coordinates[0],maxY:t.features[se].geometry.coordinates[1],index:se}))},E=(A,N)=>{for(var B=0;B<N.length;B++){var J=N[B];const se=J.index;if(!c[se]){c[se]=!0;const re=v(se);re.length>=l&&N.push(...re)}f[se]||(f[se]=!0,y[se]=A)}};var x=0;return t.features.forEach((A,N)=>{if(c[N])return;const B=v(N);if(B.length>=l){const J=x;x++,c[N]=!0,E(J,B)}else g[N]=!0}),t.features.forEach((A,N)=>{var B=t.features[N];B.properties||(B.properties={}),y[N]>=0?(B.properties.dbscan=g[N]?"edge":"core",B.properties.cluster=y[N]):B.properties.dbscan="noise"}),t}var Op,Xv;function tx(){return Xv||(Xv=1,Op={eudist:function(n,i,l){for(var r=n.length,c=0,f=0;f<r;f++){var g=(n[f]||0)-(i[f]||0);c+=g*g}return l?Math.sqrt(c):c},mandist:function(n,i,l){for(var r=n.length,c=0,f=0;f<r;f++)c+=Math.abs((n[f]||0)-(i[f]||0));return l?Math.sqrt(c):c},dist:function(n,i,l){var r=Math.abs(n-i);return l?r:r*r}}),Op}var Mp,Jv;function yw(){if(Jv)return Mp;Jv=1;var t=tx(),n=t.eudist,i=t.dist;return Mp={kmrand:function(r,c){for(var f={},g=[],y=c<<2,v=r.length,E=r[0].length>0;g.length<c&&y-- >0;){var x=r[Math.floor(Math.random()*v)],A=E?x.join("_"):""+x;f[A]||(f[A]=!0,g.push(x))}if(g.length<c)throw new Error("Error initializating clusters");return g},kmpp:function(r,c){var f=r[0].length?n:i,g=[],y=r.length,v=r[0].length>0,E=r[Math.floor(Math.random()*y)];for(v?E.join("_"):""+E,g.push(E);g.length<c;){for(var x=[],A=g.length,N=0,B=[],J=0;J<y;J++){for(var se=1/0,re=0;re<A;re++){var F=f(r[J],g[re]);F<=se&&(se=F)}x[J]=se}for(var X=0;X<y;X++)N+=x[X];for(var V=0;V<y;V++)B[V]={i:V,v:r[V],pr:x[V]/N,cs:0};B.sort(function(k,M){return k.pr-M.pr}),B[0].cs=B[0].pr;for(var W=1;W<y;W++)B[W].cs=B[W-1].cs+B[W].pr;for(var K=Math.random(),ee=0;ee<y-1&&B[ee++].cs<K;);g.push(B[ee-1].v)}return g}},Mp}var Rp,Vv;function vw(){if(Vv)return Rp;Vv=1;var t=tx(),n=yw(),i=t.eudist;t.mandist,t.dist;var l=n.kmrand,r=n.kmpp,c=1e4;function f(y,v,E){E=E||[];for(var x=0;x<y;x++)E[x]=v;return E}function g(y,v,E,x){var A=[],N=[],B=[],J=[],se=!1,re=x||c,F=y.length,X=y[0].length,V=X>0,W=[];if(E)E=="kmrand"?A=l(y,v):E=="kmpp"?A=r(y,v):A=E;else for(var K={};A.length<v;){var ee=Math.floor(Math.random()*F);K[ee]||(K[ee]=!0,A.push(y[ee]))}do{f(v,0,W);for(var k=0;k<F;k++){for(var M=1/0,P=0,Z=0;Z<v;Z++){var J=V?i(y[k],A[Z]):Math.abs(y[k]-A[Z]);J<=M&&(M=J,P=Z)}B[k]=P,W[P]++}for(var q=[],N=[],te=0;te<v;te++)q[te]=V?f(X,0,q[te]):0,N[te]=A[te];if(V){for(var ne=0;ne<v;ne++)A[ne]=[];for(var ae=0;ae<F;ae++)for(var R=B[ae],j=q[R],z=y[ae],ie=0;ie<X;ie++)j[ie]+=z[ie];se=!0;for(var Q=0;Q<v;Q++){for(var Y=A[Q],$=q[Q],ce=N[Q],pe=W[Q],ge=0;ge<X;ge++)Y[ge]=$[ge]/pe||0;if(se){for(var Se=0;Se<X;Se++)if(ce[Se]!=Y[Se]){se=!1;break}}}}else{for(var De=0;De<F;De++){var he=B[De];q[he]+=y[De]}for(var Ie=0;Ie<v;Ie++)A[Ie]=q[Ie]/W[Ie]||0;se=!0;for(var Me=0;Me<v;Me++)if(N[Me]!=A[Me]){se=!1;break}}se=se||--re<=0}while(!se);return{it:c-re,k:v,idxs:B,centroids:A}}return Rp=g,Rp}var Sw=vw();const xw=lo(Sw);function Ew(t,n={}){var i=t.features.length;n.numberOfClusters=n.numberOfClusters||Math.round(Math.sqrt(i/2)),n.numberOfClusters>i&&(n.numberOfClusters=i),n.mutate!==!0&&(t=oi(t));var l=hc(t),r=l.slice(0,n.numberOfClusters),c=xw(l,n.numberOfClusters,r),f={};return c.centroids.forEach(function(g,y){f[y]=g}),Rt(t,function(g,y){var v=c.idxs[y];g.properties.cluster=v,g.properties.centroid=f[v]}),t}function bw(t,n,i,l){var r=new _f(6),c=n.features.map(function(f){var g;return{minX:f.geometry.coordinates[0],minY:f.geometry.coordinates[1],maxX:f.geometry.coordinates[0],maxY:f.geometry.coordinates[1],property:(g=f.properties)==null?void 0:g[i]}});return r.load(c),t.features.forEach(function(f){f.properties||(f.properties={});var g=kt(f),y=r.search({minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]}),v=[];y.forEach(function(E){rt([E.minX,E.minY],f)&&v.push(E.property)}),f.properties[l]=v}),t}function Tw(t){var n={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return Rt(t,i=>{var l;switch((l=i.geometry)==null?void 0:l.type){case"Point":n.MultiPoint.coordinates.push(i.geometry.coordinates),n.MultiPoint.properties.push(i.properties);break;case"MultiPoint":n.MultiPoint.coordinates.push(...i.geometry.coordinates),n.MultiPoint.properties.push(i.properties);break;case"LineString":n.MultiLineString.coordinates.push(i.geometry.coordinates),n.MultiLineString.properties.push(i.properties);break;case"MultiLineString":n.MultiLineString.coordinates.push(...i.geometry.coordinates),n.MultiLineString.properties.push(i.properties);break;case"Polygon":n.MultiPolygon.coordinates.push(i.geometry.coordinates),n.MultiPolygon.properties.push(i.properties);break;case"MultiPolygon":n.MultiPolygon.coordinates.push(...i.geometry.coordinates),n.MultiPolygon.properties.push(i.properties);break}}),Qe(Object.keys(n).filter(function(i){return n[i].coordinates.length}).sort().map(function(i){var l={type:i,coordinates:n[i].coordinates},r={collectedProperties:n[i].properties};return bn(l,r)}))}function nx(t,n){let i=!1;return Qe(Lw(t.features.map(l=>{const r={x:l.geometry.coordinates[0],y:l.geometry.coordinates[1]};return n?r.z=l.properties[n]:l.geometry.coordinates.length===3&&(i=!0,r.z=l.geometry.coordinates[2]),r})).map(l=>{const r=[l.a.x,l.a.y],c=[l.b.x,l.b.y],f=[l.c.x,l.c.y];let g={};return i?(r.push(l.a.z),c.push(l.b.z),f.push(l.c.z)):g={a:l.a.z,b:l.b.z,c:l.c.z},lt([[r,c,f,r]],g)}))}var Wv=class{constructor(t,n,i){this.a=t,this.b=n,this.c=i;const l=n.x-t.x,r=n.y-t.y,c=i.x-t.x,f=i.y-t.y,g=l*(t.x+n.x)+r*(t.y+n.y),y=c*(t.x+i.x)+f*(t.y+i.y),v=2*(l*(i.y-n.y)-r*(i.x-n.x));let E,x;this.x=(f*g-r*y)/v,this.y=(l*y-c*g)/v,E=this.x-t.x,x=this.y-t.y,this.r=E*E+x*x}};function ww(t,n){return n.x-t.x}function Cw(t){let n=t.length,i,l,r,c,f;e:for(;n;)for(l=t[--n],i=t[--n],r=n;r;)if(f=t[--r],c=t[--r],i===c&&l===f||i===f&&l===c){t.splice(n,2),t.splice(r,2),n-=2;continue e}}function Lw(t){if(t.length<3)return[];t.sort(ww);let n=t.length-1;const i=t[n].x,l=t[0].x;let r=t[n].y,c=r;const f=1e-12;let g,y,v,E,x,A;for(;n--;)t[n].y<r&&(r=t[n].y),t[n].y>c&&(c=t[n].y);let N=l-i,B=c-r;const J=N>B?N:B,se=(l+i)*.5,re=(c+r)*.5,F=[new Wv({__sentinel:!0,x:se-20*J,y:re-J},{__sentinel:!0,x:se,y:re+20*J},{__sentinel:!0,x:se+20*J,y:re-J})],X=[],V=[];let W;for(n=t.length;n--;){for(V.length=0,W=F.length;W--;){if(N=t[n].x-F[W].x,N>0&&N*N>F[W].r){X.push(F[W]),F.splice(W,1);continue}B=t[n].y-F[W].y,!(N*N+B*B>F[W].r)&&(V.push(F[W].a,F[W].b,F[W].b,F[W].c,F[W].c,F[W].a),F.splice(W,1))}for(Cw(V),W=V.length;W;)y=V[--W],g=V[--W],v=t[n],E=y.x-g.x,x=y.y-g.y,A=2*(E*(v.y-y.y)-x*(v.x-y.x)),Math.abs(A)>f&&F.push(new Wv(g,y,v))}for(Array.prototype.push.apply(X,F),n=X.length;n--;)(X[n].a.__sentinel||X[n].b.__sentinel||X[n].c.__sentinel)&&X.splice(n,1);return X}function Dw(t){return t}function Aw(t){if(t==null)return Dw;var n,i,l=t.scale[0],r=t.scale[1],c=t.translate[0],f=t.translate[1];return function(g,y){y||(n=i=0);var v=2,E=g.length,x=new Array(E);for(x[0]=(n+=g[0])*l+c,x[1]=(i+=g[1])*r+f;v<E;)x[v]=g[v],++v;return x}}function kw(t,n){for(var i,l=t.length,r=l-n;r<--l;)i=t[r],t[r++]=t[l],t[l]=i}function Nw(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(i){return Qv(t,i)})}:Qv(t,n)}function Qv(t,n){var i=n.id,l=n.bbox,r=n.properties==null?{}:n.properties,c=Rg(t,n);return i==null&&l==null?{type:"Feature",properties:r,geometry:c}:l==null?{type:"Feature",id:i,properties:r,geometry:c}:{type:"Feature",id:i,bbox:l,properties:r,geometry:c}}function Rg(t,n){var i=Aw(t.transform),l=t.arcs;function r(E,x){x.length&&x.pop();for(var A=l[E<0?~E:E],N=0,B=A.length;N<B;++N)x.push(i(A[N],N));E<0&&kw(x,B)}function c(E){return i(E)}function f(E){for(var x=[],A=0,N=E.length;A<N;++A)r(E[A],x);return x.length<2&&x.push(x[0]),x}function g(E){for(var x=f(E);x.length<4;)x.push(x[0]);return x}function y(E){return E.map(g)}function v(E){var x=E.type,A;switch(x){case"GeometryCollection":return{type:x,geometries:E.geometries.map(v)};case"Point":A=c(E.coordinates);break;case"MultiPoint":A=E.coordinates.map(c);break;case"LineString":A=f(E.arcs);break;case"MultiLineString":A=E.arcs.map(f);break;case"Polygon":A=y(E.arcs);break;case"MultiPolygon":A=E.arcs.map(y);break;default:return null}return{type:x,coordinates:A}}return v(n)}function Ow(t,n){var i={},l={},r={},c=[],f=-1;n.forEach(function(v,E){var x=t.arcs[v<0?~v:v],A;x.length<3&&!x[1][0]&&!x[1][1]&&(A=n[++f],n[f]=v,n[E]=A)}),n.forEach(function(v){var E=g(v),x=E[0],A=E[1],N,B;if(N=r[x])if(delete r[N.end],N.push(v),N.end=A,B=l[A]){delete l[B.start];var J=B===N?N:N.concat(B);l[J.start=N.start]=r[J.end=B.end]=J}else l[N.start]=r[N.end]=N;else if(N=l[A])if(delete l[N.start],N.unshift(v),N.start=x,B=r[x]){delete r[B.end];var se=B===N?N:B.concat(N);l[se.start=B.start]=r[se.end=N.end]=se}else l[N.start]=r[N.end]=N;else N=[v],l[N.start=x]=r[N.end=A]=N});function g(v){var E=t.arcs[v<0?~v:v],x=E[0],A;return t.transform?(A=[0,0],E.forEach(function(N){A[0]+=N[0],A[1]+=N[1]})):A=E[E.length-1],v<0?[A,x]:[x,A]}function y(v,E){for(var x in v){var A=v[x];delete E[A.start],delete A.start,delete A.end,A.forEach(function(N){i[N<0?~N:N]=1}),c.push(A)}}return y(r,l),y(l,r),n.forEach(function(v){i[v<0?~v:v]||c.push([v])}),c}function Mw(t){for(var n=-1,i=t.length,l,r=t[i-1],c=0;++n<i;)l=r,r=t[n],c+=l[0]*r[1]-l[1]*r[0];return Math.abs(c)}function Rw(t){return Rg(t,Iw.apply(this,arguments))}function Iw(t,n){var i={},l=[],r=[];n.forEach(c);function c(y){switch(y.type){case"GeometryCollection":y.geometries.forEach(c);break;case"Polygon":f(y.arcs);break;case"MultiPolygon":y.arcs.forEach(f);break}}function f(y){y.forEach(function(v){v.forEach(function(E){(i[E=E<0?~E:E]||(i[E]=[])).push(y)})}),l.push(y)}function g(y){return Mw(Rg(t,{type:"Polygon",arcs:[y]}).coordinates[0])}return l.forEach(function(y){if(!y._){var v=[],E=[y];for(y._=1,r.push(v);y=E.pop();)v.push(y),y.forEach(function(x){x.forEach(function(A){i[A<0?~A:A].forEach(function(N){N._||(N._=1,E.push(N))})})})}}),l.forEach(function(y){delete y._}),{type:"MultiPolygon",arcs:r.map(function(y){var v=[],E;if(y.forEach(function(J){J.forEach(function(se){se.forEach(function(re){i[re<0?~re:re].length<2&&v.push(re)})})}),v=Ow(t,v),(E=v.length)>1)for(var x=1,A=g(v[0]),N,B;x<E;++x)(N=g(v[x]))>A&&(B=v[0],v[0]=v[x],v[x]=B,A=N);return v}).filter(function(y){return y.length>0})}}var Ig=Object.prototype.hasOwnProperty;function Pw(t){var n=1/0,i=1/0,l=-1/0,r=-1/0;function c(x){x!=null&&Ig.call(f,x.type)&&f[x.type](x)}var f={GeometryCollection:function(x){x.geometries.forEach(c)},Point:function(x){g(x.coordinates)},MultiPoint:function(x){x.coordinates.forEach(g)},LineString:function(x){y(x.arcs)},MultiLineString:function(x){x.arcs.forEach(y)},Polygon:function(x){x.arcs.forEach(y)},MultiPolygon:function(x){x.arcs.forEach(v)}};function g(x){var A=x[0],N=x[1];A<n&&(n=A),A>l&&(l=A),N<i&&(i=N),N>r&&(r=N)}function y(x){x.forEach(g)}function v(x){x.forEach(y)}for(var E in t)c(t[E]);return l>=n&&r>=i?[n,i,l,r]:void 0}function Bw(t,n,i,l,r){arguments.length===3&&(l=Array,r=null);for(var c=new l(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),f=t-1,g=0;g<t;++g)c[g]=r;function y(x){for(var A=n(x)&f,N=c[A],B=0;N!=r;){if(i(N,x))return!0;if(++B>=t)throw new Error("full hashset");N=c[A=A+1&f]}return c[A]=x,!0}function v(x){for(var A=n(x)&f,N=c[A],B=0;N!=r;){if(i(N,x))return!0;if(++B>=t)break;N=c[A=A+1&f]}return!1}function E(){for(var x=[],A=0,N=c.length;A<N;++A){var B=c[A];B!=r&&x.push(B)}return x}return{add:y,has:v,values:E}}function Pg(t,n,i,l,r,c){arguments.length===3&&(l=c=Array,r=null);for(var f=new l(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),g=new c(t),y=t-1,v=0;v<t;++v)f[v]=r;function E(B,J){for(var se=n(B)&y,re=f[se],F=0;re!=r;){if(i(re,B))return g[se]=J;if(++F>=t)throw new Error("full hashmap");re=f[se=se+1&y]}return f[se]=B,g[se]=J,J}function x(B,J){for(var se=n(B)&y,re=f[se],F=0;re!=r;){if(i(re,B))return g[se];if(++F>=t)throw new Error("full hashmap");re=f[se=se+1&y]}return f[se]=B,g[se]=J,J}function A(B,J){for(var se=n(B)&y,re=f[se],F=0;re!=r;){if(i(re,B))return g[se];if(++F>=t)break;re=f[se=se+1&y]}return J}function N(){for(var B=[],J=0,se=f.length;J<se;++J){var re=f[J];re!=r&&B.push(re)}return B}return{set:E,maybeSet:x,get:A,keys:N}}function qo(t,n){return t[0]===n[0]&&t[1]===n[1]}var ix=new ArrayBuffer(16),Kv=new Float64Array(ix),Ph=new Uint32Array(ix);function $p(t){Kv[0]=t[0],Kv[1]=t[1];var n=Ph[0]^Ph[1];return n=n<<5^n>>7^Ph[2]^Ph[3],n&2147483647}function Fw(t){var n=t.coordinates,i=t.lines,l=t.rings,r=K(),c=new Int32Array(n.length),f=new Int32Array(n.length),g=new Int32Array(n.length),y=new Int8Array(n.length),v=0,E,x,A,N,B;for(E=0,x=n.length;E<x;++E)c[E]=f[E]=g[E]=-1;for(E=0,x=i.length;E<x;++E){var J=i[E],se=J[0],re=J[1];for(N=r[se],B=r[++se],++v,y[N]=1;++se<=re;)W(E,A=N,N=B,B=r[se]);++v,y[B]=1}for(E=0,x=n.length;E<x;++E)c[E]=-1;for(E=0,x=l.length;E<x;++E){var F=l[E],X=F[0]+1,V=F[1];for(A=r[V-1],N=r[X-1],B=r[X],W(E,A,N,B);++X<=V;)W(E,A=N,N=B,B=r[X])}function W(Z,q,te,ne){if(c[te]!==Z){c[te]=Z;var ae=f[te];if(ae>=0){var R=g[te];(ae!==q||R!==ne)&&(ae!==ne||R!==q)&&(++v,y[te]=1)}else f[te]=q,g[te]=ne}}function K(){for(var Z=Pg(n.length*1.4,ee,k,Int32Array,-1,Int32Array),q=new Int32Array(n.length),te=0,ne=n.length;te<ne;++te)q[te]=Z.maybeSet(te,te);return q}function ee(Z){return $p(n[Z])}function k(Z,q){return qo(n[Z],n[q])}c=f=g=null;var M=Bw(v*1.4,$p,qo),P;for(E=0,x=n.length;E<x;++E)y[P=r[E]]&&M.add(n[P]);return M}function zw(t){var n=Fw(t),i=t.coordinates,l=t.lines,r=t.rings,c,f,g;for(f=0,g=l.length;f<g;++f)for(var y=l[f],v=y[0],E=y[1];++v<E;)n.has(i[v])&&(c={0:v,1:y[1]},y[1]=v,y=y.next=c);for(f=0,g=r.length;f<g;++f)for(var x=r[f],A=x[0],N=A,B=x[1],J=n.has(i[A]);++N<B;)n.has(i[N])&&(J?(c={0:N,1:x[1]},x[1]=N,x=x.next=c):(jw(i,A,B,B-N),i[B]=i[A],J=!0,N=A));return t}function jw(t,n,i,l){Ip(t,n,i),Ip(t,n,n+l),Ip(t,n+l,i)}function Ip(t,n,i){for(var l=n+(i---n>>1),r;n<l;++n,--i)r=t[n],t[n]=t[i],t[i]=r}function Uw(t){var n=t.coordinates,i=t.lines,l,r=t.rings,c,f=i.length+r.length,g,y;for(delete t.lines,delete t.rings,g=0,y=i.length;g<y;++g)for(l=i[g];l=l.next;)++f;for(g=0,y=r.length;g<y;++g)for(c=r[g];c=c.next;)++f;var v=Pg(f*2*1.4,$p,qo),E=t.arcs=[];for(g=0,y=i.length;g<y;++g){l=i[g];do x(l);while(l=l.next)}for(g=0,y=r.length;g<y;++g)if(c=r[g],c.next)do x(c);while(c=c.next);else A(c);function x(F){var X,V,W,K,ee,k,M,P;if(W=v.get(X=n[F[0]])){for(M=0,P=W.length;M<P;++M)if(K=W[M],N(K,F)){F[0]=K[0],F[1]=K[1];return}}if(ee=v.get(V=n[F[1]])){for(M=0,P=ee.length;M<P;++M)if(k=ee[M],B(k,F)){F[1]=k[0],F[0]=k[1];return}}W?W.push(F):v.set(X,[F]),ee?ee.push(F):v.set(V,[F]),E.push(F)}function A(F){var X,V,W,K,ee;if(V=v.get(X=n[F[0]]))for(K=0,ee=V.length;K<ee;++K){if(W=V[K],J(W,F)){F[0]=W[0],F[1]=W[1];return}if(se(W,F)){F[0]=W[1],F[1]=W[0];return}}if(V=v.get(X=n[F[0]+re(F)]))for(K=0,ee=V.length;K<ee;++K){if(W=V[K],J(W,F)){F[0]=W[0],F[1]=W[1];return}if(se(W,F)){F[0]=W[1],F[1]=W[0];return}}V?V.push(F):v.set(X,[F]),E.push(F)}function N(F,X){var V=F[0],W=X[0],K=F[1],ee=X[1];if(V-K!==W-ee)return!1;for(;V<=K;++V,++W)if(!qo(n[V],n[W]))return!1;return!0}function B(F,X){var V=F[0],W=X[0],K=F[1],ee=X[1];if(V-K!==W-ee)return!1;for(;V<=K;++V,--ee)if(!qo(n[V],n[ee]))return!1;return!0}function J(F,X){var V=F[0],W=X[0],K=F[1],ee=X[1],k=K-V;if(k!==ee-W)return!1;for(var M=re(F),P=re(X),Z=0;Z<k;++Z)if(!qo(n[V+(Z+M)%k],n[W+(Z+P)%k]))return!1;return!0}function se(F,X){var V=F[0],W=X[0],K=F[1],ee=X[1],k=K-V;if(k!==ee-W)return!1;for(var M=re(F),P=k-re(X),Z=0;Z<k;++Z)if(!qo(n[V+(Z+M)%k],n[ee-(Z+P)%k]))return!1;return!0}function re(F){for(var X=F[0],V=F[1],W=X,K=W,ee=n[W];++W<V;){var k=n[W];(k[0]<ee[0]||k[0]===ee[0]&&k[1]<ee[1])&&(K=W,ee=k)}return K-X}return t}function Yw(t){var n=-1,i=[],l=[],r=[];function c(x){x&&Ig.call(f,x.type)&&f[x.type](x)}var f={GeometryCollection:function(x){x.geometries.forEach(c)},LineString:function(x){x.arcs=g(x.arcs)},MultiLineString:function(x){x.arcs=x.arcs.map(g)},Polygon:function(x){x.arcs=x.arcs.map(y)},MultiPolygon:function(x){x.arcs=x.arcs.map(v)}};function g(x){for(var A=0,N=x.length;A<N;++A)r[++n]=x[A];var B={0:n-N+1,1:n};return i.push(B),B}function y(x){for(var A=0,N=x.length;A<N;++A)r[++n]=x[A];var B={0:n-N+1,1:n};return l.push(B),B}function v(x){return x.map(y)}for(var E in t)c(t[E]);return{type:"Topology",coordinates:r,lines:i,rings:l,objects:t}}function Gw(t){var n={},i;for(i in t)n[i]=qw(t[i]);return n}function qw(t){return t==null?{type:null}:(t.type==="FeatureCollection"?Hw:t.type==="Feature"?rx:Bg)(t)}function Hw(t){var n={type:"GeometryCollection",geometries:t.features.map(rx)};return t.bbox!=null&&(n.bbox=t.bbox),n}function rx(t){var n=Bg(t.geometry),i;t.id!=null&&(n.id=t.id),t.bbox!=null&&(n.bbox=t.bbox);for(i in t.properties){n.properties=t.properties;break}return n}function Bg(t){if(t==null)return{type:null};var n=t.type==="GeometryCollection"?{type:"GeometryCollection",geometries:t.geometries.map(Bg)}:t.type==="Point"||t.type==="MultiPoint"?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return t.bbox!=null&&(n.bbox=t.bbox),n}function Zw(t,n){var i=Pw(t=Gw(t)),l=Uw(zw(Yw(t))),r=l.coordinates,c=Pg(l.arcs.length*1.4,Xw,Jw);t=l.objects,l.bbox=i,l.arcs=l.arcs.map(function(x,A){return c.set(x,A),r.slice(x[0],x[1]+1)}),delete l.coordinates,r=null;function f(x){x&&Ig.call(g,x.type)&&g[x.type](x)}var g={GeometryCollection:function(x){x.geometries.forEach(f)},LineString:function(x){x.arcs=y(x.arcs)},MultiLineString:function(x){x.arcs=x.arcs.map(y)},Polygon:function(x){x.arcs=x.arcs.map(y)},MultiPolygon:function(x){x.arcs=x.arcs.map(v)}};function y(x){var A=[];do{var N=c.get(x);A.push(x[0]<x[1]?N:~N)}while(x=x.next);return A}function v(x){return x.map(y)}for(var E in t)f(t[E]);return l}function Xw(t){var n=t[0],i=t[1],l;return i<n&&(l=n,n=i,i=l),n+31*i}function Jw(t,n){var i=t[0],l=t[1],r=n[0],c=n[1],f;return l<i&&(f=i,i=l,l=f),c<r&&(f=r,r=c,c=f),i===r&&l===c}function Vw(t,n={}){if(n=n||{},!Ft(n))throw new Error("options is invalid");const i=n.mutate;if(cr(t)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");(i===!1||i===void 0)&&(t=oi(t));const l=[],r=xg(t,(c,f)=>{const g=Ww(c,f);return g||(l.push(c),f)});return r&&l.push(r),l.length?l.length===1?l[0]:uo(l.map(c=>c.coordinates)):null}function Bh(t){return t[0].toString()+","+t[1].toString()}function Ww(t,n){const i=t.geometry.coordinates,l=n.geometry.coordinates,r=Bh(i[0]),c=Bh(i[i.length-1]),f=Bh(l[0]),g=Bh(l[l.length-1]);let y;if(r===g)y=l.concat(i.slice(1));else if(f===c)y=i.concat(l.slice(1));else if(r===f)y=i.slice(1).reverse().concat(l);else if(c===g)y=i.concat(l.reverse().slice(1));else return null;return bt(y)}function Qw(t,n={}){if(cr(t)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");(n.mutate===!1||n.mutate===void 0)&&(t=oi(t));const i=[];$n(t,c=>{i.push(c.geometry)});const l=Zw({geoms:hg(i).geometry});return Rw(l,l.objects.geoms.geometries)}function Kw(t,n={}){if(n=n||{},!Ft(n))throw new Error("options is invalid");const i=n.mutate;if(cr(t)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");(i===!1||i===void 0)&&(t=oi(t));const l=$w(t);if(!l)throw new Error("geojson must be homogenous");const r=t;switch(l){case"LineString":return Vw(r,n);case"Polygon":return Qw(r,n);default:throw new Error(l+" is not supported")}}function $w(t){const n={};$n(t,l=>{n[l.geometry.type]=!0});const i=Object.keys(n);return i.length===1?i[0]:null}function eC(t,n={}){const i=n.maxEdge||1/0,l=tC(t),r=nx(l);if(r.features=r.features.filter(f=>{const g=f.geometry.coordinates[0][0],y=f.geometry.coordinates[0][1],v=f.geometry.coordinates[0][2],E=fn(g,y,n),x=fn(y,v,n),A=fn(g,v,n);return E<=i&&x<=i&&A<=i}),r.features.length<1)return null;const c=Kw(r);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),bn(c)}function tC(t){const n=[],i={};return Rt(t,l=>{if(!l.geometry)return;const r=l.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(i,r)||(n.push(l),i[r]=!0)}),Qe(n)}var nC=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Pp=Math.ceil,qr=Math.floor,lr="[BigNumber Error] ",$v=lr+"Number primitive has more than 15 significant digits: ",ca=1e14,yt=14,Bp=9007199254740991,Fp=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ro=1e7,hi=1e9;function ax(t){var n,i,l,r=F.prototype={constructor:F,toString:null,valueOf:null},c=new F(1),f=20,g=4,y=-7,v=21,E=-1e7,x=1e7,A=!1,N=1,B=0,J={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},se="0123456789abcdefghijklmnopqrstuvwxyz",re=!0;function F(k,M){var P,Z,q,te,ne,ae,R,j,z=this;if(!(z instanceof F))return new F(k,M);if(M==null){if(k&&k._isBigNumber===!0){z.s=k.s,!k.c||k.e>x?z.c=z.e=null:k.e<E?z.c=[z.e=0]:(z.e=k.e,z.c=k.c.slice());return}if((ae=typeof k=="number")&&k*0==0){if(z.s=1/k<0?(k=-k,-1):1,k===~~k){for(te=0,ne=k;ne>=10;ne/=10,te++);te>x?z.c=z.e=null:(z.e=te,z.c=[k]);return}j=String(k)}else{if(!nC.test(j=String(k)))return l(z,j,ae);z.s=j.charCodeAt(0)==45?(j=j.slice(1),-1):1}(te=j.indexOf("."))>-1&&(j=j.replace(".","")),(ne=j.search(/e/i))>0?(te<0&&(te=ne),te+=+j.slice(ne+1),j=j.substring(0,ne)):te<0&&(te=j.length)}else{if(Dn(M,2,se.length,"Base"),M==10&&re)return z=new F(k),K(z,f+z.e+1,g);if(j=String(k),ae=typeof k=="number"){if(k*0!=0)return l(z,j,ae,M);if(z.s=1/k<0?(j=j.slice(1),-1):1,F.DEBUG&&j.replace(/^0\.0*|\./,"").length>15)throw Error($v+k)}else z.s=j.charCodeAt(0)===45?(j=j.slice(1),-1):1;for(P=se.slice(0,M),te=ne=0,R=j.length;ne<R;ne++)if(P.indexOf(Z=j.charAt(ne))<0){if(Z=="."){if(ne>te){te=R;continue}}else if(!q&&(j==j.toUpperCase()&&(j=j.toLowerCase())||j==j.toLowerCase()&&(j=j.toUpperCase()))){q=!0,ne=-1,te=0;continue}return l(z,String(k),ae,M)}ae=!1,j=i(j,M,10,z.s),(te=j.indexOf("."))>-1?j=j.replace(".",""):te=j.length}for(ne=0;j.charCodeAt(ne)===48;ne++);for(R=j.length;j.charCodeAt(--R)===48;);if(j=j.slice(ne,++R)){if(R-=ne,ae&&F.DEBUG&&R>15&&(k>Bp||k!==qr(k)))throw Error($v+z.s*k);if((te=te-ne-1)>x)z.c=z.e=null;else if(te<E)z.c=[z.e=0];else{if(z.e=te,z.c=[],ne=(te+1)%yt,te<0&&(ne+=yt),ne<R){for(ne&&z.c.push(+j.slice(0,ne)),R-=yt;ne<R;)z.c.push(+j.slice(ne,ne+=yt));ne=yt-(j=j.slice(ne)).length}else ne-=R;for(;ne--;j+="0");z.c.push(+j)}}else z.c=[z.e=0]}F.clone=ax,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(k){var M,P;if(k!=null)if(typeof k=="object"){if(k.hasOwnProperty(M="DECIMAL_PLACES")&&(P=k[M],Dn(P,0,hi,M),f=P),k.hasOwnProperty(M="ROUNDING_MODE")&&(P=k[M],Dn(P,0,8,M),g=P),k.hasOwnProperty(M="EXPONENTIAL_AT")&&(P=k[M],P&&P.pop?(Dn(P[0],-hi,0,M),Dn(P[1],0,hi,M),y=P[0],v=P[1]):(Dn(P,-hi,hi,M),y=-(v=P<0?-P:P))),k.hasOwnProperty(M="RANGE"))if(P=k[M],P&&P.pop)Dn(P[0],-hi,-1,M),Dn(P[1],1,hi,M),E=P[0],x=P[1];else if(Dn(P,-hi,hi,M),P)E=-(x=P<0?-P:P);else throw Error(lr+M+" cannot be zero: "+P);if(k.hasOwnProperty(M="CRYPTO"))if(P=k[M],P===!!P)if(P)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))A=P;else throw A=!P,Error(lr+"crypto unavailable");else A=P;else throw Error(lr+M+" not true or false: "+P);if(k.hasOwnProperty(M="MODULO_MODE")&&(P=k[M],Dn(P,0,9,M),N=P),k.hasOwnProperty(M="POW_PRECISION")&&(P=k[M],Dn(P,0,hi,M),B=P),k.hasOwnProperty(M="FORMAT"))if(P=k[M],typeof P=="object")J=P;else throw Error(lr+M+" not an object: "+P);if(k.hasOwnProperty(M="ALPHABET"))if(P=k[M],typeof P=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(P))re=P.slice(0,10)=="0123456789",se=P;else throw Error(lr+M+" invalid: "+P)}else throw Error(lr+"Object expected: "+k);return{DECIMAL_PLACES:f,ROUNDING_MODE:g,EXPONENTIAL_AT:[y,v],RANGE:[E,x],CRYPTO:A,MODULO_MODE:N,POW_PRECISION:B,FORMAT:J,ALPHABET:se}},F.isBigNumber=function(k){if(!k||k._isBigNumber!==!0)return!1;if(!F.DEBUG)return!0;var M,P,Z=k.c,q=k.e,te=k.s;e:if({}.toString.call(Z)=="[object Array]"){if((te===1||te===-1)&&q>=-hi&&q<=hi&&q===qr(q)){if(Z[0]===0){if(q===0&&Z.length===1)return!0;break e}if(M=(q+1)%yt,M<1&&(M+=yt),String(Z[0]).length==M){for(M=0;M<Z.length;M++)if(P=Z[M],P<0||P>=ca||P!==qr(P))break e;if(P!==0)return!0}}}else if(Z===null&&q===null&&(te===null||te===1||te===-1))return!0;throw Error(lr+"Invalid BigNumber: "+k)},F.maximum=F.max=function(){return V(arguments,-1)},F.minimum=F.min=function(){return V(arguments,1)},F.random=(function(){var k=9007199254740992,M=Math.random()*k&2097151?function(){return qr(Math.random()*k)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(P){var Z,q,te,ne,ae,R=0,j=[],z=new F(c);if(P==null?P=f:Dn(P,0,hi),ne=Pp(P/yt),A)if(crypto.getRandomValues){for(Z=crypto.getRandomValues(new Uint32Array(ne*=2));R<ne;)ae=Z[R]*131072+(Z[R+1]>>>11),ae>=9e15?(q=crypto.getRandomValues(new Uint32Array(2)),Z[R]=q[0],Z[R+1]=q[1]):(j.push(ae%1e14),R+=2);R=ne/2}else if(crypto.randomBytes){for(Z=crypto.randomBytes(ne*=7);R<ne;)ae=(Z[R]&31)*281474976710656+Z[R+1]*1099511627776+Z[R+2]*4294967296+Z[R+3]*16777216+(Z[R+4]<<16)+(Z[R+5]<<8)+Z[R+6],ae>=9e15?crypto.randomBytes(7).copy(Z,R):(j.push(ae%1e14),R+=7);R=ne/7}else throw A=!1,Error(lr+"crypto unavailable");if(!A)for(;R<ne;)ae=M(),ae<9e15&&(j[R++]=ae%1e14);for(ne=j[--R],P%=yt,ne&&P&&(ae=Fp[yt-P],j[R]=qr(ne/ae)*ae);j[R]===0;j.pop(),R--);if(R<0)j=[te=0];else{for(te=-1;j[0]===0;j.splice(0,1),te-=yt);for(R=1,ae=j[0];ae>=10;ae/=10,R++);R<yt&&(te-=yt-R)}return z.e=te,z.c=j,z}})(),F.sum=function(){for(var k=1,M=arguments,P=new F(M[0]);k<M.length;)P=P.plus(M[k++]);return P},i=(function(){var k="0123456789";function M(P,Z,q,te){for(var ne,ae=[0],R,j=0,z=P.length;j<z;){for(R=ae.length;R--;ae[R]*=Z);for(ae[0]+=te.indexOf(P.charAt(j++)),ne=0;ne<ae.length;ne++)ae[ne]>q-1&&(ae[ne+1]==null&&(ae[ne+1]=0),ae[ne+1]+=ae[ne]/q|0,ae[ne]%=q)}return ae.reverse()}return function(P,Z,q,te,ne){var ae,R,j,z,ie,Q,Y,$,ce=P.indexOf("."),pe=f,ge=g;for(ce>=0&&(z=B,B=0,P=P.replace(".",""),$=new F(Z),Q=$.pow(P.length-ce),B=z,$.c=M(ms(Gr(Q.c),Q.e,"0"),10,q,k),$.e=$.c.length),Y=M(P,Z,q,ne?(ae=se,k):(ae=k,se)),j=z=Y.length;Y[--z]==0;Y.pop());if(!Y[0])return ae.charAt(0);if(ce<0?--j:(Q.c=Y,Q.e=j,Q.s=te,Q=n(Q,$,pe,ge,q),Y=Q.c,ie=Q.r,j=Q.e),R=j+pe+1,ce=Y[R],z=q/2,ie=ie||R<0||Y[R+1]!=null,ie=ge<4?(ce!=null||ie)&&(ge==0||ge==(Q.s<0?3:2)):ce>z||ce==z&&(ge==4||ie||ge==6&&Y[R-1]&1||ge==(Q.s<0?8:7)),R<1||!Y[0])P=ie?ms(ae.charAt(1),-pe,ae.charAt(0)):ae.charAt(0);else{if(Y.length=R,ie)for(--q;++Y[--R]>q;)Y[R]=0,R||(++j,Y=[1].concat(Y));for(z=Y.length;!Y[--z];);for(ce=0,P="";ce<=z;P+=ae.charAt(Y[ce++]));P=ms(P,j,ae.charAt(0))}return P}})(),n=(function(){function k(Z,q,te){var ne,ae,R,j,z=0,ie=Z.length,Q=q%ro,Y=q/ro|0;for(Z=Z.slice();ie--;)R=Z[ie]%ro,j=Z[ie]/ro|0,ne=Y*R+j*Q,ae=Q*R+ne%ro*ro+z,z=(ae/te|0)+(ne/ro|0)+Y*j,Z[ie]=ae%te;return z&&(Z=[z].concat(Z)),Z}function M(Z,q,te,ne){var ae,R;if(te!=ne)R=te>ne?1:-1;else for(ae=R=0;ae<te;ae++)if(Z[ae]!=q[ae]){R=Z[ae]>q[ae]?1:-1;break}return R}function P(Z,q,te,ne){for(var ae=0;te--;)Z[te]-=ae,ae=Z[te]<q[te]?1:0,Z[te]=ae*ne+Z[te]-q[te];for(;!Z[0]&&Z.length>1;Z.splice(0,1));}return function(Z,q,te,ne,ae){var R,j,z,ie,Q,Y,$,ce,pe,ge,Se,De,he,Ie,Me,Ae,fe,Xe=Z.s==q.s?1:-1,Ze=Z.c,Fe=q.c;if(!Ze||!Ze[0]||!Fe||!Fe[0])return new F(!Z.s||!q.s||(Ze?Fe&&Ze[0]==Fe[0]:!Fe)?NaN:Ze&&Ze[0]==0||!Fe?Xe*0:Xe/0);for(ce=new F(Xe),pe=ce.c=[],j=Z.e-q.e,Xe=te+j+1,ae||(ae=ca,j=Hr(Z.e/yt)-Hr(q.e/yt),Xe=Xe/yt|0),z=0;Fe[z]==(Ze[z]||0);z++);if(Fe[z]>(Ze[z]||0)&&j--,Xe<0)pe.push(1),ie=!0;else{for(Ie=Ze.length,Ae=Fe.length,z=0,Xe+=2,Q=qr(ae/(Fe[0]+1)),Q>1&&(Fe=k(Fe,Q,ae),Ze=k(Ze,Q,ae),Ae=Fe.length,Ie=Ze.length),he=Ae,ge=Ze.slice(0,Ae),Se=ge.length;Se<Ae;ge[Se++]=0);fe=Fe.slice(),fe=[0].concat(fe),Me=Fe[0],Fe[1]>=ae/2&&Me++;do{if(Q=0,R=M(Fe,ge,Ae,Se),R<0){if(De=ge[0],Ae!=Se&&(De=De*ae+(ge[1]||0)),Q=qr(De/Me),Q>1)for(Q>=ae&&(Q=ae-1),Y=k(Fe,Q,ae),$=Y.length,Se=ge.length;M(Y,ge,$,Se)==1;)Q--,P(Y,Ae<$?fe:Fe,$,ae),$=Y.length,R=1;else Q==0&&(R=Q=1),Y=Fe.slice(),$=Y.length;if($<Se&&(Y=[0].concat(Y)),P(ge,Y,Se,ae),Se=ge.length,R==-1)for(;M(Fe,ge,Ae,Se)<1;)Q++,P(ge,Ae<Se?fe:Fe,Se,ae),Se=ge.length}else R===0&&(Q++,ge=[0]);pe[z++]=Q,ge[0]?ge[Se++]=Ze[he]||0:(ge=[Ze[he]],Se=1)}while((he++<Ie||ge[0]!=null)&&Xe--);ie=ge[0]!=null,pe[0]||pe.splice(0,1)}if(ae==ca){for(z=1,Xe=pe[0];Xe>=10;Xe/=10,z++);K(ce,te+(ce.e=z+j*yt-1)+1,ne,ie)}else ce.e=j,ce.r=+ie;return ce}})();function X(k,M,P,Z){var q,te,ne,ae,R;if(P==null?P=g:Dn(P,0,8),!k.c)return k.toString();if(q=k.c[0],ne=k.e,M==null)R=Gr(k.c),R=Z==1||Z==2&&(ne<=y||ne>=v)?zh(R,ne):ms(R,ne,"0");else if(k=K(new F(k),M,P),te=k.e,R=Gr(k.c),ae=R.length,Z==1||Z==2&&(M<=te||te<=y)){for(;ae<M;R+="0",ae++);R=zh(R,te)}else if(M-=ne+(Z===2&&te>ne),R=ms(R,te,"0"),te+1>ae){if(--M>0)for(R+=".";M--;R+="0");}else if(M+=te-ae,M>0)for(te+1==ae&&(R+=".");M--;R+="0");return k.s<0&&q?"-"+R:R}function V(k,M){for(var P,Z,q=1,te=new F(k[0]);q<k.length;q++)Z=new F(k[q]),(!Z.s||(P=Yo(te,Z))===M||P===0&&te.s===M)&&(te=Z);return te}function W(k,M,P){for(var Z=1,q=M.length;!M[--q];M.pop());for(q=M[0];q>=10;q/=10,Z++);return(P=Z+P*yt-1)>x?k.c=k.e=null:P<E?k.c=[k.e=0]:(k.e=P,k.c=M),k}l=(function(){var k=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,P=/^\.([^.]+)$/,Z=/^-?(Infinity|NaN)$/,q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(te,ne,ae,R){var j,z=ae?ne:ne.replace(q,"");if(Z.test(z))te.s=isNaN(z)?null:z<0?-1:1;else{if(!ae&&(z=z.replace(k,function(ie,Q,Y){return j=(Y=Y.toLowerCase())=="x"?16:Y=="b"?2:8,!R||R==j?Q:ie}),R&&(j=R,z=z.replace(M,"$1").replace(P,"0.$1")),ne!=z))return new F(z,j);if(F.DEBUG)throw Error(lr+"Not a"+(R?" base "+R:"")+" number: "+ne);te.s=null}te.c=te.e=null}})();function K(k,M,P,Z){var q,te,ne,ae,R,j,z,ie=k.c,Q=Fp;if(ie){e:{for(q=1,ae=ie[0];ae>=10;ae/=10,q++);if(te=M-q,te<0)te+=yt,ne=M,R=ie[j=0],z=qr(R/Q[q-ne-1]%10);else if(j=Pp((te+1)/yt),j>=ie.length)if(Z){for(;ie.length<=j;ie.push(0));R=z=0,q=1,te%=yt,ne=te-yt+1}else break e;else{for(R=ae=ie[j],q=1;ae>=10;ae/=10,q++);te%=yt,ne=te-yt+q,z=ne<0?0:qr(R/Q[q-ne-1]%10)}if(Z=Z||M<0||ie[j+1]!=null||(ne<0?R:R%Q[q-ne-1]),Z=P<4?(z||Z)&&(P==0||P==(k.s<0?3:2)):z>5||z==5&&(P==4||Z||P==6&&(te>0?ne>0?R/Q[q-ne]:0:ie[j-1])%10&1||P==(k.s<0?8:7)),M<1||!ie[0])return ie.length=0,Z?(M-=k.e+1,ie[0]=Q[(yt-M%yt)%yt],k.e=-M||0):ie[0]=k.e=0,k;if(te==0?(ie.length=j,ae=1,j--):(ie.length=j+1,ae=Q[yt-te],ie[j]=ne>0?qr(R/Q[q-ne]%Q[ne])*ae:0),Z)for(;;)if(j==0){for(te=1,ne=ie[0];ne>=10;ne/=10,te++);for(ne=ie[0]+=ae,ae=1;ne>=10;ne/=10,ae++);te!=ae&&(k.e++,ie[0]==ca&&(ie[0]=1));break}else{if(ie[j]+=ae,ie[j]!=ca)break;ie[j--]=0,ae=1}for(te=ie.length;ie[--te]===0;ie.pop());}k.e>x?k.c=k.e=null:k.e<E&&(k.c=[k.e=0])}return k}function ee(k){var M,P=k.e;return P===null?k.toString():(M=Gr(k.c),M=P<=y||P>=v?zh(M,P):ms(M,P,"0"),k.s<0?"-"+M:M)}return r.absoluteValue=r.abs=function(){var k=new F(this);return k.s<0&&(k.s=1),k},r.comparedTo=function(k,M){return Yo(this,new F(k,M))},r.decimalPlaces=r.dp=function(k,M){var P,Z,q,te=this;if(k!=null)return Dn(k,0,hi),M==null?M=g:Dn(M,0,8),K(new F(te),k+te.e+1,M);if(!(P=te.c))return null;if(Z=((q=P.length-1)-Hr(this.e/yt))*yt,q=P[q])for(;q%10==0;q/=10,Z--);return Z<0&&(Z=0),Z},r.dividedBy=r.div=function(k,M){return n(this,new F(k,M),f,g)},r.dividedToIntegerBy=r.idiv=function(k,M){return n(this,new F(k,M),0,1)},r.exponentiatedBy=r.pow=function(k,M){var P,Z,q,te,ne,ae,R,j,z,ie=this;if(k=new F(k),k.c&&!k.isInteger())throw Error(lr+"Exponent not an integer: "+ee(k));if(M!=null&&(M=new F(M)),ae=k.e>14,!ie.c||!ie.c[0]||ie.c[0]==1&&!ie.e&&ie.c.length==1||!k.c||!k.c[0])return z=new F(Math.pow(+ee(ie),ae?k.s*(2-Fh(k)):+ee(k))),M?z.mod(M):z;if(R=k.s<0,M){if(M.c?!M.c[0]:!M.s)return new F(NaN);Z=!R&&ie.isInteger()&&M.isInteger(),Z&&(ie=ie.mod(M))}else{if(k.e>9&&(ie.e>0||ie.e<-1||(ie.e==0?ie.c[0]>1||ae&&ie.c[1]>=24e7:ie.c[0]<8e13||ae&&ie.c[0]<=9999975e7)))return te=ie.s<0&&Fh(k)?-0:0,ie.e>-1&&(te=1/te),new F(R?1/te:te);B&&(te=Pp(B/yt+2))}for(ae?(P=new F(.5),R&&(k.s=1),j=Fh(k)):(q=Math.abs(+ee(k)),j=q%2),z=new F(c);;){if(j){if(z=z.times(ie),!z.c)break;te?z.c.length>te&&(z.c.length=te):Z&&(z=z.mod(M))}if(q){if(q=qr(q/2),q===0)break;j=q%2}else if(k=k.times(P),K(k,k.e+1,1),k.e>14)j=Fh(k);else{if(q=+ee(k),q===0)break;j=q%2}ie=ie.times(ie),te?ie.c&&ie.c.length>te&&(ie.c.length=te):Z&&(ie=ie.mod(M))}return Z?z:(R&&(z=c.div(z)),M?z.mod(M):te?K(z,B,g,ne):z)},r.integerValue=function(k){var M=new F(this);return k==null?k=g:Dn(k,0,8),K(M,M.e+1,k)},r.isEqualTo=r.eq=function(k,M){return Yo(this,new F(k,M))===0},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(k,M){return Yo(this,new F(k,M))>0},r.isGreaterThanOrEqualTo=r.gte=function(k,M){return(M=Yo(this,new F(k,M)))===1||M===0},r.isInteger=function(){return!!this.c&&Hr(this.e/yt)>this.c.length-2},r.isLessThan=r.lt=function(k,M){return Yo(this,new F(k,M))<0},r.isLessThanOrEqualTo=r.lte=function(k,M){return(M=Yo(this,new F(k,M)))===-1||M===0},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return this.s>0},r.isZero=function(){return!!this.c&&this.c[0]==0},r.minus=function(k,M){var P,Z,q,te,ne=this,ae=ne.s;if(k=new F(k,M),M=k.s,!ae||!M)return new F(NaN);if(ae!=M)return k.s=-M,ne.plus(k);var R=ne.e/yt,j=k.e/yt,z=ne.c,ie=k.c;if(!R||!j){if(!z||!ie)return z?(k.s=-M,k):new F(ie?ne:NaN);if(!z[0]||!ie[0])return ie[0]?(k.s=-M,k):new F(z[0]?ne:g==3?-0:0)}if(R=Hr(R),j=Hr(j),z=z.slice(),ae=R-j){for((te=ae<0)?(ae=-ae,q=z):(j=R,q=ie),q.reverse(),M=ae;M--;q.push(0));q.reverse()}else for(Z=(te=(ae=z.length)<(M=ie.length))?ae:M,ae=M=0;M<Z;M++)if(z[M]!=ie[M]){te=z[M]<ie[M];break}if(te&&(q=z,z=ie,ie=q,k.s=-k.s),M=(Z=ie.length)-(P=z.length),M>0)for(;M--;z[P++]=0);for(M=ca-1;Z>ae;){if(z[--Z]<ie[Z]){for(P=Z;P&&!z[--P];z[P]=M);--z[P],z[Z]+=ca}z[Z]-=ie[Z]}for(;z[0]==0;z.splice(0,1),--j);return z[0]?W(k,z,j):(k.s=g==3?-1:1,k.c=[k.e=0],k)},r.modulo=r.mod=function(k,M){var P,Z,q=this;return k=new F(k,M),!q.c||!k.s||k.c&&!k.c[0]?new F(NaN):!k.c||q.c&&!q.c[0]?new F(q):(N==9?(Z=k.s,k.s=1,P=n(q,k,0,3),k.s=Z,P.s*=Z):P=n(q,k,0,N),k=q.minus(P.times(k)),!k.c[0]&&N==1&&(k.s=q.s),k)},r.multipliedBy=r.times=function(k,M){var P,Z,q,te,ne,ae,R,j,z,ie,Q,Y,$,ce,pe,ge=this,Se=ge.c,De=(k=new F(k,M)).c;if(!Se||!De||!Se[0]||!De[0])return!ge.s||!k.s||Se&&!Se[0]&&!De||De&&!De[0]&&!Se?k.c=k.e=k.s=null:(k.s*=ge.s,!Se||!De?k.c=k.e=null:(k.c=[0],k.e=0)),k;for(Z=Hr(ge.e/yt)+Hr(k.e/yt),k.s*=ge.s,R=Se.length,ie=De.length,R<ie&&($=Se,Se=De,De=$,q=R,R=ie,ie=q),q=R+ie,$=[];q--;$.push(0));for(ce=ca,pe=ro,q=ie;--q>=0;){for(P=0,Q=De[q]%pe,Y=De[q]/pe|0,ne=R,te=q+ne;te>q;)j=Se[--ne]%pe,z=Se[ne]/pe|0,ae=Y*j+z*Q,j=Q*j+ae%pe*pe+$[te]+P,P=(j/ce|0)+(ae/pe|0)+Y*z,$[te--]=j%ce;$[te]=P}return P?++Z:$.splice(0,1),W(k,$,Z)},r.negated=function(){var k=new F(this);return k.s=-k.s||null,k},r.plus=function(k,M){var P,Z=this,q=Z.s;if(k=new F(k,M),M=k.s,!q||!M)return new F(NaN);if(q!=M)return k.s=-M,Z.minus(k);var te=Z.e/yt,ne=k.e/yt,ae=Z.c,R=k.c;if(!te||!ne){if(!ae||!R)return new F(q/0);if(!ae[0]||!R[0])return R[0]?k:new F(ae[0]?Z:q*0)}if(te=Hr(te),ne=Hr(ne),ae=ae.slice(),q=te-ne){for(q>0?(ne=te,P=R):(q=-q,P=ae),P.reverse();q--;P.push(0));P.reverse()}for(q=ae.length,M=R.length,q-M<0&&(P=R,R=ae,ae=P,M=q),q=0;M;)q=(ae[--M]=ae[M]+R[M]+q)/ca|0,ae[M]=ca===ae[M]?0:ae[M]%ca;return q&&(ae=[q].concat(ae),++ne),W(k,ae,ne)},r.precision=r.sd=function(k,M){var P,Z,q,te=this;if(k!=null&&k!==!!k)return Dn(k,1,hi),M==null?M=g:Dn(M,0,8),K(new F(te),k,M);if(!(P=te.c))return null;if(q=P.length-1,Z=q*yt+1,q=P[q]){for(;q%10==0;q/=10,Z--);for(q=P[0];q>=10;q/=10,Z++);}return k&&te.e+1>Z&&(Z=te.e+1),Z},r.shiftedBy=function(k){return Dn(k,-Bp,Bp),this.times("1e"+k)},r.squareRoot=r.sqrt=function(){var k,M,P,Z,q,te=this,ne=te.c,ae=te.s,R=te.e,j=f+4,z=new F("0.5");if(ae!==1||!ne||!ne[0])return new F(!ae||ae<0&&(!ne||ne[0])?NaN:ne?te:1/0);if(ae=Math.sqrt(+ee(te)),ae==0||ae==1/0?(M=Gr(ne),(M.length+R)%2==0&&(M+="0"),ae=Math.sqrt(+M),R=Hr((R+1)/2)-(R<0||R%2),ae==1/0?M="5e"+R:(M=ae.toExponential(),M=M.slice(0,M.indexOf("e")+1)+R),P=new F(M)):P=new F(ae+""),P.c[0]){for(R=P.e,ae=R+j,ae<3&&(ae=0);;)if(q=P,P=z.times(q.plus(n(te,q,j,1))),Gr(q.c).slice(0,ae)===(M=Gr(P.c)).slice(0,ae))if(P.e<R&&--ae,M=M.slice(ae-3,ae+1),M=="9999"||!Z&&M=="4999"){if(!Z&&(K(q,q.e+f+2,0),q.times(q).eq(te))){P=q;break}j+=4,ae+=4,Z=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(K(P,P.e+f+2,1),k=!P.times(P).eq(te));break}}return K(P,P.e+f+1,g,k)},r.toExponential=function(k,M){return k!=null&&(Dn(k,0,hi),k++),X(this,k,M,1)},r.toFixed=function(k,M){return k!=null&&(Dn(k,0,hi),k=k+this.e+1),X(this,k,M)},r.toFormat=function(k,M,P){var Z,q=this;if(P==null)k!=null&&M&&typeof M=="object"?(P=M,M=null):k&&typeof k=="object"?(P=k,k=M=null):P=J;else if(typeof P!="object")throw Error(lr+"Argument not an object: "+P);if(Z=q.toFixed(k,M),q.c){var te,ne=Z.split("."),ae=+P.groupSize,R=+P.secondaryGroupSize,j=P.groupSeparator||"",z=ne[0],ie=ne[1],Q=q.s<0,Y=Q?z.slice(1):z,$=Y.length;if(R&&(te=ae,ae=R,R=te,$-=te),ae>0&&$>0){for(te=$%ae||ae,z=Y.substr(0,te);te<$;te+=ae)z+=j+Y.substr(te,ae);R>0&&(z+=j+Y.slice(te)),Q&&(z="-"+z)}Z=ie?z+(P.decimalSeparator||"")+((R=+P.fractionGroupSize)?ie.replace(new RegExp("\\d{"+R+"}\\B","g"),"$&"+(P.fractionGroupSeparator||"")):ie):z}return(P.prefix||"")+Z+(P.suffix||"")},r.toFraction=function(k){var M,P,Z,q,te,ne,ae,R,j,z,ie,Q,Y=this,$=Y.c;if(k!=null&&(ae=new F(k),!ae.isInteger()&&(ae.c||ae.s!==1)||ae.lt(c)))throw Error(lr+"Argument "+(ae.isInteger()?"out of range: ":"not an integer: ")+ee(ae));if(!$)return new F(Y);for(M=new F(c),j=P=new F(c),Z=R=new F(c),Q=Gr($),te=M.e=Q.length-Y.e-1,M.c[0]=Fp[(ne=te%yt)<0?yt+ne:ne],k=!k||ae.comparedTo(M)>0?te>0?M:j:ae,ne=x,x=1/0,ae=new F(Q),R.c[0]=0;z=n(ae,M,0,1),q=P.plus(z.times(Z)),q.comparedTo(k)!=1;)P=Z,Z=q,j=R.plus(z.times(q=j)),R=q,M=ae.minus(z.times(q=M)),ae=q;return q=n(k.minus(P),Z,0,1),R=R.plus(q.times(j)),P=P.plus(q.times(Z)),R.s=j.s=Y.s,te=te*2,ie=n(j,Z,te,g).minus(Y).abs().comparedTo(n(R,P,te,g).minus(Y).abs())<1?[j,Z]:[R,P],x=ne,ie},r.toNumber=function(){return+ee(this)},r.toPrecision=function(k,M){return k!=null&&Dn(k,1,hi),X(this,k,M,2)},r.toString=function(k){var M,P=this,Z=P.s,q=P.e;return q===null?Z?(M="Infinity",Z<0&&(M="-"+M)):M="NaN":(k==null?M=q<=y||q>=v?zh(Gr(P.c),q):ms(Gr(P.c),q,"0"):k===10&&re?(P=K(new F(P),f+q+1,g),M=ms(Gr(P.c),P.e,"0")):(Dn(k,2,se.length,"Base"),M=i(ms(Gr(P.c),q,"0"),10,k,Z,!0)),Z<0&&P.c[0]&&(M="-"+M)),M},r.valueOf=r.toJSON=function(){return ee(this)},r._isBigNumber=!0,r[Symbol.toStringTag]="BigNumber",r[Symbol.for("nodejs.util.inspect.custom")]=r.valueOf,t!=null&&F.set(t),F}function Hr(t){var n=t|0;return t>0||t===n?n:n-1}function Gr(t){for(var n,i,l=1,r=t.length,c=t[0]+"";l<r;){for(n=t[l++]+"",i=yt-n.length;i--;n="0"+n);c+=n}for(r=c.length;c.charCodeAt(--r)===48;);return c.slice(0,r+1||1)}function Yo(t,n){var i,l,r=t.c,c=n.c,f=t.s,g=n.s,y=t.e,v=n.e;if(!f||!g)return null;if(i=r&&!r[0],l=c&&!c[0],i||l)return i?l?0:-g:f;if(f!=g)return f;if(i=f<0,l=y==v,!r||!c)return l?0:!r^i?1:-1;if(!l)return y>v^i?1:-1;for(g=(y=r.length)<(v=c.length)?y:v,f=0;f<g;f++)if(r[f]!=c[f])return r[f]>c[f]^i?1:-1;return y==v?0:y>v^i?1:-1}function Dn(t,n,i,l){if(t<n||t>i||t!==qr(t))throw Error(lr+(l||"Argument")+(typeof t=="number"?t<n||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Fh(t){var n=t.c.length-1;return Hr(t.e/yt)==n&&t.c[n]%2!=0}function zh(t,n){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(n<0?"e":"e+")+n}function ms(t,n,i){var l,r;if(n<0){for(r=i+".";++n;r+=i);t=r+t}else if(l=t.length,++n>l){for(r=i,n-=l;--n;r+=i);t+=r}else n<l&&(t=t.slice(0,n)+"."+t.slice(n));return t}var Ma=ax(),iC=class{key;left=null;right=null;constructor(t){this.key=t}},qu=class extends iC{constructor(t){super(t)}},rC=class{size=0;modificationCount=0;splayCount=0;splay(t){const n=this.root;if(n==null)return this.compare(t,t),-1;let i=null,l=null,r=null,c=null,f=n;const g=this.compare;let y;for(;;)if(y=g(f.key,t),y>0){let v=f.left;if(v==null||(y=g(v.key,t),y>0&&(f.left=v.right,v.right=f,f=v,v=f.left,v==null)))break;i==null?l=f:i.left=f,i=f,f=v}else if(y<0){let v=f.right;if(v==null||(y=g(v.key,t),y<0&&(f.right=v.left,v.left=f,f=v,v=f.right,v==null)))break;r==null?c=f:r.right=f,r=f,f=v}else break;return r!=null&&(r.right=f.left,f.left=c),i!=null&&(i.left=f.right,f.right=l),this.root!==f&&(this.root=f,this.splayCount++),y}splayMin(t){let n=t,i=n.left;for(;i!=null;){const l=i;n.left=l.right,l.right=n,n=l,i=n.left}return n}splayMax(t){let n=t,i=n.right;for(;i!=null;){const l=i;n.right=l.left,l.left=n,n=l,i=n.right}return n}_delete(t){if(this.root==null||this.splay(t)!=0)return null;let i=this.root;const l=i,r=i.left;if(this.size--,r==null)this.root=i.right;else{const c=i.right;i=this.splayMax(r),i.right=c,this.root=i}return this.modificationCount++,l}addNewRoot(t,n){this.size++,this.modificationCount++;const i=this.root;if(i==null){this.root=t;return}n<0?(t.left=i,t.right=i.right,i.right=null):(t.right=i,t.left=i.left,i.left=null),this.root=t}_first(){const t=this.root;return t==null?null:(this.root=this.splayMin(t),this.root)}_last(){const t=this.root;return t==null?null:(this.root=this.splayMax(t),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(t){return this.validKey(t)&&this.splay(t)==0}defaultCompare(){return(t,n)=>t<n?-1:t>n?1:0}wrap(){return{getRoot:()=>this.root,setRoot:t=>{this.root=t},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:t=>{this.splayCount=t},splay:t=>this.splay(t),has:t=>this.has(t)}}},sf=class nc extends rC{root=null;compare;validKey;constructor(n,i){super(),this.compare=n??this.defaultCompare(),this.validKey=i??(l=>l!=null&&l!=null)}delete(n){return this.validKey(n)?this._delete(n)!=null:!1}deleteAll(n){for(const i of n)this.delete(i)}forEach(n){const i=this[Symbol.iterator]();let l;for(;l=i.next(),!l.done;)n(l.value,l.value,this)}add(n){const i=this.splay(n);return i!=0&&this.addNewRoot(new qu(n),i),this}addAndReturn(n){const i=this.splay(n);return i!=0&&this.addNewRoot(new qu(n),i),this.root.key}addAll(n){for(const i of n)this.add(i)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(n){if(n==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(n)<0)return this.root.key;let l=this.root.left;if(l==null)return null;let r=l.right;for(;r!=null;)l=r,r=l.right;return l.key}firstAfter(n){if(n==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(n)>0)return this.root.key;let l=this.root.right;if(l==null)return null;let r=l.left;for(;r!=null;)l=r,r=l.left;return l.key}retainAll(n){const i=new nc(this.compare,this.validKey),l=this.modificationCount;for(const r of n){if(l!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(r)&&this.splay(r)==0&&i.add(this.root.key)}i.size!=this.size&&(this.root=i.root,this.size=i.size,this.modificationCount++)}lookup(n){return!this.validKey(n)||this.splay(n)!=0?null:this.root.key}intersection(n){const i=new nc(this.compare,this.validKey);for(const l of this)n.has(l)&&i.add(l);return i}difference(n){const i=new nc(this.compare,this.validKey);for(const l of this)n.has(l)||i.add(l);return i}union(n){const i=this.clone();return i.addAll(n),i}clone(){const n=new nc(this.compare,this.validKey);return n.size=this.size,n.root=this.copyNode(this.root),n}copyNode(n){if(n==null)return null;function i(r,c){let f,g;do{if(f=r.left,g=r.right,f!=null){const y=new qu(f.key);c.left=y,i(f,y)}if(g!=null){const y=new qu(g.key);c.right=y,r=g,c=y}}while(g!=null)}const l=new qu(n.key);return i(n,l),l}toSet(){return this.clone()}entries(){return new sC(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new aC(this.wrap())}[Symbol.toStringTag]="[object Set]"},sx=class{tree;path=new Array;modificationCount=null;splayCount;constructor(t){this.tree=t,this.splayCount=t.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const t=this.path[this.path.length-1];return this.getValue(t)}rebuildPath(t){this.path.splice(0,this.path.length),this.tree.splay(t),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(t){for(;t!=null;)this.path.push(t),t=t.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let i=this.tree.getRoot();for(;i!=null;)this.path.push(i),i=i.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let t=this.path[this.path.length-1],n=t.right;if(n!=null){for(;n!=null;)this.path.push(n),n=n.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===t;)t=this.path.pop();return this.path.length>0}},aC=class extends sx{getValue(t){return t.key}},sC=class extends sx{getValue(t){return[t.key,t.key]}},ox=t=>()=>t,eg=t=>{const n=t?(i,l)=>l.minus(i).abs().isLessThanOrEqualTo(t):ox(!1);return(i,l)=>n(i,l)?0:i.comparedTo(l)};function oC(t){const n=t?(i,l,r,c,f)=>i.exponentiatedBy(2).isLessThanOrEqualTo(c.minus(l).exponentiatedBy(2).plus(f.minus(r).exponentiatedBy(2)).times(t)):ox(!1);return(i,l,r)=>{const c=i.x,f=i.y,g=r.x,y=r.y,v=f.minus(y).times(l.x.minus(g)).minus(c.minus(g).times(l.y.minus(y)));return n(v,c,f,g,y)?0:v.comparedTo(0)}}var lC=t=>t,uC=t=>{if(t){const n=new sf(eg(t)),i=new sf(eg(t)),l=(c,f)=>f.addAndReturn(c),r=c=>({x:l(c.x,n),y:l(c.y,i)});return r({x:new Ma(0),y:new Ma(0)}),r}return lC},tg=t=>({set:n=>{xs=tg(n)},reset:()=>tg(t),compare:eg(t),snap:uC(t),orient:oC(t)}),xs=tg(),Hu=(t,n)=>t.ll.x.isLessThanOrEqualTo(n.x)&&n.x.isLessThanOrEqualTo(t.ur.x)&&t.ll.y.isLessThanOrEqualTo(n.y)&&n.y.isLessThanOrEqualTo(t.ur.y),ng=(t,n)=>{if(n.ur.x.isLessThan(t.ll.x)||t.ur.x.isLessThan(n.ll.x)||n.ur.y.isLessThan(t.ll.y)||t.ur.y.isLessThan(n.ll.y))return null;const i=t.ll.x.isLessThan(n.ll.x)?n.ll.x:t.ll.x,l=t.ur.x.isLessThan(n.ur.x)?t.ur.x:n.ur.x,r=t.ll.y.isLessThan(n.ll.y)?n.ll.y:t.ll.y,c=t.ur.y.isLessThan(n.ur.y)?t.ur.y:n.ur.y;return{ll:{x:i,y:r},ur:{x:l,y:c}}},Jh=(t,n)=>t.x.times(n.y).minus(t.y.times(n.x)),lx=(t,n)=>t.x.times(n.x).plus(t.y.times(n.y)),of=t=>lx(t,t).sqrt(),cC=(t,n,i)=>{const l={x:n.x.minus(t.x),y:n.y.minus(t.y)},r={x:i.x.minus(t.x),y:i.y.minus(t.y)};return Jh(r,l).div(of(r)).div(of(l))},hC=(t,n,i)=>{const l={x:n.x.minus(t.x),y:n.y.minus(t.y)},r={x:i.x.minus(t.x),y:i.y.minus(t.y)};return lx(r,l).div(of(r)).div(of(l))},e0=(t,n,i)=>n.y.isZero()?null:{x:t.x.plus(n.x.div(n.y).times(i.minus(t.y))),y:i},t0=(t,n,i)=>n.x.isZero()?null:{x:i,y:t.y.plus(n.y.div(n.x).times(i.minus(t.x)))},fC=(t,n,i,l)=>{if(n.x.isZero())return t0(i,l,t.x);if(l.x.isZero())return t0(t,n,i.x);if(n.y.isZero())return e0(i,l,t.y);if(l.y.isZero())return e0(t,n,i.y);const r=Jh(n,l);if(r.isZero())return null;const c={x:i.x.minus(t.x),y:i.y.minus(t.y)},f=Jh(c,n).div(r),g=Jh(c,l).div(r),y=t.x.plus(g.times(n.x)),v=i.x.plus(f.times(l.x)),E=t.y.plus(g.times(n.y)),x=i.y.plus(f.times(l.y)),A=y.plus(v).div(2),N=E.plus(x).div(2);return{x:A,y:N}},ka=class ux{point;isLeft;segment;otherSE;consumedBy;static compare(n,i){const l=ux.comparePoints(n.point,i.point);return l!==0?l:(n.point!==i.point&&n.link(i),n.isLeft!==i.isLeft?n.isLeft?1:-1:lf.compare(n.segment,i.segment))}static comparePoints(n,i){return n.x.isLessThan(i.x)?-1:n.x.isGreaterThan(i.x)?1:n.y.isLessThan(i.y)?-1:n.y.isGreaterThan(i.y)?1:0}constructor(n,i){n.events===void 0?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=i}link(n){if(n.point===this.point)throw new Error("Tried to link already linked events");const i=n.point.events;for(let l=0,r=i.length;l<r;l++){const c=i[l];this.point.events.push(c),c.point=this.point}this.checkForConsuming()}checkForConsuming(){const n=this.point.events.length;for(let i=0;i<n;i++){const l=this.point.events[i];if(l.segment.consumedBy===void 0)for(let r=i+1;r<n;r++){const c=this.point.events[r];c.consumedBy===void 0&&l.otherSE.point.events===c.otherSE.point.events&&l.segment.consume(c.segment)}}}getAvailableLinkedEvents(){const n=[];for(let i=0,l=this.point.events.length;i<l;i++){const r=this.point.events[i];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&n.push(r)}return n}getLeftmostComparator(n){const i=new Map,l=r=>{const c=r.otherSE;i.set(r,{sine:cC(this.point,n.point,c.point),cosine:hC(this.point,n.point,c.point)})};return(r,c)=>{i.has(r)||l(r),i.has(c)||l(c);const{sine:f,cosine:g}=i.get(r),{sine:y,cosine:v}=i.get(c);return f.isGreaterThanOrEqualTo(0)&&y.isGreaterThanOrEqualTo(0)?g.isLessThan(v)?1:g.isGreaterThan(v)?-1:0:f.isLessThan(0)&&y.isLessThan(0)?g.isLessThan(v)?-1:g.isGreaterThan(v)?1:0:y.isLessThan(f)?-1:y.isGreaterThan(f)?1:0}}},dC=class ig{events;poly;_isExteriorRing;_enclosingRing;static factory(n){const i=[];for(let l=0,r=n.length;l<r;l++){const c=n[l];if(!c.isInResult()||c.ringOut)continue;let f=null,g=c.leftSE,y=c.rightSE;const v=[g],E=g.point,x=[];for(;f=g,g=y,v.push(g),g.point!==E;)for(;;){const A=g.getAvailableLinkedEvents();if(A.length===0){const J=v[0].point,se=v[v.length-1].point;throw new Error(`Unable to complete output ring starting at [${J.x}, ${J.y}]. Last matching segment found ends at [${se.x}, ${se.y}].`)}if(A.length===1){y=A[0].otherSE;break}let N=null;for(let J=0,se=x.length;J<se;J++)if(x[J].point===g.point){N=J;break}if(N!==null){const J=x.splice(N)[0],se=v.splice(J.index);se.unshift(se[0].otherSE),i.push(new ig(se.reverse()));continue}x.push({index:v.length,point:g.point});const B=g.getLeftmostComparator(f);y=A.sort(B)[0].otherSE;break}i.push(new ig(v))}return i}constructor(n){this.events=n;for(let i=0,l=n.length;i<l;i++)n[i].segment.ringOut=this;this.poly=null}getGeom(){let n=this.events[0].point;const i=[n];for(let v=1,E=this.events.length-1;v<E;v++){const x=this.events[v].point,A=this.events[v+1].point;xs.orient(x,n,A)!==0&&(i.push(x),n=x)}if(i.length===1)return null;const l=i[0],r=i[1];xs.orient(l,n,r)===0&&i.shift(),i.push(i[0]);const c=this.isExteriorRing()?1:-1,f=this.isExteriorRing()?0:i.length-1,g=this.isExteriorRing()?i.length:-1,y=[];for(let v=f;v!=g;v+=c)y.push([i[v].x.toNumber(),i[v].y.toNumber()]);return y}isExteriorRing(){if(this._isExteriorRing===void 0){const n=this.enclosingRing();this._isExteriorRing=n?!n.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let n=this.events[0];for(let r=1,c=this.events.length;r<c;r++){const f=this.events[r];ka.compare(n,f)>0&&(n=f)}let i=n.segment.prevInResult(),l=i?i.prevInResult():null;for(;;){if(!i)return null;if(!l)return i.ringOut;if(l.ringOut!==i.ringOut)return l.ringOut?.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut?.enclosingRing();i=l.prevInResult(),l=i?i.prevInResult():null}}},n0=class{exteriorRing;interiorRings;constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=this.exteriorRing.getGeom();if(t===null)return null;const n=[t];for(let i=0,l=this.interiorRings.length;i<l;i++){const r=this.interiorRings[i].getGeom();r!==null&&n.push(r)}return n}},pC=class{rings;polys;constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let n=0,i=this.polys.length;n<i;n++){const l=this.polys[n].getGeom();l!==null&&t.push(l)}return t}_composePolys(t){const n=[];for(let i=0,l=t.length;i<l;i++){const r=t[i];if(!r.poly)if(r.isExteriorRing())n.push(new n0(r));else{const c=r.enclosingRing();c?.poly||n.push(new n0(c)),c?.poly?.addInterior(r)}}return n}},gC=class{queue;tree;segments;constructor(t,n=lf.compare){this.queue=t,this.tree=new sf(n),this.segments=[]}process(t){const n=t.segment,i=[];if(t.consumedBy)return t.isLeft?this.queue.delete(t.otherSE):this.tree.delete(n),i;t.isLeft&&this.tree.add(n);let l=n,r=n;do l=this.tree.lastBefore(l);while(l!=null&&l.consumedBy!=null);do r=this.tree.firstAfter(r);while(r!=null&&r.consumedBy!=null);if(t.isLeft){let c=null;if(l){const g=l.getIntersection(n);if(g!==null&&(n.isAnEndpoint(g)||(c=g),!l.isAnEndpoint(g))){const y=this._splitSafely(l,g);for(let v=0,E=y.length;v<E;v++)i.push(y[v])}}let f=null;if(r){const g=r.getIntersection(n);if(g!==null&&(n.isAnEndpoint(g)||(f=g),!r.isAnEndpoint(g))){const y=this._splitSafely(r,g);for(let v=0,E=y.length;v<E;v++)i.push(y[v])}}if(c!==null||f!==null){let g=null;c===null?g=f:f===null?g=c:g=ka.comparePoints(c,f)<=0?c:f,this.queue.delete(n.rightSE),i.push(n.rightSE);const y=n.split(g);for(let v=0,E=y.length;v<E;v++)i.push(y[v])}i.length>0?(this.tree.delete(n),i.push(t)):(this.segments.push(n),n.prev=l)}else{if(l&&r){const c=l.getIntersection(r);if(c!==null){if(!l.isAnEndpoint(c)){const f=this._splitSafely(l,c);for(let g=0,y=f.length;g<y;g++)i.push(f[g])}if(!r.isAnEndpoint(c)){const f=this._splitSafely(r,c);for(let g=0,y=f.length;g<y;g++)i.push(f[g])}}}this.tree.delete(n)}return i}_splitSafely(t,n){this.tree.delete(t);const i=t.rightSE;this.queue.delete(i);const l=t.split(n);return l.push(i),t.consumedBy===void 0&&this.tree.add(t),l}},mC=class{type;numMultiPolys;run(t,n,i){ic.type=t;const l=[new r0(n,!0)];for(let v=0,E=i.length;v<E;v++)l.push(new r0(i[v],!1));if(ic.numMultiPolys=l.length,ic.type==="difference"){const v=l[0];let E=1;for(;E<l.length;)ng(l[E].bbox,v.bbox)!==null?E++:l.splice(E,1)}if(ic.type==="intersection")for(let v=0,E=l.length;v<E;v++){const x=l[v];for(let A=v+1,N=l.length;A<N;A++)if(ng(x.bbox,l[A].bbox)===null)return[]}const r=new sf(ka.compare);for(let v=0,E=l.length;v<E;v++){const x=l[v].getSweepEvents();for(let A=0,N=x.length;A<N;A++)r.add(x[A])}const c=new gC(r);let f=null;for(r.size!=0&&(f=r.first(),r.delete(f));f;){const v=c.process(f);for(let E=0,x=v.length;E<x;E++){const A=v[E];A.consumedBy===void 0&&r.add(A)}r.size!=0?(f=r.first(),r.delete(f)):f=null}xs.reset();const g=dC.factory(c.segments);return new pC(g).getGeom()}},ic=new mC,Zl=ic,_C=0,lf=class Vh{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(n,i){const l=n.leftSE.point.x,r=i.leftSE.point.x,c=n.rightSE.point.x,f=i.rightSE.point.x;if(f.isLessThan(l))return 1;if(c.isLessThan(r))return-1;const g=n.leftSE.point.y,y=i.leftSE.point.y,v=n.rightSE.point.y,E=i.rightSE.point.y;if(l.isLessThan(r)){if(y.isLessThan(g)&&y.isLessThan(v))return 1;if(y.isGreaterThan(g)&&y.isGreaterThan(v))return-1;const x=n.comparePoint(i.leftSE.point);if(x<0)return 1;if(x>0)return-1;const A=i.comparePoint(n.rightSE.point);return A!==0?A:-1}if(l.isGreaterThan(r)){if(g.isLessThan(y)&&g.isLessThan(E))return-1;if(g.isGreaterThan(y)&&g.isGreaterThan(E))return 1;const x=i.comparePoint(n.leftSE.point);if(x!==0)return x;const A=n.comparePoint(i.rightSE.point);return A<0?1:A>0?-1:1}if(g.isLessThan(y))return-1;if(g.isGreaterThan(y))return 1;if(c.isLessThan(f)){const x=i.comparePoint(n.rightSE.point);if(x!==0)return x}if(c.isGreaterThan(f)){const x=n.comparePoint(i.rightSE.point);if(x<0)return 1;if(x>0)return-1}if(!c.eq(f)){const x=v.minus(g),A=c.minus(l),N=E.minus(y),B=f.minus(r);if(x.isGreaterThan(A)&&N.isLessThan(B))return 1;if(x.isLessThan(A)&&N.isGreaterThan(B))return-1}return c.isGreaterThan(f)?1:c.isLessThan(f)||v.isLessThan(E)?-1:v.isGreaterThan(E)?1:n.id<i.id?-1:n.id>i.id?1:0}constructor(n,i,l,r){this.id=++_C,this.leftSE=n,n.segment=this,n.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=n,this.rings=l,this.windings=r}static fromRing(n,i,l){let r,c,f;const g=ka.comparePoints(n,i);if(g<0)r=n,c=i,f=1;else if(g>0)r=i,c=n,f=-1;else throw new Error(`Tried to create degenerate segment at [${n.x}, ${n.y}]`);const y=new ka(r,!0),v=new ka(c,!1);return new Vh(y,v,[l],[f])}replaceRightSE(n){this.rightSE=n,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const n=this.leftSE.point.y,i=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:n.isLessThan(i)?n:i},ur:{x:this.rightSE.point.x,y:n.isGreaterThan(i)?n:i}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(n){return n.x.eq(this.leftSE.point.x)&&n.y.eq(this.leftSE.point.y)||n.x.eq(this.rightSE.point.x)&&n.y.eq(this.rightSE.point.y)}comparePoint(n){return xs.orient(this.leftSE.point,n,this.rightSE.point)}getIntersection(n){const i=this.bbox(),l=n.bbox(),r=ng(i,l);if(r===null)return null;const c=this.leftSE.point,f=this.rightSE.point,g=n.leftSE.point,y=n.rightSE.point,v=Hu(i,g)&&this.comparePoint(g)===0,E=Hu(l,c)&&n.comparePoint(c)===0,x=Hu(i,y)&&this.comparePoint(y)===0,A=Hu(l,f)&&n.comparePoint(f)===0;if(E&&v)return A&&!x?f:!A&&x?y:null;if(E)return x&&c.x.eq(y.x)&&c.y.eq(y.y)?null:c;if(v)return A&&f.x.eq(g.x)&&f.y.eq(g.y)?null:g;if(A&&x)return null;if(A)return f;if(x)return y;const N=fC(c,this.vector(),g,n.vector());return N===null||!Hu(r,N)?null:xs.snap(N)}split(n){const i=[],l=n.events!==void 0,r=new ka(n,!0),c=new ka(n,!1),f=this.rightSE;this.replaceRightSE(c),i.push(c),i.push(r);const g=new Vh(r,f,this.rings.slice(),this.windings.slice());return ka.comparePoints(g.leftSE.point,g.rightSE.point)>0&&g.swapEvents(),ka.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),l&&(r.checkForConsuming(),c.checkForConsuming()),i}swapEvents(){const n=this.rightSE;this.rightSE=this.leftSE,this.leftSE=n,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,l=this.windings.length;i<l;i++)this.windings[i]*=-1}consume(n){let i=this,l=n;for(;i.consumedBy;)i=i.consumedBy;for(;l.consumedBy;)l=l.consumedBy;const r=Vh.compare(i,l);if(r!==0){if(r>0){const c=i;i=l,l=c}if(i.prev===l){const c=i;i=l,l=c}for(let c=0,f=l.rings.length;c<f;c++){const g=l.rings[c],y=l.windings[c],v=i.rings.indexOf(g);v===-1?(i.rings.push(g),i.windings.push(y)):i.windings[v]+=y}l.rings=null,l.windings=null,l.consumedBy=i,l.leftSE.consumedBy=i.leftSE,l.rightSE.consumedBy=i.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const n=this.prev.consumedBy||this.prev;this._beforeState=n.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const n=this.beforeState();this._afterState={rings:n.rings.slice(0),windings:n.windings.slice(0),multiPolys:[]};const i=this._afterState.rings,l=this._afterState.windings,r=this._afterState.multiPolys;for(let g=0,y=this.rings.length;g<y;g++){const v=this.rings[g],E=this.windings[g],x=i.indexOf(v);x===-1?(i.push(v),l.push(E)):l[x]+=E}const c=[],f=[];for(let g=0,y=i.length;g<y;g++){if(l[g]===0)continue;const v=i[g],E=v.poly;if(f.indexOf(E)===-1)if(v.isExterior)c.push(E);else{f.indexOf(E)===-1&&f.push(E);const x=c.indexOf(v.poly);x!==-1&&c.splice(x,1)}}for(let g=0,y=c.length;g<y;g++){const v=c[g].multiPoly;r.indexOf(v)===-1&&r.push(v)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const n=this.beforeState().multiPolys,i=this.afterState().multiPolys;switch(Zl.type){case"union":{const l=n.length===0,r=i.length===0;this._isInResult=l!==r;break}case"intersection":{let l,r;n.length<i.length?(l=n.length,r=i.length):(l=i.length,r=n.length),this._isInResult=r===Zl.numMultiPolys&&l<r;break}case"xor":{const l=Math.abs(n.length-i.length);this._isInResult=l%2===1;break}case"difference":{const l=r=>r.length===1&&r[0].isSubject;this._isInResult=l(n)!==l(i);break}}return this._isInResult}},i0=class{poly;isExterior;segments;bbox;constructor(t,n,i){if(!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=i,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const l=xs.snap({x:new Ma(t[0][0]),y:new Ma(t[0][1])});this.bbox={ll:{x:l.x,y:l.y},ur:{x:l.x,y:l.y}};let r=l;for(let c=1,f=t.length;c<f;c++){if(typeof t[c][0]!="number"||typeof t[c][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const g=xs.snap({x:new Ma(t[c][0]),y:new Ma(t[c][1])});g.x.eq(r.x)&&g.y.eq(r.y)||(this.segments.push(lf.fromRing(r,g,this)),g.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=g.x),g.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=g.y),g.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=g.x),g.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=g.y),r=g)}(!l.x.eq(r.x)||!l.y.eq(r.y))&&this.segments.push(lf.fromRing(r,l,this))}getSweepEvents(){const t=[];for(let n=0,i=this.segments.length;n<i;n++){const l=this.segments[n];t.push(l.leftSE),t.push(l.rightSE)}return t}},yC=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(t,n){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new i0(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,l=t.length;i<l;i++){const r=new i0(t[i],this,!1);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=n}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let n=0,i=this.interiorRings.length;n<i;n++){const l=this.interiorRings[n].getSweepEvents();for(let r=0,c=l.length;r<c;r++)t.push(l[r])}return t}},r0=class{isSubject;polys;bbox;constructor(t,n){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:new Ma(Number.POSITIVE_INFINITY),y:new Ma(Number.POSITIVE_INFINITY)},ur:{x:new Ma(Number.NEGATIVE_INFINITY),y:new Ma(Number.NEGATIVE_INFINITY)}};for(let i=0,l=t.length;i<l;i++){const r=new yC(t[i],this);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=n}getSweepEvents(){const t=[];for(let n=0,i=this.polys.length;n<i;n++){const l=this.polys[n].getSweepEvents();for(let r=0,c=l.length;r<c;r++)t.push(l[r])}return t}},oo=(t,...n)=>Zl.run("union",t,n),cx=(t,...n)=>Zl.run("intersection",t,n),vC=(t,...n)=>Zl.run("xor",t,n),hx=(t,...n)=>Zl.run("difference",t,n),SC=xs.set;const xC=Object.freeze(Object.defineProperty({__proto__:null,difference:hx,intersection:cx,setPrecision:SC,union:oo,xor:vC},Symbol.toStringTag,{value:"Module"}));function EC(t){const n=[];if(Si(t,r=>{n.push(r.coordinates)}),n.length<2)throw new Error("Must have at least two features");const i=t.features[0].properties||{},l=hx(n[0],...n.slice(1));return l.length===0?null:l.length===1?lt(l[0],i):ur(l,i)}function rg(t){if(!t)throw new Error("geojson is required");var n=[];return $n(t,function(i){n.push(i)}),Qe(n)}function bC(t,n={}){if(n=n||{},!Ft(n))throw new Error("options is invalid");const{propertyName:i}=n;Es(t,"Polygon","dissolve");const l=[];if(i){const r={};Rt(t,function(f){f.properties&&(Object.prototype.hasOwnProperty.call(r,f.properties[i])||(r[f.properties[i]]=[]),r[f.properties[i]].push(f))});const c=Object.keys(r);for(let f=0;f<c.length;f++){const g=ur(oo.apply(null,r[c[f]].map(function(y){return y.geometry.coordinates})));g&&g.properties&&(g.properties[i]=c[f],l.push(g))}}else return rg(ur(oo.apply(null,t.features.map(function(r){return r.geometry.coordinates}))));return rg(Qe(l))}function TC(t,n,i=2){const l=Bt(t),r=Bt(n),c=l[0]-r[0],f=l[1]-r[1];return i===1?Math.abs(c)+Math.abs(f):Math.pow(Math.pow(c,i)+Math.pow(f,i),1/i)}function fx(t,n){var i,l;n=n||{};const r=n.threshold||1e4,c=n.p||2,f=(i=n.binary)!=null?i:!1,g=n.alpha||-1,y=(l=n.standardization)!=null?l:!1,v=[];Rt(t,x=>{v.push(Ss(x))});const E=[];for(let x=0;x<v.length;x++)E[x]=[];for(let x=0;x<v.length;x++)for(let A=x;A<v.length;A++){x===A&&(E[x][A]=0);const N=TC(v[x],v[A],c);E[x][A]=N,E[A][x]=N}for(let x=0;x<v.length;x++)for(let A=0;A<v.length;A++){const N=E[x][A];N!==0&&(f?N<=r?E[x][A]=1:E[x][A]=0:N<=r?E[x][A]=Math.pow(N,g):E[x][A]=0)}if(y)for(let x=0;x<v.length;x++){const A=E[x].reduce((N,B)=>N+B,0);for(let N=0;N<v.length;N++)E[x][N]=E[x][N]/A}return E}function Fl(t,n,i={}){const l=Bt(t),r=Bt(n);r[0]+=r[0]-l[0]>180?-360:l[0]-r[0]>180?360:0;const c=wC(l,r);return Xo(c,"meters",i.units)}function wC(t,n,i){i=i===void 0?Wn:Number(i);const l=i,r=t[1]*Math.PI/180,c=n[1]*Math.PI/180,f=c-r;let g=Math.abs(n[0]-t[0])*Math.PI/180;g>Math.PI&&(g-=2*Math.PI);const y=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),v=Math.abs(y)>1e-11?f/y:Math.cos(r);return Math.sqrt(f*f+v*v*g*g)*l}function bf(t,n,i,l={}){const r=n<0;let c=Xo(Math.abs(n),l.units,"meters");r&&(c=-Math.abs(c));const f=Bt(t),g=CC(f,c,i);return g[0]+=g[0]-f[0]>180?-360:f[0]-g[0]>180?360:0,ut(g,l.properties)}function CC(t,n,i,l){l=l===void 0?Wn:Number(l);const r=n/l,c=t[0]*Math.PI/180,f=Qn(t[1]),g=Qn(i),y=r*Math.cos(g);let v=f+y;Math.abs(v)>Math.PI/2&&(v=v>0?Math.PI-v:-Math.PI-v);const E=Math.log(Math.tan(v/2+Math.PI/4)/Math.tan(f/2+Math.PI/4)),x=Math.abs(E)>1e-11?y/E:Math.cos(f),A=r*Math.sin(g)/x;return[((c+A)*180/Math.PI+540)%360-180,v*180/Math.PI]}function dx(t,n,i){if(i=i||{},!Ft(i))throw new Error("options is invalid");const l=i.pivot,r=i.mutate;if(!t)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("angle is required");if(n===0)return t;const c=l??Ss(t);return(r===!1||r===void 0)&&(t=oi(t)),_n(t,function(f){const y=Jo(c,f)+n,v=Fl(c,f),E=ct(bf(c,v,y));f[0]=E[0],f[1]=E[1]}),t}function px(t,n,i,l){l=l||{};let r=l.steps||64;const c=l.units||"kilometers";let f=l.angle||0;const g=l.pivot||t,y=l.properties||{};if(!t)throw new Error("center is required");if(!n)throw new Error("xSemiAxis is required");if(!i)throw new Error("ySemiAxis is required");if(!Ft(l))throw new Error("options must be an object");if(!Kn(r))throw new Error("steps must be a number");if(!Kn(f))throw new Error("angle must be a number");const v=Bt(dx(ut(Bt(t)),f,{pivot:g}));f=-90+f,r=Math.ceil(r/4);let E=[],x=[];const A=n,N=i,B=N,J=(A-N)/(Math.PI/2),se=(A+N)*Math.PI/4,re=.5,F=r;let X=0,V=0;for(let K=0;K<r;K++)V+=X,J===0?X=se/F/B:X=(-(J*V+B)+Math.sqrt(Math.pow(J*V+B,2)-4*(re*J)*-(se/F)))/(2*(re*J)),V!=0&&E.push(V);x.push(0);for(let K=0;K<E.length;K++)x.push(E[K]);x.push(Math.PI/2);for(let K=0;K<E.length;K++)x.push(Math.PI-E[E.length-K-1]);x.push(Math.PI);for(let K=0;K<E.length;K++)x.push(Math.PI+E[K]);x.push(3*Math.PI/2);for(let K=0;K<E.length;K++)x.push(2*Math.PI-E[E.length-K-1]);x.push(0);const W=[];for(const K of x){const ee=Math.atan2(N*Math.sin(K),A*Math.cos(K)),k=Math.sqrt(Math.pow(A,2)*Math.pow(N,2)/(Math.pow(A*Math.sin(ee),2)+Math.pow(N*Math.cos(ee),2)));W.push(so(v,k,f+Ia(ee),{units:c}).geometry.coordinates)}return lt([W],y)}function gx(t){return Ec(kt(t))}function Tf(t){const n=[];return t.type==="FeatureCollection"?Rt(t,function(i){_n(i,function(l){n.push(ut(l,i.properties))})}):t.type==="Feature"?_n(t,function(i){n.push(ut(i,t.properties))}):_n(t,function(i){n.push(ut(i))}),Qe(n)}function LC(t,n){var i;if(n=n||{},!Ft(n))throw new Error("options is invalid");const l=(i=n.mutate)!=null?i:!1;if(!t)throw new Error("geojson is required");return(l===!1||l===void 0)&&(t=oi(t)),_n(t,function(r){var c=r[0],f=r[1];r[0]=f,r[1]=c}),t}function DC(t){const i=Math.pow(10,6),l=[];for(let r=0;r<t.length;r++){const c=t[r];c!==void 0&&(l[r]=Math.round((c+Number.EPSILON)*i)/i)}return l}const a0=Math.PI/180,s0=180/Math.PI;class uf{lon;lat;x;y;constructor(n,i){this.lon=n,this.lat=i,this.x=a0*n,this.y=a0*i}view(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)}antipode(){const n=-1*this.lat,i=this.lon<0?180+this.lon:(180-this.lon)*-1;return new uf(i,n)}}class AC{properties={};geometries=[];constructor(n){n&&(this.properties=n)}json(){if(this.geometries.length===0)return{type:"Feature",geometry:{type:"LineString",coordinates:null},properties:this.properties};if(this.geometries.length===1){const i=this.geometries[0];return i?{type:"Feature",geometry:{type:"LineString",coordinates:i.coords},properties:this.properties}:{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:this.properties}}return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.geometries.filter(i=>i!==void 0).map(i=>i.coords)},properties:this.properties}}wkt(){if(this.geometries.length===0)return"";let n=[];for(const i of this.geometries){if(!i||i.coords.length===0){n.push("LINESTRING EMPTY");continue}const l=i.coords.filter(r=>r!==void 0).map(r=>{const c=r[0]??0,f=r[1]??0;return`${c} ${f}`});l.length===0?n.push("LINESTRING EMPTY"):n.push(`LINESTRING(${l.join(",")})`)}return n.join("; ")}}class kC{coords=[];length=0;move_to(n){this.length++,this.coords.push(n)}}class NC{start;end;properties;g;constructor(n,i,l){if(!n||n.x===void 0||n.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new uf(n.x,n.y),this.end=new uf(i.x,i.y),this.properties=l||{};const r=this.start.x-this.end.x,c=this.start.y-this.end.y,f=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(f)),this.g===Math.PI)throw new Error("it appears "+this.start.view()+" and "+this.end.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+n+" and "+i)}interpolate(n){const i=Math.sin((1-n)*this.g)/Math.sin(this.g),l=Math.sin(n*this.g)/Math.sin(this.g),r=i*Math.cos(this.start.y)*Math.cos(this.start.x)+l*Math.cos(this.end.y)*Math.cos(this.end.x),c=i*Math.cos(this.start.y)*Math.sin(this.start.x)+l*Math.cos(this.end.y)*Math.sin(this.end.x),f=i*Math.sin(this.start.y)+l*Math.sin(this.end.y),g=s0*Math.atan2(f,Math.sqrt(Math.pow(r,2)+Math.pow(c,2)));return[s0*Math.atan2(c,r),g]}Arc(n,i){let l=[];if(!n||n<=2)l.push([this.start.lon,this.start.lat]),l.push([this.end.lon,this.end.lat]);else{const A=1/(n-1);for(let N=0;N<n;++N){const B=A*N,J=this.interpolate(B);l.push(J)}}let r=!1,c=0;const f=i?.offset??10,g=180-f,y=-180+f,v=360-f;for(let A=1;A<l.length;++A){const N=l[A-1]?.[0]??0,B=l[A]?.[0]??0,J=Math.abs(B-N);J>v&&(B>g&&N<y||N>g&&B<y)?r=!0:J>c&&(c=J)}const E=[];if(r&&c<f){let A=[];E.push(A);for(let N=0;N<l.length;++N){const B=parseFloat((l[N]?.[0]??0).toString());if(N>0&&Math.abs(B-(l[N-1]?.[0]??0))>v){const J=parseFloat((l[N-1]?.[0]??0).toString()),se=parseFloat((l[N-1]?.[1]??0).toString()),re=parseFloat((l[N]?.[0]??0).toString()),F=parseFloat((l[N]?.[1]??0).toString());if(J>-180&&J<y&&re===180&&N+1<l.length&&(l[N-1]?.[0]??0)>-180&&(l[N-1]?.[0]??0)<y){A.push([-180,l[N]?.[1]??0]),N++,A.push([l[N]?.[0]??0,l[N]?.[1]??0]);continue}else if(J>g&&J<180&&re===-180&&N+1<l.length&&(l[N-1]?.[0]??0)>g&&(l[N-1]?.[0]??0)<180){A.push([180,l[N]?.[1]??0]),N++,A.push([l[N]?.[0]??0,l[N]?.[1]??0]);continue}if(J<=180&&re>=180&&J<re){const X=(180-J)/(re-J),V=X*F+(1-X)*se;A.push([(l[N-1]?.[0]??0)>g?180:-180,V]),A=[],A.push([(l[N-1]?.[0]??0)>g?-180:180,V]),E.push(A)}else A=[],E.push(A);A.push([B,l[N]?.[1]??0])}else A.push([l[N]?.[0]??0,l[N]?.[1]??0])}}else{const A=[];E.push(A);for(let N=0;N<l.length;++N)A.push([l[N]?.[0]??0,l[N]?.[1]??0])}const x=new AC(this.properties);for(let A=0;A<E.length;++A){const N=new kC;x.geometries.push(N);const B=E[A];if(B)for(let J=0;J<B.length;++J){const se=B[J];se&&N.move_to(DC([se[0],se[1]]))}}return x}}function OC(t,n,i={}){if(typeof i!="object")throw new Error("options is invalid");const{properties:l={},npoints:r=100,offset:c=10}=i,f=Bt(t),g=Bt(n);if(f[0]===g[0]&&f[1]===g[1]){const E=Array(r).fill([f[0],f[1]]);return bt(E,l)}return new NC({x:f[0],y:f[1]},{x:g[0],y:g[1]},l||{}).Arc(r,{offset:c}).json()}function pc(t,n={}){const i=[];if(Si(t,r=>{i.push(r.coordinates)}),i.length<2)throw new Error("Must specify at least 2 geometries");const l=cx(i[0],...i.slice(1));return l.length===0?null:l.length===1?lt(l[0],n.properties):ur(l,n.properties)}function mx(t,n,i={}){const l=JSON.stringify(i.properties||{}),[r,c,f,g]=t,y=(c+g)/2,v=(r+f)/2,x=n*2/fn([r,y],[f,y],i)*(f-r),N=n*2/fn([v,c],[v,g],i)*(g-c),B=x/2,J=B*2,se=Math.sqrt(3)/2*N,re=f-r,F=g-c,X=3/4*J,V=se,W=(re-J)/(J-B/2),K=Math.floor(W),ee=(K*X-B/2-re)/2-B/2+X/2,k=Math.floor((F-se)/se);let M=(F-k*se)/2;const P=k*se-F>se/2;P&&(M-=se/4);const Z=[],q=[];for(let ne=0;ne<6;ne++){const ae=2*Math.PI/6*ne;Z.push(Math.cos(ae)),q.push(Math.sin(ae))}const te=[];for(let ne=0;ne<=K;ne++)for(let ae=0;ae<=k;ae++){const R=ne%2===1;if(ae===0&&R||ae===0&&P)continue;const j=ne*X+r-ee;let z=ae*V+c+M;if(R&&(z-=se/2),i.triangles===!0)RC([j,z],x/2,N/2,JSON.parse(l),Z,q).forEach(function(ie){i.mask?pc(Qe([i.mask,ie]))&&te.push(ie):te.push(ie)});else{const ie=MC([j,z],x/2,N/2,JSON.parse(l),Z,q);i.mask?pc(Qe([i.mask,ie]))&&te.push(ie):te.push(ie)}}return Qe(te)}function MC(t,n,i,l,r,c){const f=[];for(let g=0;g<6;g++){const y=t[0]+n*r[g],v=t[1]+i*c[g];f.push([y,v])}return f.push(f[0].slice()),lt([f],l)}function RC(t,n,i,l,r,c){const f=[];for(let g=0;g<6;g++){const y=[];y.push(t),y.push([t[0]+n*r[g],t[1]+i*c[g]]),y.push([t[0]+n*r[(g+1)%6],t[1]+i*c[(g+1)%6]]),y.push(t),f.push(lt([y],l))}return f}function _x(t,n,i={}){i.mask&&!i.units&&(i.units="kilometers");for(var l=[],r=t[0],c=t[1],f=t[2],g=t[3],y=n/fn([r,c],[f,c],i),v=y*(f-r),E=n/fn([r,c],[r,g],i),x=E*(g-c),A=f-r,N=g-c,B=Math.floor(A/v),J=Math.floor(N/x),se=(A-B*v)/2,re=(N-J*x)/2,F=r+se;F<=f;){for(var X=c+re;X<=g;){var V=ut([F,X],i.properties);i.mask?LS(V,i.mask)&&l.push(V):l.push(V),X+=x}F+=v}return Qe(l)}function yx(t,n,i,l={}){const r=[],c=t[0],f=t[1],g=t[2],y=t[3],v=g-c,E=Xo(n,l.units,"degrees"),x=y-f,A=Xo(i,l.units,"degrees"),N=Math.floor(Math.abs(v)/E),B=Math.floor(Math.abs(x)/A),J=(v-N*E)/2,se=(x-B*A)/2;let re=c+J;for(let F=0;F<N;F++){let X=f+se;for(let V=0;V<B;V++){const W=lt([[[re,X],[re,X+A],[re+E,X+A],[re+E,X],[re,X]]],l.properties);l.mask?wS(l.mask,W)&&r.push(W):r.push(W),X+=A}re+=E}return Qe(r)}function Fg(t,n,i={}){return yx(t,n,n,i)}function vx(t,n,i={}){for(var l=[],r=n/fn([t[0],t[1]],[t[2],t[1]],i),c=r*(t[2]-t[0]),f=n/fn([t[0],t[1]],[t[0],t[3]],i),g=f*(t[3]-t[1]),y=0,v=t[0];v<=t[2];){for(var E=0,x=t[1];x<=t[3];){var A=null,N=null;y%2===0&&E%2===0?(A=lt([[[v,x],[v,x+g],[v+c,x],[v,x]]],i.properties),N=lt([[[v,x+g],[v+c,x+g],[v+c,x],[v,x+g]]],i.properties)):y%2===0&&E%2===1?(A=lt([[[v,x],[v+c,x+g],[v+c,x],[v,x]]],i.properties),N=lt([[[v,x],[v,x+g],[v+c,x+g],[v,x]]],i.properties)):E%2===0&&y%2===1?(A=lt([[[v,x],[v,x+g],[v+c,x+g],[v,x]]],i.properties),N=lt([[[v,x],[v+c,x+g],[v+c,x],[v,x]]],i.properties)):E%2===1&&y%2===1&&(A=lt([[[v,x],[v,x+g],[v+c,x],[v,x]]],i.properties),N=lt([[[v,x+g],[v+c,x+g],[v+c,x],[v,x+g]]],i.properties)),i.mask?(pc(Qe([i.mask,A]))&&l.push(A),pc(Qe([i.mask,N]))&&l.push(N)):(l.push(A),l.push(N)),x+=g,E++}y++,v+=c}return Qe(l)}function IC(t,n,i){var l,r,c,f;if(i=i||{},typeof i!="object")throw new Error("options is invalid");if(!t)throw new Error("points is required");if(Es(t,"Point","input must contain Points"),!n)throw new Error("cellSize is required");var g=(l=i.gridType)!=null?l:"square",y=(r=i.property)!=null?r:"elevation",v=(c=i.weight)!=null?c:1,E=(f=i.bbox)!=null?f:kt(t);if(v!==void 0&&typeof v!="number")throw new Error("weight must be a number");uc(E);var x;switch(g){case"point":case"points":x=_x(E,n,i);break;case"square":case"squares":x=Fg(E,n,i);break;case"hex":case"hexes":x=mx(E,n,i);break;case"triangle":case"triangles":x=vx(E,n,i);break;default:throw new Error("invalid gridType")}var A=[];return Rt(x,function(N){var B,J=0,se=0;Rt(t,function(F){var X,V=g==="point"?N:Ss(N),W=fn(V,F,i),K;if(y!==void 0&&(K=(X=F.properties)==null?void 0:X[y]),K===void 0&&(K=F.geometry.coordinates[2]),K===void 0)throw new Error("zValue is missing");W===0&&(J=K);var ee=1/Math.pow(W,v);se+=ee,J+=ee*K});var re=oi(N);(B=re.properties)!=null||(re.properties={}),re.properties[y]=J/se,A.push(re)}),Qe(A)}var PC=Object.defineProperty,o0=Object.getOwnPropertySymbols,BC=Object.prototype.hasOwnProperty,FC=Object.prototype.propertyIsEnumerable,l0=(t,n,i)=>n in t?PC(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,u0=(t,n)=>{for(var i in n||(n={}))BC.call(n,i)&&l0(t,i,n[i]);if(o0)for(var i of o0(n))FC.call(n,i)&&l0(t,i,n[i]);return t};function zC(t,n={}){if(!Ft(n))throw new Error("options is invalid");const{zProperty:i="elevation",flip:l=!1,flags:r=!1}=n;Es(t,"Point","input must contain Points");for(var c=jC(t,l),f=[],g=0;g<c.length;g++){for(var y=c[g],v=[],E=0;E<y.length;E++){var x=y[E];x.properties==null&&(x.properties={}),x.properties[i]?v.push(x.properties[i]):v.push(0),r===!0&&(x.properties.matrixPosition=[g,E])}f.push(v)}return f}function jC(t,n){var i={};Rt(t,r=>{var c=ct(r)[1];i[c]||(i[c]=[]),i[c].push(r)});const l=[];for(const r of Object.values(i))l.push(r.sort((c,f)=>ct(c)[0]-ct(f)[0]));return l.sort(n?(r,c)=>ct(r[0])[1]-ct(c[0])[1]:(r,c)=>ct(c[0])[1]-ct(r[0])[1]),l}function UC(t,n,i){if(i=i||{},!Ft(i))throw new Error("options is invalid");const l=i.zProperty||"elevation",r=i.commonProperties||{},c=i.breaksProperties||[];if(Es(t,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks is not an Array");if(!Ft(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(c))throw new Error("breaksProperties is not an Array");const f=zC(t,{zProperty:l,flip:!0}),g=f[0].length;if(f.length<2||g<2)throw new Error("Matrix of points must be at least 2x2");for(let E=1;E<f.length;E++)if(f[E].length!==g)throw new Error("Matrix of points is not uniform in the x dimension");let y=YC(f,n,l);y=qC(y,f,t);const v=y.map((E,x)=>{if(c[x]&&!Ft(c[x]))throw new Error("Each mappedProperty is required to be an Object");const A=u0(u0({},r),c[x]);return A[l]=E[l],ur(E.groupedRings,A)});return Qe(v)}function YC(t,n,i){const l=[];let r;for(let c=1;c<n.length;c++){c===1&&(r=c0(t,+n[0]));const f=+n[c],g=+n[c-1],y=c0(t,f),v=y.map(N=>N.map(B=>[B[0],B[1]]).reverse()),E=GC(r.concat(v),t),x=HC(E),A=ZC(x);if(A.length===0&&t[0][0]<f&&t[0][0]>=g){const N=t[0].length,B=t.length;A.push([[[0,0],[N-1,0],[N-1,B-1],[0,B-1],[0,0]]])}l.push({groupedRings:A,[i]:g+"-"+f}),r=y}return l}function c0(t,n){const i=[],l=t[0].length,r=t.length;for(let f=0;f<r-1;f++)for(let g=0;g<l-1;g++){const y=t[f+1][g+1],v=t[f][g+1],E=t[f][g],x=t[f+1][g];switch((x>=n?8:0)|(y>=n?4:0)|(v>=n?2:0)|(E>=n?1:0)){case 0:continue;case 1:i.push([[g+c(E,v),f],[g,f+c(E,x)]]);break;case 2:i.push([[g+1,f+c(v,y)],[g+c(E,v),f]]);break;case 3:i.push([[g+1,f+c(v,y)],[g,f+c(E,x)]]);break;case 4:i.push([[g+c(x,y),f+1],[g+1,f+c(v,y)]]);break;case 5:{(x+y+v+E)/4>=n?i.push([[g+c(x,y),f+1],[g,f+c(E,x)]],[[g+c(E,v),f],[g+1,f+c(v,y)]]):i.push([[g+c(x,y),f+1],[g+1,f+c(v,y)]],[[g+c(E,v),f],[g,f+c(E,x)]]);break}case 6:i.push([[g+c(x,y),f+1],[g+c(E,v),f]]);break;case 7:i.push([[g+c(x,y),f+1],[g,f+c(E,x)]]);break;case 8:i.push([[g,f+c(E,x)],[g+c(x,y),f+1]]);break;case 9:i.push([[g+c(E,v),f],[g+c(x,y),f+1]]);break;case 10:{(x+y+v+E)/4>=n?i.push([[g,f+c(E,x)],[g+c(E,v),f]],[[g+1,f+c(v,y)],[g+c(x,y),f+1]]):i.push([[g,f+c(E,x)],[g+c(x,y),f+1]],[[g+1,f+c(v,y)],[g+c(E,v),f]]);break}case 11:i.push([[g+1,f+c(v,y)],[g+c(x,y),f+1]]);break;case 12:i.push([[g,f+c(E,x)],[g+1,f+c(v,y)]]);break;case 13:i.push([[g+c(E,v),f],[g+1,f+c(v,y)]]);break;case 14:i.push([[g,f+c(E,x)],[g+c(E,v),f]]);break;case 15:continue}}return i;function c(f,g){if(f===g)return .5;let y=(n-f)/(g-f);return y>1?1:y<0?0:y}}function GC(t,n){const i=n.length,l=n[0].length,r=[],c=[];for(;t.length>0;){const f=[...t.shift()];r.push(f);let g;do{g=!1;for(let y=0;y<t.length;y++){const v=t[y];if(v[0][0]===f[f.length-1][0]&&v[0][1]===f[f.length-1][1]){g=!0,f.push(v[1]),t.splice(y,1);break}if(v[1][0]===f[0][0]&&v[1][1]===f[0][1]){g=!0,f.unshift(v[0]),t.splice(y,1);break}}}while(g)}for(;r.length>0;){const f=r[0];if(f[0][0]===f[f.length-1][0]&&f[0][1]===f[f.length-1][1]){c.push(f),r.shift();continue}const g=f[f.length-1];let y,v;if(g[0]===0&&g[1]!==0)y=jh(r,E=>E[0][0]===0&&E[0][1]<g[1],(E,x)=>x[0][1]-E[0][1]),v=[0,0];else if(g[1]===0&&g[0]!==l-1)y=jh(r,E=>E[0][1]===0&&E[0][0]>g[0],(E,x)=>E[0][0]-x[0][0]),v=[l-1,0];else if(g[0]===l-1&&g[1]!==i-1)y=jh(r,E=>E[0][0]===l-1&&E[0][1]>g[1],(E,x)=>E[0][1]-x[0][1]),v=[l-1,i-1];else if(g[1]===i-1&&g[0]!==0)y=jh(r,E=>E[0][1]===i-1&&E[0][0]<g[0],(E,x)=>x[0][0]-E[0][0]),v=[0,i-1];else throw new Error("Contour not closed but is not along an edge");if(y===-1)f.push(v);else if(y===0)f.push([f[0][0],f[0][1]]),c.push(f),r.shift();else{const E=r[y];r.splice(y,1);for(const x of E)f.push(x)}}for(let f=0;f<c.length;f++)c[f].length<4&&(c.splice(f,1),f--);return c}function qC(t,n,i){const l=kt(i),r=l[2]-l[0],c=l[3]-l[1],f=l[0],g=l[1],y=n[0].length-1,v=n.length-1,E=r/y,x=c/v;return t.map(function(A){return A.groupedRings=A.groupedRings.map(function(N){return N.map(function(B){return B.map(J=>[J[0]*E+f,J[1]*x+g])})}),A})}function HC(t){const n=t.map(function(i){return{ring:i,area:xc(lt([i]))}});return n.sort(function(i,l){return l.area-i.area}),n.map(function(i){return i.ring})}function ZC(t){const n=t.map(l=>({lrCoordinates:l,grouped:!1})),i=[];for(;!XC(n);)for(let l=0;l<n.length;l++)if(!n[l].grouped){const r=[];r.push(n[l].lrCoordinates),n[l].grouped=!0;const c=lt([n[l].lrCoordinates]);e:for(let f=l+1;f<n.length;f++)if(!n[f].grouped){const g=lt([n[f].lrCoordinates]);if(h0(g,c)){for(let y=1;y<r.length;y++)if(h0(g,lt([r[y]])))continue e;r.push(n[f].lrCoordinates),n[f].grouped=!0}}i.push(r)}return i}function h0(t,n){const i=Tf(t);for(let l=0;l<i.features.length;l++)if(!rt(i.features[l],n))return!1;return!0}function XC(t){for(let n=0;n<t.length;n++)if(t[n].grouped===!1)return!1;return!0}function jh(t,n,i){let l=-1;for(let r=0;r<t.length;r++)n(t[r])&&(l===-1||i(t[l],t[r])>0)&&(l=r);return l}var JC=Object.defineProperty,f0=Object.getOwnPropertySymbols,VC=Object.prototype.hasOwnProperty,WC=Object.prototype.propertyIsEnumerable,d0=(t,n,i)=>n in t?JC(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,p0=(t,n)=>{for(var i in n||(n={}))VC.call(n,i)&&d0(t,i,n[i]);if(f0)for(var i of f0(n))WC.call(n,i)&&d0(t,i,n[i]);return t};function QC(t,n={}){if(!Ft(n))throw new Error("options is invalid");const{zProperty:i="elevation",flip:l=!1,flags:r=!1}=n;Es(t,"Point","input must contain Points");for(var c=KC(t,l),f=[],g=0;g<c.length;g++){for(var y=c[g],v=[],E=0;E<y.length;E++){var x=y[E];x.properties==null&&(x.properties={}),x.properties[i]?v.push(x.properties[i]):v.push(0),r===!0&&(x.properties.matrixPosition=[g,E])}f.push(v)}return f}function KC(t,n){var i={};Rt(t,r=>{var c=ct(r)[1];i[c]||(i[c]=[]),i[c].push(r)});const l=[];for(const r of Object.values(i))l.push(r.sort((c,f)=>ct(c)[0]-ct(f)[0]));return l.sort(n?(r,c)=>ct(r[0])[1]-ct(c[0])[1]:(r,c)=>ct(c[0])[1]-ct(r[0])[1]),l}function $C(t,n,i){if(i=i||{},!Ft(i))throw new Error("options is invalid");const l=i.zProperty||"elevation",r=i.commonProperties||{},c=i.breaksProperties||[];if(Es(t,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks must be an Array");if(!Ft(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(c))throw new Error("breaksProperties must be an Array");const f=QC(t,{zProperty:l,flip:!0}),g=f[0].length;if(f.length<2||g<2)throw new Error("Matrix of points must be at least 2x2");for(let E=1;E<f.length;E++)if(f[E].length!==g)throw new Error("Matrix of points is not uniform in the x dimension");const y=eL(f,n,l,r,c),v=nL(y,f,t);return Qe(v)}function eL(t,n,i,l,r){const c=[];for(let f=0;f<n.length;f++){const g=+n[f],y=p0(p0({},l),r[f]);y[i]=g;const v=uo(tL(t,g),y);c.push(v)}return c}function tL(t,n){const i=[],l=t.length,r=t[0].length;for(let g=0;g<l-1;g++)for(let y=0;y<r-1;y++){const v=t[g+1][y+1],E=t[g][y+1],x=t[g][y],A=t[g+1][y];switch((A>=n?8:0)|(v>=n?4:0)|(E>=n?2:0)|(x>=n?1:0)){case 0:continue;case 1:i.push([[y+f(x,E),g],[y,g+f(x,A)]]);break;case 2:i.push([[y+1,g+f(E,v)],[y+f(x,E),g]]);break;case 3:i.push([[y+1,g+f(E,v)],[y,g+f(x,A)]]);break;case 4:i.push([[y+f(A,v),g+1],[y+1,g+f(E,v)]]);break;case 5:{(A+v+E+x)/4>=n?i.push([[y+f(A,v),g+1],[y,g+f(x,A)]],[[y+f(x,E),g],[y+1,g+f(E,v)]]):i.push([[y+f(A,v),g+1],[y+1,g+f(E,v)]],[[y+f(x,E),g],[y,g+f(x,A)]]);break}case 6:i.push([[y+f(A,v),g+1],[y+f(x,E),g]]);break;case 7:i.push([[y+f(A,v),g+1],[y,g+f(x,A)]]);break;case 8:i.push([[y,g+f(x,A)],[y+f(A,v),g+1]]);break;case 9:i.push([[y+f(x,E),g],[y+f(A,v),g+1]]);break;case 10:{(A+v+E+x)/4>=n?i.push([[y,g+f(x,A)],[y+f(x,E),g]],[[y+1,g+f(E,v)],[y+f(A,v),g+1]]):i.push([[y,g+f(x,A)],[y+f(A,v),g+1]],[[y+1,g+f(E,v)],[y+f(x,E),g]]);break}case 11:i.push([[y+1,g+f(E,v)],[y+f(A,v),g+1]]);break;case 12:i.push([[y,g+f(x,A)],[y+1,g+f(E,v)]]);break;case 13:i.push([[y+f(x,E),g],[y+1,g+f(E,v)]]);break;case 14:i.push([[y,g+f(x,A)],[y+f(x,E),g]]);break;case 15:continue}}const c=[];for(;i.length>0;){const g=[...i.shift()];c.push(g);let y;do{y=!1;for(let v=0;v<i.length;v++){const E=i[v];if(E[0][0]===g[g.length-1][0]&&E[0][1]===g[g.length-1][1]){y=!0,g.push(E[1]),i.splice(v,1);break}if(E[1][0]===g[0][0]&&E[1][1]===g[0][1]){y=!0,g.unshift(E[0]),i.splice(v,1);break}}}while(y)}return c;function f(g,y){if(g===y)return .5;let v=(n-g)/(y-g);return v>1?1:v<0?0:v}}function nL(t,n,i){const l=kt(i),r=l[2]-l[0],c=l[3]-l[1],f=l[0],g=l[1],y=n[0].length-1,v=n.length-1,E=r/y,x=c/v,A=N=>{N[0]=N[0]*E+f,N[1]=N[1]*x+g};return t.forEach(N=>{_n(N,A)}),t}function iL(t){let n,i;const l={type:"FeatureCollection",features:[]};if(t.type==="Feature"?i=t.geometry:i=t,i.type==="LineString")n=[i.coordinates];else if(i.type==="MultiLineString")n=i.coordinates;else if(i.type==="MultiPolygon")n=[].concat(...i.coordinates);else if(i.type==="Polygon")n=i.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return n.forEach(r=>{n.forEach(c=>{for(let f=0;f<r.length-1;f++)for(let g=f;g<c.length-1;g++){if(r===c&&(Math.abs(f-g)===1||f===0&&g===r.length-2&&r[f][0]===r[r.length-1][0]&&r[f][1]===r[r.length-1][1]))continue;const y=rL(r[f][0],r[f][1],r[f+1][0],r[f+1][1],c[g][0],c[g][1],c[g+1][0],c[g+1][1]);y&&l.features.push(ut([y[0],y[1]]))}})}),l}function rL(t,n,i,l,r,c,f,g){let y,v,E,x,A;const N={x:null,y:null,onLine1:!1,onLine2:!1};return y=(g-c)*(i-t)-(f-r)*(l-n),y===0?N.x!==null&&N.y!==null?N:!1:(v=n-c,E=t-r,x=(f-r)*v-(g-c)*E,A=(i-t)*v-(l-n)*E,v=x/y,E=A/y,N.x=t+v*(i-t),N.y=n+v*(l-n),v>=0&&v<=1&&(N.onLine1=!0),E>=0&&E<=1&&(N.onLine2=!0),N.onLine1&&N.onLine2?[N.x,N.y]:!1)}function Sx(t,n={}){return vg(t,(i,l)=>{const r=l.geometry.coordinates;return i+fn(r[0],r[1],n)},0)}function xx(t,n,i,l,r={}){const c=r.steps||64,f=g0(i),g=g0(l),y=!Array.isArray(t)&&t.type==="Feature"?t.properties:{};if(f===g)return bt(Sf(t,n,r).geometry.coordinates[0],y);const v=f,E=f<g?g:g+360;let x=v;const A=[];let N=0;const B=(E-v)/c;for(;x<=E;)A.push(so(t,n,x,r).geometry.coordinates),N++,x=v+N*B;return bt(A,y)}function g0(t){let n=t%360;return n<0&&(n+=360),n}function Ex(t,n,i,l={}){if(!Ft(l))throw new Error("options is invalid");const{units:r="kilometers"}=l;var c,f=[];if(t.type==="Feature")c=t.geometry.coordinates;else if(t.type==="LineString")c=t.coordinates;else throw new Error("input must be a LineString Feature or Geometry");const g=c.length;let y=0,v,E,x;for(let N=0;N<c.length&&!(n>=y&&N===c.length-1);N++){if(y>n&&f.length===0){let B=n-y;if(!B)return f.push(c[N]),bt(f);E=ao(c[N],c[N-1])-180,x=so(c[N],B,E,{units:r}),f.push(x.geometry.coordinates)}if(y>=i)return v=i-y,v?(E=ao(c[N],c[N-1])-180,x=so(c[N],v,E,{units:r}),f.push(x.geometry.coordinates),bt(f)):(f.push(c[N]),bt(f));if(y>=n&&f.push(c[N]),N===c.length-1)return bt(f);y+=fn(c[N],c[N+1],{units:r})}if(y<n&&c.length===g)throw new Error("Start position is beyond line");var A=c[c.length-1];return bt([A,A])}function aL(t,n,i={}){if(!Ft(i))throw new Error("options is invalid");const{units:l="kilometers",reverse:r=!1}=i;if(!t)throw new Error("geojson is required");if(n<=0)throw new Error("segmentLength must be greater than 0");const c=[];return $n(t,f=>{r&&(f.geometry.coordinates=f.geometry.coordinates.reverse()),sL(f,n,l,g=>{c.push(g)})}),Qe(c)}function sL(t,n,i,l){var r=Sx(t,{units:i});if(r<=n)return l(t);var c=r/n;Number.isInteger(c)||(c=Math.floor(c)+1);for(var f=0;f<c;f++){var g=Ex(t,n*f,n*(f+1),{units:i});l(g)}}function cf(t){var n=t[0],i=t[1];return[i[0]-n[0],i[1]-n[1]]}function ag(t,n){return t[0]*n[1]-n[0]*t[1]}function oL(t,n){return[t[0]+n[0],t[1]+n[1]]}function lL(t,n){return[t[0]-n[0],t[1]-n[1]]}function uL(t,n){return[t*n[0],t*n[1]]}function cL(t,n){var i=t[0],l=cf(t),r=n[0],c=cf(n),f=ag(l,c),g=lL(r,i),y=ag(g,c),v=y/f,E=oL(i,uL(v,l));return E}function hL(t,n){var i=cf(t),l=cf(n);return ag(i,l)===0}function fL(t,n){return hL(t,n)?!1:cL(t,n)}function dL(t,n,i={}){if(i=i||{},!Ft(i))throw new Error("options is invalid");const{units:l="kilometers"}=i;if(!t)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("distance is required");var r=cr(t),c=t.type==="Feature"?t.properties:{};switch(r){case"LineString":return m0(t,n,l);case"MultiLineString":var f=[];return $n(t,function(g){f.push(m0(g,n,l).geometry.coordinates)}),uo(f,c);default:throw new Error("geometry "+r+" is not supported")}}function m0(t,n,i){var l=[],r=fg(n,i),c=ct(t),f=[];return c.forEach(function(g,y){if(y!==c.length-1){var v=pL(g,c[y+1],r);if(l.push(v),y>0){var E=l[y-1],x=fL(v,E);x!==!1&&(E[1]=x,v[0]=x),f.push(E[0]),y===c.length-2&&(f.push(v[0]),f.push(v[1]))}c.length===2&&(f.push(v[0]),f.push(v[1]))}}),bt(f,t.type==="Feature"?t.properties:{})}function pL(t,n,i){var l=Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])),r=t[0]+i*(n[1]-t[1])/l,c=n[0]+i*(n[1]-t[1])/l,f=t[1]+i*(t[0]-n[0])/l,g=n[1]+i*(t[0]-n[0])/l;return[[r,f],[c,g]]}function gL(t,n,i){const l=ct(i);if(cr(i)!=="LineString")throw new Error("line must be a LineString");const r=ys(i,t),c=ys(i,n),f=r.properties.index<=c.properties.index?[r,c]:[c,r],g=[f[0].geometry.coordinates];for(let y=f[0].properties.index+1;y<f[1].properties.index+1;y++)g.push(l[y]);return g.push(f[1].geometry.coordinates),bt(g,i.type==="Feature"?i.properties:{})}function mL(t,n={}){var i,l,r,c=n.properties,f=(i=n.autoComplete)!=null?i:!0,g=(l=n.orderCoords)!=null?l:!0,y=(r=n.mutate)!=null?r:!1;if(y||(t=oi(t)),t.type==="FeatureCollection"){var v=[];return t.features.forEach(function(E){v.push(ct(_0(E,{},f,g)))}),ur(v,c)}else return _0(t,c,f,g)}function _0(t,n,i,l){n=n||(t.type==="Feature"?t.properties:{});var r=cn(t),c=r.coordinates,f=r.type;if(!c.length)throw new Error("line must contain coordinates");switch(f){case"LineString":return i&&(c=y0(c)),lt([c],n);case"MultiLineString":var g=[],y=0;return c.forEach(function(v){if(i&&(v=y0(v)),l){var E=_L(kt(bt(v)));E>y?(g.unshift(v),y=E):g.push(v)}else g.push(v)}),lt(g,n);default:throw new Error("geometry type "+f+" is not supported")}}function y0(t){var n=t[0],i=n[0],l=n[1],r=t[t.length-1],c=r[0],f=r[1];return(i!==c||l!==f)&&t.push(n),t}function _L(t){var n=t[0],i=t[1],l=t[2],r=t[3];return Math.abs(n-l)*Math.abs(i-r)}function yL(t,n,i){var l;const r=(l=i?.mutate)!=null?l:!1;let c=n;n&&r===!1&&(c=oi(n));const f=SL(c);let g=null;return t.type==="FeatureCollection"?g=vL(t):t.type==="Feature"?g=sg(oo(t.geometry.coordinates)):g=sg(oo(t.coordinates)),g.geometry.coordinates.forEach(function(y){f.geometry.coordinates.push(y[0])}),f}function vL(t){const n=t.features.length===2?oo(t.features[0].geometry.coordinates,t.features[1].geometry.coordinates):oo.apply(xC,t.features.map(function(i){return i.geometry.coordinates}));return sg(n)}function sg(t){return ur(t)}function SL(t){let i=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return t&&(t.type==="Feature"?i=t.geometry.coordinates:i=t.coordinates),lt(i)}function xL(t,n){const i=fn(t,n),l=ao(t,n);return so(t,i/2,l)}function EL(t,n){var i,l;const r=n.inputField,c=n.threshold||1e5,f=n.p||2,g=(i=n.binary)!=null?i:!1,y=n.alpha||-1,v=(l=n.standardization)!=null?l:!0,E=fx(t,{alpha:y,binary:g,p:f,standardization:v,threshold:c}),x=[];Rt(t,P=>{const Z=P.properties||{};x.push(Z[r])});const A=bx(x),N=bL(x);let B=0,J=0,se=0,re=0;const F=E.length;for(let P=0;P<F;P++){let Z=0;for(let q=0;q<F;q++)B+=E[P][q]*(x[P]-A)*(x[q]-A),J+=E[P][q],se+=Math.pow(E[P][q]+E[q][P],2),Z+=E[P][q]+E[q][P];re+=Math.pow(Z,2)}se=.5*se;const X=B/J/N,V=-1/(F-1),W=F*F*se-F*re+3*(J*J),K=(F-1)*(F+1)*(J*J),ee=W/K-V*V,k=Math.sqrt(ee),M=(X-V)/k;return{expectedMoranIndex:V,moranIndex:X,stdNorm:k,zNorm:M}}function bx(t){let n=0;for(const i of t)n+=i;return n/t.length}function bL(t){const n=bx(t);let i=0;for(const l of t)i+=Math.pow(l-n,2);return i/t.length}var TL=Object.defineProperty,wL=Object.defineProperties,CL=Object.getOwnPropertyDescriptors,v0=Object.getOwnPropertySymbols,LL=Object.prototype.hasOwnProperty,DL=Object.prototype.propertyIsEnumerable,S0=(t,n,i)=>n in t?TL(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,x0=(t,n)=>{for(var i in n||(n={}))LL.call(n,i)&&S0(t,i,n[i]);if(v0)for(var i of v0(n))DL.call(n,i)&&S0(t,i,n[i]);return t},E0=(t,n)=>wL(t,CL(n));function wf(t,n,i={}){if(!t)throw new Error("targetPoint is required");if(!n)throw new Error("points is required");let l=1/0,r=0;Rt(n,(f,g)=>{const y=fn(t,f,i);y<l&&(r=g,l=y)});const c=oi(n.features[r]);return E0(x0({},c),{properties:E0(x0({},c.properties),{featureIndex:r,distanceToPoint:l})})}function AL(t,n){n=n||{};const i=n.studyArea||Ec(kt(t)),l=n.properties||{},r=n.units||"kilometers",c=[];Rt(t,x=>{c.push(Ss(x))});const f=c.length,g=c.map((x,A)=>{const N=Qe(c.filter((B,J)=>J!==A));return fn(x,wf(x,N).geometry.coordinates,{units:r})}).reduce((x,A)=>x+A,0)/f,y=f/dg(xc(i),"meters",r),v=1/(2*Math.sqrt(y)),E=.26136/Math.sqrt(f*y);return l.nearestNeighborAnalysis={units:r,arealUnits:r+"",observedMeanDistance:g,expectedMeanDistance:v,nearestNeighborIndex:g/v,numberOfPoints:f,zScore:(g-v)/E},i.properties=l,i}function zg(t,n,i={}){var l,r;const c=(l=i.method)!=null?l:"geodesic",f=(r=i.units)!=null?r:"kilometers";if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=ut(t):t.type==="Point"?t=bn(t):cc(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=bt(n):n.type==="LineString"?n=bn(n):cc(n,"LineString","line");let g=1/0;const y=t.geometry.coordinates;return _s(n,v=>{if(v){const E=v.geometry.coordinates[0],x=v.geometry.coordinates[1],A=kL(y,E,x,{method:c});A<g&&(g=A)}}),Xo(g,"degrees",f)}function kL(t,n,i,l){if(l.method==="geodesic")return ys(bt([n,i]).geometry,t,{units:"degrees"}).properties.dist;const r=[i[0]-n[0],i[1]-n[1]],c=[t[0]-n[0],t[1]-n[1]],f=b0(c,r);if(f<=0)return Fl(t,n,{units:"degrees"});const g=b0(r,r);if(g<=f)return Fl(t,i,{units:"degrees"});const y=f/g,v=[n[0]+y*r[0],n[1]+y*r[1]];return Fl(t,v,{units:"degrees"})}function b0(t,n){return t[0]*n[0]+t[1]*n[1]}var NL=Object.defineProperty,T0=Object.getOwnPropertySymbols,OL=Object.prototype.hasOwnProperty,ML=Object.prototype.propertyIsEnumerable,w0=(t,n,i)=>n in t?NL(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,zp=(t,n)=>{for(var i in n||(n={}))OL.call(n,i)&&w0(t,i,n[i]);if(T0)for(var i of T0(n))ML.call(n,i)&&w0(t,i,n[i]);return t};function RL(t,n,i={}){const l=i.units,r=i.properties||{},c=IL(t);if(!c.features.length)throw new Error("points must contain features");if(!n)throw new Error("line is required");if(cr(n)!=="LineString")throw new Error("line must be a LineString");let f=1/0,g=null;return Rt(c,y=>{const v=zg(y,n,{units:l});v<f&&(f=v,g=y)}),g&&(g.properties=zp(zp(zp({},{dist:f}),g.properties),r)),g}function IL(t){const n=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return Si(t,l=>{l.type==="Point"&&n.push({type:"Feature",properties:{},geometry:l})}),{type:"FeatureCollection",features:n};case"FeatureCollection":return t.features=t.features.filter(l=>l.geometry.type==="Point"),t;default:throw new Error("points must be a Point Collection")}}function PL(t,n){const i=Bt(t),c=cn(n).coordinates[0];if(c.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");const f=n.type==="Feature"&&n.properties||{},g=f.a,y=f.b,v=f.c,E=i[0],x=i[1],A=c[0][0],N=c[0][1],B=g!==void 0?g:c[0][2],J=c[1][0],se=c[1][1],re=y!==void 0?y:c[1][2],F=c[2][0],X=c[2][1],V=v!==void 0?v:c[2][2];return(V*(E-A)*(x-se)+B*(E-J)*(x-X)+re*(E-F)*(x-N)-re*(E-A)*(x-X)-V*(E-J)*(x-N)-B*(E-F)*(x-se))/((E-A)*(x-se)+(E-J)*(x-X)+(E-F)*(x-N)-(E-A)*(x-X)-(E-J)*(x-N)-(E-F)*(x-se))}function BL(t){const n=FL(t),i=vf(n);let l=!1,r=0;for(;!l&&r<n.features.length;){const c=n.features[r].geometry;let f,g,y,v,E,x,A=!1;if(c.type==="Point")i.geometry.coordinates[0]===c.coordinates[0]&&i.geometry.coordinates[1]===c.coordinates[1]&&(l=!0);else if(c.type==="MultiPoint"){let N=!1,B=0;for(;!N&&B<c.coordinates.length;)i.geometry.coordinates[0]===c.coordinates[B][0]&&i.geometry.coordinates[1]===c.coordinates[B][1]&&(l=!0,N=!0),B++}else if(c.type==="LineString"){let N=0;for(;!A&&N<c.coordinates.length-1;)f=i.geometry.coordinates[0],g=i.geometry.coordinates[1],y=c.coordinates[N][0],v=c.coordinates[N][1],E=c.coordinates[N+1][0],x=c.coordinates[N+1][1],C0(f,g,y,v,E,x)&&(A=!0,l=!0),N++}else if(c.type==="MultiLineString"){let N=0;for(;N<c.coordinates.length;){A=!1;let B=0;const J=c.coordinates[N];for(;!A&&B<J.length-1;)f=i.geometry.coordinates[0],g=i.geometry.coordinates[1],y=J[B][0],v=J[B][1],E=J[B+1][0],x=J[B+1][1],C0(f,g,y,v,E,x)&&(A=!0,l=!0),B++;N++}}else(c.type==="Polygon"||c.type==="MultiPolygon")&&rt(i,c)&&(l=!0);r++}if(l)return i;{const c=Qe([]);for(let f=0;f<n.features.length;f++)c.features=c.features.concat(Tf(n.features[f]).features);return ut(wf(i,c).geometry.coordinates)}}function FL(t){return t.type!=="FeatureCollection"?t.type!=="Feature"?Qe([bn(t)]):Qe([t]):t}function C0(t,n,i,l,r,c){const f=Math.sqrt((r-i)*(r-i)+(c-l)*(c-l)),g=Math.sqrt((t-i)*(t-i)+(n-l)*(n-l)),y=Math.sqrt((r-t)*(r-t)+(c-n)*(c-n));return f===g+y}function Tx(t,n){const i=[];return Rt(t,function(l){let r=!1;if(l.geometry.type==="Point")Si(n,function(f){rt(l,f)&&(r=!0)}),r&&i.push(l);else if(l.geometry.type==="MultiPoint"){var c=[];Si(n,function(f){_n(l,function(g){rt(g,f)&&(r=!0,c.push(g))})}),r&&i.push(vc(c,l.properties))}else throw new Error("Input geometry must be a Point or MultiPoint")}),Qe(i)}function og(t,n,i={}){var l,r;const c=(l=i.method)!=null?l:"geodesic",f=(r=i.units)!=null?r:"kilometers";if(!t)throw new Error("point is required");if(!n)throw new Error("polygon or multi-polygon is required");const g=cn(n);if(g.type==="MultiPolygon"){const E=g.coordinates.map(x=>og(t,lt(x),{method:c,units:f}));return Math.min(...E.map(Math.abs))*(rt(t,n)?-1:1)}if(g.coordinates.length>1){const[E,...x]=g.coordinates.map(N=>og(t,lt([N]),{method:c,units:f}));if(E>=0)return E;const A=Math.min(...x);return A<0?Math.abs(A):Math.max(A*-1,E)}const y=Yl(g);let v=1/0;return $n(y,E=>{v=Math.min(v,zg(t,E,{method:c,units:f}))}),rt(t,g)?-v:v}function zL(t){return(t>0)-(t<0)||+t}function jg(t,n,i){const l=n[0]-t[0],r=n[1]-t[1],c=i[0]-n[0],f=i[1]-n[1];return zL(l*f-c*r)}function jL(t,n){const i=t.geometry.coordinates[0].map(f=>f[0]),l=t.geometry.coordinates[0].map(f=>f[1]),r=n.geometry.coordinates[0].map(f=>f[0]),c=n.geometry.coordinates[0].map(f=>f[1]);return Math.max.apply(null,i)===Math.max.apply(null,r)&&Math.max.apply(null,l)===Math.max.apply(null,c)&&Math.min.apply(null,i)===Math.min.apply(null,r)&&Math.min.apply(null,l)===Math.min.apply(null,c)}function L0(t,n){return n.geometry.coordinates[0].every(i=>rt(ut(i),t))}function UL(t,n){return t[0]===n[0]&&t[1]===n[1]}var D0=class wx{static buildId(n){return n.join(",")}constructor(n){this.id=wx.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}removeInnerEdge(n){this.innerEdges=this.innerEdges.filter(i=>i.from.id!==n.from.id)}removeOuterEdge(n){this.outerEdges=this.outerEdges.filter(i=>i.to.id!==n.to.id)}addOuterEdge(n){this.outerEdges.push(n),this.outerEdgesSorted=!1}sortOuterEdges(){this.outerEdgesSorted||(this.outerEdges.sort((n,i)=>{const l=n.to,r=i.to;if(l.coordinates[0]-this.coordinates[0]>=0&&r.coordinates[0]-this.coordinates[0]<0)return 1;if(l.coordinates[0]-this.coordinates[0]<0&&r.coordinates[0]-this.coordinates[0]>=0)return-1;if(l.coordinates[0]-this.coordinates[0]===0&&r.coordinates[0]-this.coordinates[0]===0)return l.coordinates[1]-this.coordinates[1]>=0||r.coordinates[1]-this.coordinates[1]>=0?l.coordinates[1]-r.coordinates[1]:r.coordinates[1]-l.coordinates[1];const c=jg(this.coordinates,l.coordinates,r.coordinates);if(c<0)return 1;if(c>0)return-1;const f=Math.pow(l.coordinates[0]-this.coordinates[0],2)+Math.pow(l.coordinates[1]-this.coordinates[1],2),g=Math.pow(r.coordinates[0]-this.coordinates[0],2)+Math.pow(r.coordinates[1]-this.coordinates[1],2);return f-g}),this.outerEdgesSorted=!0)}getOuterEdges(){return this.sortOuterEdges(),this.outerEdges}getOuterEdge(n){return this.sortOuterEdges(),this.outerEdges[n]}addInnerEdge(n){this.innerEdges.push(n)}},YL=class Cx{getSymetric(){return this.symetric||(this.symetric=new Cx(this.to,this.from),this.symetric.symetric=this),this.symetric}constructor(n,i){this.from=n,this.to=i,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}deleteEdge(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}isEqual(n){return this.from.id===n.from.id&&this.to.id===n.to.id}toString(){return`Edge { ${this.from.id} -> ${this.to.id} }`}toLineString(){return bt([this.from.coordinates,this.to.coordinates])}compareTo(n){return jg(n.from.coordinates,n.to.coordinates,this.to.coordinates)}},Lx=class{constructor(){this.edges=[],this.polygon=void 0,this.envelope=void 0}push(t){this.edges.push(t),this.polygon=this.envelope=void 0}get(t){return this.edges[t]}get length(){return this.edges.length}forEach(t){this.edges.forEach(t)}map(t){return this.edges.map(t)}some(t){return this.edges.some(t)}isValid(){return!0}isHole(){const t=this.edges.reduce((r,c,f)=>(c.from.coordinates[1]>this.edges[r].from.coordinates[1]&&(r=f),r),0),n=(t===0?this.length:t)-1,i=(t+1)%this.length,l=jg(this.edges[n].from.coordinates,this.edges[t].from.coordinates,this.edges[i].from.coordinates);return l===0?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:l>0}toMultiPoint(){return vc(this.edges.map(t=>t.from.coordinates))}toPolygon(){if(this.polygon)return this.polygon;const t=this.edges.map(n=>n.from.coordinates);return t.push(this.edges[0].from.coordinates),this.polygon=lt([t])}getEnvelope(){return this.envelope?this.envelope:this.envelope=gx(this.toPolygon())}static findEdgeRingContaining(t,n){const i=t.getEnvelope();let l,r;return n.forEach(c=>{const f=c.getEnvelope();if(r&&(l=r.getEnvelope()),!jL(f,i)&&L0(f,i)){const g=t.map(v=>v.from.coordinates);let y;for(const v of g)c.some(E=>UL(v,E.from.coordinates))||(y=v);y&&c.inside(ut(y))&&(!r||L0(l,f))&&(r=c)}}),r}inside(t){return rt(t,this.toPolygon())}};function GL(t){if(!t)throw new Error("No geojson passed");if(t.type!=="FeatureCollection"&&t.type!=="GeometryCollection"&&t.type!=="MultiLineString"&&t.type!=="LineString"&&t.type!=="Feature")throw new Error(`Invalid input type '${t.type}'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature`)}var qL=class Dx{static fromGeoJson(n){GL(n);const i=new Dx;return $n(n,l=>{cc(l,"LineString","Graph::fromGeoJson"),gg(l,(r,c)=>{if(r){const f=i.getNode(r),g=i.getNode(c);i.addEdge(f,g)}return c})}),i}getNode(n){const i=D0.buildId(n);let l=this.nodes[i];return l||(l=this.nodes[i]=new D0(n)),l}addEdge(n,i){const l=new YL(n,i),r=l.getSymetric();this.edges.push(l),this.edges.push(r)}constructor(){this.edges=[],this.nodes={}}deleteDangles(){Object.keys(this.nodes).map(n=>this.nodes[n]).forEach(n=>this._removeIfDangle(n))}_removeIfDangle(n){if(n.innerEdges.length<=1){const i=n.getOuterEdges().map(l=>l.to);this.removeNode(n),i.forEach(l=>this._removeIfDangle(l))}}deleteCutEdges(){this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(n=>{n.label===n.symetric.label&&(this.removeEdge(n.symetric),this.removeEdge(n))})}_computeNextCWEdges(n){typeof n>"u"?Object.keys(this.nodes).forEach(i=>this._computeNextCWEdges(this.nodes[i])):n.getOuterEdges().forEach((i,l)=>{n.getOuterEdge((l===0?n.getOuterEdges().length:l)-1).symetric.next=i})}_computeNextCCWEdges(n,i){const l=n.getOuterEdges();let r,c;for(let f=l.length-1;f>=0;--f){let g=l[f],y=g.symetric,v,E;g.label===i&&(v=g),y.label===i&&(E=y),!(!v||!E)&&(E&&(c=E),v&&(c&&(c.next=v,c=void 0),r||(r=v)))}c&&(c.next=r)}_findLabeledEdgeRings(){const n=[];let i=0;return this.edges.forEach(l=>{if(l.label>=0)return;n.push(l);let r=l;do r.label=i,r=r.next;while(!l.isEqual(r));i++}),n}getEdgeRings(){this._computeNextCWEdges(),this.edges.forEach(i=>{i.label=void 0}),this._findLabeledEdgeRings().forEach(i=>{this._findIntersectionNodes(i).forEach(l=>{this._computeNextCCWEdges(l,i.label)})});const n=[];return this.edges.forEach(i=>{i.ring||n.push(this._findEdgeRing(i))}),n}_findIntersectionNodes(n){const i=[];let l=n;do{let r=0;l.from.getOuterEdges().forEach(c=>{c.label===n.label&&++r}),r>1&&i.push(l.from),l=l.next}while(!n.isEqual(l));return i}_findEdgeRing(n){let i=n;const l=new Lx;do l.push(i),i.ring=l,i=i.next;while(!n.isEqual(i));return l}removeNode(n){n.getOuterEdges().forEach(i=>this.removeEdge(i)),n.innerEdges.forEach(i=>this.removeEdge(i)),delete this.nodes[n.id]}removeEdge(n){this.edges=this.edges.filter(i=>!i.isEqual(n)),n.deleteEdge()}};function HL(t){const n=qL.fromGeoJson(t);n.deleteDangles(),n.deleteCutEdges();const i=[],l=[];return n.getEdgeRings().filter(r=>r.isValid()).forEach(r=>{r.isHole()?i.push(r):l.push(r)}),i.forEach(r=>{Lx.findEdgeRingContaining(r,l)&&l.push(r)}),Qe(l.map(r=>r.toPolygon()))}function ZL(t,n){n=n||{},n.iterations=n.iterations||1;const{iterations:i}=n,l=[];if(!t)throw new Error("inputPolys is required");return Si(t,function(r,c,f){if(r.type==="Polygon"){let g=[[]];for(let y=0;y<i;y++){let v=[],E=r;y>0&&(E=lt(g).geometry),XL(E,v),g=v.slice(0)}l.push(lt(g,f))}else if(r.type==="MultiPolygon"){let g=[[[]]];for(let y=0;y<i;y++){let v=[],E=r;y>0&&(E=ur(g).geometry),JL(E,v),g=v.slice(0)}l.push(ur(g,f))}else throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}),Qe(l)}function XL(t,n){var i,l;_n(t,function(r,c,f,g,y){if(l!==y)n.push([]);else{var v=i[0],E=i[1],x=r[0],A=r[1];n[y].push([.75*v+.25*x,.75*E+.25*A]),n[y].push([.25*v+.75*x,.25*E+.75*A])}i=r,l=y},!1),n.forEach(function(r){r.push(r[0])})}function JL(t,n){let i,l,r;_n(t,function(c,f,g,y,v){if(l!==y)n.push([[]]);else if(r!==v)n[y].push([]);else{var E=i[0],x=i[1],A=c[0],N=c[1];n[y][v].push([.75*E+.25*A,.75*x+.25*N]),n[y][v].push([.25*E+.75*A,.25*x+.75*N])}i=c,l=y,r=v},!1),n.forEach(function(c){c.forEach(function(f){f.push(f[0])})})}function VL(t,n){const i=ct(t),l=ct(n);let r=[],c=[],f;const g=kt(n);let y=0,v=null;switch(i[0]>g[0]&&i[0]<g[2]&&i[1]>g[1]&&i[1]<g[3]&&(v=wf(t,Tf(n)),y=v.properties.featureIndex),cr(n)){case"Polygon":r=l[0][y],c=l[0][0],v!==null&&v.geometry.coordinates[1]<i[1]&&(c=l[0][y]),f=gc(l[0][0],l[0][l[0].length-1],i),[r,c]=A0(l[0],i,f,r,c);break;case"MultiPolygon":for(var x=0,A=0,N=0,B=0;B<l[0].length;B++){x=B;for(var J=!1,se=0;se<l[0][B].length;se++){if(A=se,N===y){J=!0;break}N++}if(J)break}r=l[0][x][A],c=l[0][x][A],f=gc(l[0][0][0],l[0][0][l[0][0].length-1],i),l.forEach(function(re){[r,c]=A0(re[0],i,f,r,c)});break}return Qe([ut(r),ut(c)])}function A0(t,n,i,l,r){for(let c=0;c<t.length;c++){const f=t[c];let g=t[c+1];c===t.length-1&&(g=t[0]);const y=gc(f,g,n);i<=0&&y>0?QL(n,f,l)||(l=f):i>0&&y<=0&&(WL(n,f,r)||(r=f)),i=y}return[l,r]}function WL(t,n,i){return gc(t,n,i)>0}function QL(t,n,i){return gc(t,n,i)<0}function gc(t,n,i){return(n[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(n[1]-t[1])}function Ax(t,n={}){return Nx(t,"mercator",n)}function kx(t,n={}){return Nx(t,"wgs84",n)}function Nx(t,n,i={}){i=i||{};var l=i.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&Kn(t[0])?t=n==="mercator"?k0(t):N0(t):(l!==!0&&(t=oi(t)),_n(t,function(r){var c=n==="mercator"?k0(r):N0(r);r[0]=c[0],r[1]=c[1]})),t}function k0(t){var n=Math.PI/180,i=6378137,l=20037508342789244e-9,r=Math.abs(t[0])<=180?t[0]:t[0]-KL(t[0])*360,c=[i*r*n,i*Math.log(Math.tan(Math.PI*.25+.5*t[1]*n))];return c[0]>l&&(c[0]=l),c[0]<-l&&(c[0]=-l),c[1]>l&&(c[1]=l),c[1]<-l&&(c[1]=-l),c}function N0(t){var n=180/Math.PI,i=6378137;return[t[0]*n/i,(Math.PI*.5-2*Math.atan(Math.exp(-t[1]/i)))*n]}function KL(t){return t<0?-1:t>0?1:0}const $L=Object.freeze(Object.defineProperty({__proto__:null,toMercator:Ax,toWgs84:kx},Symbol.toStringTag,{value:"Module"}));function eD(t,n){n=n||{};const i=n.studyBbox||kt(t),l=n.confidenceLevel||20,r=t.features,c=r.length,f=xc(Ec(i)),g=Math.sqrt(f/c*2),v=Fg(i,g,{units:"meters"}).features,E={};for(let ee=0;ee<v.length;ee++)E[ee]={box:kt(v[ee]),cnt:0};let x=0;for(const ee of r)for(const k of Object.keys(E)){const M=E[k].box;if(nD(Bt(ee),M)){E[k].cnt+=1,x+=1;break}}let A=0;for(const ee of Object.keys(E)){const k=E[ee].cnt;k>A&&(A=k)}const N=[],B=Object.keys(E).length,J=x/B;let se=0;for(let ee=0;ee<A+1;ee++)se+=Math.exp(-J)*Math.pow(J,ee)/iD(ee),N.push(se);const re=[];let F=0;for(let ee=0;ee<A+1;ee++){for(const M of Object.keys(E))E[M].cnt===ee&&(F+=1);const k=F/B;re.push(k)}let X=0;for(let ee=0;ee<A+1;ee++){const k=Math.abs(N[ee]-re[ee]);k>X&&(X=k)}const W=tD[l]/Math.sqrt(B),K={criticalValue:W,isRandom:!0,maxAbsoluteDifference:X,observedDistribution:re};return X>W&&(K.isRandom=!1),K}var tD={20:1.07275,15:1.13795,10:1.22385,5:1.3581,2:1.51743,1:1.62762};function nD(t,n){return n[0]<=t[0]&&n[1]<=t[1]&&n[2]>=t[0]&&n[3]>=t[1]}function iD(t){const n=[];function i(l){return l===0||l===1?1:n[l]>0?n[l]:n[l]=i(l-1)*l}return i(t)}function Ox(t){return Lf(t),Cf(t)}function Cf(t){return Array.isArray(t)?O0(t):t&&t.bbox?O0(t.bbox):[aD(),sD()]}function Lf(t){t!=null&&(Array.isArray(t)?uc(t):t.bbox!=null&&uc(t.bbox))}function Mx(t,n={}){Lf(n.bbox),t==null&&(t=1);const i=[];for(let l=0;l<t;l++)i.push(ut(Cf(n.bbox)));return Qe(i)}function Rx(t,n={}){Lf(n.bbox),t==null&&(t=1),(n.bbox===void 0||n.bbox===null)&&(n.bbox=[-180,-90,180,90]),(!Kn(n.num_vertices)||n.num_vertices===void 0)&&(n.num_vertices=10),(!Kn(n.max_radial_length)||n.max_radial_length===void 0)&&(n.max_radial_length=10);const i=Math.abs(n.bbox[0]-n.bbox[2]),l=Math.abs(n.bbox[1]-n.bbox[3]),r=Math.min(i/2,l/2);if(n.max_radial_length>r)throw new Error("max_radial_length is greater than the radius of the bbox");const c=[n.bbox[0]+n.max_radial_length,n.bbox[1]+n.max_radial_length,n.bbox[2]-n.max_radial_length,n.bbox[3]-n.max_radial_length],f=[];for(let g=0;g<t;g++){let y=[];const v=[...Array(n.num_vertices+1)].map(Math.random);v.forEach((E,x,A)=>{A[x]=x>0?E+A[x-1]:E}),v.forEach(E=>{E=E*2*Math.PI/v[v.length-1];const x=Math.random();y.push([x*(n.max_radial_length||10)*Math.sin(E),x*(n.max_radial_length||10)*Math.cos(E)])}),y[y.length-1]=y[0],y=y.reverse().map(rD(Cf(c))),f.push(lt([y]))}return Qe(f)}function Ix(t,n={}){if(n=n||{},!Ft(n))throw new Error("options is invalid");const i=n.bbox;Lf(i);let l=n.num_vertices,r=n.max_length,c=n.max_rotation;t==null&&(t=1),(!Kn(l)||l===void 0||l<2)&&(l=10),(!Kn(r)||r===void 0)&&(r=1e-4),(!Kn(c)||c===void 0)&&(c=Math.PI/8);const f=[];for(let g=0;g<t;g++){const v=[Cf(i)];for(let E=0;E<l-1;E++){const A=(E===0?Math.random()*2*Math.PI:Math.tan((v[E][1]-v[E-1][1])/(v[E][0]-v[E-1][0])))+(Math.random()-.5)*c*2,N=Math.random()*r;v.push([v[E][0]+N*Math.cos(A),v[E][1]+N*Math.sin(A)])}f.push(bt(v))}return Qe(f)}function rD(t){return n=>[n[0]+t[0],n[1]+t[1]]}function Px(){return Math.random()-.5}function aD(){return Px()*360}function sD(){return Px()*180}function O0(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}const oD=Object.freeze(Object.defineProperty({__proto__:null,randomLineString:Ix,randomPoint:Mx,randomPolygon:Rx,randomPosition:Ox},Symbol.toStringTag,{value:"Module"}));function lD(t,n={}){var i,l;if(n=n||{},!Ft(n))throw new Error("options is invalid");const r=(i=n.mutate)!=null?i:!1,c=(l=n.reverse)!=null?l:!1;if(!t)throw new Error("<geojson> is required");if(typeof c!="boolean")throw new Error("<reverse> must be a boolean");if(typeof r!="boolean")throw new Error("<mutate> must be a boolean");!r&&t.type!=="Point"&&t.type!=="MultiPoint"&&(t=oi(t));const f=[];switch(t.type){case"GeometryCollection":return Si(t,function(g){Wh(g,c)}),t;case"FeatureCollection":return Rt(t,function(g){const y=Wh(g,c);Rt(y,function(v){f.push(v)})}),Qe(f)}return Wh(t,c)}function Wh(t,n){switch(t.type==="Feature"?t.geometry.type:t.type){case"GeometryCollection":return Si(t,function(l){Wh(l,n)}),t;case"LineString":return M0(ct(t),n),t;case"Polygon":return R0(ct(t),n),t;case"MultiLineString":return ct(t).forEach(function(l){M0(l,n)}),t;case"MultiPolygon":return ct(t).forEach(function(l){R0(l,n)}),t;case"Point":case"MultiPoint":return t}}function M0(t,n){$h(t)===n&&t.reverse()}function R0(t,n){$h(t[0])!==n&&t[0].reverse();for(let i=1;i<t.length;i++)$h(t[i])===n&&t[i].reverse()}function uD(t,n){if(!t)throw new Error("fc is required");if(n==null)throw new Error("num is required");if(typeof n!="number")throw new Error("num must be a number");var i=Qe(cD(t.features,n));return i}function cD(t,n){for(var i=t.slice(0),l=t.length,r=l-n,c,f;l-- >r;)f=Math.floor((l+1)*Math.random()),c=i[f],i[f]=i[l],i[l]=c;return i.slice(r)}function hD(t,n,i,l,r={}){if(r=r||{},!Ft(r))throw new Error("options is invalid");const c=r.properties;if(!t)throw new Error("center is required");if(i==null)throw new Error("bearing1 is required");if(l==null)throw new Error("bearing2 is required");if(!n)throw new Error("radius is required");if(typeof r!="object")throw new Error("options must be an object");if(I0(i)===I0(l))return Sf(t,n,r);const f=ct(t),g=xx(t,n,i,l,r),y=[[f]];return _n(g,function(v){y[0].push(v)}),y[0].push(f),lt(y,c)}function I0(t){let n=t%360;return n<0&&(n+=360),n}function Bx(t,n,i){if(i=i||{},!Ft(i))throw new Error("options is invalid");const l=i.origin||"centroid",r=i.mutate||!1;if(!t)throw new Error("geojson required");if(typeof n!="number"||n<=0)throw new Error("invalid factor");const c=Array.isArray(l)||typeof l=="object";return r!==!0&&(t=oi(t)),t.type==="FeatureCollection"&&!c?(Rt(t,function(f,g){t.features[g]=P0(f,n,l)}),t):P0(t,n,l)}function P0(t,n,i){const l=cr(t)==="Point",r=fD(t,i);return n===1||l||(_n(t,function(c){const f=Fl(r,c),g=Jo(r,c),y=f*n,v=ct(bf(r,y,g));c[0]=v[0],c[1]=v[1],c.length===3&&(c[2]*=n)}),delete t.bbox),t}function fD(t,n){if(n==null&&(n="centroid"),Array.isArray(n)||typeof n=="object")return Bt(n);const i=t.bbox?t.bbox:kt(t,{recompute:!0}),l=i[0],r=i[1],c=i[2],f=i[3];switch(n){case"sw":case"southwest":case"westsouth":case"bottomleft":return ut([l,r]);case"se":case"southeast":case"eastsouth":case"bottomright":return ut([c,r]);case"nw":case"northwest":case"westnorth":case"topleft":return ut([l,f]);case"ne":case"northeast":case"eastnorth":case"topright":return ut([c,f]);case"center":return vf(t);case void 0:case null:case"centroid":return Ss(t);default:throw new Error("invalid origin")}}function B0(t){for(var n=t,i=[];n.parent;)i.unshift(n),n=n.parent;return i}function dD(){return new mD(function(t){return t.f})}var hf={search:function(t,n,i,l={}){var r;t.cleanDirty(),l=l||{};var c=hf.heuristics.manhattan,f=(r=l.closest)!=null?r:!1,g=dD(),y=n;for(n.h=c(n,i),g.push(n);g.size()>0;){var v=g.pop();if(v===i)return B0(v);v.closed=!0;for(var E=t.neighbors(v),x=0,A=E.length;x<A;++x){var N=E[x];if(!(N.closed||N.isWall())){var B=v.g+N.getCost(v),J=N.visited;(!J||B<N.g)&&(N.visited=!0,N.parent=v,N.h=N.h||c(N,i),N.g=B,N.f=N.g+N.h,t.markDirty(N),f&&(N.h<y.h||N.h===y.h&&N.g<y.g)&&(y=N),J?g.rescoreElement(N):g.push(N))}}}return f?B0(y):[]},heuristics:{manhattan:function(t,n){var i=Math.abs(n.x-t.x),l=Math.abs(n.y-t.y);return i+l},diagonal:function(t,n){var i=1,l=Math.sqrt(2),r=Math.abs(n.x-t.x),c=Math.abs(n.y-t.y);return i*(r+c)+(l-2*i)*Math.min(r,c)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=void 0}},pD=class{constructor(t,n={}){this.nodes=[],this.grid=[],this.dirtyNodes=[],this.diagonal=!!n.diagonal;for(var i=0;i<t.length;i++){this.grid[i]=[];for(var l=0,r=t[i];l<r.length;l++){var c=new gD(i,l,r[l]);this.grid[i][l]=c,this.nodes.push(c)}}this.init()}init(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)hf.cleanNode(this.nodes[t])}cleanDirty(){for(var t=0;t<this.dirtyNodes.length;t++)hf.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]}markDirty(t){this.dirtyNodes.push(t)}neighbors(t){var n=[],i=t.x,l=t.y,r=this.grid;return r[i-1]&&r[i-1][l]&&n.push(r[i-1][l]),r[i+1]&&r[i+1][l]&&n.push(r[i+1][l]),r[i]&&r[i][l-1]&&n.push(r[i][l-1]),r[i]&&r[i][l+1]&&n.push(r[i][l+1]),this.diagonal&&(r[i-1]&&r[i-1][l-1]&&n.push(r[i-1][l-1]),r[i+1]&&r[i+1][l-1]&&n.push(r[i+1][l-1]),r[i-1]&&r[i-1][l+1]&&n.push(r[i-1][l+1]),r[i+1]&&r[i+1][l+1]&&n.push(r[i+1][l+1])),n}toString(){for(var t=[],n=this.grid,i,l,r,c,f=0,g=n.length;f<g;f++){for(i=[],l=n[f],r=0,c=l.length;r<c;r++)i.push(l[r].weight);t.push(i.join(" "))}return t.join(`
`)}},gD=class{constructor(t,n,i){this.visited=!1,this.h=0,this.g=0,this.f=0,this.closed=!1,this.x=t,this.y=n,this.weight=i}toString(){return"["+this.x+" "+this.y+"]"}getCost(t){return t&&t.x!==this.x&&t.y!==this.y?this.weight*1.41421:this.weight}isWall(){return this.weight===0}},mD=class{constructor(t){this.content=[],this.scoreFunction=t}push(t){this.content.push(t),this.sinkDown(this.content.length-1)}pop(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),t}remove(t){var n=this.content.indexOf(t),i=this.content.pop();n!==this.content.length-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.sinkDown(n):this.bubbleUp(n))}size(){return this.content.length}rescoreElement(t){this.sinkDown(this.content.indexOf(t))}sinkDown(t){for(var n=this.content[t];t>0;){var i=(t+1>>1)-1,l=this.content[i];if(this.scoreFunction(n)<this.scoreFunction(l))this.content[i]=n,this.content[t]=l,t=i;else break}}bubbleUp(t){for(var n=this.content.length,i=this.content[t],l=this.scoreFunction(i);;){var r=t+1<<1,c=r-1,f=null,g;if(c<n){var y=this.content[c];g=this.scoreFunction(y),g<l&&(f=c)}if(r<n){var v=this.content[r],E=this.scoreFunction(v);E<(f===null?l:g)&&(f=r)}if(f!==null)this.content[t]=this.content[f],this.content[f]=i,t=f;else break}}};function _D(t,n,i={}){if(i=i||{},!Ft(i))throw new Error("options is invalid");let l=i.obstacles||Qe([]),r=i.resolution||100;if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(!Kn(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");const c=Bt(t),f=Bt(n);if(t=ut(c),n=ut(f),l.type==="FeatureCollection"){if(l.features.length===0)return bt([c,f])}else if(l.type==="Feature"&&l.geometry.type==="Polygon")l=Qe([l]);else if(l.type==="Polygon")l=Qe([bn(cn(l))]);else throw new Error("invalid obstacles");const g=l;g.features.push(t),g.features.push(n);const y=kt(Bx(Ec(kt(g)),1.15)),[v,E,x,A]=y;g.features.pop(),g.features.pop();const N=fn([v,E],[x,E],i)/r,B=(x-v)/N,J=fn([v,E],[v,A],i)/r,se=(A-E)/J,re=N%1*B/2,F=J%1*se/2,X=[],V=[];let W,K,ee=1/0,k=1/0,M=A-F,P=0;for(;M>=E;){const R=[],j=[];let z=v+re,ie=0;for(;z<=x;){const Q=ut([z,M]),Y=yD(Q,l);R.push(Y?0:1),j.push(z+"|"+M);const $=fn(Q,t);!Y&&$<ee&&(ee=$,W={x:ie,y:P});const ce=fn(Q,n);!Y&&ce<k&&(k=ce,K={x:ie,y:P}),z+=B,ie++}V.push(R),X.push(j),M-=se,P++}const Z=new pD(V,{diagonal:!0}),q=Z.grid[W.y][W.x],te=Z.grid[K.y][K.x],ne=hf.search(Z,q,te),ae=[c];return ne.forEach(function(R){const j=X[R.x][R.y].split("|");ae.push([+j[0],+j[1]])}),ae.push(f),Vo(bt(ae))}function yD(t,n){for(let i=0;i<n.features.length;i++)if(rt(t,n.features[i]))return!0;return!1}function vD(t,n){var i=t[0]-n[0],l=t[1]-n[1];return i*i+l*l}function SD(t,n,i){var l=n[0],r=n[1],c=i[0]-l,f=i[1]-r;if(c!==0||f!==0){var g=((t[0]-l)*c+(t[1]-r)*f)/(c*c+f*f);g>1?(l=i[0],r=i[1]):g>0&&(l+=c*g,r+=f*g)}return c=t[0]-l,f=t[1]-r,c*c+f*f}function xD(t,n){for(var i=t[0],l=[i],r,c=1,f=t.length;c<f;c++)r=t[c],vD(r,i)>n&&(l.push(r),i=r);return i!==r&&l.push(r),l}function lg(t,n,i,l,r){for(var c=l,f,g=n+1;g<i;g++){var y=SD(t[g],t[n],t[i]);y>c&&(f=g,c=y)}c>l&&(f-n>1&&lg(t,n,f,l,r),r.push(t[f]),i-f>1&&lg(t,f,i,l,r))}function ED(t,n){var i=t.length-1,l=[t[0]];return lg(t,0,i,n,l),l.push(t[i]),l}function ff(t,n,i){if(t.length<=2)return t;var l=n!==void 0?n*n:1;return t=i?t:xD(t,l),t=ED(t,l),t}function bD(t,n={}){var i,l,r;if(n=n??{},!Ft(n))throw new Error("options is invalid");const c=(i=n.tolerance)!=null?i:1,f=(l=n.highQuality)!=null?l:!1,g=(r=n.mutate)!=null?r:!1;if(!t)throw new Error("geojson is required");if(c&&c<0)throw new Error("invalid tolerance");return g!==!0&&(t=oi(t)),Si(t,function(y){TD(y,c,f)}),t}function TD(t,n,i){const l=t.type;if(l==="Point"||l==="MultiPoint")return t;if(Vo(t,{mutate:!0}),l!=="GeometryCollection")switch(l){case"LineString":t.coordinates=ff(t.coordinates,n,i);break;case"MultiLineString":t.coordinates=t.coordinates.map(r=>ff(r,n,i));break;case"Polygon":t.coordinates=F0(t.coordinates,n,i);break;case"MultiPolygon":t.coordinates=t.coordinates.map(r=>F0(r,n,i))}return t}function F0(t,n,i){return t.map(function(l){if(l.length<4)throw new Error("invalid polygon");let r=n,c=ff(l,r,i);for(;!z0(c)&&r>=Number.EPSILON;)r-=r*.01,c=ff(l,r,i);return z0(c)?((c[c.length-1][0]!==c[0][0]||c[c.length-1][1]!==c[0][1])&&c.push(c[0]),c):l})}function z0(t){return t.length<3?!1:!(t.length===3&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}function wD(t){var n=t[0],i=t[1],l=t[2],r=t[3],c=fn(t.slice(0,2),[l,i]),f=fn(t.slice(0,2),[n,r]);if(c>=f){var g=(i+r)/2;return[n,g-(l-n)/2,l,g+(l-n)/2]}else{var y=(n+l)/2;return[y-(r-i)/2,i,y+(r-i)/2,r]}}function CD(t,n){var i;if(n=n||{},!Ft(n))throw new Error("options is invalid");const l=n.steps||64,r=n.weight,c=n.properties||{};if(!Kn(l))throw new Error("steps must be a number");if(!Ft(c))throw new Error("properties must be a number");const f=hc(t).length,g=Dg(t,{weight:r});let y=0,v=0,E=0;Rt(t,function(k){var M;const P=r&&((M=k.properties)==null?void 0:M[r])||1,Z=j0(ct(k),ct(g));y+=Math.pow(Z.x,2)*P,v+=Math.pow(Z.y,2)*P,E+=Z.x*Z.y*P});const x=y-v,A=Math.sqrt(Math.pow(x,2)+4*Math.pow(E,2)),N=2*E,B=Math.atan((x+A)/N),J=B*180/Math.PI;let se=0,re=0,F=0;Rt(t,function(k){var M;const P=r&&((M=k.properties)==null?void 0:M[r])||1,Z=j0(ct(k),ct(g));se+=Math.pow(Z.x*Math.cos(B)-Z.y*Math.sin(B),2)*P,re+=Math.pow(Z.x*Math.sin(B)+Z.y*Math.cos(B),2)*P,F+=P});const X=Math.sqrt(2*se/F),V=Math.sqrt(2*re/F),W=px(g,X,V,{units:"degrees",angle:J,steps:l,properties:c}),K=Tx(t,Qe([W])),ee={meanCenterCoordinates:ct(g),semiMajorAxis:X,semiMinorAxis:V,numberOfFeatures:f,angle:J,percentageWithinEllipse:100*hc(K).length/f};return W.properties=(i=W.properties)!=null?i:{},W.properties.standardDeviationalEllipse=ee,W}function j0(t,n){return{x:t[0]-n[0],y:t[1]-n[1]}}function LD(t,n,i,l){return t=oi(t),n=oi(n),Rt(t,function(r){r.properties||(r.properties={}),Rt(n,function(c){r.properties&&c.properties&&r.properties[l]===void 0&&rt(r,c)&&(r.properties[l]=c.properties[i])})}),t}var Uh={exports:{}},U0;function DD(){if(U0)return Uh.exports;U0=1,Uh.exports=t,Uh.exports.default=t;function t(R,j,z){z=z||2;var ie=j&&j.length,Q=ie?j[0]*z:R.length,Y=n(R,0,Q,z,!0),$=[];if(!Y||Y.next===Y.prev)return $;var ce,pe,ge,Se,De,he,Ie;if(ie&&(Y=y(R,j,Y,z)),R.length>80*z){ce=ge=R[0],pe=Se=R[1];for(var Me=z;Me<Q;Me+=z)De=R[Me],he=R[Me+1],De<ce&&(ce=De),he<pe&&(pe=he),De>ge&&(ge=De),he>Se&&(Se=he);Ie=Math.max(ge-ce,Se-pe),Ie=Ie!==0?32767/Ie:0}return l(Y,$,z,ce,pe,Ie,0),$}function n(R,j,z,ie,Q){var Y,$;if(Q===ae(R,j,z,ie)>0)for(Y=j;Y<z;Y+=ie)$=q(Y,R[Y],R[Y+1],$);else for(Y=z-ie;Y>=j;Y-=ie)$=q(Y,R[Y],R[Y+1],$);return $&&V($,$.next)&&(te($),$=$.next),$}function i(R,j){if(!R)return R;j||(j=R);var z=R,ie;do if(ie=!1,!z.steiner&&(V(z,z.next)||X(z.prev,z,z.next)===0)){if(te(z),z=j=z.prev,z===z.next)break;ie=!0}else z=z.next;while(ie||z!==j);return j}function l(R,j,z,ie,Q,Y,$){if(R){!$&&Y&&N(R,ie,Q,Y);for(var ce=R,pe,ge;R.prev!==R.next;){if(pe=R.prev,ge=R.next,Y?c(R,ie,Q,Y):r(R)){j.push(pe.i/z|0),j.push(R.i/z|0),j.push(ge.i/z|0),te(R),R=ge.next,ce=ge.next;continue}if(R=ge,R===ce){$?$===1?(R=f(i(R),j,z),l(R,j,z,ie,Q,Y,2)):$===2&&g(R,j,z,ie,Q,Y):l(i(R),j,z,ie,Q,Y,1);break}}}}function r(R){var j=R.prev,z=R,ie=R.next;if(X(j,z,ie)>=0)return!1;for(var Q=j.x,Y=z.x,$=ie.x,ce=j.y,pe=z.y,ge=ie.y,Se=Q<Y?Q<$?Q:$:Y<$?Y:$,De=ce<pe?ce<ge?ce:ge:pe<ge?pe:ge,he=Q>Y?Q>$?Q:$:Y>$?Y:$,Ie=ce>pe?ce>ge?ce:ge:pe>ge?pe:ge,Me=ie.next;Me!==j;){if(Me.x>=Se&&Me.x<=he&&Me.y>=De&&Me.y<=Ie&&re(Q,ce,Y,pe,$,ge,Me.x,Me.y)&&X(Me.prev,Me,Me.next)>=0)return!1;Me=Me.next}return!0}function c(R,j,z,ie){var Q=R.prev,Y=R,$=R.next;if(X(Q,Y,$)>=0)return!1;for(var ce=Q.x,pe=Y.x,ge=$.x,Se=Q.y,De=Y.y,he=$.y,Ie=ce<pe?ce<ge?ce:ge:pe<ge?pe:ge,Me=Se<De?Se<he?Se:he:De<he?De:he,Ae=ce>pe?ce>ge?ce:ge:pe>ge?pe:ge,fe=Se>De?Se>he?Se:he:De>he?De:he,Xe=J(Ie,Me,j,z,ie),Ze=J(Ae,fe,j,z,ie),Fe=R.prevZ,Ue=R.nextZ;Fe&&Fe.z>=Xe&&Ue&&Ue.z<=Ze;){if(Fe.x>=Ie&&Fe.x<=Ae&&Fe.y>=Me&&Fe.y<=fe&&Fe!==Q&&Fe!==$&&re(ce,Se,pe,De,ge,he,Fe.x,Fe.y)&&X(Fe.prev,Fe,Fe.next)>=0||(Fe=Fe.prevZ,Ue.x>=Ie&&Ue.x<=Ae&&Ue.y>=Me&&Ue.y<=fe&&Ue!==Q&&Ue!==$&&re(ce,Se,pe,De,ge,he,Ue.x,Ue.y)&&X(Ue.prev,Ue,Ue.next)>=0))return!1;Ue=Ue.nextZ}for(;Fe&&Fe.z>=Xe;){if(Fe.x>=Ie&&Fe.x<=Ae&&Fe.y>=Me&&Fe.y<=fe&&Fe!==Q&&Fe!==$&&re(ce,Se,pe,De,ge,he,Fe.x,Fe.y)&&X(Fe.prev,Fe,Fe.next)>=0)return!1;Fe=Fe.prevZ}for(;Ue&&Ue.z<=Ze;){if(Ue.x>=Ie&&Ue.x<=Ae&&Ue.y>=Me&&Ue.y<=fe&&Ue!==Q&&Ue!==$&&re(ce,Se,pe,De,ge,he,Ue.x,Ue.y)&&X(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.nextZ}return!0}function f(R,j,z){var ie=R;do{var Q=ie.prev,Y=ie.next.next;!V(Q,Y)&&W(Q,ie,ie.next,Y)&&M(Q,Y)&&M(Y,Q)&&(j.push(Q.i/z|0),j.push(ie.i/z|0),j.push(Y.i/z|0),te(ie),te(ie.next),ie=R=Y),ie=ie.next}while(ie!==R);return i(ie)}function g(R,j,z,ie,Q,Y){var $=R;do{for(var ce=$.next.next;ce!==$.prev;){if($.i!==ce.i&&F($,ce)){var pe=Z($,ce);$=i($,$.next),pe=i(pe,pe.next),l($,j,z,ie,Q,Y,0),l(pe,j,z,ie,Q,Y,0);return}ce=ce.next}$=$.next}while($!==R)}function y(R,j,z,ie){var Q=[],Y,$,ce,pe,ge;for(Y=0,$=j.length;Y<$;Y++)ce=j[Y]*ie,pe=Y<$-1?j[Y+1]*ie:R.length,ge=n(R,ce,pe,ie,!1),ge===ge.next&&(ge.steiner=!0),Q.push(se(ge));for(Q.sort(v),Y=0;Y<Q.length;Y++)z=E(Q[Y],z);return z}function v(R,j){return R.x-j.x}function E(R,j){var z=x(R,j);if(!z)return j;var ie=Z(z,R);return i(ie,ie.next),i(z,z.next)}function x(R,j){var z=j,ie=R.x,Q=R.y,Y=-1/0,$;do{if(Q<=z.y&&Q>=z.next.y&&z.next.y!==z.y){var ce=z.x+(Q-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(ce<=ie&&ce>Y&&(Y=ce,$=z.x<z.next.x?z:z.next,ce===ie))return $}z=z.next}while(z!==j);if(!$)return null;var pe=$,ge=$.x,Se=$.y,De=1/0,he;z=$;do ie>=z.x&&z.x>=ge&&ie!==z.x&&re(Q<Se?ie:Y,Q,ge,Se,Q<Se?Y:ie,Q,z.x,z.y)&&(he=Math.abs(Q-z.y)/(ie-z.x),M(z,R)&&(he<De||he===De&&(z.x>$.x||z.x===$.x&&A($,z)))&&($=z,De=he)),z=z.next;while(z!==pe);return $}function A(R,j){return X(R.prev,R,j.prev)<0&&X(j.next,R,R.next)<0}function N(R,j,z,ie){var Q=R;do Q.z===0&&(Q.z=J(Q.x,Q.y,j,z,ie)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==R);Q.prevZ.nextZ=null,Q.prevZ=null,B(Q)}function B(R){var j,z,ie,Q,Y,$,ce,pe,ge=1;do{for(z=R,R=null,Y=null,$=0;z;){for($++,ie=z,ce=0,j=0;j<ge&&(ce++,ie=ie.nextZ,!!ie);j++);for(pe=ge;ce>0||pe>0&&ie;)ce!==0&&(pe===0||!ie||z.z<=ie.z)?(Q=z,z=z.nextZ,ce--):(Q=ie,ie=ie.nextZ,pe--),Y?Y.nextZ=Q:R=Q,Q.prevZ=Y,Y=Q;z=ie}Y.nextZ=null,ge*=2}while($>1);return R}function J(R,j,z,ie,Q){return R=(R-z)*Q|0,j=(j-ie)*Q|0,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,j=(j|j<<8)&16711935,j=(j|j<<4)&252645135,j=(j|j<<2)&858993459,j=(j|j<<1)&1431655765,R|j<<1}function se(R){var j=R,z=R;do(j.x<z.x||j.x===z.x&&j.y<z.y)&&(z=j),j=j.next;while(j!==R);return z}function re(R,j,z,ie,Q,Y,$,ce){return(Q-$)*(j-ce)>=(R-$)*(Y-ce)&&(R-$)*(ie-ce)>=(z-$)*(j-ce)&&(z-$)*(Y-ce)>=(Q-$)*(ie-ce)}function F(R,j){return R.next.i!==j.i&&R.prev.i!==j.i&&!k(R,j)&&(M(R,j)&&M(j,R)&&P(R,j)&&(X(R.prev,R,j.prev)||X(R,j.prev,j))||V(R,j)&&X(R.prev,R,R.next)>0&&X(j.prev,j,j.next)>0)}function X(R,j,z){return(j.y-R.y)*(z.x-j.x)-(j.x-R.x)*(z.y-j.y)}function V(R,j){return R.x===j.x&&R.y===j.y}function W(R,j,z,ie){var Q=ee(X(R,j,z)),Y=ee(X(R,j,ie)),$=ee(X(z,ie,R)),ce=ee(X(z,ie,j));return!!(Q!==Y&&$!==ce||Q===0&&K(R,z,j)||Y===0&&K(R,ie,j)||$===0&&K(z,R,ie)||ce===0&&K(z,j,ie))}function K(R,j,z){return j.x<=Math.max(R.x,z.x)&&j.x>=Math.min(R.x,z.x)&&j.y<=Math.max(R.y,z.y)&&j.y>=Math.min(R.y,z.y)}function ee(R){return R>0?1:R<0?-1:0}function k(R,j){var z=R;do{if(z.i!==R.i&&z.next.i!==R.i&&z.i!==j.i&&z.next.i!==j.i&&W(z,z.next,R,j))return!0;z=z.next}while(z!==R);return!1}function M(R,j){return X(R.prev,R,R.next)<0?X(R,j,R.next)>=0&&X(R,R.prev,j)>=0:X(R,j,R.prev)<0||X(R,R.next,j)<0}function P(R,j){var z=R,ie=!1,Q=(R.x+j.x)/2,Y=(R.y+j.y)/2;do z.y>Y!=z.next.y>Y&&z.next.y!==z.y&&Q<(z.next.x-z.x)*(Y-z.y)/(z.next.y-z.y)+z.x&&(ie=!ie),z=z.next;while(z!==R);return ie}function Z(R,j){var z=new ne(R.i,R.x,R.y),ie=new ne(j.i,j.x,j.y),Q=R.next,Y=j.prev;return R.next=j,j.prev=R,z.next=Q,Q.prev=z,ie.next=z,z.prev=ie,Y.next=ie,ie.prev=Y,ie}function q(R,j,z,ie){var Q=new ne(R,j,z);return ie?(Q.next=ie.next,Q.prev=ie,ie.next.prev=Q,ie.next=Q):(Q.prev=Q,Q.next=Q),Q}function te(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function ne(R,j,z){this.i=R,this.x=j,this.y=z,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}t.deviation=function(R,j,z,ie){var Q=j&&j.length,Y=Q?j[0]*z:R.length,$=Math.abs(ae(R,0,Y,z));if(Q)for(var ce=0,pe=j.length;ce<pe;ce++){var ge=j[ce]*z,Se=ce<pe-1?j[ce+1]*z:R.length;$-=Math.abs(ae(R,ge,Se,z))}var De=0;for(ce=0;ce<ie.length;ce+=3){var he=ie[ce]*z,Ie=ie[ce+1]*z,Me=ie[ce+2]*z;De+=Math.abs((R[he]-R[Me])*(R[Ie+1]-R[he+1])-(R[he]-R[Ie])*(R[Me+1]-R[he+1]))}return $===0&&De===0?0:Math.abs((De-$)/$)};function ae(R,j,z,ie){for(var Q=0,Y=j,$=z-ie;Y<z;Y+=ie)Q+=(R[$]-R[Y])*(R[Y+1]+R[$+1]),$=Y;return Q}return t.flatten=function(R){for(var j=R[0][0].length,z={vertices:[],holes:[],dimensions:j},ie=0,Q=0;Q<R.length;Q++){for(var Y=0;Y<R[Q].length;Y++)for(var $=0;$<j;$++)z.vertices.push(R[Q][Y][$]);Q>0&&(ie+=R[Q-1].length,z.holes.push(ie))}return z},Uh.exports}var AD=DD();const kD=lo(AD);function ND(t){if(!t.geometry||t.geometry.type!=="Polygon"&&t.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");const n={type:"FeatureCollection",features:[]};return t.geometry.type==="Polygon"?n.features=Y0(t.geometry.coordinates):t.geometry.coordinates.forEach(function(i){n.features=n.features.concat(Y0(i))}),n}function Y0(t){const n=OD(t),i=3,l=kD(n.vertices,n.holes,i),r=[],c=[];l.forEach(function(g,y){const v=l[y];n.vertices[v*i+2]!==void 0?c.push([n.vertices[v*i],n.vertices[v*i+1],n.vertices[v*i+2]]):c.push([n.vertices[v*i],n.vertices[v*i+1]])});for(var f=0;f<c.length;f+=3){const g=c.slice(f,f+3);g.push(c[f]),r.push(lt([g]))}return r}function OD(t){const i={vertices:[],holes:[],dimensions:3};let l=0;for(let r=0;r<t.length;r++){for(let c=0;c<t[r].length;c++)for(let f=0;f<3;f++)i.vertices.push(t[r][c][f]);r>0&&(l+=t[r-1].length,i.holes.push(l))}return i}function MD(t,n,i,l){if(l=l||{},!Ft(l))throw new Error("options is invalid");var r=l.units,c=l.zTranslation,f=l.mutate;if(!t)throw new Error("geojson is required");if(n==null||isNaN(n))throw new Error("distance is required");if(c&&typeof c!="number"&&isNaN(c))throw new Error("zTranslation is not a number");if(c=c!==void 0?c:0,n===0&&c===0)return t;if(i==null||isNaN(i))throw new Error("direction is required");return n<0&&(n=-n,i=i+180),(f===!1||f===void 0)&&(t=oi(t)),_n(t,function(g){var y=ct(bf(g,n,i,{units:r}));g[0]=y[0],g[1]=y[1],c&&g.length===3&&(g[2]+=c)}),t}function RD(t,n={}){const i=[];if(Si(t,r=>{i.push(r.coordinates)}),i.length<2)throw new Error("Must have at least 2 geometries");const l=oo(i[0],...i.slice(1));return l.length===0?null:l.length===1?lt(l[0],n.properties):ur(l,n.properties)}function ID(t,n){if(t.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");for(var i=t.geometry.coordinates,l=[],r={},c=[],f=0;f<i.length;f++)for(var g=0;g<i[f].length-1;g++)c.push(N(f,g));var y=new _f;y.load(c);for(var v=0;v<i.length;v++)for(var E=0;E<i[v].length-1;E++){var x=y.search(N(v,E));x.forEach(function(B){var J=B.ring,se=B.edge;A(v,E,J,se)})}return l;function A(B,J,se,re){var F=i[B][J],X=i[B][J+1],V=i[se][re],W=i[se][re+1],K=PD(F,X,V,W);if(K!==null){var ee,k;if(X[0]!==F[0]?ee=(K[0]-F[0])/(X[0]-F[0]):ee=(K[1]-F[1])/(X[1]-F[1]),W[0]!==V[0]?k=(K[0]-V[0])/(W[0]-V[0]):k=(K[1]-V[1])/(W[1]-V[1]),!(ee>=1||ee<=0||k>=1||k<=0)){var M=K,P=!r[M.toString()];P&&(r[M.toString()]=!0),n&&l.push(n(K,B,J,F,X,ee,se,re,V,W,k,P))}}}function N(B,J){var se=i[B][J],re=i[B][J+1],F,X,V,W;return se[0]<re[0]?(F=se[0],X=re[0]):(F=re[0],X=se[0]),se[1]<re[1]?(V=se[1],W=re[1]):(V=re[1],W=se[1]),{minX:F,minY:V,maxX:X,maxY:W,ring:B,edge:J}}}function PD(t,n,i,l){if(rc(t,i)||rc(t,l)||rc(n,i)||rc(l,i))return null;var r=t[0],c=t[1],f=n[0],g=n[1],y=i[0],v=i[1],E=l[0],x=l[1],A=(r-f)*(v-x)-(c-g)*(y-E);if(A===0)return null;var N=((r*g-c*f)*(y-E)-(r-f)*(y*x-v*E))/A,B=((r*g-c*f)*(v-x)-(c-g)*(y*x-v*E))/A;return[N,B]}function rc(t,n){if(!t||!n||t.length!==n.length)return!1;for(var i=0,l=t.length;i<l;i++)if(t[i]instanceof Array&&n[i]instanceof Array){if(!rc(t[i],n[i]))return!1}else if(t[i]!==n[i])return!1;return!0}function BD(t){if(t.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(t.geometry===void 0||t.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(t.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var n=t.geometry.coordinates.length,i=[],re=0;re<n;re++){var l=t.geometry.coordinates[re];ac(l[0],l[l.length-1])||l.push(l[0]);for(var r=0;r<l.length-1;r++)i.push(l[r])}if(!zD(i))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=i.length,f=ID(t,function(ce,pe,ge,Se,De,he,Ie,Me,Ae,fe,Xe,Ze){return[ce,pe,ge,Se,De,he,Ie,Me,Ae,fe,Xe,Ze]}),g=f.length;if(g==0){for(var K=[],re=0;re<n;re++)K.push(lt([t.geometry.coordinates[re]],{parent:-1,winding:FD(t.geometry.coordinates[re])}));let ce=Qe(K);return ie(ce),Q(ce),ce}for(var y=[],v=[],re=0;re<n;re++){y.push([]);for(var r=0;r<t.geometry.coordinates[re].length-1;r++)y[re].push([new G0(t.geometry.coordinates[re][Pl(r+1,t.geometry.coordinates[re].length-1)],1,[re,r],[re,Pl(r+1,t.geometry.coordinates[re].length-1)],void 0)]),v.push(new q0(t.geometry.coordinates[re][r],[re,Pl(r-1,t.geometry.coordinates[re].length-1)],[re,r],void 0,void 0,!1,!0))}for(var re=0;re<g;re++)y[f[re][1]][f[re][2]].push(new G0(f[re][0],f[re][5],[f[re][1],f[re][2]],[f[re][6],f[re][7]],void 0)),f[re][11]&&v.push(new q0(f[re][0],[f[re][1],f[re][2]],[f[re][6],f[re][7]],void 0,void 0,!0,!0));for(var E=v.length,re=0;re<y.length;re++)for(var r=0;r<y[re].length;r++)y[re][r].sort(function(pe,ge){return pe.param<ge.param?-1:1});for(var x=[],re=0;re<E;re++)x.push({minX:v[re].coord[0],minY:v[re].coord[1],maxX:v[re].coord[0],maxY:v[re].coord[1],index:re});var A=new _f;A.load(x);for(var re=0;re<y.length;re++)for(var r=0;r<y[re].length;r++)for(var N=0;N<y[re][r].length;N++){let pe;N==y[re][r].length-1?pe=y[re][Pl(r+1,t.geometry.coordinates[re].length-1)][0].coord:pe=y[re][r][N+1].coord;var B=A.search({minX:pe[0],minY:pe[1],maxX:pe[0],maxY:pe[1]})[0];y[re][r][N].nxtIsectAlongEdgeIn=B.index}for(var re=0;re<y.length;re++)for(var r=0;r<y[re].length;r++)for(var N=0;N<y[re][r].length;N++){let ge=y[re][r][N].coord;var B=A.search({minX:ge[0],minY:ge[1],maxX:ge[0],maxY:ge[1]})[0],J=B.index;J<c?v[J].nxtIsectAlongRingAndEdge2=y[re][r][N].nxtIsectAlongEdgeIn:ac(v[J].ringAndEdge1,y[re][r][N].ringAndEdgeIn)?v[J].nxtIsectAlongRingAndEdge1=y[re][r][N].nxtIsectAlongEdgeIn:v[J].nxtIsectAlongRingAndEdge2=y[re][r][N].nxtIsectAlongEdgeIn}for(var se=[],re=0,r=0;r<n;r++){for(var F=re,N=0;N<t.geometry.coordinates[r].length-1;N++)v[re].coord[0]<v[F].coord[0]&&(F=re),re++;for(var X=v[F].nxtIsectAlongRingAndEdge2,N=0;N<v.length;N++)if(v[N].nxtIsectAlongRingAndEdge1==F||v[N].nxtIsectAlongRingAndEdge2==F){var V=N;break}var W=Qh([v[V].coord,v[F].coord,v[X].coord],!0)?1:-1;se.push({isect:F,parent:-1,winding:W})}se.sort(function($,ce){return v[$.isect].coord>v[ce.isect].coord?-1:1});for(var K=[];se.length>0;){var ee=se.pop(),k=ee.isect,M=ee.parent,P=ee.winding,Z=K.length,q=[v[k].coord],te=k;if(v[k].ringAndEdge1Walkable)var ne=v[k].ringAndEdge1,ae=v[k].nxtIsectAlongRingAndEdge1;else var ne=v[k].ringAndEdge2,ae=v[k].nxtIsectAlongRingAndEdge2;for(;!ac(v[k].coord,v[ae].coord);){q.push(v[ae].coord);for(var R=void 0,re=0;re<se.length;re++)if(se[re].isect==ae){R=re;break}if(R!=null&&se.splice(R,1),ac(ne,v[ae].ringAndEdge1)){if(ne=v[ae].ringAndEdge2,v[ae].ringAndEdge2Walkable=!1,v[ae].ringAndEdge1Walkable){var j={isect:ae};Qh([v[te].coord,v[ae].coord,v[v[ae].nxtIsectAlongRingAndEdge2].coord],P==1)?(j.parent=M,j.winding=-P):(j.parent=Z,j.winding=P),se.push(j)}te=ae,ae=v[ae].nxtIsectAlongRingAndEdge2}else{if(ne=v[ae].ringAndEdge1,v[ae].ringAndEdge1Walkable=!1,v[ae].ringAndEdge2Walkable){var j={isect:ae};Qh([v[te].coord,v[ae].coord,v[v[ae].nxtIsectAlongRingAndEdge1].coord],P==1)?(j.parent=M,j.winding=-P):(j.parent=Z,j.winding=P),se.push(j)}te=ae,ae=v[ae].nxtIsectAlongRingAndEdge1}}q.push(v[ae].coord),K.push(lt([q],{index:Z,parent:M,winding:P,netWinding:void 0}))}let z=Qe(K);ie(z),Q(z);function ie($){for(var ce=[],pe=0;pe<$.features.length;pe++)$.features[pe].properties.parent==-1&&ce.push(pe);if(ce.length>1)for(var pe=0;pe<ce.length;pe++){for(var ge=-1,Se=1/0,De=0;De<$.features.length;De++)ce[pe]!=De&&rt($.features[ce[pe]].geometry.coordinates[0][0],$.features[De],{ignoreBoundary:!0})&&xc($.features[De])<Se&&(ge=De);$.features[ce[pe]].properties.parent=ge}}function Q($){for(var ce=0;ce<$.features.length;ce++)if($.features[ce].properties.parent==-1){var pe=$.features[ce].properties.winding;$.features[ce].properties.netWinding=pe,Y($,ce,pe)}}function Y($,ce,pe){for(var ge=0;ge<$.features.length;ge++)if($.features[ge].properties.parent==ce){var Se=pe+$.features[ge].properties.winding;$.features[ge].properties.netWinding=Se,Y($,ge,Se)}}return z}var G0=class{constructor(t,n,i,l,r){this.coord=t,this.param=n,this.ringAndEdgeIn=i,this.ringAndEdgeOut=l,this.nxtIsectAlongEdgeIn=r}},q0=class{constructor(t,n,i,l,r,c,f){this.coord=t,this.ringAndEdge1=n,this.ringAndEdge2=i,this.nxtIsectAlongRingAndEdge1=l,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=c,this.ringAndEdge2Walkable=f}};function Qh(t,n){if(typeof n>"u"&&(n=!0),t.length!=3)throw new Error("This function requires an array of three points [x,y]");var i=(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0]);return i>=0==n}function FD(t){for(var n=0,i=0;i<t.length-1;i++)t[i][0]<t[n][0]&&(n=i);if(Qh([t[Pl(n-1,t.length-1)],t[n],t[Pl(n+1,t.length-1)]],!0))var l=1;else var l=-1;return l}function ac(t,n){if(!t||!n||t.length!=n.length)return!1;for(var i=0,l=t.length;i<l;i++)if(t[i]instanceof Array&&n[i]instanceof Array){if(!ac(t[i],n[i]))return!1}else if(t[i]!=n[i])return!1;return!0}function Pl(t,n){return(t%n+n)%n}function zD(t){for(var n={},i=1,l=0,r=t.length;l<r;++l){if(Object.prototype.hasOwnProperty.call(n,t[l].toString())){i=0;break}n[t[l].toString()]=1}return i}function jD(t){var n=[];return $n(t,function(i){i.geometry.type==="Polygon"&&Rt(BD(i),function(l){n.push(lt(l.geometry.coordinates,i.properties))})}),Qe(n)}function H0(t){return function(){return t}}function UD(t){return t[0]}function YD(t){return t[1]}function df(){this._=null}function Df(t){t.U=t.C=t.L=t.R=t.P=t.N=null}df.prototype={constructor:df,insert:function(t,n){var i,l,r;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;i=t}else this._?(t=Z0(this._),n.P=null,n.N=t,t.P=t.L=n,i=t):(n.P=n.N=null,this._=n,i=null);for(n.L=n.R=null,n.U=i,n.C=!0,t=n;i&&i.C;)l=i.U,i===l.L?(r=l.R,r&&r.C?(i.C=r.C=!1,l.C=!0,t=l):(t===i.R&&(Zu(this,i),t=i,i=t.U),i.C=!1,l.C=!0,Xu(this,l))):(r=l.L,r&&r.C?(i.C=r.C=!1,l.C=!0,t=l):(t===i.L&&(Xu(this,i),t=i,i=t.U),i.C=!1,l.C=!0,Zu(this,l))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n=t.U,i,l=t.L,r=t.R,c,f;if(l?r?c=Z0(r):c=l:c=r,n?n.L===t?n.L=c:n.R=c:this._=c,l&&r?(f=c.C,c.C=t.C,c.L=l,l.U=c,c!==r?(n=c.U,c.U=t.U,t=c.R,n.L=t,c.R=r,r.U=c):(c.U=n,n=c,t=c.R)):(f=t.C,t=c),t&&(t.U=n),!f){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===n.L){if(i=n.R,i.C&&(i.C=!1,n.C=!0,Zu(this,n),i=n.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,Xu(this,i),i=n.R),i.C=n.C,n.C=i.R.C=!1,Zu(this,n),t=this._;break}}else if(i=n.L,i.C&&(i.C=!1,n.C=!0,Xu(this,n),i=n.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,Zu(this,i),i=n.L),i.C=n.C,n.C=i.L.C=!1,Xu(this,n),t=this._;break}i.C=!0,t=n,n=n.U}while(!t.C);t&&(t.C=!1)}}};function Zu(t,n){var i=n,l=n.R,r=i.U;r?r.L===i?r.L=l:r.R=l:t._=l,l.U=r,i.U=l,i.R=l.L,i.R&&(i.R.U=i),l.L=i}function Xu(t,n){var i=n,l=n.L,r=i.U;r?r.L===i?r.L=l:r.R=l:t._=l,l.U=r,i.U=l,i.L=l.R,i.L&&(i.L.U=i),l.R=i}function Z0(t){for(;t.L;)t=t.L;return t}function sc(t,n,i,l){var r=[null,null],c=Oi.push(r)-1;return r.left=t,r.right=n,i&&pf(r,t,n,i),l&&pf(r,n,t,l),Lr[t.index].halfedges.push(c),Lr[n.index].halfedges.push(c),r}function Ju(t,n,i){var l=[n,i];return l.left=t,l}function pf(t,n,i,l){!t[0]&&!t[1]?(t[0]=l,t.left=n,t.right=i):t.left===i?t[1]=l:t[0]=l}function GD(t,n,i,l,r){var c=t[0],f=t[1],g=c[0],y=c[1],v=f[0],E=f[1],x=0,A=1,N=v-g,B=E-y,J;if(J=n-g,!(!N&&J>0)){if(J/=N,N<0){if(J<x)return;J<A&&(A=J)}else if(N>0){if(J>A)return;J>x&&(x=J)}if(J=l-g,!(!N&&J<0)){if(J/=N,N<0){if(J>A)return;J>x&&(x=J)}else if(N>0){if(J<x)return;J<A&&(A=J)}if(J=i-y,!(!B&&J>0)){if(J/=B,B<0){if(J<x)return;J<A&&(A=J)}else if(B>0){if(J>A)return;J>x&&(x=J)}if(J=r-y,!(!B&&J<0)){if(J/=B,B<0){if(J>A)return;J>x&&(x=J)}else if(B>0){if(J<x)return;J<A&&(A=J)}return!(x>0)&&!(A<1)||(x>0&&(t[0]=[g+x*N,y+x*B]),A<1&&(t[1]=[g+A*N,y+A*B])),!0}}}}}function qD(t,n,i,l,r){var c=t[1];if(c)return!0;var f=t[0],g=t.left,y=t.right,v=g[0],E=g[1],x=y[0],A=y[1],N=(v+x)/2,B=(E+A)/2,J,se;if(A===E){if(N<n||N>=l)return;if(v>x){if(!f)f=[N,i];else if(f[1]>=r)return;c=[N,r]}else{if(!f)f=[N,r];else if(f[1]<i)return;c=[N,i]}}else if(J=(v-x)/(A-E),se=B-J*N,J<-1||J>1)if(v>x){if(!f)f=[(i-se)/J,i];else if(f[1]>=r)return;c=[(r-se)/J,r]}else{if(!f)f=[(r-se)/J,r];else if(f[1]<i)return;c=[(i-se)/J,i]}else if(E<A){if(!f)f=[n,J*n+se];else if(f[0]>=l)return;c=[l,J*l+se]}else{if(!f)f=[l,J*l+se];else if(f[0]<n)return;c=[n,J*n+se]}return t[0]=f,t[1]=c,!0}function HD(t,n,i,l){for(var r=Oi.length,c;r--;)(!qD(c=Oi[r],t,n,i,l)||!GD(c,t,n,i,l)||!(Math.abs(c[0][0]-c[1][0])>un||Math.abs(c[0][1]-c[1][1])>un))&&delete Oi[r]}function ZD(t){return Lr[t.index]={site:t,halfedges:[]}}function XD(t,n){var i=t.site,l=n.left,r=n.right;return i===r&&(r=l,l=i),r?Math.atan2(r[1]-l[1],r[0]-l[0]):(i===l?(l=n[1],r=n[0]):(l=n[0],r=n[1]),Math.atan2(l[0]-r[0],r[1]-l[1]))}function Fx(t,n){return n[+(n.left!==t.site)]}function JD(t,n){return n[+(n.left===t.site)]}function VD(){for(var t=0,n=Lr.length,i,l,r,c;t<n;++t)if((i=Lr[t])&&(c=(l=i.halfedges).length)){var f=new Array(c),g=new Array(c);for(r=0;r<c;++r)f[r]=r,g[r]=XD(i,Oi[l[r]]);for(f.sort(function(y,v){return g[v]-g[y]}),r=0;r<c;++r)g[r]=l[f[r]];for(r=0;r<c;++r)l[r]=g[r]}}function WD(t,n,i,l){var r=Lr.length,c,f,g,y,v,E,x,A,N,B,J,se,re=!0;for(c=0;c<r;++c)if(f=Lr[c]){for(g=f.site,v=f.halfedges,y=v.length;y--;)Oi[v[y]]||v.splice(y,1);for(y=0,E=v.length;y<E;)B=JD(f,Oi[v[y]]),J=B[0],se=B[1],x=Fx(f,Oi[v[++y%E]]),A=x[0],N=x[1],(Math.abs(J-A)>un||Math.abs(se-N)>un)&&(v.splice(y,0,Oi.push(Ju(g,B,Math.abs(J-t)<un&&l-se>un?[t,Math.abs(A-t)<un?N:l]:Math.abs(se-l)<un&&i-J>un?[Math.abs(N-l)<un?A:i,l]:Math.abs(J-i)<un&&se-n>un?[i,Math.abs(A-i)<un?N:n]:Math.abs(se-n)<un&&J-t>un?[Math.abs(N-n)<un?A:t,n]:null))-1),++E);E&&(re=!1)}if(re){var F,X,V,W=1/0;for(c=0,re=null;c<r;++c)(f=Lr[c])&&(g=f.site,F=g[0]-t,X=g[1]-n,V=F*F+X*X,V<W&&(W=V,re=f));if(re){var K=[t,n],ee=[t,l],k=[i,l],M=[i,n];re.halfedges.push(Oi.push(Ju(g=re.site,K,ee))-1,Oi.push(Ju(g,ee,k))-1,Oi.push(Ju(g,k,M))-1,Oi.push(Ju(g,M,K))-1)}}for(c=0;c<r;++c)(f=Lr[c])&&(f.halfedges.length||delete Lr[c])}var zx=[],Ug;function QD(){Df(this),this.x=this.y=this.arc=this.site=this.cy=null}function Bl(t){var n=t.P,i=t.N;if(!(!n||!i)){var l=n.site,r=t.site,c=i.site;if(l!==c){var f=r[0],g=r[1],y=l[0]-f,v=l[1]-g,E=c[0]-f,x=c[1]-g,A=2*(y*x-v*E);if(!(A>=-1e-12)){var N=y*y+v*v,B=E*E+x*x,J=(x*N-v*B)/A,se=(y*B-E*N)/A,re=zx.pop()||new QD;re.arc=t,re.site=r,re.x=J+f,re.y=(re.cy=se+g)+Math.sqrt(J*J+se*se),t.circle=re;for(var F=null,X=mc._;X;)if(re.y<X.y||re.y===X.y&&re.x<=X.x)if(X.L)X=X.L;else{F=X.P;break}else if(X.R)X=X.R;else{F=X;break}mc.insert(F,re),F||(Ug=re)}}}}function zl(t){var n=t.circle;n&&(n.P||(Ug=n.N),mc.remove(n),zx.push(n),Df(n),t.circle=null)}var jx=[];function KD(){Df(this),this.edge=this.site=this.circle=null}function X0(t){var n=jx.pop()||new KD;return n.site=t,n}function jp(t){zl(t),jl.remove(t),jx.push(t),Df(t)}function $D(t){var n=t.circle,i=n.x,l=n.cy,r=[i,l],c=t.P,f=t.N,g=[t];jp(t);for(var y=c;y.circle&&Math.abs(i-y.circle.x)<un&&Math.abs(l-y.circle.cy)<un;)c=y.P,g.unshift(y),jp(y),y=c;g.unshift(y),zl(y);for(var v=f;v.circle&&Math.abs(i-v.circle.x)<un&&Math.abs(l-v.circle.cy)<un;)f=v.N,g.push(v),jp(v),v=f;g.push(v),zl(v);var E=g.length,x;for(x=1;x<E;++x)v=g[x],y=g[x-1],pf(v.edge,y.site,v.site,r);y=g[0],v=g[E-1],v.edge=sc(y.site,v.site,null,r),Bl(y),Bl(v)}function eA(t){for(var n=t[0],i=t[1],l,r,c,f,g=jl._;g;)if(c=Ux(g,i)-n,c>un)g=g.L;else if(f=n-tA(g,i),f>un){if(!g.R){l=g;break}g=g.R}else{c>-un?(l=g.P,r=g):f>-un?(l=g,r=g.N):l=r=g;break}ZD(t);var y=X0(t);if(jl.insert(l,y),!(!l&&!r)){if(l===r){zl(l),r=X0(l.site),jl.insert(y,r),y.edge=r.edge=sc(l.site,y.site),Bl(l),Bl(r);return}if(!r){y.edge=sc(l.site,y.site);return}zl(l),zl(r);var v=l.site,E=v[0],x=v[1],A=t[0]-E,N=t[1]-x,B=r.site,J=B[0]-E,se=B[1]-x,re=2*(A*se-N*J),F=A*A+N*N,X=J*J+se*se,V=[(se*F-N*X)/re+E,(A*X-J*F)/re+x];pf(r.edge,v,B,V),y.edge=sc(v,t,null,V),r.edge=sc(t,B,null,V),Bl(l),Bl(r)}}function Ux(t,n){var i=t.site,l=i[0],r=i[1],c=r-n;if(!c)return l;var f=t.P;if(!f)return-1/0;i=f.site;var g=i[0],y=i[1],v=y-n;if(!v)return g;var E=g-l,x=1/c-1/v,A=E/v;return x?(-A+Math.sqrt(A*A-2*x*(E*E/(-2*v)-y+v/2+r-c/2)))/x+l:(l+g)/2}function tA(t,n){var i=t.N;if(i)return Ux(i,n);var l=t.site;return l[1]===n?l[0]:1/0}var un=1e-6,jl,Lr,mc,Oi;function nA(t,n,i){return(t[0]-i[0])*(n[1]-t[1])-(t[0]-n[0])*(i[1]-t[1])}function iA(t,n){return n[1]-t[1]||n[0]-t[0]}function ug(t,n){var i=t.sort(iA).pop(),l,r,c;for(Oi=[],Lr=new Array(t.length),jl=new df,mc=new df;;)if(c=Ug,i&&(!c||i[1]<c.y||i[1]===c.y&&i[0]<c.x))(i[0]!==l||i[1]!==r)&&(eA(i),l=i[0],r=i[1]),i=t.pop();else if(c)$D(c.arc);else break;if(VD(),n){var f=+n[0][0],g=+n[0][1],y=+n[1][0],v=+n[1][1];HD(f,g,y,v),WD(f,g,y,v)}this.edges=Oi,this.cells=Lr,jl=mc=Oi=Lr=null}ug.prototype={constructor:ug,polygons:function(){var t=this.edges;return this.cells.map(function(n){var i=n.halfedges.map(function(l){return Fx(n,t[l])});return i.data=n.site.data,i})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(i,l){if(g=(c=i.halfedges).length)for(var r=i.site,c,f=-1,g,y,v=n[c[g-1]],E=v.left===r?v.right:v.left;++f<g;)y=E,v=n[c[f]],E=v.left===r?v.right:v.left,y&&E&&l<y.index&&l<E.index&&nA(r,y,E)<0&&t.push([r.data,y.data,E.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,i){for(var l=this,r,c=l._found||0,f=l.cells.length,g;!(g=l.cells[c]);)if(++c>=f)return null;var y=t-g.site[0],v=n-g.site[1],E=y*y+v*v;do g=l.cells[r=c],c=null,g.halfedges.forEach(function(x){var A=l.edges[x],N=A.left;if(!((N===g.site||!N)&&!(N=A.right))){var B=t-N[0],J=n-N[1],se=B*B+J*J;se<E&&(E=se,c=N.index)}});while(c!==null);return l._found=r,i==null||E<=i*i?g.site:null}};function rA(){var t=UD,n=YD,i=null;function l(r){return new ug(r.map(function(c,f){var g=[Math.round(t(c,f,r)/un)*un,Math.round(n(c,f,r)/un)*un];return g.index=f,g.data=c,g}),i)}return l.polygons=function(r){return l(r).polygons()},l.links=function(r){return l(r).links()},l.triangles=function(r){return l(r).triangles()},l.x=function(r){return arguments.length?(t=typeof r=="function"?r:H0(+r),l):t},l.y=function(r){return arguments.length?(n=typeof r=="function"?r:H0(+r),l):n},l.extent=function(r){return arguments.length?(i=r==null?null:[[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]],l):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},l.size=function(r){return arguments.length?(i=r==null?null:[[0,0],[+r[0],+r[1]]],l):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},l}function aA(t){return t=t.slice(),t.push(t[0]),lt([t])}function sA(t,n){if(n=n||{},!Ft(n))throw new Error("options is invalid");const i=n.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(i))throw new Error("bbox is invalid");return Es(t,"Point","points"),Qe(rA().x(l=>l.geometry.coordinates[0]).y(l=>l.geometry.coordinates[1]).extent([[i[0],i[1]],[i[2],i[3]]]).polygons(t.features).map(function(l,r){return Object.assign(aA(l),{properties:xf(t.features[r].properties)})}))}const oA=Object.freeze(Object.defineProperty({__proto__:null,along:ME,angle:RE,applyFilter:Ef,area:xc,areaFactors:Kh,azimuthToBearing:uS,bbox:kt,bboxClip:jE,bboxPolygon:Ec,bearing:ao,bearingToAzimuth:Ul,bezierSpline:qE,booleanClockwise:$h,booleanConcave:HE,booleanContains:Ob,booleanCrosses:TS,booleanDisjoint:Lg,booleanEqual:Ku,booleanIntersects:wS,booleanOverlap:nT,booleanParallel:iT,booleanPointInPolygon:rt,booleanPointOnLine:pt,booleanTouches:aT,booleanValid:sT,booleanWithin:LS,buffer:VT,center:vf,centerMean:Dg,centerMedian:QT,centerOfMass:JS,centroid:Ss,circle:Sf,cleanCoords:Vo,clone:oi,cloneProperties:xf,clusterEach:kg,clusterReduce:KS,clusters:fw,clustersDbscan:_w,clustersKmeans:Ew,collect:bw,collectionOf:Es,combine:Tw,concave:eC,containsNumber:pg,convertArea:dg,convertLength:Xo,convex:XS,coordAll:hc,coordEach:_n,coordReduce:gg,createBins:Ng,degreesToRadians:Qn,destination:so,difference:EC,dissolve:bC,distance:fn,distanceWeight:fx,earthRadius:Wn,ellipse:px,envelope:gx,explode:Tf,factors:mf,feature:bn,featureCollection:Qe,featureEach:Rt,featureOf:cc,featureReduce:_g,filterProperties:$S,findPoint:gS,findSegment:pS,flatten:rg,flattenEach:$n,flattenReduce:dS,flip:LC,geojsonRbush:yf,geojsonType:hS,geomEach:Si,geomReduce:yg,geometry:rS,geometryCollection:hg,getCluster:QS,getCoord:Bt,getCoords:ct,getGeom:cn,getType:cr,greatCircle:OC,helpers:kE,hexGrid:mx,interpolate:IC,intersect:pc,invariant:NE,isNumber:Kn,isObject:Ft,isobands:UC,isolines:$C,kinks:iL,length:Sx,lengthToDegrees:fg,lengthToRadians:Vl,lineArc:xx,lineChunk:aL,lineEach:Sg,lineIntersect:Pa,lineOffset:dL,lineOverlap:CS,lineReduce:xg,lineSegment:fc,lineSlice:gL,lineSliceAlong:Ex,lineSplit:Eg,lineString:bt,lineStrings:oS,lineToPolygon:mL,mask:yL,meta:IE,midpoint:xL,moranIndex:EL,multiLineString:uo,multiPoint:vc,multiPolygon:ur,nearestNeighborAnalysis:AL,nearestPoint:wf,nearestPointOnLine:ys,nearestPointToLine:RL,planepoint:PL,point:ut,pointGrid:_x,pointOnFeature:BL,pointToLineDistance:zg,pointToPolygonDistance:og,points:aS,pointsWithinPolygon:Tx,polygon:lt,polygonSmooth:ZL,polygonTangents:VL,polygonToLine:Yl,polygonize:HL,polygons:sS,projection:$L,propEach:mg,propReduce:fS,propertiesContainsFilter:Og,quadratAnalysis:eD,radiansToDegrees:Ia,radiansToLength:Sc,random:oD,randomLineString:Ix,randomPoint:Mx,randomPolygon:Rx,randomPosition:Ox,rectangleGrid:yx,rewind:lD,rhumbBearing:Jo,rhumbDestination:bf,rhumbDistance:Fl,round:lS,sample:uD,sector:hD,segmentEach:_s,segmentReduce:vg,shortestPath:_D,simplify:bD,square:wD,squareGrid:Fg,standardDeviationalEllipse:CD,tag:LD,tesselate:ND,tin:nx,toMercator:Ax,toWgs84:kx,transformRotate:dx,transformScale:Bx,transformTranslate:MD,triangleGrid:vx,truncate:_S,union:RD,unkinkPolygon:jD,validateBBox:uc,validateId:cS,voronoi:sA},Symbol.toStringTag,{value:"Module"}));var oc={exports:{}};var lA=oc.exports,J0;function uA(){return J0||(J0=1,(function(t,n){(function(i,l){l(n)})(lA,(function(i){var l="1.9.4";function r(u){var m,b,O,U;for(b=1,O=arguments.length;b<O;b++){U=arguments[b];for(m in U)u[m]=U[m]}return u}var c=Object.create||(function(){function u(){}return function(m){return u.prototype=m,new u}})();function f(u,m){var b=Array.prototype.slice;if(u.bind)return u.bind.apply(u,b.call(arguments,1));var O=b.call(arguments,2);return function(){return u.apply(m,O.length?O.concat(b.call(arguments)):arguments)}}var g=0;function y(u){return"_leaflet_id"in u||(u._leaflet_id=++g),u._leaflet_id}function v(u,m,b){var O,U,oe,me;return me=function(){O=!1,U&&(oe.apply(b,U),U=!1)},oe=function(){O?U=arguments:(u.apply(b,arguments),setTimeout(me,m),O=!0)},oe}function E(u,m,b){var O=m[1],U=m[0],oe=O-U;return u===O&&b?u:((u-U)%oe+oe)%oe+U}function x(){return!1}function A(u,m){if(m===!1)return u;var b=Math.pow(10,m===void 0?6:m);return Math.round(u*b)/b}function N(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function B(u){return N(u).split(/\s+/)}function J(u,m){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?c(u.options):{});for(var b in m)u.options[b]=m[b];return u.options}function se(u,m,b){var O=[];for(var U in u)O.push(encodeURIComponent(b?U.toUpperCase():U)+"="+encodeURIComponent(u[U]));return(!m||m.indexOf("?")===-1?"?":"&")+O.join("&")}var re=/\{ *([\w_ -]+) *\}/g;function F(u,m){return u.replace(re,function(b,O){var U=m[O];if(U===void 0)throw new Error("No value provided for variable "+b);return typeof U=="function"&&(U=U(m)),U})}var X=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function V(u,m){for(var b=0;b<u.length;b++)if(u[b]===m)return b;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var ee=0;function k(u){var m=+new Date,b=Math.max(0,16-(m-ee));return ee=m+b,window.setTimeout(u,b)}var M=window.requestAnimationFrame||K("RequestAnimationFrame")||k,P=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function Z(u,m,b){if(b&&M===k)u.call(m);else return M.call(window,f(u,m))}function q(u){u&&P.call(window,u)}var te={__proto__:null,extend:r,create:c,bind:f,get lastId(){return g},stamp:y,throttle:v,wrapNum:E,falseFn:x,formatNum:A,trim:N,splitWords:B,setOptions:J,getParamString:se,template:F,isArray:X,indexOf:V,emptyImageUrl:W,requestFn:M,cancelFn:P,requestAnimFrame:Z,cancelAnimFrame:q};function ne(){}ne.extend=function(u){var m=function(){J(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},b=m.__super__=this.prototype,O=c(b);O.constructor=m,m.prototype=O;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(m[U]=this[U]);return u.statics&&r(m,u.statics),u.includes&&(ae(u.includes),r.apply(null,[O].concat(u.includes))),r(O,u),delete O.statics,delete O.includes,O.options&&(O.options=b.options?c(b.options):{},r(O.options,u.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){b.callInitHooks&&b.callInitHooks.call(this),this._initHooksCalled=!0;for(var oe=0,me=O._initHooks.length;oe<me;oe++)O._initHooks[oe].call(this)}},m},ne.include=function(u){var m=this.prototype.options;return r(this.prototype,u),u.options&&(this.prototype.options=m,this.mergeOptions(u.options)),this},ne.mergeOptions=function(u){return r(this.prototype.options,u),this},ne.addInitHook=function(u){var m=Array.prototype.slice.call(arguments,1),b=typeof u=="function"?u:function(){this[u].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(b),this};function ae(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=X(u)?u:[u];for(var m=0;m<u.length;m++)u[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var R={on:function(u,m,b){if(typeof u=="object")for(var O in u)this._on(O,u[O],m);else{u=B(u);for(var U=0,oe=u.length;U<oe;U++)this._on(u[U],m,b)}return this},off:function(u,m,b){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var O in u)this._off(O,u[O],m);else{u=B(u);for(var U=arguments.length===1,oe=0,me=u.length;oe<me;oe++)U?this._off(u[oe]):this._off(u[oe],m,b)}return this},_on:function(u,m,b,O){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(u,m,b)===!1){b===this&&(b=void 0);var U={fn:m,ctx:b};O&&(U.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(U)}},_off:function(u,m,b){var O,U,oe;if(this._events&&(O=this._events[u],!!O)){if(arguments.length===1){if(this._firingCount)for(U=0,oe=O.length;U<oe;U++)O[U].fn=x;delete this._events[u];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var me=this._listens(u,m,b);if(me!==!1){var Ee=O[me];this._firingCount&&(Ee.fn=x,this._events[u]=O=O.slice()),O.splice(me,1)}}},fire:function(u,m,b){if(!this.listens(u,b))return this;var O=r({},m,{type:u,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var U=this._events[u];if(U){this._firingCount=this._firingCount+1||1;for(var oe=0,me=U.length;oe<me;oe++){var Ee=U[oe],Ce=Ee.fn;Ee.once&&this.off(u,Ce,Ee.ctx),Ce.call(Ee.ctx||this,O)}this._firingCount--}}return b&&this._propagateEvent(O),this},listens:function(u,m,b,O){typeof u!="string"&&console.warn('"string" type argument expected');var U=m;typeof m!="function"&&(O=!!m,U=void 0,b=void 0);var oe=this._events&&this._events[u];if(oe&&oe.length&&this._listens(u,U,b)!==!1)return!0;if(O){for(var me in this._eventParents)if(this._eventParents[me].listens(u,m,b,O))return!0}return!1},_listens:function(u,m,b){if(!this._events)return!1;var O=this._events[u]||[];if(!m)return!!O.length;b===this&&(b=void 0);for(var U=0,oe=O.length;U<oe;U++)if(O[U].fn===m&&O[U].ctx===b)return U;return!1},once:function(u,m,b){if(typeof u=="object")for(var O in u)this._on(O,u[O],m,!0);else{u=B(u);for(var U=0,oe=u.length;U<oe;U++)this._on(u[U],m,b,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[y(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[y(u)],this},_propagateEvent:function(u){for(var m in this._eventParents)this._eventParents[m].fire(u.type,r({layer:u.target,propagatedFrom:u.target},u),!0)}};R.addEventListener=R.on,R.removeEventListener=R.clearAllEventListeners=R.off,R.addOneTimeEventListener=R.once,R.fireEvent=R.fire,R.hasEventListeners=R.listens;var j=ne.extend(R);function z(u,m,b){this.x=b?Math.round(u):u,this.y=b?Math.round(m):m}var ie=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(u){return this.clone()._add(Q(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(Q(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new z(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new z(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(u){u=Q(u);var m=u.x-this.x,b=u.y-this.y;return Math.sqrt(m*m+b*b)},equals:function(u){return u=Q(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=Q(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function Q(u,m,b){return u instanceof z?u:X(u)?new z(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new z(u.x,u.y):new z(u,m,b)}function Y(u,m){if(u)for(var b=m?[u,m]:u,O=0,U=b.length;O<U;O++)this.extend(b[O])}Y.prototype={extend:function(u){var m,b;if(!u)return this;if(u instanceof z||typeof u[0]=="number"||"x"in u)m=b=Q(u);else if(u=$(u),m=u.min,b=u.max,!m||!b)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=b.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(b.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(b.y,this.max.y)),this},getCenter:function(u){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var m,b;return typeof u[0]=="number"||u instanceof z?u=Q(u):u=$(u),u instanceof Y?(m=u.min,b=u.max):m=b=u,m.x>=this.min.x&&b.x<=this.max.x&&m.y>=this.min.y&&b.y<=this.max.y},intersects:function(u){u=$(u);var m=this.min,b=this.max,O=u.min,U=u.max,oe=U.x>=m.x&&O.x<=b.x,me=U.y>=m.y&&O.y<=b.y;return oe&&me},overlaps:function(u){u=$(u);var m=this.min,b=this.max,O=u.min,U=u.max,oe=U.x>m.x&&O.x<b.x,me=U.y>m.y&&O.y<b.y;return oe&&me},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var m=this.min,b=this.max,O=Math.abs(m.x-b.x)*u,U=Math.abs(m.y-b.y)*u;return $(Q(m.x-O,m.y-U),Q(b.x+O,b.y+U))},equals:function(u){return u?(u=$(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function $(u,m){return!u||u instanceof Y?u:new Y(u,m)}function ce(u,m){if(u)for(var b=m?[u,m]:u,O=0,U=b.length;O<U;O++)this.extend(b[O])}ce.prototype={extend:function(u){var m=this._southWest,b=this._northEast,O,U;if(u instanceof ge)O=u,U=u;else if(u instanceof ce){if(O=u._southWest,U=u._northEast,!O||!U)return this}else return u?this.extend(Se(u)||pe(u)):this;return!m&&!b?(this._southWest=new ge(O.lat,O.lng),this._northEast=new ge(U.lat,U.lng)):(m.lat=Math.min(O.lat,m.lat),m.lng=Math.min(O.lng,m.lng),b.lat=Math.max(U.lat,b.lat),b.lng=Math.max(U.lng,b.lng)),this},pad:function(u){var m=this._southWest,b=this._northEast,O=Math.abs(m.lat-b.lat)*u,U=Math.abs(m.lng-b.lng)*u;return new ce(new ge(m.lat-O,m.lng-U),new ge(b.lat+O,b.lng+U))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof ge||"lat"in u?u=Se(u):u=pe(u);var m=this._southWest,b=this._northEast,O,U;return u instanceof ce?(O=u.getSouthWest(),U=u.getNorthEast()):O=U=u,O.lat>=m.lat&&U.lat<=b.lat&&O.lng>=m.lng&&U.lng<=b.lng},intersects:function(u){u=pe(u);var m=this._southWest,b=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),oe=U.lat>=m.lat&&O.lat<=b.lat,me=U.lng>=m.lng&&O.lng<=b.lng;return oe&&me},overlaps:function(u){u=pe(u);var m=this._southWest,b=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),oe=U.lat>m.lat&&O.lat<b.lat,me=U.lng>m.lng&&O.lng<b.lng;return oe&&me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,m){return u?(u=pe(u),this._southWest.equals(u.getSouthWest(),m)&&this._northEast.equals(u.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pe(u,m){return u instanceof ce?u:new ce(u,m)}function ge(u,m,b){if(isNaN(u)||isNaN(m))throw new Error("Invalid LatLng object: ("+u+", "+m+")");this.lat=+u,this.lng=+m,b!==void 0&&(this.alt=+b)}ge.prototype={equals:function(u,m){if(!u)return!1;u=Se(u);var b=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return b<=(m===void 0?1e-9:m)},toString:function(u){return"LatLng("+A(this.lat,u)+", "+A(this.lng,u)+")"},distanceTo:function(u){return he.distance(this,Se(u))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(u){var m=180*u/40075017,b=m/Math.cos(Math.PI/180*this.lat);return pe([this.lat-m,this.lng-b],[this.lat+m,this.lng+b])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function Se(u,m,b){return u instanceof ge?u:X(u)&&typeof u[0]!="object"?u.length===3?new ge(u[0],u[1],u[2]):u.length===2?new ge(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new ge(u.lat,"lng"in u?u.lng:u.lon,u.alt):m===void 0?null:new ge(u,m,b)}var De={latLngToPoint:function(u,m){var b=this.projection.project(u),O=this.scale(m);return this.transformation._transform(b,O)},pointToLatLng:function(u,m){var b=this.scale(m),O=this.transformation.untransform(u,b);return this.projection.unproject(O)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var m=this.projection.bounds,b=this.scale(u),O=this.transformation.transform(m.min,b),U=this.transformation.transform(m.max,b);return new Y(O,U)},infinite:!1,wrapLatLng:function(u){var m=this.wrapLng?E(u.lng,this.wrapLng,!0):u.lng,b=this.wrapLat?E(u.lat,this.wrapLat,!0):u.lat,O=u.alt;return new ge(b,m,O)},wrapLatLngBounds:function(u){var m=u.getCenter(),b=this.wrapLatLng(m),O=m.lat-b.lat,U=m.lng-b.lng;if(O===0&&U===0)return u;var oe=u.getSouthWest(),me=u.getNorthEast(),Ee=new ge(oe.lat-O,oe.lng-U),Ce=new ge(me.lat-O,me.lng-U);return new ce(Ee,Ce)}},he=r({},De,{wrapLng:[-180,180],R:6371e3,distance:function(u,m){var b=Math.PI/180,O=u.lat*b,U=m.lat*b,oe=Math.sin((m.lat-u.lat)*b/2),me=Math.sin((m.lng-u.lng)*b/2),Ee=oe*oe+Math.cos(O)*Math.cos(U)*me*me,Ce=2*Math.atan2(Math.sqrt(Ee),Math.sqrt(1-Ee));return this.R*Ce}}),Ie=6378137,Me={R:Ie,MAX_LATITUDE:85.0511287798,project:function(u){var m=Math.PI/180,b=this.MAX_LATITUDE,O=Math.max(Math.min(b,u.lat),-b),U=Math.sin(O*m);return new z(this.R*u.lng*m,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(u){var m=180/Math.PI;return new ge((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*m,u.x*m/this.R)},bounds:(function(){var u=Ie*Math.PI;return new Y([-u,-u],[u,u])})()};function Ae(u,m,b,O){if(X(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=m,this._c=b,this._d=O}Ae.prototype={transform:function(u,m){return this._transform(u.clone(),m)},_transform:function(u,m){return m=m||1,u.x=m*(this._a*u.x+this._b),u.y=m*(this._c*u.y+this._d),u},untransform:function(u,m){return m=m||1,new z((u.x/m-this._b)/this._a,(u.y/m-this._d)/this._c)}};function fe(u,m,b,O){return new Ae(u,m,b,O)}var Xe=r({},he,{code:"EPSG:3857",projection:Me,transformation:(function(){var u=.5/(Math.PI*Me.R);return fe(u,.5,-u,.5)})()}),Ze=r({},Xe,{code:"EPSG:900913"});function Fe(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Ue(u,m){var b="",O,U,oe,me,Ee,Ce;for(O=0,oe=u.length;O<oe;O++){for(Ee=u[O],U=0,me=Ee.length;U<me;U++)Ce=Ee[U],b+=(U?"L":"M")+Ce.x+" "+Ce.y;b+=m?Ke.svg?"z":"x":""}return b||"M0 0"}var wt=document.documentElement.style,ht="ActiveXObject"in window,Oe=ht&&!document.addEventListener,Jt="msLaunchUri"in navigator&&!("documentMode"in document),ei=On("webkit"),gn=On("android"),Ui=On("android 2")||On("android 3"),He=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tn=gn&&On("Google")&&He<537&&!("AudioNode"in window),It=!!window.opera,yn=!Jt&&On("chrome"),Je=On("gecko")&&!ei&&!It&&!ht,Jr=!yn&&On("safari"),_t=On("phantom"),it="OTransition"in wt,xi=navigator.platform.indexOf("Win")===0,vn=ht&&"transition"in wt,Nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ui,$e="MozPerspective"in wt,di=!window.L_DISABLE_3D&&(vn||Nn||$e)&&!it&&!_t,Fa=typeof orientation<"u"||On("mobile"),fo=Fa&&ei,Ei=Fa&&Nn,hr=!window.PointerEvent&&window.MSPointerEvent,li=!!(window.PointerEvent||hr),ha="ontouchstart"in window||!!window.TouchEvent,Yi=!window.L_NO_TOUCH&&(ha||li),bs=Fa&&It,fa=Fa&&Je,Vr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ye=(function(){var u=!1;try{var m=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",x,m),window.removeEventListener("testPassiveEventSupport",x,m)}catch{}return u})(),da=(function(){return!!document.createElement("canvas").getContext})(),Gi=!!(document.createElementNS&&Fe("svg").createSVGRect),za=!!Gi&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),po=!Gi&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var m=u.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}})(),Ts=navigator.platform.indexOf("Mac")===0,go=navigator.platform.indexOf("Linux")===0;function On(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Ke={ie:ht,ielt9:Oe,edge:Jt,webkit:ei,android:gn,android23:Ui,androidStock:Tn,opera:It,chrome:yn,gecko:Je,safari:Jr,phantom:_t,opera12:it,win:xi,ie3d:vn,webkit3d:Nn,gecko3d:$e,any3d:di,mobile:Fa,mobileWebkit:fo,mobileWebkit3d:Ei,msPointer:hr,pointer:li,touch:Yi,touchNative:ha,mobileOpera:bs,mobileGecko:fa,retina:Vr,passiveEvents:Ye,canvas:da,svg:Gi,vml:po,inlineSvg:za,mac:Ts,linux:go},pa=Ke.msPointer?"MSPointerDown":"pointerdown",mo=Ke.msPointer?"MSPointerMove":"pointermove",qi=Ke.msPointer?"MSPointerUp":"pointerup",Mn=Ke.msPointer?"MSPointerCancel":"pointercancel",jt={touchstart:pa,touchmove:mo,touchend:qi,touchcancel:Mn},fr={touchstart:dr,touchmove:kr,touchend:kr,touchcancel:kr},bi={},Dr=!1;function Wr(u,m,b){return m==="touchstart"&&ga(),fr[m]?(b=fr[m].bind(this,b),u.addEventListener(jt[m],b,!1),b):(console.warn("wrong event specified:",m),x)}function ws(u,m,b){if(!jt[m]){console.warn("wrong event specified:",m);return}u.removeEventListener(jt[m],b,!1)}function Ar(u){bi[u.pointerId]=u}function Qr(u){bi[u.pointerId]&&(bi[u.pointerId]=u)}function $t(u){delete bi[u.pointerId]}function ga(){Dr||(document.addEventListener(pa,Ar,!0),document.addEventListener(mo,Qr,!0),document.addEventListener(qi,$t,!0),document.addEventListener(Mn,$t,!0),Dr=!0)}function kr(u,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var b in bi)m.touches.push(bi[b]);m.changedTouches=[m],u(m)}}function dr(u,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&rn(m),kr(u,m)}function dn(u){var m={},b,O;for(O in u)b=u[O],m[O]=b&&b.bind?b.bind(u):b;return u=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Cs=200;function Ls(u,m){u.addEventListener("dblclick",m);var b=0,O;function U(oe){if(oe.detail!==1){O=oe.detail;return}if(!(oe.pointerType==="mouse"||oe.sourceCapabilities&&!oe.sourceCapabilities.firesTouchEvents)){var me=wn(oe);if(!(me.some(function(Ce){return Ce instanceof HTMLLabelElement&&Ce.attributes.for})&&!me.some(function(Ce){return Ce instanceof HTMLInputElement||Ce instanceof HTMLSelectElement}))){var Ee=Date.now();Ee-b<=Cs?(O++,O===2&&m(dn(oe))):O=1,b=Ee}}}return u.addEventListener("click",U),{dblclick:m,simDblclick:U}}function Nr(u,m){u.removeEventListener("dblclick",m.dblclick),u.removeEventListener("click",m.simDblclick)}var Or=Ya(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ti=Ya(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mr=ti==="webkitTransition"||ti==="OTransition"?ti+"End":"transitionend";function ja(u){return typeof u=="string"?document.getElementById(u):u}function Hi(u,m){var b=u.style[m]||u.currentStyle&&u.currentStyle[m];if((!b||b==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(u,null);b=O?O[m]:null}return b==="auto"?null:b}function St(u,m,b){var O=document.createElement(u);return O.className=m||"",b&&b.appendChild(O),O}function Kt(u){var m=u.parentNode;m&&m.removeChild(u)}function Ti(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Bn(u){var m=u.parentNode;m&&m.lastChild!==u&&m.appendChild(u)}function Rr(u){var m=u.parentNode;m&&m.firstChild!==u&&m.insertBefore(u,m.firstChild)}function Ds(u,m){if(u.classList!==void 0)return u.classList.contains(m);var b=Ua(u);return b.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(b)}function ft(u,m){if(u.classList!==void 0)for(var b=B(m),O=0,U=b.length;O<U;O++)u.classList.add(b[O]);else if(!Ds(u,m)){var oe=Ua(u);pi(u,(oe?oe+" ":"")+m)}}function Pt(u,m){u.classList!==void 0?u.classList.remove(m):pi(u,N((" "+Ua(u)+" ").replace(" "+m+" "," ")))}function pi(u,m){u.className.baseVal===void 0?u.className=m:u.className.baseVal=m}function Ua(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Ut(u,m){"opacity"in u.style?u.style.opacity=m:"filter"in u.style&&_o(u,m)}function _o(u,m){var b=!1,O="DXImageTransform.Microsoft.Alpha";try{b=u.filters.item(O)}catch{if(m===1)return}m=Math.round(m*100),b?(b.Enabled=m!==100,b.Opacity=m):u.style.filter+=" progid:"+O+"(opacity="+m+")"}function Ya(u){for(var m=document.documentElement.style,b=0;b<u.length;b++)if(u[b]in m)return u[b];return!1}function pr(u,m,b){var O=m||new z(0,0);u.style[Or]=(Ke.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(b?" scale("+b+")":"")}function en(u,m){u._leaflet_pos=m,Ke.any3d?pr(u,m):(u.style.left=m.x+"px",u.style.top=m.y+"px")}function gr(u){return u._leaflet_pos||new z(0,0)}var Zi,Mi,yo;if("onselectstart"in document)Zi=function(){st(window,"selectstart",rn)},Mi=function(){zt(window,"selectstart",rn)};else{var Kr=Ya(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zi=function(){if(Kr){var u=document.documentElement.style;yo=u[Kr],u[Kr]="none"}},Mi=function(){Kr&&(document.documentElement.style[Kr]=yo,yo=void 0)}}function As(){st(window,"dragstart",rn)}function $r(){zt(window,"dragstart",rn)}var Vt,mr;function ma(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(ui(),Vt=u,mr=u.style.outlineStyle,u.style.outlineStyle="none",st(window,"keydown",ui))}function ui(){Vt&&(Vt.style.outlineStyle=mr,Vt=void 0,mr=void 0,zt(window,"keydown",ui))}function ni(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function Un(u){var m=u.getBoundingClientRect();return{x:m.width/u.offsetWidth||1,y:m.height/u.offsetHeight||1,boundingClientRect:m}}var _r={__proto__:null,TRANSFORM:Or,TRANSITION:ti,TRANSITION_END:Mr,get:ja,getStyle:Hi,create:St,remove:Kt,empty:Ti,toFront:Bn,toBack:Rr,hasClass:Ds,addClass:ft,removeClass:Pt,setClass:pi,getClass:Ua,setOpacity:Ut,testProp:Ya,setTransform:pr,setPosition:en,getPosition:gr,get disableTextSelection(){return Zi},get enableTextSelection(){return Mi},disableImageDrag:As,enableImageDrag:$r,preventOutline:ma,restoreOutline:ui,getSizedParentNode:ni,getScale:Un};function st(u,m,b,O){if(m&&typeof m=="object")for(var U in m)wi(u,U,m[U],b);else{m=B(m);for(var oe=0,me=m.length;oe<me;oe++)wi(u,m[oe],b,O)}return this}var Ri="_leaflet_events";function zt(u,m,b,O){if(arguments.length===1)_a(u),delete u[Ri];else if(m&&typeof m=="object")for(var U in m)Tt(u,U,m[U],b);else if(m=B(m),arguments.length===2)_a(u,function(Ee){return V(m,Ee)!==-1});else for(var oe=0,me=m.length;oe<me;oe++)Tt(u,m[oe],b,O);return this}function _a(u,m){for(var b in u[Ri]){var O=b.split(/\d/)[0];(!m||m(O))&&Tt(u,O,null,null,b)}}var ea={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function wi(u,m,b,O){var U=m+y(b)+(O?"_"+y(O):"");if(u[Ri]&&u[Ri][U])return this;var oe=function(Ee){return b.call(O||u,Ee||window.event)},me=oe;!Ke.touchNative&&Ke.pointer&&m.indexOf("touch")===0?oe=Wr(u,m,oe):Ke.touch&&m==="dblclick"?oe=Ls(u,oe):"addEventListener"in u?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?u.addEventListener(ea[m]||m,oe,Ke.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(oe=function(Ee){Ee=Ee||window.event,Xi(u,Ee)&&me(Ee)},u.addEventListener(ea[m],oe,!1)):u.addEventListener(m,me,!1):u.attachEvent("on"+m,oe),u[Ri]=u[Ri]||{},u[Ri][U]=oe}function Tt(u,m,b,O,U){U=U||m+y(b)+(O?"_"+y(O):"");var oe=u[Ri]&&u[Ri][U];if(!oe)return this;!Ke.touchNative&&Ke.pointer&&m.indexOf("touch")===0?ws(u,m,oe):Ke.touch&&m==="dblclick"?Nr(u,oe):"removeEventListener"in u?u.removeEventListener(ea[m]||m,oe,!1):u.detachEvent("on"+m,oe),u[Ri][U]=null}function Sn(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function Ci(u){return wi(u,"wheel",Sn),this}function Ir(u){return st(u,"mousedown touchstart dblclick contextmenu",Sn),u._leaflet_disable_click=!0,this}function rn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function yr(u){return rn(u),Sn(u),this}function wn(u){if(u.composedPath)return u.composedPath();for(var m=[],b=u.target;b;)m.push(b),b=b.parentNode;return m}function ya(u,m){if(!m)return new z(u.clientX,u.clientY);var b=Un(m),O=b.boundingClientRect;return new z((u.clientX-O.left)/b.x-m.clientLeft,(u.clientY-O.top)/b.y-m.clientTop)}var ks=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yn(u){return Ke.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/ks:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Xi(u,m){var b=m.relatedTarget;if(!b)return!0;try{for(;b&&b!==u;)b=b.parentNode}catch{return!1}return b!==u}var Ns={__proto__:null,on:st,off:zt,stopPropagation:Sn,disableScrollPropagation:Ci,disableClickPropagation:Ir,preventDefault:rn,stop:yr,getPropagationPath:wn,getMousePosition:ya,getWheelDelta:Yn,isExternalTarget:Xi,addListener:st,removeListener:zt},ta=j.extend({run:function(u,m,b,O){this.stop(),this._el=u,this._inProgress=!0,this._duration=b||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=gr(u),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(u){var m=+new Date-this._startTime,b=this._duration*1e3;m<b?this._runFrame(this._easeOut(m/b),u):(this._runFrame(1),this._complete())},_runFrame:function(u,m){var b=this._startPos.add(this._offset.multiplyBy(u));m&&b._round(),en(this._el,b),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),dt=j.extend({options:{crs:Xe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,m){m=J(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(Se(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ti&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),st(this._proxy,Mr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,m,b){if(m=m===void 0?this._zoom:this._limitZoom(m),u=this._limitCenter(Se(u),m,this.options.maxBounds),b=b||{},this._stop(),this._loaded&&!b.reset&&b!==!0){b.animate!==void 0&&(b.zoom=r({animate:b.animate},b.zoom),b.pan=r({animate:b.animate,duration:b.duration},b.pan));var O=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,m,b.zoom):this._tryAnimatedPan(u,b.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(u,m,b.pan&&b.pan.noMoveStart),this},setZoom:function(u,m){return this._loaded?this.setView(this.getCenter(),u,{zoom:m}):(this._zoom=u,this)},zoomIn:function(u,m){return u=u||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,m)},zoomOut:function(u,m){return u=u||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,m)},setZoomAround:function(u,m,b){var O=this.getZoomScale(m),U=this.getSize().divideBy(2),oe=u instanceof z?u:this.latLngToContainerPoint(u),me=oe.subtract(U).multiplyBy(1-1/O),Ee=this.containerPointToLatLng(U.add(me));return this.setView(Ee,m,{zoom:b})},_getBoundsCenterZoom:function(u,m){m=m||{},u=u.getBounds?u.getBounds():pe(u);var b=Q(m.paddingTopLeft||m.padding||[0,0]),O=Q(m.paddingBottomRight||m.padding||[0,0]),U=this.getBoundsZoom(u,!1,b.add(O));if(U=typeof m.maxZoom=="number"?Math.min(m.maxZoom,U):U,U===1/0)return{center:u.getCenter(),zoom:U};var oe=O.subtract(b).divideBy(2),me=this.project(u.getSouthWest(),U),Ee=this.project(u.getNorthEast(),U),Ce=this.unproject(me.add(Ee).divideBy(2).add(oe),U);return{center:Ce,zoom:U}},fitBounds:function(u,m){if(u=pe(u),!u.isValid())throw new Error("Bounds are not valid.");var b=this._getBoundsCenterZoom(u,m);return this.setView(b.center,b.zoom,m)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,m){return this.setView(u,this._zoom,{pan:m})},panBy:function(u,m){if(u=Q(u).round(),m=m||{},!u.x&&!u.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ta,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){ft(this._mapPane,"leaflet-pan-anim");var b=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,b,m.duration||.25,m.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,m,b){if(b=b||{},b.animate===!1||!Ke.any3d)return this.setView(u,m,b);this._stop();var O=this.project(this.getCenter()),U=this.project(u),oe=this.getSize(),me=this._zoom;u=Se(u),m=m===void 0?me:m;var Ee=Math.max(oe.x,oe.y),Ce=Ee*this.getZoomScale(me,m),Pe=U.distanceTo(O)||1,qe=1.42,nt=qe*qe;function xt(Ln){var sa=Ln?-1:1,is=Ln?Ce:Ee,su=Ce*Ce-Ee*Ee+sa*nt*nt*Pe*Pe,ko=2*is*nt*Pe,No=su/ko,La=Math.sqrt(No*No+1)-No,oa=La<1e-9?-18:Math.log(La);return oa}function ai(Ln){return(Math.exp(Ln)-Math.exp(-Ln))/2}function Rn(Ln){return(Math.exp(Ln)+Math.exp(-Ln))/2}function Fi(Ln){return ai(Ln)/Rn(Ln)}var Gt=xt(0);function qt(Ln){return Ee*(Rn(Gt)/Rn(Gt+qe*Ln))}function Lt(Ln){return Ee*(Rn(Gt)*Fi(Gt+qe*Ln)-ai(Gt))/nt}function wa(Ln){return 1-Math.pow(1-Ln,1.5)}var nr=Date.now(),cl=(xt(1)-Gt)/qe,Ca=b.duration?1e3*b.duration:1e3*cl*.8;function au(){var Ln=(Date.now()-nr)/Ca,sa=wa(Ln)*cl;Ln<=1?(this._flyToFrame=Z(au,this),this._move(this.unproject(O.add(U.subtract(O).multiplyBy(Lt(sa)/Pe)),me),this.getScaleZoom(Ee/qt(sa),me),{flyTo:!0})):this._move(u,m)._moveEnd(!0)}return this._moveStart(!0,b.noMoveStart),au.call(this),this},flyToBounds:function(u,m){var b=this._getBoundsCenterZoom(u,m);return this.flyTo(b.center,b.zoom,m)},setMaxBounds:function(u){return u=pe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var m=this.options.minZoom;return this.options.minZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var m=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,m){this._enforcingBounds=!0;var b=this.getCenter(),O=this._limitCenter(b,this._zoom,pe(u));return b.equals(O)||this.panTo(O,m),this._enforcingBounds=!1,this},panInside:function(u,m){m=m||{};var b=Q(m.paddingTopLeft||m.padding||[0,0]),O=Q(m.paddingBottomRight||m.padding||[0,0]),U=this.project(this.getCenter()),oe=this.project(u),me=this.getPixelBounds(),Ee=$([me.min.add(b),me.max.subtract(O)]),Ce=Ee.getSize();if(!Ee.contains(oe)){this._enforcingBounds=!0;var Pe=oe.subtract(Ee.getCenter()),qe=Ee.extend(oe).getSize().subtract(Ce);U.x+=Pe.x<0?-qe.x:qe.x,U.y+=Pe.y<0?-qe.y:qe.y,this.panTo(this.unproject(U),m),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=r({animate:!1,pan:!0},u===!0?{animate:!0}:u);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var b=this.getSize(),O=m.divideBy(2).round(),U=b.divideBy(2).round(),oe=O.subtract(U);return!oe.x&&!oe.y?this:(u.animate&&u.pan?this.panBy(oe):(u.pan&&this._rawPanBy(oe),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:b}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=r({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=f(this._handleGeolocationResponse,this),b=f(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,b,u):navigator.geolocation.getCurrentPosition(m,b,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var m=u.code,b=u.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+b+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var m=u.coords.latitude,b=u.coords.longitude,O=new ge(m,b),U=O.toBounds(u.coords.accuracy*2),oe=this._locateOptions;if(oe.setView){var me=this.getBoundsZoom(U);this.setView(O,oe.maxZoom?Math.min(me,oe.maxZoom):me)}var Ee={latlng:O,bounds:U,timestamp:u.timestamp};for(var Ce in u.coords)typeof u.coords[Ce]=="number"&&(Ee[Ce]=u.coords[Ce]);this.fire("locationfound",Ee)}},addHandler:function(u,m){if(!m)return this;var b=this[u]=new m(this);return this._handlers.push(b),this.options[u]&&b.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Kt(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,m){var b="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),O=St("div",b,m||this._mapPane);return u&&(this._panes[u]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),m=this.unproject(u.getBottomLeft()),b=this.unproject(u.getTopRight());return new ce(m,b)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,m,b){u=pe(u),b=Q(b||[0,0]);var O=this.getZoom()||0,U=this.getMinZoom(),oe=this.getMaxZoom(),me=u.getNorthWest(),Ee=u.getSouthEast(),Ce=this.getSize().subtract(b),Pe=$(this.project(Ee,O),this.project(me,O)).getSize(),qe=Ke.any3d?this.options.zoomSnap:1,nt=Ce.x/Pe.x,xt=Ce.y/Pe.y,ai=m?Math.max(nt,xt):Math.min(nt,xt);return O=this.getScaleZoom(ai,O),qe&&(O=Math.round(O/(qe/100))*(qe/100),O=m?Math.ceil(O/qe)*qe:Math.floor(O/qe)*qe),Math.max(U,Math.min(oe,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,m){var b=this._getTopLeftPoint(u,m);return new Y(b,b.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,m){var b=this.options.crs;return m=m===void 0?this._zoom:m,b.scale(u)/b.scale(m)},getScaleZoom:function(u,m){var b=this.options.crs;m=m===void 0?this._zoom:m;var O=b.zoom(u*b.scale(m));return isNaN(O)?1/0:O},project:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(Se(u),m)},unproject:function(u,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(Q(u),m)},layerPointToLatLng:function(u){var m=Q(u).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(u){var m=this.project(Se(u))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Se(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(pe(u))},distance:function(u,m){return this.options.crs.distance(Se(u),Se(m))},containerPointToLayerPoint:function(u){return Q(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return Q(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var m=this.containerPointToLayerPoint(Q(u));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Se(u)))},mouseEventToContainerPoint:function(u){return ya(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var m=this._container=ja(u);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");st(m,"scroll",this._onScroll,this),this._containerId=y(m)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,ft(u,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Hi(u,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),en(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ft(u.markerPane,"leaflet-zoom-hide"),ft(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,m,b){en(this._mapPane,new z(0,0));var O=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var U=this._zoom!==m;this._moveStart(U,b)._move(u,m)._moveEnd(U),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(u,m){return u&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(u,m,b,O){m===void 0&&(m=this._zoom);var U=this._zoom!==m;return this._zoom=m,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),O?b&&b.pinch&&this.fire("zoom",b):((U||b&&b.pinch)&&this.fire("zoom",b),this.fire("move",b)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){en(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[y(this._container)]=this;var m=u?zt:st;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,m){for(var b=[],O,U=m==="mouseout"||m==="mouseover",oe=u.target||u.srcElement,me=!1;oe;){if(O=this._targets[y(oe)],O&&(m==="click"||m==="preclick")&&this._draggableMoved(O)){me=!0;break}if(O&&O.listens(m,!0)&&(U&&!Xi(oe,u)||(b.push(O),U))||oe===this._container)break;oe=oe.parentNode}return!b.length&&!me&&!U&&this.listens(m,!0)&&(b=[this]),b},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var m=u.target||u.srcElement;if(!(!this._loaded||m._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(m))){var b=u.type;b==="mousedown"&&ma(m),this._fireDOMEvent(u,b)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,m,b){if(u.type==="click"){var O=r({},u);O.type="preclick",this._fireDOMEvent(O,O.type,b)}var U=this._findEventTargets(u,m);if(b){for(var oe=[],me=0;me<b.length;me++)b[me].listens(m,!0)&&oe.push(b[me]);U=oe.concat(U)}if(U.length){m==="contextmenu"&&rn(u);var Ee=U[0],Ce={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Pe=Ee.getLatLng&&(!Ee._radius||Ee._radius<=10);Ce.containerPoint=Pe?this.latLngToContainerPoint(Ee.getLatLng()):this.mouseEventToContainerPoint(u),Ce.layerPoint=this.containerPointToLayerPoint(Ce.containerPoint),Ce.latlng=Pe?Ee.getLatLng():this.layerPointToLatLng(Ce.layerPoint)}for(me=0;me<U.length;me++)if(U[me].fire(m,Ce,!0),Ce.originalEvent._stopped||U[me].options.bubblingMouseEvents===!1&&V(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,m=this._handlers.length;u<m;u++)this._handlers[u].disable()},whenReady:function(u,m){return this._loaded?u.call(m||this,{target:this}):this.on("load",u,m),this},_getMapPanePos:function(){return gr(this._mapPane)||new z(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,m){var b=u&&m!==void 0?this._getNewPixelOrigin(u,m):this.getPixelOrigin();return b.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,m){var b=this.getSize()._divideBy(2);return this.project(u,m)._subtract(b)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,m,b){var O=this._getNewPixelOrigin(b,m);return this.project(u,m)._subtract(O)},_latLngBoundsToNewLayerBounds:function(u,m,b){var O=this._getNewPixelOrigin(b,m);return $([this.project(u.getSouthWest(),m)._subtract(O),this.project(u.getNorthWest(),m)._subtract(O),this.project(u.getSouthEast(),m)._subtract(O),this.project(u.getNorthEast(),m)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,m,b){if(!b)return u;var O=this.project(u,m),U=this.getSize().divideBy(2),oe=new Y(O.subtract(U),O.add(U)),me=this._getBoundsOffset(oe,b,m);return Math.abs(me.x)<=1&&Math.abs(me.y)<=1?u:this.unproject(O.add(me),m)},_limitOffset:function(u,m){if(!m)return u;var b=this.getPixelBounds(),O=new Y(b.min.add(u),b.max.add(u));return u.add(this._getBoundsOffset(O,m))},_getBoundsOffset:function(u,m,b){var O=$(this.project(m.getNorthEast(),b),this.project(m.getSouthWest(),b)),U=O.min.subtract(u.min),oe=O.max.subtract(u.max),me=this._rebound(U.x,-oe.x),Ee=this._rebound(U.y,-oe.y);return new z(me,Ee)},_rebound:function(u,m){return u+m>0?Math.round(u-m)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(m))},_limitZoom:function(u){var m=this.getMinZoom(),b=this.getMaxZoom(),O=Ke.any3d?this.options.zoomSnap:1;return O&&(u=Math.round(u/O)*O),Math.max(m,Math.min(b,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,m){var b=this._getCenterOffset(u)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(b)?!1:(this.panBy(b,m),!0)},_createAnimProxy:function(){var u=this._proxy=St("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(m){var b=Or,O=this._proxy.style[b];pr(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),O===this._proxy.style[b]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),m=this.getZoom();pr(this._proxy,this.project(u,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,m,b){if(this._animatingZoom)return!0;if(b=b||{},!this._zoomAnimated||b.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(m),U=this._getCenterOffset(u)._divideBy(1-1/O);return b.animate!==!0&&!this.getSize().contains(U)?!1:(Z(function(){this._moveStart(!0,b.noMoveStart||!1)._animateZoom(u,m,!0)},this),!0)},_animateZoom:function(u,m,b,O){this._mapPane&&(b&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=m,ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:m,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function va(u,m){return new dt(u,m)}var gi=ne.extend({options:{position:"topright"},initialize:function(u){J(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var m=this._map;return m&&m.removeControl(this),this.options.position=u,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var m=this._container=this.onAdd(u),b=this.getPosition(),O=u._controlCorners[b];return ft(m,"leaflet-control"),b.indexOf("bottom")!==-1?O.insertBefore(m,O.firstChild):O.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),xn=function(u){return new gi(u)};dt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},m="leaflet-",b=this._controlContainer=St("div",m+"control-container",this._container);function O(U,oe){var me=m+U+" "+m+oe;u[U+oe]=St("div",me,b)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Kt(this._controlCorners[u]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ji=gi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,m,b,O){return b<O?-1:O<b?1:0}},initialize:function(u,m,b){J(this,b),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in u)this._addLayer(u[O],O);for(O in m)this._addLayer(m[O],O,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return gi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,m){return this._addLayer(u,m),this._map?this._update():this},addOverlay:function(u,m){return this._addLayer(u,m,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var m=this._getLayer(y(u));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",m=this._container=St("div",u),b=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Ir(m),Ci(m);var O=this._section=St("section",u+"-list");b&&(this._map.on("click",this.collapse,this),st(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=St("a",u+"-toggle",m);U.href="#",U.title="Layers",U.setAttribute("role","button"),st(U,{keydown:function(oe){oe.keyCode===13&&this._expandSafely()},click:function(oe){rn(oe),this._expandSafely()}},this),b||this.expand(),this._baseLayersList=St("div",u+"-base",O),this._separator=St("div",u+"-separator",O),this._overlaysList=St("div",u+"-overlays",O),m.appendChild(O)},_getLayer:function(u){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&y(this._layers[m].layer)===u)return this._layers[m]},_addLayer:function(u,m,b){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:m,overlay:b}),this.options.sortLayers&&this._layers.sort(f(function(O,U){return this.options.sortFunction(O.layer,U.layer,O.name,U.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ti(this._baseLayersList),Ti(this._overlaysList),this._layerControlInputs=[];var u,m,b,O,U=0;for(b=0;b<this._layers.length;b++)O=this._layers[b],this._addItem(O),m=m||O.overlay,u=u||!O.overlay,U+=O.overlay?0:1;return this.options.hideSingleBase&&(u=u&&U>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=m&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var m=this._getLayer(y(u.target)),b=m.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;b&&this._map.fire(b,m)},_createRadioElement:function(u,m){var b='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(m?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=b,O.firstChild},_addItem:function(u){var m=document.createElement("label"),b=this._map.hasLayer(u.layer),O;u.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=b):O=this._createRadioElement("leaflet-base-layers_"+y(this),b),this._layerControlInputs.push(O),O.layerId=y(u.layer),st(O,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+u.name;var oe=document.createElement("span");m.appendChild(oe),oe.appendChild(O),oe.appendChild(U);var me=u.overlay?this._overlaysList:this._baseLayersList;return me.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,m,b,O=[],U=[];this._handlingClick=!0;for(var oe=u.length-1;oe>=0;oe--)m=u[oe],b=this._getLayer(m.layerId).layer,m.checked?O.push(b):m.checked||U.push(b);for(oe=0;oe<U.length;oe++)this._map.hasLayer(U[oe])&&this._map.removeLayer(U[oe]);for(oe=0;oe<O.length;oe++)this._map.hasLayer(O[oe])||this._map.addLayer(O[oe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,m,b,O=this._map.getZoom(),U=u.length-1;U>=0;U--)m=u[U],b=this._getLayer(m.layerId).layer,m.disabled=b.options.minZoom!==void 0&&O<b.options.minZoom||b.options.maxZoom!==void 0&&O>b.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,st(u,"click",rn),this.expand();var m=this;setTimeout(function(){zt(u,"click",rn),m._preventClick=!1})}}),Qo=function(u,m,b){return new Ji(u,m,b)},Pr=gi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var m="leaflet-control-zoom",b=St("div",m+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,m+"-in",b,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,m+"-out",b,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),b},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,m,b,O,U){var oe=St("a",b,O);return oe.innerHTML=u,oe.href="#",oe.title=m,oe.setAttribute("role","button"),oe.setAttribute("aria-label",m),Ir(oe),st(oe,"click",yr),st(oe,"click",U,this),st(oe,"click",this._refocusOnMap,this),oe},_updateDisabled:function(){var u=this._map,m="leaflet-disabled";Pt(this._zoomInButton,m),Pt(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(ft(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(ft(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});dt.mergeOptions({zoomControl:!0}),dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pr,this.addControl(this.zoomControl))});var Ko=function(u){return new Pr(u)},na=gi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var m="leaflet-control-scale",b=St("div",m),O=this.options;return this._addScales(O,m+"-line",b),u.on(O.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),b},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,m,b){u.metric&&(this._mScale=St("div",m,b)),u.imperial&&(this._iScale=St("div",m,b))},_update:function(){var u=this._map,m=u.getSize().y/2,b=u.distance(u.containerPointToLatLng([0,m]),u.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(b)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var m=this._getRoundNum(u),b=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,b,m/u)},_updateImperial:function(u){var m=u*3.2808399,b,O,U;m>5280?(b=m/5280,O=this._getRoundNum(b),this._updateScale(this._iScale,O+" mi",O/b)):(U=this._getRoundNum(m),this._updateScale(this._iScale,U+" ft",U/m))},_updateScale:function(u,m,b){u.style.width=Math.round(this.options.maxWidth*b)+"px",u.innerHTML=m},_getRoundNum:function(u){var m=Math.pow(10,(Math.floor(u)+"").length-1),b=u/m;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:1,m*b}}),vo=function(u){return new na(u)},Vi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Os=gi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?Vi+" ":"")+"Leaflet</a>"},initialize:function(u){J(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=St("div","leaflet-control-attribution"),Ir(this._container);for(var m in u._layers)u._layers[m].getAttribution&&this.addAttribution(u._layers[m].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var m in this._attributions)this._attributions[m]&&u.push(m);var b=[];this.options.prefix&&b.push(this.options.prefix),u.length&&b.push(u.join(", ")),this._container.innerHTML=b.join(' <span aria-hidden="true">|</span> ')}}});dt.mergeOptions({attributionControl:!0}),dt.addInitHook(function(){this.options.attributionControl&&new Os().addTo(this)});var $l=function(u){return new Os(u)};gi.Layers=Ji,gi.Zoom=Pr,gi.Scale=na,gi.Attribution=Os,xn.layers=Qo,xn.zoom=Ko,xn.scale=vo,xn.attribution=$l;var Wi=ne.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wi.addTo=function(u,m){return u.addHandler(m,this),this};var eu={Events:R},So=Ke.touch?"touchstart mousedown":"mousedown",Br=j.extend({options:{clickTolerance:3},initialize:function(u,m,b,O){J(this,O),this._element=u,this._dragStartTarget=m||u,this._preventOutline=b},enable:function(){this._enabled||(st(this._dragStartTarget,So,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Br._dragging===this&&this.finishDrag(!0),zt(this._dragStartTarget,So,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!Ds(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Br._dragging===this&&this.finishDrag();return}if(!(Br._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Br._dragging=this,this._preventOutline&&ma(this._element),As(),Zi(),!this._moving)){this.fire("down");var m=u.touches?u.touches[0]:u,b=ni(this._element);this._startPoint=new z(m.clientX,m.clientY),this._startPos=gr(this._element),this._parentScale=Un(b);var O=u.type==="mousedown";st(document,O?"mousemove":"touchmove",this._onMove,this),st(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var m=u.touches&&u.touches.length===1?u.touches[0]:u,b=new z(m.clientX,m.clientY)._subtract(this._startPoint);!b.x&&!b.y||Math.abs(b.x)+Math.abs(b.y)<this.options.clickTolerance||(b.x/=this._parentScale.x,b.y/=this._parentScale.y,rn(u),this._moved||(this.fire("dragstart"),this._moved=!0,ft(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(b),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),en(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),zt(document,"mousemove touchmove",this._onMove,this),zt(document,"mouseup touchend touchcancel",this._onUp,this),$r(),Mi();var m=this._moved&&this._moving;this._moving=!1,Br._dragging=!1,m&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function $o(u,m,b){var O,U=[1,4,2,8],oe,me,Ee,Ce,Pe,qe,nt,xt;for(oe=0,qe=u.length;oe<qe;oe++)u[oe]._code=Cn(u[oe],m);for(Ee=0;Ee<4;Ee++){for(nt=U[Ee],O=[],oe=0,qe=u.length,me=qe-1;oe<qe;me=oe++)Ce=u[oe],Pe=u[me],Ce._code&nt?Pe._code&nt||(xt=Ga(Pe,Ce,nt,m,b),xt._code=Cn(xt,m),O.push(xt)):(Pe._code&nt&&(xt=Ga(Pe,Ce,nt,m,b),xt._code=Cn(xt,m),O.push(xt)),O.push(Ce));u=O}return u}function el(u,m){var b,O,U,oe,me,Ee,Ce,Pe,qe;if(!u||u.length===0)throw new Error("latlngs not passed");mi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var nt=Se([0,0]),xt=pe(u),ai=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());ai<1700&&(nt=vr(u));var Rn=u.length,Fi=[];for(b=0;b<Rn;b++){var Gt=Se(u[b]);Fi.push(m.project(Se([Gt.lat-nt.lat,Gt.lng-nt.lng])))}for(Ee=Ce=Pe=0,b=0,O=Rn-1;b<Rn;O=b++)U=Fi[b],oe=Fi[O],me=U.y*oe.x-oe.y*U.x,Ce+=(U.x+oe.x)*me,Pe+=(U.y+oe.y)*me,Ee+=me*3;Ee===0?qe=Fi[0]:qe=[Ce/Ee,Pe/Ee];var qt=m.unproject(Q(qe));return Se([qt.lat+nt.lat,qt.lng+nt.lng])}function vr(u){for(var m=0,b=0,O=0,U=0;U<u.length;U++){var oe=Se(u[U]);m+=oe.lat,b+=oe.lng,O++}return Se([m/O,b/O])}var ii={__proto__:null,clipPolygon:$o,polygonCenter:el,centroid:vr};function tl(u,m){if(!m||!u.length)return u.slice();var b=m*m;return u=Eo(u,b),u=Ms(u,b),u}function xo(u,m,b){return Math.sqrt(Ha(u,m,b,!0))}function tu(u,m,b){return Ha(u,m,b)}function Ms(u,m){var b=u.length,O=typeof Uint8Array<"u"?Uint8Array:Array,U=new O(b);U[0]=U[b-1]=1,Rs(u,U,m,0,b-1);var oe,me=[];for(oe=0;oe<b;oe++)U[oe]&&me.push(u[oe]);return me}function Rs(u,m,b,O,U){var oe=0,me,Ee,Ce;for(Ee=O+1;Ee<=U-1;Ee++)Ce=Ha(u[Ee],u[O],u[U],!0),Ce>oe&&(me=Ee,oe=Ce);oe>b&&(m[me]=1,Rs(u,m,b,O,me),Rs(u,m,b,me,U))}function Eo(u,m){for(var b=[u[0]],O=1,U=0,oe=u.length;O<oe;O++)qa(u[O],u[U])>m&&(b.push(u[O]),U=O);return U<oe-1&&b.push(u[oe-1]),b}var bo;function Li(u,m,b,O,U){var oe=O?bo:Cn(u,b),me=Cn(m,b),Ee,Ce,Pe;for(bo=me;;){if(!(oe|me))return[u,m];if(oe&me)return!1;Ee=oe||me,Ce=Ga(u,m,Ee,b,U),Pe=Cn(Ce,b),Ee===oe?(u=Ce,oe=Pe):(m=Ce,me=Pe)}}function Ga(u,m,b,O,U){var oe=m.x-u.x,me=m.y-u.y,Ee=O.min,Ce=O.max,Pe,qe;return b&8?(Pe=u.x+oe*(Ce.y-u.y)/me,qe=Ce.y):b&4?(Pe=u.x+oe*(Ee.y-u.y)/me,qe=Ee.y):b&2?(Pe=Ce.x,qe=u.y+me*(Ce.x-u.x)/oe):b&1&&(Pe=Ee.x,qe=u.y+me*(Ee.x-u.x)/oe),new z(Pe,qe,U)}function Cn(u,m){var b=0;return u.x<m.min.x?b|=1:u.x>m.max.x&&(b|=2),u.y<m.min.y?b|=4:u.y>m.max.y&&(b|=8),b}function qa(u,m){var b=m.x-u.x,O=m.y-u.y;return b*b+O*O}function Ha(u,m,b,O){var U=m.x,oe=m.y,me=b.x-U,Ee=b.y-oe,Ce=me*me+Ee*Ee,Pe;return Ce>0&&(Pe=((u.x-U)*me+(u.y-oe)*Ee)/Ce,Pe>1?(U=b.x,oe=b.y):Pe>0&&(U+=me*Pe,oe+=Ee*Pe)),me=u.x-U,Ee=u.y-oe,O?me*me+Ee*Ee:new z(U,oe)}function mi(u){return!X(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Za(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mi(u)}function ia(u,m){var b,O,U,oe,me,Ee,Ce,Pe;if(!u||u.length===0)throw new Error("latlngs not passed");mi(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var qe=Se([0,0]),nt=pe(u),xt=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());xt<1700&&(qe=vr(u));var ai=u.length,Rn=[];for(b=0;b<ai;b++){var Fi=Se(u[b]);Rn.push(m.project(Se([Fi.lat-qe.lat,Fi.lng-qe.lng])))}for(b=0,O=0;b<ai-1;b++)O+=Rn[b].distanceTo(Rn[b+1])/2;if(O===0)Pe=Rn[0];else for(b=0,oe=0;b<ai-1;b++)if(me=Rn[b],Ee=Rn[b+1],U=me.distanceTo(Ee),oe+=U,oe>O){Ce=(oe-O)/U,Pe=[Ee.x-Ce*(Ee.x-me.x),Ee.y-Ce*(Ee.y-me.y)];break}var Gt=m.unproject(Q(Pe));return Se([Gt.lat+qe.lat,Gt.lng+qe.lng])}var To={__proto__:null,simplify:tl,pointToSegmentDistance:xo,closestPointOnSegment:tu,clipSegment:Li,_getEdgeIntersection:Ga,_getBitCode:Cn,_sqClosestPointOnSegment:Ha,isFlat:mi,_flat:Za,polylineCenter:ia},Is={project:function(u){return new z(u.lng,u.lat)},unproject:function(u){return new ge(u.y,u.x)},bounds:new Y([-180,-90],[180,90])},Ps={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var m=Math.PI/180,b=this.R,O=u.lat*m,U=this.R_MINOR/b,oe=Math.sqrt(1-U*U),me=oe*Math.sin(O),Ee=Math.tan(Math.PI/4-O/2)/Math.pow((1-me)/(1+me),oe/2);return O=-b*Math.log(Math.max(Ee,1e-10)),new z(u.lng*m*b,O)},unproject:function(u){for(var m=180/Math.PI,b=this.R,O=this.R_MINOR/b,U=Math.sqrt(1-O*O),oe=Math.exp(-u.y/b),me=Math.PI/2-2*Math.atan(oe),Ee=0,Ce=.1,Pe;Ee<15&&Math.abs(Ce)>1e-7;Ee++)Pe=U*Math.sin(me),Pe=Math.pow((1-Pe)/(1+Pe),U/2),Ce=Math.PI/2-2*Math.atan(oe*Pe)-me,me+=Ce;return new ge(me*m,u.x*m/b)}},nl={__proto__:null,LonLat:Is,Mercator:Ps,SphericalMercator:Me},il=r({},he,{code:"EPSG:3395",projection:Ps,transformation:(function(){var u=.5/(Math.PI*Ps.R);return fe(u,.5,-u,.5)})()}),wo=r({},he,{code:"EPSG:4326",projection:Is,transformation:fe(1/180,1,-1/180,.5)}),Sa=r({},De,{projection:Is,transformation:fe(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,m){var b=m.lng-u.lng,O=m.lat-u.lat;return Math.sqrt(b*b+O*O)},infinite:!0});De.Earth=he,De.EPSG3395=il,De.EPSG3857=Xe,De.EPSG900913=Ze,De.EPSG4326=wo,De.Simple=Sa;var Ii=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[y(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[y(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var m=u.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var b=this.getEvents();m.on(b,this),this.once("remove",function(){m.off(b,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});dt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var m=y(u);return this._layers[m]?this:(this._layers[m]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var m=y(u);return this._layers[m]?(this._loaded&&u.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return y(u)in this._layers},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},_addLayers:function(u){u=u?X(u)?u:[u]:[];for(var m=0,b=u.length;m<b;m++)this.addLayer(u[m])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[y(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var m=y(u);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,m=-1/0,b=this._getZoomSpan();for(var O in this._zoomBoundLayers){var U=this._zoomBoundLayers[O].options;u=U.minZoom===void 0?u:Math.min(u,U.minZoom),m=U.maxZoom===void 0?m:Math.max(m,U.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=u===1/0?void 0:u,b!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xa=Ii.extend({initialize:function(u,m){J(this,m),this._layers={};var b,O;if(u)for(b=0,O=u.length;b<O;b++)this.addLayer(u[b])},addLayer:function(u){var m=this.getLayerId(u);return this._layers[m]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var m=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(u){var m=typeof u=="number"?u:this.getLayerId(u);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var m=Array.prototype.slice.call(arguments,1),b,O;for(b in this._layers)O=this._layers[b],O[u]&&O[u].apply(O,m);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,m){for(var b in this._layers)u.call(m,this._layers[b]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return y(u)}}),rl=function(u,m){return new xa(u,m)},Qi=xa.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),xa.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),xa.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new ce;for(var m in this._layers){var b=this._layers[m];u.extend(b.getBounds?b.getBounds():b.getLatLng())}return u}}),Co=function(u,m){return new Qi(u,m)},Ki=ne.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){J(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,m){var b=this._getIconUrl(u);if(!b){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(b,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(O,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(u,m){var b=this.options,O=b[m+"Size"];typeof O=="number"&&(O=[O,O]);var U=Q(O),oe=Q(m==="shadow"&&b.shadowAnchor||b.iconAnchor||U&&U.divideBy(2,!0));u.className="leaflet-marker-"+m+" "+(b.className||""),oe&&(u.style.marginLeft=-oe.x+"px",u.style.marginTop=-oe.y+"px"),U&&(u.style.width=U.x+"px",u.style.height=U.y+"px")},_createImg:function(u,m){return m=m||document.createElement("img"),m.src=u,m},_getIconUrl:function(u){return Ke.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Xa(u){return new Ki(u)}var Ja=Ki.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Ja.imagePath!="string"&&(Ja.imagePath=this._detectIconPath()),(this.options.imagePath||Ja.imagePath)+Ki.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var m=function(b,O,U){var oe=O.exec(b);return oe&&oe[U]};return u=m(u,/^url\((['"])?(.+)\1\)$/,2),u&&m(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=St("div","leaflet-default-icon-path",document.body),m=Hi(u,"background-image")||Hi(u,"backgroundImage");if(document.body.removeChild(u),m=this._stripUrl(m),m)return m;var b=document.querySelector('link[href$="leaflet.css"]');return b?b.href.substring(0,b.href.length-11-1):""}}),Va=Wi.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Br(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ft(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var m=this._marker,b=m._map,O=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,oe=gr(m._icon),me=b.getPixelBounds(),Ee=b.getPixelOrigin(),Ce=$(me.min._subtract(Ee).add(U),me.max._subtract(Ee).subtract(U));if(!Ce.contains(oe)){var Pe=Q((Math.max(Ce.max.x,oe.x)-Ce.max.x)/(me.max.x-Ce.max.x)-(Math.min(Ce.min.x,oe.x)-Ce.min.x)/(me.min.x-Ce.min.x),(Math.max(Ce.max.y,oe.y)-Ce.max.y)/(me.max.y-Ce.max.y)-(Math.min(Ce.min.y,oe.y)-Ce.min.y)/(me.min.y-Ce.min.y)).multiplyBy(O);b.panBy(Pe,{animate:!1}),this._draggable._newPos._add(Pe),this._draggable._startPos._add(Pe),en(m._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=Z(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,u)))},_onDrag:function(u){var m=this._marker,b=m._shadow,O=gr(m._icon),U=m._map.layerPointToLatLng(O);b&&en(b,O),m._latlng=U,u.latlng=U,u.oldLatLng=this._oldLatLng,m.fire("move",u).fire("drag",u)},_onDragEnd:function(u){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Wa=Ii.extend({options:{icon:new Ja,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,m){J(this,m),this._latlng=Se(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var m=this._latlng;return this._latlng=Se(u),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),b=u.icon.createIcon(this._icon),O=!1;b!==this._icon&&(this._icon&&this._removeIcon(),O=!0,u.title&&(b.title=u.title),b.tagName==="IMG"&&(b.alt=u.alt||"")),ft(b,m),u.keyboard&&(b.tabIndex="0",b.setAttribute("role","button")),this._icon=b,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(b,"focus",this._panOnFocus,this);var U=u.icon.createShadow(this._shadow),oe=!1;U!==this._shadow&&(this._removeShadow(),oe=!0),U&&(ft(U,m),U.alt=""),this._shadow=U,u.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&oe&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&en(this._icon,u),this._shadow&&en(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Va)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Va(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Ut(this._icon,u),this._shadow&&Ut(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var m=this.options.icon.options,b=m.iconSize?Q(m.iconSize):Q(0,0),O=m.iconAnchor?Q(m.iconAnchor):Q(0,0);u.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:b.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function al(u,m){return new Wa(u,m)}var $i=Ii.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return J(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ra=$i.extend({options:{fill:!0,radius:10},initialize:function(u,m){J(this,m),this._latlng=Se(u),this._radius=this.options.radius},setLatLng:function(u){var m=this._latlng;return this._latlng=Se(u),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var m=u&&u.radius||this._radius;return $i.prototype.setStyle.call(this,u),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,m=this._radiusY||u,b=this._clickTolerance(),O=[u+b,m+b];this._pxBounds=new Y(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lo(u,m){return new ra(u,m)}var Qa=ra.extend({initialize:function(u,m,b){if(typeof m=="number"&&(m=r({},b,{radius:m})),J(this,m),this._latlng=Se(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:$i.prototype.setStyle,_project:function(){var u=this._latlng.lng,m=this._latlng.lat,b=this._map,O=b.options.crs;if(O.distance===he.distance){var U=Math.PI/180,oe=this._mRadius/he.R/U,me=b.project([m+oe,u]),Ee=b.project([m-oe,u]),Ce=me.add(Ee).divideBy(2),Pe=b.unproject(Ce).lat,qe=Math.acos((Math.cos(oe*U)-Math.sin(m*U)*Math.sin(Pe*U))/(Math.cos(m*U)*Math.cos(Pe*U)))/U;(isNaN(qe)||qe===0)&&(qe=oe/Math.cos(Math.PI/180*m)),this._point=Ce.subtract(b.getPixelOrigin()),this._radius=isNaN(qe)?0:Ce.x-b.project([Pe,u-qe]).x,this._radiusY=Ce.y-me.y}else{var nt=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=b.latLngToLayerPoint(this._latlng),this._radius=this._point.x-b.latLngToLayerPoint(nt).x}this._updateBounds()}});function sl(u,m,b){return new Qa(u,m,b)}var er=$i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,m){J(this,m),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var m=1/0,b=null,O=Ha,U,oe,me=0,Ee=this._parts.length;me<Ee;me++)for(var Ce=this._parts[me],Pe=1,qe=Ce.length;Pe<qe;Pe++){U=Ce[Pe-1],oe=Ce[Pe];var nt=O(u,U,oe,!0);nt<m&&(m=nt,b=O(u,U,oe))}return b&&(b.distance=Math.sqrt(m)),b},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ia(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,m){return m=m||this._defaultShape(),u=Se(u),m.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new ce,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return mi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var m=[],b=mi(u),O=0,U=u.length;O<U;O++)b?(m[O]=Se(u[O]),this._bounds.extend(m[O])):m[O]=this._convertLatLngs(u[O]);return m},_project:function(){var u=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),m=new z(u,u);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(u,m,b){var O=u[0]instanceof ge,U=u.length,oe,me;if(O){for(me=[],oe=0;oe<U;oe++)me[oe]=this._map.latLngToLayerPoint(u[oe]),b.extend(me[oe]);m.push(me)}else for(oe=0;oe<U;oe++)this._projectLatlngs(u[oe],m,b)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,b,O,U,oe,me,Ee,Ce;for(b=0,U=0,oe=this._rings.length;b<oe;b++)for(Ce=this._rings[b],O=0,me=Ce.length;O<me-1;O++)Ee=Li(Ce[O],Ce[O+1],u,O,!0),Ee&&(m[U]=m[U]||[],m[U].push(Ee[0]),(Ee[1]!==Ce[O+1]||O===me-2)&&(m[U].push(Ee[1]),U++))}},_simplifyPoints:function(){for(var u=this._parts,m=this.options.smoothFactor,b=0,O=u.length;b<O;b++)u[b]=tl(u[b],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,m){var b,O,U,oe,me,Ee,Ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(b=0,oe=this._parts.length;b<oe;b++)for(Ee=this._parts[b],O=0,me=Ee.length,U=me-1;O<me;U=O++)if(!(!m&&O===0)&&xo(u,Ee[U],Ee[O])<=Ce)return!0;return!1}});function Do(u,m){return new er(u,m)}er._flat=Za;var Ea=er.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return el(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var m=er.prototype._convertLatLngs.call(this,u),b=m.length;return b>=2&&m[0]instanceof ge&&m[0].equals(m[b-1])&&m.pop(),m},_setLatLngs:function(u){er.prototype._setLatLngs.call(this,u),mi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,m=this.options.weight,b=new z(m,m);if(u=new Y(u.min.subtract(b),u.max.add(b)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,U=this._rings.length,oe;O<U;O++)oe=$o(this._rings[O],u,!0),oe.length&&this._parts.push(oe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var m=!1,b,O,U,oe,me,Ee,Ce,Pe;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(oe=0,Ce=this._parts.length;oe<Ce;oe++)for(b=this._parts[oe],me=0,Pe=b.length,Ee=Pe-1;me<Pe;Ee=me++)O=b[me],U=b[Ee],O.y>u.y!=U.y>u.y&&u.x<(U.x-O.x)*(u.y-O.y)/(U.y-O.y)+O.x&&(m=!m);return m||er.prototype._containsPoint.call(this,u,!0)}});function ol(u,m){return new Ea(u,m)}var tr=Qi.extend({initialize:function(u,m){J(this,m),this._layers={},u&&this.addData(u)},addData:function(u){var m=X(u)?u:u.features,b,O,U;if(m){for(b=0,O=m.length;b<O;b++)U=m[b],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var oe=this.options;if(oe.filter&&!oe.filter(u))return this;var me=Gn(u,oe);return me?(me.feature=p(u),me.defaultOptions=me.options,this.resetStyle(me),oe.onEachFeature&&oe.onEachFeature(u,me),this.addLayer(me)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=r({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(m){this._setLayerStyle(m,u)},this)},_setLayerStyle:function(u,m){u.setStyle&&(typeof m=="function"&&(m=m(u.feature)),u.setStyle(m))}});function Gn(u,m){var b=u.type==="Feature"?u.geometry:u,O=b?b.coordinates:null,U=[],oe=m&&m.pointToLayer,me=m&&m.coordsToLatLng||Sr,Ee,Ce,Pe,qe;if(!O&&!b)return null;switch(b.type){case"Point":return Ee=me(O),ba(oe,u,Ee,m);case"MultiPoint":for(Pe=0,qe=O.length;Pe<qe;Pe++)Ee=me(O[Pe]),U.push(ba(oe,u,Ee,m));return new Qi(U);case"LineString":case"MultiLineString":return Ce=Ka(O,b.type==="LineString"?0:1,me),new er(Ce,m);case"Polygon":case"MultiPolygon":return Ce=Ka(O,b.type==="Polygon"?1:2,me),new Ea(Ce,m);case"GeometryCollection":for(Pe=0,qe=b.geometries.length;Pe<qe;Pe++){var nt=Gn({geometry:b.geometries[Pe],type:"Feature",properties:u.properties},m);nt&&U.push(nt)}return new Qi(U);case"FeatureCollection":for(Pe=0,qe=b.features.length;Pe<qe;Pe++){var xt=Gn(b.features[Pe],m);xt&&U.push(xt)}return new Qi(U);default:throw new Error("Invalid GeoJSON object.")}}function ba(u,m,b,O){return u?u(m,b):new Wa(b,O&&O.markersInheritOptions&&O)}function Sr(u){return new ge(u[1],u[0],u[2])}function Ka(u,m,b){for(var O=[],U=0,oe=u.length,me;U<oe;U++)me=m?Ka(u[U],m-1,b):(b||Sr)(u[U]),O.push(me);return O}function $a(u,m){return u=Se(u),u.alt!==void 0?[A(u.lng,m),A(u.lat,m),A(u.alt,m)]:[A(u.lng,m),A(u.lat,m)]}function qn(u,m,b,O){for(var U=[],oe=0,me=u.length;oe<me;oe++)U.push(m?qn(u[oe],mi(u[oe])?0:m-1,b,O):$a(u[oe],O));return!m&&b&&U.length>0&&U.push(U[0].slice()),U}function Fn(u,m){return u.feature?r({},u.feature,{geometry:m}):p(m)}function p(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var s={toGeoJSON:function(u){return Fn(this,{type:"Point",coordinates:$a(this.getLatLng(),u)})}};Wa.include(s),Qa.include(s),ra.include(s),er.include({toGeoJSON:function(u){var m=!mi(this._latlngs),b=qn(this._latlngs,m?1:0,!1,u);return Fn(this,{type:(m?"Multi":"")+"LineString",coordinates:b})}}),Ea.include({toGeoJSON:function(u){var m=!mi(this._latlngs),b=m&&!mi(this._latlngs[0]),O=qn(this._latlngs,b?2:m?1:0,!0,u);return m||(O=[O]),Fn(this,{type:(b?"Multi":"")+"Polygon",coordinates:O})}}),xa.include({toMultiPoint:function(u){var m=[];return this.eachLayer(function(b){m.push(b.toGeoJSON(u).geometry.coordinates)}),Fn(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(u){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(u);var b=m==="GeometryCollection",O=[];return this.eachLayer(function(U){if(U.toGeoJSON){var oe=U.toGeoJSON(u);if(b)O.push(oe.geometry);else{var me=p(oe);me.type==="FeatureCollection"?O.push.apply(O,me.features):O.push(me)}}}),b?Fn(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function o(u,m){return new tr(u,m)}var d=o,S=Ii.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,m,b){this._url=u,this._bounds=pe(m),J(this,b)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Bn(this._image),this},bringToBack:function(){return this._map&&Rr(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=pe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",m=this._image=u?this._url:St("img");if(ft(m,"leaflet-image-layer"),this._zoomAnimated&&ft(m,"leaflet-zoom-animated"),this.options.className&&ft(m,this.options.className),m.onselectstart=x,m.onmousemove=x,m.onload=f(this.fire,this,"load"),m.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(u){var m=this._map.getZoomScale(u.zoom),b=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;pr(this._image,b,m)},_reset:function(){var u=this._image,m=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),b=m.getSize();en(u,m.min),u.style.width=b.x+"px",u.style.height=b.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),C=function(u,m,b){return new S(u,m,b)},I=S.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",m=this._image=u?this._url:St("video");if(ft(m,"leaflet-image-layer"),this._zoomAnimated&&ft(m,"leaflet-zoom-animated"),this.options.className&&ft(m,this.options.className),m.onselectstart=x,m.onmousemove=x,m.onloadeddata=f(this.fire,this,"load"),u){for(var b=m.getElementsByTagName("source"),O=[],U=0;U<b.length;U++)O.push(b[U].src);this._url=b.length>0?O:[m.src];return}X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var oe=0;oe<this._url.length;oe++){var me=St("source");me.src=this._url[oe],m.appendChild(me)}}});function H(u,m,b){return new I(u,m,b)}var le=S.extend({_initImage:function(){var u=this._image=this._url;ft(u,"leaflet-image-layer"),this._zoomAnimated&&ft(u,"leaflet-zoom-animated"),this.options.className&&ft(u,this.options.className),u.onselectstart=x,u.onmousemove=x}});function de(u,m,b){return new le(u,m,b)}var ye=Ii.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,m){u&&(u instanceof ge||X(u))?(this._latlng=Se(u),J(this,m)):(J(this,u),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(f(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Se(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bn(this._container),this},bringToBack:function(){return this._map&&Rr(this._container),this},_prepareOpen:function(u){var m=this._source;if(!m._map)return!1;if(m instanceof Qi){m=null;var b=this._source._layers;for(var O in b)if(b[O]._map){m=b[O];break}if(!m)return!1;this._source=m}if(!u)if(m.getCenter)u=m.getCenter();else if(m.getLatLng)u=m.getLatLng();else if(m.getBounds)u=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")u.innerHTML=m;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),m=Q(this.options.offset),b=this._getAnchor();this._zoomAnimated?en(this._container,u.add(b)):m=m.add(u).add(b);var O=this._containerBottom=-m.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=O+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});dt.include({_initOverlay:function(u,m,b,O){var U=m;return U instanceof u||(U=new u(O).setContent(m)),b&&U.setLatLng(b),U}}),Ii.include({_initOverlay:function(u,m,b,O){var U=b;return U instanceof u?(J(U,O),U._source=this):(U=m&&!O?m:new u(O,this),U.setContent(b)),U}});var be=ye.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,ye.prototype.openOn.call(this,u)},onAdd:function(u){ye.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $i||this._source.on("preclick",Sn))},onRemove:function(u){ye.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $i||this._source.off("preclick",Sn))},getEvents:function(){var u=ye.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",m=this._container=St("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),b=this._wrapper=St("div",u+"-content-wrapper",m);if(this._contentNode=St("div",u+"-content",b),Ir(m),Ci(this._contentNode),st(m,"contextmenu",Sn),this._tipContainer=St("div",u+"-tip-container",m),this._tip=St("div",u+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=St("a",u+"-close-button",m);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',st(O,"click",function(U){rn(U),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,m=u.style;m.width="",m.whiteSpace="nowrap";var b=u.offsetWidth;b=Math.min(b,this.options.maxWidth),b=Math.max(b,this.options.minWidth),m.width=b+1+"px",m.whiteSpace="",m.height="";var O=u.offsetHeight,U=this.options.maxHeight,oe="leaflet-popup-scrolled";U&&O>U?(m.height=U+"px",ft(u,oe)):Pt(u,oe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),b=this._getAnchor();en(this._container,m.add(b))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,m=parseInt(Hi(this._container,"marginBottom"),10)||0,b=this._container.offsetHeight+m,O=this._containerWidth,U=new z(this._containerLeft,-b-this._containerBottom);U._add(gr(this._container));var oe=u.layerPointToContainerPoint(U),me=Q(this.options.autoPanPadding),Ee=Q(this.options.autoPanPaddingTopLeft||me),Ce=Q(this.options.autoPanPaddingBottomRight||me),Pe=u.getSize(),qe=0,nt=0;oe.x+O+Ce.x>Pe.x&&(qe=oe.x+O-Pe.x+Ce.x),oe.x-qe-Ee.x<0&&(qe=oe.x-Ee.x),oe.y+b+Ce.y>Pe.y&&(nt=oe.y+b-Pe.y+Ce.y),oe.y-nt-Ee.y<0&&(nt=oe.y-Ee.y),(qe||nt)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([qe,nt]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ze=function(u,m){return new be(u,m)};dt.mergeOptions({closePopupOnClick:!0}),dt.include({openPopup:function(u,m,b){return this._initOverlay(be,u,m,b).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Ii.include({bindPopup:function(u,m){return this._popup=this._initOverlay(be,this._popup,u,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof Qi||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){yr(u);var m=u.layer||u.target;if(this._popup._source===m&&!(m instanceof $i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=m,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Ge=ye.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){ye.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){ye.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=ye.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",m=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=St("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var m,b,O=this._map,U=this._container,oe=O.latLngToContainerPoint(O.getCenter()),me=O.layerPointToContainerPoint(u),Ee=this.options.direction,Ce=U.offsetWidth,Pe=U.offsetHeight,qe=Q(this.options.offset),nt=this._getAnchor();Ee==="top"?(m=Ce/2,b=Pe):Ee==="bottom"?(m=Ce/2,b=0):Ee==="center"?(m=Ce/2,b=Pe/2):Ee==="right"?(m=0,b=Pe/2):Ee==="left"?(m=Ce,b=Pe/2):me.x<oe.x?(Ee="right",m=0,b=Pe/2):(Ee="left",m=Ce+(qe.x+nt.x)*2,b=Pe/2),u=u.subtract(Q(m,b,!0)).add(qe).add(nt),Pt(U,"leaflet-tooltip-right"),Pt(U,"leaflet-tooltip-left"),Pt(U,"leaflet-tooltip-top"),Pt(U,"leaflet-tooltip-bottom"),ft(U,"leaflet-tooltip-"+Ee),en(U,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Ut(this._container,u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(m)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ve=function(u,m){return new Ge(u,m)};dt.include({openTooltip:function(u,m,b){return this._initOverlay(Ge,u,m,b).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Ii.include({bindTooltip:function(u,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ge,this._tooltip,u,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var m=u?"off":"on",b={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?b.add=this._openTooltip:(b.mouseover=this._openTooltip,b.mouseout=this.closeTooltip,b.click=this._openTooltip,this._map?this._addFocusListeners():b.add=this._addFocusListeners),this._tooltip.options.sticky&&(b.mousemove=this._moveTooltip),this[m](b),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof Qi||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&(st(m,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),st(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var m=typeof u.getElement=="function"&&u.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var m=u.latlng,b,O;this._tooltip.options.sticky&&u.originalEvent&&(b=this._map.mouseEventToContainerPoint(u.originalEvent),O=this._map.containerPointToLayerPoint(b),m=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(m)}});var tt=Ki.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var m=u&&u.tagName==="DIV"?u:document.createElement("div"),b=this.options;if(b.html instanceof Element?(Ti(m),m.appendChild(b.html)):m.innerHTML=b.html!==!1?b.html:"",b.bgPos){var O=Q(b.bgPos);m.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function Ct(u){return new tt(u)}Ki.Default=Ja;var gt=Ii.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){J(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Kt(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof z?u:new z(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var m=this.getPane().children,b=-u(-1/0,1/0),O=0,U=m.length,oe;O<U;O++)oe=m[O].style.zIndex,m[O]!==this._container&&oe&&(b=u(b,+oe));isFinite(b)&&(this.options.zIndex=b+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){Ut(this._container,this.options.opacity);var u=+new Date,m=!1,b=!1;for(var O in this._tiles){var U=this._tiles[O];if(!(!U.current||!U.loaded)){var oe=Math.min(1,(u-U.loaded)/200);Ut(U.el,oe),oe<1?m=!0:(U.active?b=!0:this._onOpaqueTile(U),U.active=!0)}}b&&!this._noPrune&&this._pruneTiles(),m&&(q(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=St("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,m=this.options.maxZoom;if(u!==void 0){for(var b in this._levels)b=Number(b),this._levels[b].el.children.length||b===u?(this._levels[b].el.style.zIndex=m-Math.abs(u-b),this._onUpdateLevel(b)):(Kt(this._levels[b].el),this._removeTilesAtZoom(b),this._onRemoveLevel(b),delete this._levels[b]);var O=this._levels[u],U=this._map;return O||(O=this._levels[u]={},O.el=St("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=m,O.origin=U.project(U.unproject(U.getPixelOrigin()),u).round(),O.zoom=u,this._setZoomTransform(O,U.getCenter(),U.getZoom()),x(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var u,m,b=this._map.getZoom();if(b>this.options.maxZoom||b<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)m=this._tiles[u],m.retain=m.current;for(u in this._tiles)if(m=this._tiles[u],m.current&&!m.active){var O=m.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var m in this._tiles)this._tiles[m].coords.z===u&&this._removeTile(m)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Kt(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,m,b,O){var U=Math.floor(u/2),oe=Math.floor(m/2),me=b-1,Ee=new z(+U,+oe);Ee.z=+me;var Ce=this._tileCoordsToKey(Ee),Pe=this._tiles[Ce];return Pe&&Pe.active?(Pe.retain=!0,!0):(Pe&&Pe.loaded&&(Pe.retain=!0),me>O?this._retainParent(U,oe,me,O):!1)},_retainChildren:function(u,m,b,O){for(var U=2*u;U<2*u+2;U++)for(var oe=2*m;oe<2*m+2;oe++){var me=new z(U,oe);me.z=b+1;var Ee=this._tileCoordsToKey(me),Ce=this._tiles[Ee];if(Ce&&Ce.active){Ce.retain=!0;continue}else Ce&&Ce.loaded&&(Ce.retain=!0);b+1<O&&this._retainChildren(U,oe,b+1,O)}},_resetView:function(u){var m=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var m=this.options;return m.minNativeZoom!==void 0&&u<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<u?m.maxNativeZoom:u},_setView:function(u,m,b,O){var U=Math.round(m);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var oe=this.options.updateWhenZooming&&U!==this._tileZoom;(!O||oe)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(u),b||this._pruneTiles(),this._noPrune=!!b),this._setZoomTransforms(u,m)},_setZoomTransforms:function(u,m){for(var b in this._levels)this._setZoomTransform(this._levels[b],u,m)},_setZoomTransform:function(u,m,b){var O=this._map.getZoomScale(b,u.zoom),U=u.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(m,b)).round();Ke.any3d?pr(u.el,U,O):en(u.el,U)},_resetGrid:function(){var u=this._map,m=u.options.crs,b=this._tileSize=this.getTileSize(),O=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,m.wrapLng[0]],O).x/b.x),Math.ceil(u.project([0,m.wrapLng[1]],O).x/b.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([m.wrapLat[0],0],O).y/b.x),Math.ceil(u.project([m.wrapLat[1],0],O).y/b.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var m=this._map,b=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),O=m.getZoomScale(b,this._tileZoom),U=m.project(u,this._tileZoom).floor(),oe=m.getSize().divideBy(O*2);return new Y(U.subtract(oe),U.add(oe))},_update:function(u){var m=this._map;if(m){var b=this._clampZoom(m.getZoom());if(u===void 0&&(u=m.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(u),U=this._pxBoundsToTileRange(O),oe=U.getCenter(),me=[],Ee=this.options.keepBuffer,Ce=new Y(U.getBottomLeft().subtract([Ee,-Ee]),U.getTopRight().add([Ee,-Ee]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pe in this._tiles){var qe=this._tiles[Pe].coords;(qe.z!==this._tileZoom||!Ce.contains(new z(qe.x,qe.y)))&&(this._tiles[Pe].current=!1)}if(Math.abs(b-this._tileZoom)>1){this._setView(u,b);return}for(var nt=U.min.y;nt<=U.max.y;nt++)for(var xt=U.min.x;xt<=U.max.x;xt++){var ai=new z(xt,nt);if(ai.z=this._tileZoom,!!this._isValidTile(ai)){var Rn=this._tiles[this._tileCoordsToKey(ai)];Rn?Rn.current=!0:me.push(ai)}}if(me.sort(function(Gt,qt){return Gt.distanceTo(oe)-qt.distanceTo(oe)}),me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fi=document.createDocumentFragment();for(xt=0;xt<me.length;xt++)this._addTile(me[xt],Fi);this._level.el.appendChild(Fi)}}}},_isValidTile:function(u){var m=this._map.options.crs;if(!m.infinite){var b=this._globalTileRange;if(!m.wrapLng&&(u.x<b.min.x||u.x>b.max.x)||!m.wrapLat&&(u.y<b.min.y||u.y>b.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(u);return pe(this.options.bounds).overlaps(O)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var m=this._map,b=this.getTileSize(),O=u.scaleBy(b),U=O.add(b),oe=m.unproject(O,u.z),me=m.unproject(U,u.z);return[oe,me]},_tileCoordsToBounds:function(u){var m=this._tileCoordsToNwSe(u),b=new ce(m[0],m[1]);return this.options.noWrap||(b=this._map.wrapLatLngBounds(b)),b},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var m=u.split(":"),b=new z(+m[0],+m[1]);return b.z=+m[2],b},_removeTile:function(u){var m=this._tiles[u];m&&(Kt(m.el),delete this._tiles[u],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){ft(u,"leaflet-tile");var m=this.getTileSize();u.style.width=m.x+"px",u.style.height=m.y+"px",u.onselectstart=x,u.onmousemove=x,Ke.ielt9&&this.options.opacity<1&&Ut(u,this.options.opacity)},_addTile:function(u,m){var b=this._getTilePos(u),O=this._tileCoordsToKey(u),U=this.createTile(this._wrapCoords(u),f(this._tileReady,this,u));this._initTile(U),this.createTile.length<2&&Z(f(this._tileReady,this,u,null,U)),en(U,b),this._tiles[O]={el:U,coords:u,current:!0},m.appendChild(U),this.fire("tileloadstart",{tile:U,coords:u})},_tileReady:function(u,m,b){m&&this.fire("tileerror",{error:m,tile:b,coords:u});var O=this._tileCoordsToKey(u);b=this._tiles[O],b&&(b.loaded=+new Date,this._map._fadeAnimated?(Ut(b.el,0),q(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(b.active=!0,this._pruneTiles()),m||(ft(b.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:b.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var m=new z(this._wrapX?E(u.x,this._wrapX):u.x,this._wrapY?E(u.y,this._wrapY):u.y);return m.z=u.z,m},_pxBoundsToTileRange:function(u){var m=this.getTileSize();return new Y(u.min.unscaleBy(m).floor(),u.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Yt(u){return new gt(u)}var an=gt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,m){this._url=u,m=J(this,m),m.detectRetina&&Ke.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,m){return this._url===u&&m===void 0&&(m=!0),this._url=u,m||this.redraw(),this},createTile:function(u,m){var b=document.createElement("img");return st(b,"load",f(this._tileOnLoad,this,m,b)),st(b,"error",f(this._tileOnError,this,m,b)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(b.referrerPolicy=this.options.referrerPolicy),b.alt="",b.src=this.getTileUrl(u),b},getTileUrl:function(u){var m={r:Ke.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var b=this._globalTileRange.max.y-u.y;this.options.tms&&(m.y=b),m["-y"]=b}return F(this._url,r(m,this.options))},_tileOnLoad:function(u,m){Ke.ielt9?setTimeout(f(u,this,null,m),0):u(null,m)},_tileOnError:function(u,m,b){var O=this.options.errorTileUrl;O&&m.getAttribute("src")!==O&&(m.src=O),u(b,m)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,m=this.options.maxZoom,b=this.options.zoomReverse,O=this.options.zoomOffset;return b&&(u=m-u),u+O},_getSubdomain:function(u){var m=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var u,m;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(m=this._tiles[u].el,m.onload=x,m.onerror=x,!m.complete)){m.src=W;var b=this._tiles[u].coords;Kt(m),delete this._tiles[u],this.fire("tileabort",{tile:m,coords:b})}},_removeTile:function(u){var m=this._tiles[u];if(m)return m.el.setAttribute("src",W),gt.prototype._removeTile.call(this,u)},_tileReady:function(u,m,b){if(!(!this._map||b&&b.getAttribute("src")===W))return gt.prototype._tileReady.call(this,u,m,b)}});function Wt(u,m){return new an(u,m)}var Pi=an.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,m){this._url=u;var b=r({},this.defaultWmsParams);for(var O in m)O in this.options||(b[O]=m[O]);m=J(this,m);var U=m.detectRetina&&Ke.retina?2:1,oe=this.getTileSize();b.width=oe.x*U,b.height=oe.y*U,this.wmsParams=b},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,an.prototype.onAdd.call(this,u)},getTileUrl:function(u){var m=this._tileCoordsToNwSe(u),b=this._crs,O=$(b.project(m[0]),b.project(m[1])),U=O.min,oe=O.max,me=(this._wmsVersion>=1.3&&this._crs===wo?[U.y,U.x,oe.y,oe.x]:[U.x,U.y,oe.x,oe.y]).join(","),Ee=an.prototype.getTileUrl.call(this,u);return Ee+se(this.wmsParams,Ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+me},setParams:function(u,m){return r(this.wmsParams,u),m||this.redraw(),this}});function Hn(u,m){return new Pi(u,m)}an.WMS=Pi,Wt.wms=Hn;var ri=Ii.extend({options:{padding:.1},initialize:function(u){J(this,u),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,m){var b=this._map.getZoomScale(m,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,m),oe=O.multiplyBy(-b).add(U).subtract(this._map._getNewPixelOrigin(u,m));Ke.any3d?pr(this._container,oe,b):en(this._container,oe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,m=this._map.getSize(),b=this._map.containerPointToLayerPoint(m.multiplyBy(-u)).round();this._bounds=new Y(b,b.add(m.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),es=ri.extend({options:{tolerance:0},getEvents:function(){var u=ri.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");st(u,"mousemove",this._onMouseMove,this),st(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),st(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Kt(this._container),zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var m in this._layers)u=this._layers[m],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var u=this._bounds,m=this._container,b=u.getSize(),O=Ke.retina?2:1;en(m,u.min),m.width=O*b.x,m.height=O*b.y,m.style.width=b.x+"px",m.style.height=b.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[y(u)]=u;var m=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var m=u._order,b=m.next,O=m.prev;b?b.prev=O:this._drawLast=O,O?O.next=b:this._drawFirst=b,delete u._order,delete this._layers[y(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var m=u.options.dashArray.split(/[, ]+/),b=[],O,U;for(U=0;U<m.length;U++){if(O=Number(m[U]),isNaN(O))return;b.push(O)}u.options._dashArray=b}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var m=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(u._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(u._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var m=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,m=this._redrawBounds;if(this._ctx.save(),m){var b=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,b.x,b.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)u=O.layer,(!m||u._pxBounds&&u._pxBounds.intersects(m))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,m){if(this._drawing){var b,O,U,oe,me=u._parts,Ee=me.length,Ce=this._ctx;if(Ee){for(Ce.beginPath(),b=0;b<Ee;b++){for(O=0,U=me[b].length;O<U;O++)oe=me[b][O],Ce[O?"lineTo":"moveTo"](oe.x,oe.y);m&&Ce.closePath()}this._fillStroke(Ce,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var m=u._point,b=this._ctx,O=Math.max(Math.round(u._radius),1),U=(Math.max(Math.round(u._radiusY),1)||O)/O;U!==1&&(b.save(),b.scale(1,U)),b.beginPath(),b.arc(m.x,m.y/U,O,0,Math.PI*2,!1),U!==1&&b.restore(),this._fillStroke(b,u)}},_fillStroke:function(u,m){var b=m.options;b.fill&&(u.globalAlpha=b.fillOpacity,u.fillStyle=b.fillColor||b.color,u.fill(b.fillRule||"evenodd")),b.stroke&&b.weight!==0&&(u.setLineDash&&u.setLineDash(m.options&&m.options._dashArray||[]),u.globalAlpha=b.opacity,u.lineWidth=b.weight,u.strokeStyle=b.color,u.lineCap=b.lineCap,u.lineJoin=b.lineJoin,u.stroke())},_onClick:function(u){for(var m=this._map.mouseEventToLayerPoint(u),b,O,U=this._drawFirst;U;U=U.next)b=U.layer,b.options.interactive&&b._containsPoint(m)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(b))&&(O=b);this._fireEvent(O?[O]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,m)}},_handleMouseOut:function(u){var m=this._hoveredLayer;m&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([m],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,m){if(!this._mouseHoverThrottled){for(var b,O,U=this._drawFirst;U;U=U.next)b=U.layer,b.options.interactive&&b._containsPoint(m)&&(O=b);O!==this._hoveredLayer&&(this._handleMouseOut(u),O&&(ft(this._container,"leaflet-interactive"),this._fireEvent([O],u,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,m,b){this._map._fireDOMEvent(m,b||m.type,u)},_bringToFront:function(u){var m=u._order;if(m){var b=m.next,O=m.prev;if(b)b.prev=O;else return;O?O.next=b:b&&(this._drawFirst=b),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(u)}},_bringToBack:function(u){var m=u._order;if(m){var b=m.next,O=m.prev;if(O)O.next=b;else return;b?b.prev=O:O&&(this._drawLast=O),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(u)}}});function Ta(u){return Ke.canvas?new es(u):null}var xr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Bs={_initContainer:function(){this._container=St("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var m=u._container=xr("shape");ft(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",u._path=xr("path"),m.appendChild(u._path),this._updateStyle(u),this._layers[y(u)]=u},_addPath:function(u){var m=u._container;this._container.appendChild(m),u.options.interactive&&u.addInteractiveTarget(m)},_removePath:function(u){var m=u._container;Kt(m),u.removeInteractiveTarget(m),delete this._layers[y(u)]},_updateStyle:function(u){var m=u._stroke,b=u._fill,O=u.options,U=u._container;U.stroked=!!O.stroke,U.filled=!!O.fill,O.stroke?(m||(m=u._stroke=xr("stroke")),U.appendChild(m),m.weight=O.weight+"px",m.color=O.color,m.opacity=O.opacity,O.dashArray?m.dashStyle=X(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=O.lineCap.replace("butt","flat"),m.joinstyle=O.lineJoin):m&&(U.removeChild(m),u._stroke=null),O.fill?(b||(b=u._fill=xr("fill")),U.appendChild(b),b.color=O.fillColor||O.color,b.opacity=O.fillOpacity):b&&(U.removeChild(b),u._fill=null)},_updateCircle:function(u){var m=u._point.round(),b=Math.round(u._radius),O=Math.round(u._radiusY||b);this._setPath(u,u._empty()?"M0 0":"AL "+m.x+","+m.y+" "+b+","+O+" 0,"+65535*360)},_setPath:function(u,m){u._path.v=m},_bringToFront:function(u){Bn(u._container)},_bringToBack:function(u){Rr(u._container)}},Bi=Ke.vml?xr:Fe,Fr=ri.extend({_initContainer:function(){this._container=Bi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var u=this._bounds,m=u.getSize(),b=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,b.setAttribute("width",m.x),b.setAttribute("height",m.y)),en(b,u.min),b.setAttribute("viewBox",[u.min.x,u.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(u){var m=u._path=Bi("path");u.options.className&&ft(m,u.options.className),u.options.interactive&&ft(m,"leaflet-interactive"),this._updateStyle(u),this._layers[y(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Kt(u._path),u.removeInteractiveTarget(u._path),delete this._layers[y(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var m=u._path,b=u.options;m&&(b.stroke?(m.setAttribute("stroke",b.color),m.setAttribute("stroke-opacity",b.opacity),m.setAttribute("stroke-width",b.weight),m.setAttribute("stroke-linecap",b.lineCap),m.setAttribute("stroke-linejoin",b.lineJoin),b.dashArray?m.setAttribute("stroke-dasharray",b.dashArray):m.removeAttribute("stroke-dasharray"),b.dashOffset?m.setAttribute("stroke-dashoffset",b.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),b.fill?(m.setAttribute("fill",b.fillColor||b.color),m.setAttribute("fill-opacity",b.fillOpacity),m.setAttribute("fill-rule",b.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(u,m){this._setPath(u,Ue(u._parts,m))},_updateCircle:function(u){var m=u._point,b=Math.max(Math.round(u._radius),1),O=Math.max(Math.round(u._radiusY),1)||b,U="a"+b+","+O+" 0 1,0 ",oe=u._empty()?"M0 0":"M"+(m.x-b)+","+m.y+U+b*2+",0 "+U+-b*2+",0 ";this._setPath(u,oe)},_setPath:function(u,m){u._path.setAttribute("d",m)},_bringToFront:function(u){Bn(u._path)},_bringToBack:function(u){Rr(u._path)}});Ke.vml&&Fr.include(Bs);function aa(u){return Ke.svg||Ke.vml?new Fr(u):null}dt.include({getRenderer:function(u){var m=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var m=this._paneRenderers[u];return m===void 0&&(m=this._createRenderer({pane:u}),this._paneRenderers[u]=m),m},_createRenderer:function(u){return this.options.preferCanvas&&Ta(u)||aa(u)}});var ts=Ea.extend({initialize:function(u,m){Ea.prototype.initialize.call(this,this._boundsToLatLngs(u),m)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=pe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function Mf(u,m){return new ts(u,m)}Fr.create=Bi,Fr.pointsToPath=Ue,tr.geometryToLayer=Gn,tr.coordsToLatLng=Sr,tr.coordsToLatLngs=Ka,tr.latLngToCoords=$a,tr.latLngsToCoords=qn,tr.getFeature=Fn,tr.asFeature=p,dt.mergeOptions({boxZoom:!0});var Di=Wi.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zi(),As(),this._startPoint=this._map.mouseEventToContainerPoint(u),st(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=St("div","leaflet-zoom-box",this._container),ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var m=new Y(this._point,this._startPoint),b=m.getSize();en(this._box,m.min),this._box.style.width=b.x+"px",this._box.style.height=b.y+"px"},_finish:function(){this._moved&&(Kt(this._box),Pt(this._container,"leaflet-crosshair")),Mi(),$r(),zt(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var m=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});dt.addInitHook("addHandler","boxZoom",Di),dt.mergeOptions({doubleClickZoom:!0});var ll=Wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var m=this._map,b=m.getZoom(),O=m.options.zoomDelta,U=u.originalEvent.shiftKey?b-O:b+O;m.options.doubleClickZoom==="center"?m.setZoom(U):m.setZoomAround(u.containerPoint,U)}});dt.addInitHook("addHandler","doubleClickZoom",ll),dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zr=Wi.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Br(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=pe(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var m=this._lastTime=+new Date,b=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(b),this._times.push(m),this._prunePositions(m)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,m){return u-(u-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;u.x<m.min.x&&(u.x=this._viscousLimit(u.x,m.min.x)),u.y<m.min.y&&(u.y=this._viscousLimit(u.y,m.min.y)),u.x>m.max.x&&(u.x=this._viscousLimit(u.x,m.max.x)),u.y>m.max.y&&(u.y=this._viscousLimit(u.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,m=Math.round(u/2),b=this._initialWorldOffset,O=this._draggable._newPos.x,U=(O-m+b)%u+m-b,oe=(O+m+b)%u-m-b,me=Math.abs(U+b)<Math.abs(oe+b)?U:oe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=me},_onDragEnd:function(u){var m=this._map,b=m.options,O=!b.inertia||u.noInertia||this._times.length<2;if(m.fire("dragend",u),O)m.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),oe=(this._lastTime-this._times[0])/1e3,me=b.easeLinearity,Ee=U.multiplyBy(me/oe),Ce=Ee.distanceTo([0,0]),Pe=Math.min(b.inertiaMaxSpeed,Ce),qe=Ee.multiplyBy(Pe/Ce),nt=Pe/(b.inertiaDeceleration*me),xt=qe.multiplyBy(-nt/2).round();!xt.x&&!xt.y?m.fire("moveend"):(xt=m._limitOffset(xt,m.options.maxBounds),Z(function(){m.panBy(xt,{duration:nt,easeLinearity:me,noMoveStart:!0,animate:!0})}))}}});dt.addInitHook("addHandler","dragging",zr),dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nu=Wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),st(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,m=document.documentElement,b=u.scrollTop||m.scrollTop,O=u.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(O,b)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var m=this._panKeys={},b=this.keyCodes,O,U;for(O=0,U=b.left.length;O<U;O++)m[b.left[O]]=[-1*u,0];for(O=0,U=b.right.length;O<U;O++)m[b.right[O]]=[u,0];for(O=0,U=b.down.length;O<U;O++)m[b.down[O]]=[0,u];for(O=0,U=b.up.length;O<U;O++)m[b.up[O]]=[0,-1*u]},_setZoomDelta:function(u){var m=this._zoomKeys={},b=this.keyCodes,O,U;for(O=0,U=b.zoomIn.length;O<U;O++)m[b.zoomIn[O]]=u;for(O=0,U=b.zoomOut.length;O<U;O++)m[b.zoomOut[O]]=-u},_addHooks:function(){st(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var m=u.keyCode,b=this._map,O;if(m in this._panKeys){if(!b._panAnim||!b._panAnim._inProgress)if(O=this._panKeys[m],u.shiftKey&&(O=Q(O).multiplyBy(3)),b.options.maxBounds&&(O=b._limitOffset(Q(O),b.options.maxBounds)),b.options.worldCopyJump){var U=b.wrapLatLng(b.unproject(b.project(b.getCenter()).add(O)));b.panTo(U)}else b.panBy(O)}else if(m in this._zoomKeys)b.setZoom(b.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&b._popup&&b._popup.options.closeOnEscapeKey)b.closePopup();else return;yr(u)}}});dt.addInitHook("addHandler","keyboard",nu),dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ao=Wi.extend({addHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var m=Yn(u),b=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var O=Math.max(b-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),O),yr(u)},_performZoom:function(){var u=this._map,m=u.getZoom(),b=this._map.options.zoomSnap||0;u._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,oe=b?Math.ceil(U/b)*b:U,me=u._limitZoom(m+(this._delta>0?oe:-oe))-m;this._delta=0,this._startTime=null,me&&(u.options.scrollWheelZoom==="center"?u.setZoom(m+me):u.setZoomAround(this._lastMousePos,m+me))}});dt.addInitHook("addHandler","scrollWheelZoom",Ao);var ns=600;dt.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var ul=Wi.extend({addHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var m=u.touches[0];this._startPos=this._newPos=new z(m.clientX,m.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(st(document,"touchend",rn),st(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),ns),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){zt(document,"touchend",rn),zt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)},_onMove:function(u){var m=u.touches[0];this._newPos=new z(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,m){var b=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});b._simulated=!0,m.target.dispatchEvent(b)}});dt.addInitHook("addHandler","tapHold",ul),dt.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var iu=Wi.extend({addHooks:function(){ft(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var m=this._map;if(!(!u.touches||u.touches.length!==2||m._animatingZoom||this._zooming)){var b=m.mouseEventToContainerPoint(u.touches[0]),O=m.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(b.add(O)._divideBy(2))),this._startDist=b.distanceTo(O),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),rn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var m=this._map,b=m.mouseEventToContainerPoint(u.touches[0]),O=m.mouseEventToContainerPoint(u.touches[1]),U=b.distanceTo(O)/this._startDist;if(this._zoom=m.getScaleZoom(U,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&U<1||this._zoom>m.getMaxZoom()&&U>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var oe=b._add(O)._divideBy(2)._subtract(this._centerPoint);if(U===1&&oe.x===0&&oe.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(oe),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var me=f(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(me,this,!0),rn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});dt.addInitHook("addHandler","touchZoom",iu),dt.BoxZoom=Di,dt.DoubleClickZoom=ll,dt.Drag=zr,dt.Keyboard=nu,dt.ScrollWheelZoom=Ao,dt.TapHold=ul,dt.TouchZoom=iu,i.Bounds=Y,i.Browser=Ke,i.CRS=De,i.Canvas=es,i.Circle=Qa,i.CircleMarker=ra,i.Class=ne,i.Control=gi,i.DivIcon=tt,i.DivOverlay=ye,i.DomEvent=Ns,i.DomUtil=_r,i.Draggable=Br,i.Evented=j,i.FeatureGroup=Qi,i.GeoJSON=tr,i.GridLayer=gt,i.Handler=Wi,i.Icon=Ki,i.ImageOverlay=S,i.LatLng=ge,i.LatLngBounds=ce,i.Layer=Ii,i.LayerGroup=xa,i.LineUtil=To,i.Map=dt,i.Marker=Wa,i.Mixin=eu,i.Path=$i,i.Point=z,i.PolyUtil=ii,i.Polygon=Ea,i.Polyline=er,i.Popup=be,i.PosAnimation=ta,i.Projection=nl,i.Rectangle=ts,i.Renderer=ri,i.SVG=Fr,i.SVGOverlay=le,i.TileLayer=an,i.Tooltip=Ge,i.Transformation=Ae,i.Util=te,i.VideoOverlay=I,i.bind=f,i.bounds=$,i.canvas=Ta,i.circle=sl,i.circleMarker=Lo,i.control=xn,i.divIcon=Ct,i.extend=r,i.featureGroup=Co,i.geoJSON=o,i.geoJson=d,i.gridLayer=Yt,i.icon=Xa,i.imageOverlay=C,i.latLng=Se,i.latLngBounds=pe,i.layerGroup=rl,i.map=va,i.marker=al,i.point=Q,i.polygon=ol,i.polyline=Do,i.popup=ze,i.rectangle=Mf,i.setOptions=J,i.stamp=y,i.svg=aa,i.svgOverlay=de,i.tileLayer=Wt,i.tooltip=Ve,i.transformation=fe,i.version=l,i.videoOverlay=H;var ru=window.L;i.noConflict=function(){return window.L=ru,this},window.L=i}))})(oc,oc.exports)),oc.exports}var ho=uA();const Xl=lo(ho);function cA(t,n){const i=je.useRef(n);je.useEffect(function(){n!==i.current&&t.attributionControl!=null&&(i.current!=null&&t.attributionControl.removeAttribution(i.current),n!=null&&t.attributionControl.addAttribution(n)),i.current=n},[t,n])}iS();const hA=1;function fA(t){return Object.freeze({__version:hA,map:t})}function Yx(t,n){return Object.freeze({...t,...n})}const Yg=je.createContext(null);function Af(){const t=je.use(Yg);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function dA(t){function n(i,l){const{instance:r,context:c}=t(i).current;je.useImperativeHandle(l,()=>r);const{children:f}=i;return f==null?null:Ra.createElement(Yg,{value:c},f)}return je.forwardRef(n)}function pA(t){function n(i,l){const{instance:r}=t(i).current;return je.useImperativeHandle(l,()=>r),null}return je.forwardRef(n)}function Gx(t,n){const i=je.useRef(void 0);je.useEffect(function(){return n!=null&&t.instance.on(n),i.current=n,function(){i.current!=null&&t.instance.off(i.current),i.current=null}},[t,n])}function kf(t,n){const i=t.pane??n.pane;return i?{...t,pane:i}:t}function Nf(t,n,i){return Object.freeze({instance:t,context:n,container:i})}function qx(t,n){return n==null?function(l,r){const c=je.useRef(void 0);return c.current||(c.current=t(l,r)),c}:function(l,r){const c=je.useRef(void 0);c.current||(c.current=t(l,r));const f=je.useRef(l),{instance:g}=c.current;return je.useEffect(function(){f.current!==l&&(n(g,l,f.current),f.current=l)},[g,l,n]),c}}function Hx(t,n){je.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){n.layerContainer?.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function gA(t){return function(i){const l=Af(),r=t(kf(i,l),l);return cA(l.map,i.attribution),Gx(r.current,i.eventHandlers),Hx(r.current,l),r}}function mA(t,n){const i=je.useRef(void 0);je.useEffect(function(){if(n.pathOptions!==i.current){const r=n.pathOptions??{};t.instance.setStyle(r),i.current=r}},[t,n])}function _A(t){return function(i){const l=Af(),r=t(kf(i,l),l);return Gx(r.current,i.eventHandlers),Hx(r.current,l),mA(r.current,i),r}}function Zx(t,n){const i=qx(t,n),l=_A(i);return dA(l)}function Xx(t,n){const i=qx(t,n),l=gA(i);return pA(l)}function Jx(t,n,i){const{opacity:l,zIndex:r}=n;l!=null&&l!==i.opacity&&t.setOpacity(l),r!=null&&r!==i.zIndex&&t.setZIndex(r)}function yA(){return Af().map}function vA(t){const n=yA();return je.useEffect(function(){return n.on(t),function(){n.off(t)}},[n,t]),n}const SA=Zx(function({children:n,...i},l){const r=new ho.FeatureGroup([],i);return Nf(r,Yx(l,{layerContainer:r,overlayContainer:r}))}),Tc=Zx(function({data:n,...i},l){const r=new ho.GeoJSON(n,i);return Nf(r,Yx(l,{overlayContainer:r}))},function(n,i,l){i.style!==l.style&&(i.style==null?n.resetStyle():n.setStyle(i.style))});function xA({bounds:t,boundsOptions:n,center:i,children:l,className:r,id:c,placeholder:f,style:g,whenReady:y,zoom:v,...E},x){const[A]=je.useState({className:r,id:c,style:g}),[N,B]=je.useState(null),J=je.useRef(void 0);je.useImperativeHandle(x,()=>N?.map??null,[N]);const se=je.useCallback(F=>{if(F!==null&&!J.current){const X=new ho.Map(F,E);J.current=X,i!=null&&v!=null?X.setView(i,v):t!=null&&X.fitBounds(t,n),y!=null&&X.whenReady(y),B(fA(X))}},[]);je.useEffect(()=>()=>{N?.map.remove()},[N]);const re=N?Ra.createElement(Yg,{value:N},l):f??null;return Ra.createElement("div",{...A,ref:se},re)}const EA=je.forwardRef(xA),V0=Xx(function({url:n,...i},l){const r=new ho.TileLayer(n,kf(i,l));return Nf(r,l)},function(n,i,l){Jx(n,i,l);const{url:r}=i;r!=null&&r!==l.url&&n.setUrl(r)}),Of=Xx(function({eventHandlers:n,params:i={},url:l,...r},c){const f=new ho.TileLayer.WMS(l,{...i,...kf(r,c)});return Nf(f,c)},function(n,i,l){Jx(n,i,l),i.params!=null&&i.params!==l.params&&n.setParams(i.params)});var Up={exports:{}},Yp,W0;function bA(){if(W0)return Yp;W0=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yp=t,Yp}var Gp,Q0;function TA(){if(Q0)return Gp;Q0=1;var t=bA();function n(){}function i(){}return i.resetWarningCache=n,Gp=function(){function l(f,g,y,v,E,x){if(x!==t){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}l.isRequired=l;function r(){return l}var c={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:r,element:l,elementType:l,instanceOf:r,node:l,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:n};return c.PropTypes=c,c},Gp}var K0;function wA(){return K0||(K0=1,Up.exports=TA()()),Up.exports}var Mt=wA();(function(t,n,i){function l(r,c){for(;(r=r.parentElement)&&!r.classList.contains(c););return r}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(r,c){this._map=r,this._container=r._container,this._overlayPane=r._panes.overlayPane,this._popupPane=r._panes.popupPane,c&&c.shapeOptions&&(c.shapeOptions=L.Util.extend({},this.options.shapeOptions,c.shapeOptions)),L.setOptions(this,c);var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(L.DomUtil.disableTextSelection(),r.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(r){L.setOptions(this,r)},_fireCreatedEvent:function(r){this._map.fire(L.Draw.Event.CREATED,{layer:r,layerType:this.type})},_cancelDrawing:function(r){r.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(r,c){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,c&&c.drawError&&(c.drawError=L.Util.extend({},this.options.drawError,c.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var r=this._markers.pop(),c=this._poly,f=c.getLatLngs(),g=f.splice(-1,1)[0];this._poly.setLatLngs(f),this._markerGroup.removeLayer(r),c.getLatLngs().length<2&&this._map.removeLayer(c),this._vertexChanged(g,!1)}},addVertex:function(r){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(r))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(r)),this._poly.addLatLng(r),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(r,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var r=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),c=this._poly.newLatLngIntersects(r[r.length-1]);if(!this.options.allowIntersection&&c||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent),f=this._map.layerPointToLatLng(c);this._currentLatLng=f,this._updateTooltip(f),this._updateGuide(c),this._mouseMarker.setLatLng(f),L.DomEvent.preventDefault(r.originalEvent)},_vertexChanged:function(r,c){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(r,c),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(r){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(r),this._clickHandled=!0,this._disableNewMarkers();var c=r.originalEvent,f=c.clientX,g=c.clientY;this._startPoint.call(this,f,g)}},_startPoint:function(r,c){this._mouseDownOrigin=L.point(r,c)},_onMouseUp:function(r){var c=r.originalEvent,f=c.clientX,g=c.clientY;this._endPoint.call(this,f,g,r),this._clickHandled=null},_endPoint:function(r,c,f){if(this._mouseDownOrigin){var g=L.point(r,c).distanceTo(this._mouseDownOrigin),y=this._calculateFinishDistance(f.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(f.latlng),this._finishShape()):y<10&&L.Browser.touch?this._finishShape():Math.abs(g)<9*(t.devicePixelRatio||1)&&this.addVertex(f.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(r){var c,f,g=r.originalEvent;!g.touches||!g.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(c=g.touches[0].clientX,f=g.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,c,f),this._endPoint.call(this,c,f,r),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(r){var c;if(this._markers.length>0){var f;if(this.type===L.Draw.Polyline.TYPE)f=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;f=this._markers[0]}var g=this._map.latLngToContainerPoint(f.getLatLng()),y=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),v=this._map.latLngToContainerPoint(y.getLatLng());c=g.distanceTo(v)}else c=1/0;return c},_updateFinishHandler:function(){var r=this._markers.length;r>1&&this._markers[r-1].on("click",this._finishShape,this),r>2&&this._markers[r-2].off("click",this._finishShape,this)},_createMarker:function(r){var c=new L.Marker(r,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(c),c},_updateGuide:function(r){var c=this._markers?this._markers.length:0;c>0&&(r=r||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[c-1].getLatLng()),r))},_updateTooltip:function(r){var c=this._getTooltipText();r&&this._tooltip.updatePosition(r),this._errorShown||this._tooltip.updateContent(c)},_drawGuide:function(r,c){var f,g,y,v=Math.floor(Math.sqrt(Math.pow(c.x-r.x,2)+Math.pow(c.y-r.y,2))),E=this.options.guidelineDistance,x=this.options.maxGuideLineLength,A=v>x?v-x:E;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));A<v;A+=this.options.guidelineDistance)f=A/v,g={x:Math.floor(r.x*(1-f)+f*c.x),y:Math.floor(r.y*(1-f)+f*c.y)},y=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),y.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(y,g)},_updateGuideColor:function(r){if(this._guidesContainer)for(var c=0,f=this._guidesContainer.childNodes.length;c<f;c++)this._guidesContainer.childNodes[c].style.backgroundColor=r},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var r,c,f=this.options.showLength;return this._markers.length===0?r={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(c=f?this._getMeasurementString():"",r=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:c}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:c}),r},_updateRunningMeasure:function(r,c){var f,g,y=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(f=y-(c?2:1),g=L.GeometryUtil.isVersion07x()?r.distanceTo(this._markers[f].getLatLng())*(this.options.factor||1):this._map.distance(r,this._markers[f].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=g*(c?1:-1))},_getMeasurementString:function(){var r,c=this._currentLatLng,f=this._markers[this._markers.length-1].getLatLng();return r=L.GeometryUtil.isVersion07x()?f&&c&&c.distanceTo?this._measurementRunningTotal+c.distanceTo(f)*(this.options.factor||1):this._measurementRunningTotal||0:f&&c?this._measurementRunningTotal+this._map.distance(c,f)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(r,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var r=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(r,c){L.Draw.Polyline.prototype.initialize.call(this,r,c),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var r=this._markers.length;r===1&&this._markers[0].on("click",this._finishShape,this),r>2&&(this._markers[r-1].on("dblclick",this._finishShape,this),r>3&&this._markers[r-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var r,c;return this._markers.length===0?r=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(r=L.drawLocal.draw.handlers.polygon.tooltip.cont,c=this._getMeasurementString()):(r=L.drawLocal.draw.handlers.polygon.tooltip.end,c=this._getMeasurementString()),{text:r,subtext:c}},_getMeasurementString:function(){var r=this._area,c="";return r||this.options.showLength?(this.options.showLength&&(c=L.Draw.Polyline.prototype._getMeasurementString.call(this)),r&&(c+="<br>"+L.GeometryUtil.readableArea(r,this.options.metric,this.options.precision)),c):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(r,c){var f;!this.options.allowIntersection&&this.options.showArea&&(f=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(f)),L.Draw.Polyline.prototype._vertexChanged.call(this,r,c)},_cleanUpShape:function(){var r=this._markers.length;r>0&&(this._markers[0].off("click",this._finishShape,this),r>2&&this._markers[r-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(r,c){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),n.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(n,"mouseup",this._onMouseUp,this),L.DomEvent.off(n,"touchend",this._onMouseUp,this),n.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(r){this._isDrawing=!0,this._startLatLng=r.latlng,L.DomEvent.on(n,"mouseup",this._onMouseUp,this).on(n,"touchend",this._onMouseUp,this).preventDefault(r.originalEvent)},_onMouseMove:function(r){var c=r.latlng;this._tooltip.updatePosition(c),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(c))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(r,c){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,c)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(r){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!l(r.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(r){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,r)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,r),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_getTooltipText:function(){var r,c,f,g=L.Draw.SimpleShape.prototype._getTooltipText.call(this),y=this._shape,v=this.options.showArea;return y&&(r=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),c=L.GeometryUtil.geodesicArea(r),f=v?L.GeometryUtil.readableArea(c,this.options.metric):""),{text:g.text,subtext:f}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(r,c){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,c)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(r){var c=r.latlng;this._tooltip.updatePosition(c),this._mouseMarker.setLatLng(c),this._marker?(c=this._mouseMarker.getLatLng(),this._marker.setLatLng(c)):(this._marker=this._createMarker(c),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(r){return new L.Marker(r,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(r){this._onMouseMove(r),this._onClick()},_fireCreatedEvent:function(){var r=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(r,c){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,r,c)},_fireCreatedEvent:function(){var r=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,r)},_createMarker:function(r){return new L.CircleMarker(r,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(r,c){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,r,c)},_drawShape:function(r){if(L.GeometryUtil.isVersion07x())var c=this._startLatLng.distanceTo(r);else var c=this._map.distance(this._startLatLng,r);this._shape?this._shape.setRadius(c):(this._shape=new L.Circle(this._startLatLng,c,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var r=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,r)},_onMouseMove:function(r){var c,f=r.latlng,g=this.options.showRadius,y=this.options.metric;if(this._tooltip.updatePosition(f),this._isDrawing){this._drawShape(f),c=this._shape.getRadius().toFixed(1);var v="";g&&(v=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(c,y,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:v})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(r,c){this._marker=r,L.setOptions(this,c)},addHooks:function(){var r=this._marker;r.dragging.enable(),r.on("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},removeHooks:function(){var r=this._marker;r.dragging.disable(),r.off("dragend",this._onDragEnd,r),this._toggleMarkerHighlight()},_onDragEnd:function(r){var c=r.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_toggleMarkerHighlight:function(){var r=this._marker._icon;r&&(r.style.display="none",L.DomUtil.hasClass(r,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,-4)):(L.DomUtil.addClass(r,"leaflet-edit-marker-selected"),this._offsetMarker(r,4)),r.style.display="")},_offsetMarker:function(r,c){var f=parseInt(r.style.marginTop,10)-c,g=parseInt(r.style.marginLeft,10)-c;r.style.marginTop=f+"px",r.style.marginLeft=g+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(r){this.latlngs=[r._latlngs],r._holes&&(this.latlngs=this.latlngs.concat(r._holes)),this._poly=r,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(r){for(var c=0;c<this._verticesHandlers.length;c++)r(this._verticesHandlers[c])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(r){r.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(r){r.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(r){r.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var r=0;r<this.latlngs.length;r++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[r],this._poly.options.poly))},_updateLatLngs:function(r){this.latlngs=[r.layer._latlngs],r.layer._holes&&(this.latlngs=this.latlngs.concat(r.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(r,c,f){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=r,f&&f.drawError&&(f.drawError=L.Util.extend({},this.options.drawError,f.drawError)),this._latlngs=c,L.setOptions(this,f)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var r=this._poly,c=r._path;r instanceof L.Polygon||(r.options.fill=!1,r.options.editing&&(r.options.editing.fill=!1)),c&&r.options.editing&&r.options.editing.className&&(r.options.original.className&&r.options.original.className.split(" ").forEach(function(f){L.DomUtil.removeClass(c,f)}),r.options.editing.className.split(" ").forEach(function(f){L.DomUtil.addClass(c,f)})),r.setStyle(r.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var r=this._poly,c=r._path;c&&r.options.editing&&r.options.editing.className&&(r.options.editing.className.split(" ").forEach(function(f){L.DomUtil.removeClass(c,f)}),r.options.original.className&&r.options.original.className.split(" ").forEach(function(f){L.DomUtil.addClass(c,f)})),r.setStyle(r.options.original),r._map&&(r._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var r,c,f,g,y=this._defaultShape();for(r=0,f=y.length;r<f;r++)g=this._createMarker(y[r],r),g.on("click",this._onMarkerClick,this),g.on("contextmenu",this._onContextMenu,this),this._markers.push(g);var v,E;for(r=0,c=f-1;r<f;c=r++)(r!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(v=this._markers[c],E=this._markers[r],this._createMiddleMarker(v,E),this._updatePrevNext(v,E))},_createMarker:function(r,c){var f=new L.Marker.Touch(r,{draggable:!0,icon:this.options.icon});return f._origLatLng=r,f._index=c,f.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(f),f},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var r=this._defaultShape(),c=[].splice.apply(r,arguments);return this._poly._convertLatLngs(r,!0),this._poly.redraw(),c},_removeMarker:function(r){var c=r._index;this._markerGroup.removeLayer(r),this._markers.splice(c,1),this._spliceLatLngs(c,1),this._updateIndexes(c,-1),r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(r){var c=r.target,f=this._poly,g=L.LatLngUtil.cloneLatLng(c._origLatLng);if(L.extend(c._origLatLng,c._latlng),f.options.poly){var y=f._map._editTooltip;if(!f.options.poly.allowIntersection&&f.intersects()){L.extend(c._origLatLng,g),c.setLatLng(g);var v=f.options.color;f.setStyle({color:this.options.drawError.color}),y&&y.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){f.setStyle({color:v}),y&&y.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}c._middleLeft&&c._middleLeft.setLatLng(this._getMiddleLatLng(c._prev,c)),c._middleRight&&c._middleRight.setLatLng(this._getMiddleLatLng(c,c._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var E=this._poly.getLatLngs();this._poly._convertLatLngs(E,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(r){var c=L.Polygon&&this._poly instanceof L.Polygon?4:3,f=r.target;this._defaultShape().length<c||(this._removeMarker(f),this._updatePrevNext(f._prev,f._next),f._middleLeft&&this._markerGroup.removeLayer(f._middleLeft),f._middleRight&&this._markerGroup.removeLayer(f._middleRight),f._prev&&f._next?this._createMiddleMarker(f._prev,f._next):f._prev?f._next||(f._prev._middleRight=null):f._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(r){var c=r.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:c,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),f=this._map.layerPointToLatLng(c),g=r.target;L.extend(g._origLatLng,f),g._middleLeft&&g._middleLeft.setLatLng(this._getMiddleLatLng(g._prev,g)),g._middleRight&&g._middleRight.setLatLng(this._getMiddleLatLng(g,g._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(r,c){this._markerGroup.eachLayer(function(f){f._index>r&&(f._index+=c)})},_createMiddleMarker:function(r,c){var f,g,y,v=this._getMiddleLatLng(r,c),E=this._createMarker(v);E.setOpacity(.6),r._middleRight=c._middleLeft=E,g=function(){E.off("touchmove",g,this);var x=c._index;E._index=x,E.off("click",f,this).on("click",this._onMarkerClick,this),v.lat=E.getLatLng().lat,v.lng=E.getLatLng().lng,this._spliceLatLngs(x,0,v),this._markers.splice(x,0,E),E.setOpacity(1),this._updateIndexes(x,1),c._index++,this._updatePrevNext(r,E),this._updatePrevNext(E,c),this._poly.fire("editstart")},y=function(){E.off("dragstart",g,this),E.off("dragend",y,this),E.off("touchmove",g,this),this._createMiddleMarker(r,E),this._createMiddleMarker(E,c)},f=function(){g.call(this),y.call(this),this._fireEdit()},E.on("click",f,this).on("dragstart",g,this).on("dragend",y,this).on("touchmove",g,this),this._markerGroup.addLayer(E)},_updatePrevNext:function(r,c){r&&(r._next=c),c&&(c._prev=r)},_getMiddleLatLng:function(r,c){var f=this._poly._map,g=f.project(r.getLatLng()),y=f.project(c.getLatLng());return f.unproject(g._add(y)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(r,c){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=r,L.Util.setOptions(this,c)},addHooks:function(){var r=this._shape;this._shape._map&&(this._map=this._shape._map,r.setStyle(r.options.editing),r._map&&(this._map=r._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var r=this._shape;if(r.setStyle(r.options.original),r._map){this._unbindMarker(this._moveMarker);for(var c=0,f=this._resizeMarkers.length;c<f;c++)this._unbindMarker(this._resizeMarkers[c]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(r,c){var f=new L.Marker.Touch(r,{draggable:!0,icon:c,zIndexOffset:10});return this._bindMarker(f),this._markerGroup.addLayer(f),f},_bindMarker:function(r){r.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(r){r.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(r){r.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(r){var c=r.target,f=c.getLatLng();c===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(r){r.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(r){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r),typeof this._getCorners=="function"){var c=this._getCorners(),f=r.target,g=f._cornerIndex;f.setOpacity(0),this._oppositeCorner=c[(g+2)%4],this._toggleCornerMarkers(0,g)}this._shape.fire("editstart")},_onTouchMove:function(r){var c=this._map.mouseEventToLayerPoint(r.originalEvent.touches[0]),f=this._map.layerPointToLatLng(c);return r.target===this._moveMarker?this._move(f):this._resize(f),this._shape.redraw(),!1},_onTouchEnd:function(r){r.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getBounds(),c=r.getCenter();this._moveMarker=this._createMarker(c,this.options.moveIcon)},_createResizeMarker:function(){var r=this._getCorners();this._resizeMarkers=[];for(var c=0,f=r.length;c<f;c++)this._resizeMarkers.push(this._createMarker(r[c],this.options.resizeIcon)),this._resizeMarkers[c]._cornerIndex=c},_onMarkerDragStart:function(r){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,r);var c=this._getCorners(),f=r.target,g=f._cornerIndex;this._oppositeCorner=c[(g+2)%4],this._toggleCornerMarkers(0,g)},_onMarkerDragEnd:function(r){var c,f,g=r.target;g===this._moveMarker&&(c=this._shape.getBounds(),f=c.getCenter(),g.setLatLng(f)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,r)},_move:function(r){for(var c,f=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),g=this._shape.getBounds(),y=g.getCenter(),v=[],E=0,x=f.length;E<x;E++)c=[f[E].lat-y.lat,f[E].lng-y.lng],v.push([r.lat+c[0],r.lng+c[1]]);this._shape.setLatLngs(v),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(r){var c;this._shape.setBounds(L.latLngBounds(r,this._oppositeCorner)),c=this._shape.getBounds(),this._moveMarker.setLatLng(c.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var r=this._shape.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_toggleCornerMarkers:function(r){for(var c=0,f=this._resizeMarkers.length;c<f;c++)this._resizeMarkers[c].setOpacity(r)},_repositionCornerMarkers:function(){for(var r=this._getCorners(),c=0,f=this._resizeMarkers.length;c<f;c++)this._resizeMarkers[c].setLatLng(r[c])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var r=this._shape.getLatLng();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(r){if(this._resizeMarkers.length){var c=this._getResizeMarkerPoint(r);this._resizeMarkers[0].setLatLng(c)}this._shape.setLatLng(r),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var r=this._shape.getLatLng(),c=this._getResizeMarkerPoint(r);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(c,this.options.resizeIcon))},_getResizeMarkerPoint:function(r){var c=this._shape._radius*Math.cos(Math.PI/4),f=this._map.project(r);return this._map.unproject([f.x+c,f.y-c])},_resize:function(r){var c=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=c.distanceTo(r):radius=this._map.distance(c,r),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(r,c){var f={};if(r.touches!==void 0){if(!r.touches.length)return;f=r.touches[0]}else if(r.pointerType!=="touch"||(f=r,!this._filterClick(r)))return;var g=this._map.mouseEventToContainerPoint(f),y=this._map.mouseEventToLayerPoint(f),v=this._map.layerPointToLatLng(y);this._map.fire(c,{latlng:v,layerPoint:y,containerPoint:g,pageX:f.pageX,pageY:f.pageY,originalEvent:r})},_filterClick:function(r){var c=r.timeStamp||r.originalEvent.timeStamp,f=L.DomEvent._lastClick&&c-L.DomEvent._lastClick;return f&&f>100&&f<500||r.target._simulatedClick&&!r._simulated?(L.DomEvent.stop(r),!1):(L.DomEvent._lastClick=c,!0)},_onTouchStart:function(r){this._map._loaded&&this._touchEvent(r,"touchstart")},_onTouchEnd:function(r){this._map._loaded&&this._touchEvent(r,"touchend")},_onTouchCancel:function(r){if(this._map._loaded){var c="touchcancel";this._detectIE()&&(c="pointercancel"),this._touchEvent(r,c)}},_onTouchLeave:function(r){this._map._loaded&&this._touchEvent(r,"touchleave")},_onTouchMove:function(r){this._map._loaded&&this._touchEvent(r,"touchmove")},_detectIE:function(){var r=t.navigator.userAgent,c=r.indexOf("MSIE ");if(c>0)return parseInt(r.substring(c+5,r.indexOf(".",c)),10);if(r.indexOf("Trident/")>0){var f=r.indexOf("rv:");return parseInt(r.substring(f+3,r.indexOf(".",f)),10)}var g=r.indexOf("Edge/");return g>0&&parseInt(r.substring(g+5,r.indexOf(".",g)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var r=this._icon,c=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?c.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):c.concat(["touchcancel"]),L.DomUtil.addClass(r,"leaflet-clickable"),L.DomEvent.on(r,"click",this._onMouseClick,this),L.DomEvent.on(r,"keypress",this._onKeyPress,this);for(var f=0;f<c.length;f++)L.DomEvent.on(r,c[f],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var r=t.navigator.userAgent,c=r.indexOf("MSIE ");if(c>0)return parseInt(r.substring(c+5,r.indexOf(".",c)),10);if(r.indexOf("Trident/")>0){var f=r.indexOf("rv:");return parseInt(r.substring(f+3,r.indexOf(".",f)),10)}var g=r.indexOf("Edge/");return g>0&&parseInt(r.substring(g+5,r.indexOf(".",g)),10)}}),L.LatLngUtil={cloneLatLngs:function(r){for(var c=[],f=0,g=r.length;f<g;f++)Array.isArray(r[f])?c.push(L.LatLngUtil.cloneLatLngs(r[f])):c.push(this.cloneLatLng(r[f]));return c},cloneLatLng:function(r){return L.latLng(r.lat,r.lng)}},(function(){var r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(c){var f,g,y=c.length,v=0,E=Math.PI/180;if(y>2){for(var x=0;x<y;x++)f=c[x],g=c[(x+1)%y],v+=(g.lng-f.lng)*E*(2+Math.sin(f.lat*E)+Math.sin(g.lat*E));v=6378137*v*6378137/2}return Math.abs(v)},formattedNumber:function(c,f){var g=parseFloat(c).toFixed(f),y=L.drawLocal.format&&L.drawLocal.format.numeric,v=y&&y.delimiters,E=v&&v.thousands,x=v&&v.decimal;if(E||x){var A=g.split(".");g=E?A[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+E):A[0],x=x||".",A.length>1&&(g=g+x+A[1])}return g},readableArea:function(c,f,E){var y,v,E=L.Util.extend({},r,E);return f?(v=["ha","m"],type=typeof f,type==="string"?v=[f]:type!=="boolean"&&(v=f),y=c>=1e6&&v.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*c,E.km)+" km":c>=1e4&&v.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*c,E.ha)+" ha":L.GeometryUtil.formattedNumber(c,E.m)+" m"):(c/=.836127,y=c>=3097600?L.GeometryUtil.formattedNumber(c/3097600,E.mi)+" mi":c>=4840?L.GeometryUtil.formattedNumber(c/4840,E.ac)+" acres":L.GeometryUtil.formattedNumber(c,E.yd)+" yd"),y},readableDistance:function(c,f,g,y,x){var E,x=L.Util.extend({},r,x);switch(f?typeof f=="string"?f:"metric":g?"feet":y?"nauticalMile":"yards"){case"metric":E=c>1e3?L.GeometryUtil.formattedNumber(c/1e3,x.km)+" km":L.GeometryUtil.formattedNumber(c,x.m)+" m";break;case"feet":c*=3.28083,E=L.GeometryUtil.formattedNumber(c,x.ft)+" ft";break;case"nauticalMile":c*=.53996,E=L.GeometryUtil.formattedNumber(c/1e3,x.nm)+" nm";break;default:c*=1.09361,E=c>1760?L.GeometryUtil.formattedNumber(c/1760,x.mi)+" miles":L.GeometryUtil.formattedNumber(c,x.yd)+" yd"}return E},isVersion07x:function(){var c=L.version.split(".");return parseInt(c[0],10)===0&&parseInt(c[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(r,c,f,g){return this._checkCounterclockwise(r,f,g)!==this._checkCounterclockwise(c,f,g)&&this._checkCounterclockwise(r,c,f)!==this._checkCounterclockwise(r,c,g)},_checkCounterclockwise:function(r,c,f){return(f.y-r.y)*(c.x-r.x)>(c.y-r.y)*(f.x-r.x)}}),L.Polyline.include({intersects:function(){var r,c,f,g=this._getProjectedPoints(),y=g?g.length:0;if(this._tooFewPointsForIntersection())return!1;for(r=y-1;r>=3;r--)if(c=g[r-1],f=g[r],this._lineSegmentsIntersectsRange(c,f,r-2))return!0;return!1},newLatLngIntersects:function(r,c){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(r),c)},newPointIntersects:function(r,c){var f=this._getProjectedPoints(),g=f?f.length:0,y=f?f[g-1]:null,v=g-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(y,r,v,c?1:0)},_tooFewPointsForIntersection:function(r){var c=this._getProjectedPoints(),f=c?c.length:0;return f+=r||0,!c||f<=3},_lineSegmentsIntersectsRange:function(r,c,f,g){var y,v,E=this._getProjectedPoints();g=g||0;for(var x=f;x>g;x--)if(y=E[x-1],v=E[x],L.LineUtil.segmentsIntersect(r,c,y,v))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var r=[],c=this._defaultShape(),f=0;f<c.length;f++)r.push(this._map.latLngToLayerPoint(c[f]));return r}}),L.Polygon.include({intersects:function(){var r,c,f,g,y=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(r=y.length,c=y[0],f=y[r-1],g=r-2,this._lineSegmentsIntersectsRange(f,c,g,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(r){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,r);var c;this._toolbars={},L.DrawToolbar&&this.options.draw&&(c=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=c,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(c=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=c,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(r){var c,f=L.DomUtil.create("div","leaflet-draw"),g=!1;for(var y in this._toolbars)this._toolbars.hasOwnProperty(y)&&(c=this._toolbars[y].addToolbar(r))&&(g||(L.DomUtil.hasClass(c,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(c.childNodes[0],"leaflet-draw-toolbar-top"),g=!0),f.appendChild(c));return f},onRemove:function(){for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&this._toolbars[r].removeToolbar()},setDrawingOptions:function(r){for(var c in this._toolbars)this._toolbars[c]instanceof L.DrawToolbar&&this._toolbars[c].setOptions(r)},_toolbarEnabled:function(r){var c=r.target;for(var f in this._toolbars)this._toolbars[f]!==c&&this._toolbars[f].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(r){L.setOptions(this,r),this._modes={},this._actionButtons=[],this._activeMode=null;var c=L.version.split(".");parseInt(c[0],10)===1&&parseInt(c[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(r){var c,f=L.DomUtil.create("div","leaflet-draw-section"),g=0,y=this._toolbarClass||"",v=this.getModeHandlers(r);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=r,c=0;c<v.length;c++)v[c].enabled&&this._initModeHandler(v[c].handler,this._toolbarContainer,g++,y,v[c].title);if(g)return this._lastButtonIndex=--g,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),f.appendChild(this._toolbarContainer),f.appendChild(this._actionsContainer),f},removeToolbar:function(){for(var r in this._modes)this._modes.hasOwnProperty(r)&&(this._disposeButton(this._modes[r].button,this._modes[r].handler.enable,this._modes[r].handler),this._modes[r].handler.disable(),this._modes[r].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var c=0,f=this._actionButtons.length;c<f;c++)this._disposeButton(this._actionButtons[c].button,this._actionButtons[c].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(r,c,f,g,y){var v=r.type;this._modes[v]={},this._modes[v].handler=r,this._modes[v].button=this._createButton({type:v,title:y,className:g+"-"+v,container:c,callback:this._modes[v].handler.enable,context:this._modes[v].handler}),this._modes[v].buttonIndex=f,this._modes[v].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(r){var c=L.DomUtil.create("a",r.className||"",r.container),f=L.DomUtil.create("span","sr-only",r.container);c.href="#",c.appendChild(f),r.title&&(c.title=r.title,f.innerHTML=r.title),r.text&&(c.innerHTML=r.text,f.innerHTML=r.text);var g=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(c,"click",L.DomEvent.stopPropagation).on(c,"mousedown",L.DomEvent.stopPropagation).on(c,"dblclick",L.DomEvent.stopPropagation).on(c,"touchstart",L.DomEvent.stopPropagation).on(c,"click",L.DomEvent.preventDefault).on(c,g,r.callback,r.context),c},_disposeButton:function(r,c){var f=this._detectIOS()?"touchstart":"click";L.DomEvent.off(r,"click",L.DomEvent.stopPropagation).off(r,"mousedown",L.DomEvent.stopPropagation).off(r,"dblclick",L.DomEvent.stopPropagation).off(r,"touchstart",L.DomEvent.stopPropagation).off(r,"click",L.DomEvent.preventDefault).off(r,f,c)},_handlerActivated:function(r){this.disable(),this._activeMode=this._modes[r.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(r){var c,f,g,y,v=this._actionsContainer,E=this.getActions(r),x=E.length;for(f=0,g=this._actionButtons.length;f<g;f++)this._disposeButton(this._actionButtons[f].button,this._actionButtons[f].callback);for(this._actionButtons=[];v.firstChild;)v.removeChild(v.firstChild);for(var A=0;A<x;A++)"enabled"in E[A]&&!E[A].enabled||(c=L.DomUtil.create("li","",v),y=this._createButton({title:E[A].title,text:E[A].text,container:c,callback:E[A].callback,context:E[A].context}),this._actionButtons.push({button:y,callback:E[A].callback}))},_showActionsToolbar:function(){var r=this._activeMode.buttonIndex,c=this._lastButtonIndex,f=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=f+"px",r===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),r===c&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(r){this._map=r,this._popupPane=r._panes.popupPane,this._visible=!1,this._container=r.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(r){return this._container?(r.subtext=r.subtext||"",r.subtext.length!==0||this._singleLineLabel?r.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(r.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+r.subtext+"</span><br />":"")+"<span>"+r.text+"</span>",r.text||r.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(r){var c=this._map.latLngToLayerPoint(r),f=this._container;return this._container&&(this._visible&&(f.style.visibility="inherit"),L.DomUtil.setPosition(f,c)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(r){for(var c in this.options)this.options.hasOwnProperty(c)&&r[c]&&(r[c]=L.extend({},this.options[c],r[c]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,r)},getModeHandlers:function(r){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(r,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(r,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(r,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(r,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(r,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(r,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(r){return[{enabled:r.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:r.completeShape,context:r},{enabled:r.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:r.deleteLastVertex,context:r},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(r){L.setOptions(this,r);for(var c in this._modes)this._modes.hasOwnProperty(c)&&r.hasOwnProperty(c)&&this._modes[c].handler.setOptions(r[c])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(r){r.edit&&(r.edit.selectedPathOptions===void 0&&(r.edit.selectedPathOptions=this.options.edit.selectedPathOptions),r.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,r.edit.selectedPathOptions)),r.remove&&(r.remove=L.extend({},this.options.remove,r.remove)),r.poly&&(r.poly=L.extend({},this.options.poly,r.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,r),this._selectedFeatureCount=0},getModeHandlers:function(r){var c=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(r,{featureGroup:c,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(r,{featureGroup:c}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(r){var c=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return r.removeAllLayers&&c.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),c},addToolbar:function(r){var c=L.Toolbar.prototype.addToolbar.call(this,r);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),c},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var r,c=this.options.featureGroup,f=c.getLayers().length!==0;this.options.edit&&(r=this._modes[L.EditToolbar.Edit.TYPE].button,f?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(r=this._modes[L.EditToolbar.Delete.TYPE].button,f?L.DomUtil.removeClass(r,"leaflet-disabled"):L.DomUtil.addClass(r,"leaflet-disabled"),r.setAttribute("title",f?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(r,c){if(L.Handler.prototype.initialize.call(this,r),L.setOptions(this,c),this._featureGroup=c.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),r._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(r){this._revertLayer(r)},this)},save:function(){var r=new L.LayerGroup;this._featureGroup.eachLayer(function(c){c.edited&&(r.addLayer(c),c.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:r})},_backupLayer:function(r){var c=L.Util.stamp(r);this._uneditedLayerProps[c]||(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?this._uneditedLayerProps[c]={latlngs:L.LatLngUtil.cloneLatLngs(r.getLatLngs())}:r instanceof L.Circle?this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng()),radius:r.getRadius()}:(r instanceof L.Marker||r instanceof L.CircleMarker)&&(this._uneditedLayerProps[c]={latlng:L.LatLngUtil.cloneLatLng(r.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(r){var c=L.Util.stamp(r);r.edited=!1,this._uneditedLayerProps.hasOwnProperty(c)&&(r instanceof L.Polyline||r instanceof L.Polygon||r instanceof L.Rectangle?r.setLatLngs(this._uneditedLayerProps[c].latlngs):r instanceof L.Circle?(r.setLatLng(this._uneditedLayerProps[c].latlng),r.setRadius(this._uneditedLayerProps[c].radius)):(r instanceof L.Marker||r instanceof L.CircleMarker)&&r.setLatLng(this._uneditedLayerProps[c].latlng),r.fire("revert-edited",{layer:r}))},_enableLayerEdit:function(r){var c,f,g=r.layer||r.target||r;this._backupLayer(g),this.options.poly&&(f=L.Util.extend({},this.options.poly),g.options.poly=f),this.options.selectedPathOptions&&(c=L.Util.extend({},this.options.selectedPathOptions),c.maintainColor&&(c.color=g.options.color,c.fillColor=g.options.fillColor),g.options.original=L.extend({},g.options),g.options.editing=c),g instanceof L.Marker?(g.editing&&g.editing.enable(),g.dragging.enable(),g.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):g.editing.enable()},_disableLayerEdit:function(r){var c=r.layer||r.target||r;c.edited=!1,c.editing&&c.editing.disable(),delete c.options.editing,delete c.options.original,this._selectedPathOptions&&(c instanceof L.Marker?this._toggleMarkerHighlight(c):(c.setStyle(c.options.previousOptions),delete c.options.previousOptions)),c instanceof L.Marker?(c.dragging.disable(),c.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):c.editing.disable()},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_onMarkerDragEnd:function(r){var c=r.target;c.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:c})},_onTouchMove:function(r){var c=r.originalEvent.changedTouches[0],f=this._map.mouseEventToLayerPoint(c),g=this._map.layerPointToLatLng(f);r.target.setLatLng(g)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(r,c){if(L.Handler.prototype.initialize.call(this,r),L.Util.setOptions(this,c),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var f=L.version.split(".");parseInt(f[0],10)===1&&parseInt(f[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var r=this._map;r&&(r.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(r){this._deletableLayers.addLayer(r),r.fire("revert-deleted",{layer:r})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(r){this._removeLayer({layer:r})},this),this.save()},_enableLayerDelete:function(r){(r.layer||r.target||r).on("click",this._removeLayer,this)},_disableLayerDelete:function(r){var c=r.layer||r.target||r;c.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(c)},_removeLayer:function(r){var c=r.layer||r.target||r;this._deletableLayers.removeLayer(c),this._deletedLayers.addLayer(c),c.fire("deleted")},_onMouseMove:function(r){this._tooltip.updatePosition(r.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_c(t)}function $0(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);n&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,l)}return i}function lc(t){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?$0(Object(i),!0).forEach(function(l){CA(t,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$0(Object(i)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(i,l))})}return t}function CA(t,n,i){return(n=LA(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function LA(t){var n=DA(t,"string");return _c(n)=="symbol"?n:n+""}function DA(t,n){if(_c(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var l=i.call(t,n);if(_c(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var Go={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function Vx(t){var n=Af(),i=je.useRef(),l=je.useRef(t),r=function(f){var g=t.onCreated,y=n.layerContainer||n.map;y.addLayer(f.layer),g&&g(f)};return Ra.useEffect(function(){var c=n.map,f=t.onMounted;for(var g in Go)c.on(Go[g],function(y){var v=Object.keys(Go).filter(function(x){return Go[x]===y.type});if(v.length===1){var E=v[0];t[E]&&t[E](y)}});return c.on(Xl.Draw.Event.CREATED,r),i.current=eS(t,n),c.addControl(i.current),f&&f(i.current),function(){c.off(Xl.Draw.Event.CREATED,r);for(var y in Go)t[y]&&c.off(Go[y],t[y]);i.current.remove(c)}},[t.onCreated,t.onDeleted,t.onEdited]),Ra.useEffect(function(){if(!(Ho(t.draw,l.current.draw)&&Ho(t.edit,l.current.edit)&&t.position===l.current.position)){var c=n.map;i.current.remove(c),i.current=eS(t,n),i.current.addTo(c);var f=t.onMounted;return f&&f(i.current),function(){i.current.remove(c)}}},[t.draw,t.edit,t.position,t.onCreated,t.onDeleted,t.onEdited]),null}function eS(t,n){var i=n.layerContainer,l=t.draw,r=t.edit,c=t.position,f={edit:lc(lc({},r),{},{featureGroup:i})};return l&&(f.draw=lc({},l)),c&&(f.position=c),new ho.Control.Draw(f)}Vx.propTypes=lc(lc({},Object.keys(Go).reduce(function(t,n){return t[n]=Mt.PropTypes.func,t},{})),{},{onCreated:Mt.PropTypes.func,onMounted:Mt.PropTypes.func,draw:Mt.PropTypes.shape({polyline:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool]),polygon:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool]),rectangle:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool]),circle:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool]),marker:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool])}),edit:Mt.PropTypes.shape({edit:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool]),remove:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool]),poly:Mt.PropTypes.oneOfType([Mt.PropTypes.object,Mt.PropTypes.bool]),allowIntersection:Mt.PropTypes.bool}),position:Mt.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:Mt.PropTypes.shape({map:Mt.PropTypes.instanceOf(ho.Map),layerContainer:Mt.PropTypes.shape({addLayer:Mt.PropTypes.func.isRequired,removeLayer:Mt.PropTypes.func.isRequired})})});const AA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",kA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let NA=Xl.icon({iconUrl:AA,shadowUrl:kA,iconSize:[25,41],iconAnchor:[12,41]});Xl.Marker.prototype.options.icon=NA;const wc=({onCreated:t,onDeleted:n,onMounted:i,date:l,stateMode:r,selectedStates:c,onStateClick:f,children:g})=>{console.log("MapComponent rendered with date:",l);const[y,v]=je.useState(null);je.useEffect(()=>{r&&!y&&(console.log("Fetching US States GeoJSON..."),fetch("/smoke-zipcode-selector/us_states.json").then(A=>A.json()).then(A=>{console.log("States Loaded",A),v(A)}).catch(A=>console.error("Failed to load states:",A)))},[r,y]);const E=A=>{const N=c.has(A.properties.NAME);return{fillColor:N?"#3388ff":"#ccc",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:N?.6:.2}},x=(A,N)=>{N.on({click:()=>{f(A.properties.NAME)},mouseover:B=>{const J=B.target;J.setStyle({weight:4,color:"#666",dashArray:"",fillOpacity:.5}),J.bringToFront()},mouseout:B=>{const J=B.target,se=c.has(A.properties.NAME);J.setStyle({fillColor:se?"#3388ff":"#ccc",weight:2,color:"white",dashArray:"3",fillOpacity:se?.6:.2})}}),N.bindTooltip(A.properties.NAME,{sticky:!0})};return D.jsxs(EA,{center:[39.8283,-98.5795],zoom:4,style:{height:"100%",width:"100%"},ref:i,children:[D.jsx(V0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),D.jsx(V0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),g,r&&y&&D.jsx(Tc,{data:y,style:E,onEachFeature:x},`states-${Array.from(c).join(",")}`),!r&&D.jsx(SA,{children:D.jsx(Vx,{position:"topright",onCreated:t,onDeleted:n,draw:{rectangle:{showArea:!1},polygon:{showArea:!1},circle:!0,circlemarker:!1,marker:!1,polyline:!1}})})]})},OA=({date:t})=>{const[n,i]=je.useState(null),[l,r]=je.useState(!1),[c,f]=je.useState({x:0,y:0}),[g,y]=je.useState(!1),v=je.useRef(null);vA({mousemove(N){f(N.containerPoint),y(!0),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{E(N.latlng.lat,N.latlng.lng)},600)},mouseout(){y(!1),v.current&&clearTimeout(v.current)}});const E=async(N,B)=>{r(!0),i(null),console.log("Fetching AQI for:",N,B,"Date:",t);try{const J=new Date().toISOString().split("T")[0];if(t===J){const se=`https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${N}&longitude=${B}&current=us_aqi`;console.log(`[AQI] Fetching Current: ${se}`);const F=await(await fetch(se)).json();console.log("[AQI] Current Data:",F),F.current&&F.current.us_aqi!==void 0&&i(F.current.us_aqi)}else{const se=`https://archive-api.open-meteo.com/v1/archive?latitude=${N}&longitude=${B}&start_date=${t}&end_date=${t}&hourly=us_aqi_pm2_5`;console.log(`[AQI] Fetching History: ${se}`);const F=await(await fetch(se)).json();if(console.log("[AQI] History Data:",F),F.hourly&&F.hourly.us_aqi_pm2_5){const X=F.hourly.us_aqi_pm2_5.filter(V=>V!==null);X.length>0&&i(Math.max(...X))}}}catch(J){console.error("Failed to fetch AQI",J)}finally{r(!1)}};if(!g)return null;let x="#ccc",A="Loading...";return!l&&n!==null&&(A=`AQI: ${n}`,n<=50?x="#00e400":n<=100?x="#ffff00":n<=150?x="#ff7e00":n<=200?x="#ff0000":n<=300?x="#8f3f97":x="#7e0023"),D.jsx("div",{style:{position:"absolute",left:c.x+15,top:c.y+15,backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"6px 12px",borderRadius:"6px",border:`3px solid ${x}`,fontWeight:"bold",zIndex:1e4,pointerEvents:"none",whiteSpace:"nowrap",boxShadow:"0 2px 8px rgba(0,0,0,0.25)",fontSize:"14px",fontFamily:"sans-serif"},children:A})},Kl=({leftPanel:t,mapContent:n,rightPanel:i})=>D.jsxs("div",{className:"dashboard-layout",children:[D.jsx("div",{className:"left-panel",children:t}),D.jsx("div",{className:"center-panel",children:n}),i&&D.jsx("div",{className:"right-panel",children:i})]}),Cc=({onExport:t,loading:n,zipLoading:i})=>D.jsxs(D.Fragment,{children:[D.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px",marginTop:"10px"},children:[D.jsx("button",{className:"export-btn",onClick:()=>t("DOWNLOAD"),disabled:n||i,style:{backgroundColor:"#4a90e2",fontSize:"11px"},children:"Download SQL"}),D.jsx("button",{className:"export-btn",onClick:()=>t("COPY"),disabled:n||i,style:{backgroundColor:"#6c757d",fontSize:"11px"},children:"Copy SQL"})]}),D.jsx("button",{className:"export-btn",onClick:()=>t("COUNT"),disabled:n||i,style:{width:"100%",marginTop:"5px",backgroundColor:"#28a745",fontSize:"11px"},children:"Copy Count SQL"})]}),MA=({onClose:t,content:n})=>D.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:D.jsxs("div",{style:{backgroundColor:"white",padding:"25px",borderRadius:"8px",width:"600px",maxWidth:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[D.jsx("h2",{style:{margin:0,fontSize:"20px"},children:"Query Type Explainer"}),D.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer"},children:""})]}),D.jsx("div",{style:{fontSize:"14px",lineHeight:"1.6",color:"#333"},children:n?D.jsxs("div",{children:[D.jsx("h4",{style:{color:"#007bff",marginBottom:"8px"},children:n.label}),D.jsxs("p",{style:{marginBottom:"16px"},children:[D.jsx("strong",{children:"Description:"})," ",n.description]}),n.explanation&&D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("h5",{style:{margin:"0 0 8px 0",fontSize:"15px"},children:"How it works"}),D.jsx("p",{style:{margin:0},children:n.explanation})]}),n.sampleQuery&&D.jsxs("div",{children:[D.jsx("h5",{style:{margin:"0 0 8px 0",fontSize:"15px"},children:"Example Query Structure"}),D.jsxs("div",{style:{position:"relative"},children:[D.jsx("pre",{style:{backgroundColor:"#f8f9fa",padding:"12px",borderRadius:"6px",border:"1px solid #e9ecef",overflowX:"auto",fontSize:"12px",margin:0,whiteSpace:"pre-wrap",fontFamily:"monospace, monospace"},children:D.jsx("code",{children:n.sampleQuery})}),D.jsx("button",{onClick:()=>navigator.clipboard.writeText(n.sampleQuery),style:{position:"absolute",top:"8px",right:"8px",background:"#fff",border:"1px solid #ced4da",borderRadius:"4px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",color:"#495057"},title:"Copy sample SQL",children:" Copy"})]}),D.jsx("p",{style:{fontSize:"11px",color:"#6c757d",marginTop:"6px"},children:D.jsx("em",{children:"* Note: The final query will inject your specific Zip Codes, NAICS categories, and chosen boolean filters."})})]})]}):D.jsx("p",{children:"Select a query type to see details."})}),D.jsx("div",{style:{marginTop:"20px",textAlign:"right"},children:D.jsx("button",{onClick:t,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Close"})})]})}),RA=[{id:"count_summary",label:"1. Site / Customer / Contact Count",description:"Get a summary count of all records.",explanation:"This query executes a simple tally. It counts the TOTAL number of unique Sites, unique Customers (Accounts), and unique Contacts associated with the selected zip codes and Active statuses.",sampleQuery:`/* Count Summary */
SELECT 
    COUNT(DISTINCT site.Id) as Site_Count,
    COUNT(DISTINCT cust.Id) as Customer_Count,
    COUNT(DISTINCT c.Id) as Contact_Count
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
LEFT JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_CONTACT_OBJECT c ON c.AccountId = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  '90210'
  )
  AND site.Status__c = 'Active'
  AND cust.Status__c = 'Active'
  AND c.Status__c = 'Active'
  AND c.LastActivityDate IS NOT NULL
  AND c.LastActivityDate >= DATEADD(month, -12, CURRENT_DATE);`,config:{recordType:"Count",filters:{contactUniqueEmails:!0,contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}},{id:"site_export",label:"2. Site Export",description:"Export Site records.",explanation:'This query extracts raw Site locations. It filters down to Account records with the "Site" record type located within the selected zip codes, pulling in exactly one row per Site.',sampleQuery:`/* Site Export */
SELECT DISTINCT
    site.Id,
    site.Name,
    site.Zip__c,
    site.Status__c,
    cust.Id              AS customer_account_id,
    o.NAICS_2017_CODE__C AS naics_code
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
LEFT JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  '90210'
  )
  AND site.Status__c = 'Active'
  AND cust.Status__c = 'Active'
ORDER BY
    site.Id;`,config:{recordType:"Site",filters:{contactUniqueEmails:!0,contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}},{id:"customer_export",label:"3. Customer Export",description:"Export Customer records.",explanation:"This query extracts Customer Accounts. It identifies Active Sites within the target zip codes, traces them up to their parent Customer Account, and returns the unique Customers along with their Sales and Order metrics.",sampleQuery:`/* Customer Export */
SELECT DISTINCT
    cust.Id,
    cust.Name,
    cust.Status__c,
    cust.Total_Sales_LY__c,
    cust.LastOrderDate__c,
    site.Zip__c          AS site_zip,
    o.NAICS_2017_CODE__C AS naics_code
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  '90210'
  )
  AND site.Status__c = 'Active'
  AND cust.Status__c = 'Active'
ORDER BY
    cust.Id;`,config:{recordType:"Customer",filters:{contactUniqueEmails:!0,contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}},{id:"contact_export",label:"4. Contact Export",description:"Export Contact records.",explanation:'This complex query extracts actionable people to email or call. First, it identifies Active targets by traversing from Site -> Customer -> Contact. If the "Unique Emails Only" filter is checked, it wraps this list in a Window Function over the Contact Email, ordering them by LastActivityDate descending, and plucks only the freshest record per email (WHERE rn = 1).',sampleQuery:`/* Contacts Export (Unique Emails Only) */
WITH RankedContacts AS (
    SELECT DISTINCT
        c.Id,
        c.FirstName,
        c.LastName,
        c.Email,
        c.Phone,
        c.Status__c,
        c.LastActivityDate,
        cust.Id              AS customer_account_id,
        cust.Name            AS account_name,
        cust.CUST_ID__C      AS account_cust_id,
        o.NAICS_2017_CODE__C AS naics_code,
        ROW_NUMBER() OVER (PARTITION BY c.Email ORDER BY c.LastActivityDate DESC) as rn
    FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
    JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
      ON site.Related_Account__c = cust.Id
    JOIN SFDC_DS.SFDC_CONTACT_OBJECT c
      ON c.AccountId = cust.Id
    JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
      ON cust.Org__c = o.Id
    WHERE site.RECORDTYPE_NAME__C = 'Site'
      AND site.Zip__c IN (
      '90210'
      )
      AND site.Status__c = 'Active'
      AND cust.Status__c = 'Active'
      AND c.Status__c = 'Active'
      AND c.LastActivityDate IS NOT NULL
      AND c.LastActivityDate >= DATEADD(month, -12, CURRENT_DATE)
)
SELECT 
    Id, FirstName, LastName, Email, Phone, Status__c,
    LastActivityDate, customer_account_id, account_name,
    account_cust_id, naics_code
FROM RankedContacts
WHERE rn = 1
ORDER BY customer_account_id, LastName, FirstName;`,config:{recordType:"Contact",filters:{contactUniqueEmails:!0,contactActivityMonths:12,contactActive:!0,siteActive:!0,customerActive:!0},naics:[]}}],IA=({onSelect:t})=>{const[n,i]=je.useState(!1),[l,r]=je.useState("count_summary"),[c,f]=je.useState(null),g=v=>{r(v.id),t(v.config)},y=(v,E)=>{v.stopPropagation(),f(E),i(!0)};return D.jsxs("div",{style:{marginBottom:"15px"},children:[D.jsx("label",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"QUERY TYPE"}),D.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:RA.map(v=>D.jsxs("div",{onClick:()=>g(v),style:{padding:"10px",borderRadius:"4px",border:l===v.id?"1px solid #007bff":"1px solid #ced4da",backgroundColor:l===v.id?"#e7f1ff":"#fff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"all 0.2s ease"},children:[D.jsx("span",{style:{fontSize:"12px",fontWeight:l===v.id?"bold":"normal",color:"#333"},children:v.label}),D.jsx("button",{onClick:E=>y(E,v),style:{background:"none",border:"none",color:"#666",cursor:"pointer",padding:"4px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",fontSize:"12px",fontWeight:"bold"},title:"More Info",children:"?"})]},v.id))}),n&&D.jsx(MA,{onClose:()=>i(!1),content:c})]})},PA=[{code:"11",title:"Agriculture, Forestry, Fishing and Hunting",children:[{code:"111",title:"Crop Production",children:[{code:"1111",title:"Oilseed and Grain Farming"},{code:"1112",title:"Vegetable and Melon Farming"}]},{code:"112",title:"Animal Production and Aquaculture"}]},{code:"23",title:"Construction",children:[{code:"236",title:"Construction of Buildings"},{code:"237",title:"Heavy and Civil Engineering Construction"},{code:"238",title:"Specialty Trade Contractors"}]},{code:"31-33",title:"Manufacturing",children:[{code:"311",title:"Food Manufacturing"},{code:"325",title:"Chemical Manufacturing"},{code:"334",title:"Computer and Electronic Product Manufacturing"}]},{code:"44-45",title:"Retail Trade",children:[{code:"441",title:"Motor Vehicle and Parts Dealers"},{code:"445",title:"Food and Beverage Stores"}]},{code:"61",title:"Educational Services",children:[{code:"611",title:"Educational Services"}]},{code:"62",title:"Health Care and Social Assistance",children:[{code:"621",title:"Ambulatory Health Care Services"},{code:"622",title:"Hospitals"},{code:"623",title:"Nursing and Residential Care Facilities"}]}],Wx=({node:t,selectedCodes:n,onToggle:i,forceExpand:l})=>{const[r,c]=je.useState(!1),f=t.children&&t.children.length>0,g=n.has(t.code);Ra.useEffect(()=>{l&&c(!0)},[l]);const y=E=>{E.stopPropagation(),c(!r)},v=E=>{E.stopPropagation(),i(t.code)};return D.jsxs("div",{style:{marginLeft:"15px"},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"2px 0"},children:[D.jsx("div",{onClick:f?y:void 0,style:{width:"16px",cursor:f?"pointer":"default",marginRight:"4px",textAlign:"center",color:"#666",fontWeight:"bold"},children:f?r?"-":"+":""}),D.jsx("input",{type:"checkbox",checked:g,onChange:v,style:{marginRight:"6px"}}),D.jsxs("span",{style:{fontSize:"12px",color:"#333"},children:[D.jsx("strong",{children:t.code})," - ",t.title]})]}),f&&r&&D.jsx("div",{children:t.children.map(E=>D.jsx(Wx,{node:E,selectedCodes:n,onToggle:i,forceExpand:l},E.code))})]})},BA=[{code:"622",title:"Hospitals",hazard:"Air Quality / Pathogen Control",driver:"CMS Safety Conditions",url:"https://www.cms.gov/medicare/provider-enrollment-and-certification/certificationandcomplianc/hospitals"},{code:"623",title:"Nursing Care Facilities",hazard:"Infectious Disease / Safety",driver:"OSHA Healthcare Standards",url:"https://www.osha.gov/healthcare/infectious-diseases"},{code:"531110",title:"Apartments / Residential Lessors",hazard:"Habitability / Fire / Mold",driver:"HUD Housing Quality (HQS)",url:"https://www.hud.gov/program_offices/public_indian_housing/programs/hcv/hqs"},{code:"531311",title:"Residential Property Managers",hazard:"Life Safety / Security",driver:"NFPA 101 Life Safety Code",url:"https://www.nfpa.org/codes-and-standards/all-codes-and-standards/list-of-codes-and-standards/detail?code=101"},{code:"6111",title:"Elementary & Secondary Schools",hazard:"Indoor Air / Student Safety",driver:"EPA IAQ Tools for Schools",url:"https://www.epa.gov/iaq-schools/indoor-air-quality-tools-schools-action-kit"},{code:"7211",title:"Hotels & Motels",hazard:"Fire Safety / Guest Security",driver:"Federal Fire Safety Act",url:"https://www.gsa.gov/travel/plan-a-trip/per-diem-rates/fire-safe-hotels"},{code:"531130",title:"Self-Storage",hazard:"Environmental / Fire / Bailment",driver:"NFPA 1 Fire Code",url:"https://www.nfpa.org/codes-and-standards/all-codes-and-standards/list-of-codes-and-standards/detail?code=1"},{code:"48",title:"Transportation (General)",hazard:"Passenger Safety",driver:"DOT Safety Obligations",url:"https://www.transportation.gov/safety"},{code:"49",title:"Transportation (Couriers)",hazard:"Passenger Safety",driver:"DOT Safety Obligations",url:"https://www.transportation.gov/safety"}],Qx=(t,n)=>{if(!n)return t;const i=n.toLowerCase();return t.reduce((l,r)=>{const c=r.code.toLowerCase().includes(i)||r.title.toLowerCase().includes(i),f=r.children?Qx(r.children,n):[];return(c||f.length>0)&&l.push({...r,children:f}),l},[])},FA=({selectedCodes:t,onSelectionChange:n})=>{const[i,l]=je.useState(!1),[r,c]=je.useState(""),f=y=>{const v=new Set(t);v.has(y)?v.delete(y):v.add(y),n(v)},g=Ra.useMemo(()=>Qx(PA,r),[r]);return D.jsxs("div",{style:{border:"1px solid #ced4da",borderRadius:"4px",marginTop:"10px"},children:[D.jsx("div",{style:{padding:"8px",backgroundColor:"#f8f9fa",borderBottom:i?"1px solid #ced4da":"none",cursor:"pointer",display:"flex",flexDirection:"column",gap:"5px"},onClick:()=>l(!i),children:D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[D.jsxs("label",{style:{margin:0,cursor:"pointer",fontWeight:"bold",fontSize:"13px"},children:["NAICS Filter (",t.size,")"]}),D.jsx("span",{style:{fontSize:"10px"},children:i?"":""})]})}),i&&D.jsxs("div",{style:{padding:"8px",maxHeight:"400px",overflowY:"auto",backgroundColor:"#fff"},children:[D.jsx("input",{type:"text",placeholder:"Search NAICS codes or titles...",value:r,onChange:y=>c(y.target.value),style:{width:"100%",padding:"6px",marginBottom:"10px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px"}}),D.jsxs("div",{style:{marginBottom:"15px",border:"1px solid #ffeeba",backgroundColor:"#fff3cd",borderRadius:"4px",padding:"8px"},children:[D.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",color:"#856404",marginBottom:"6px"},children:" Quick Select: High-Risk Duty of Care"}),D.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:BA.map(y=>D.jsxs("div",{style:{marginBottom:"4px",display:"flex",alignItems:"flex-start"},children:[D.jsx("input",{type:"checkbox",checked:t.has(y.code),onChange:()=>f(y.code),style:{marginTop:"3px",marginRight:"6px"}}),D.jsxs("div",{children:[D.jsxs("div",{style:{fontSize:"11px",fontWeight:"bold"},children:[y.title," ",D.jsxs("span",{style:{fontWeight:"normal"},children:["(",y.code,")"]})]}),D.jsxs("div",{style:{fontSize:"10px",color:"#666"},children:["Hazard: ",y.hazard]})]})]},y.code))})]}),D.jsxs("div",{style:{borderTop:"1px solid #eee",paddingTop:"10px"},children:[D.jsx("div",{style:{marginBottom:"5px",fontSize:"11px",color:"#666",fontWeight:"bold"},children:"Full NAICS Hierarchy"}),g.length>0?g.map(y=>D.jsx(Wx,{node:y,selectedCodes:t,onToggle:f,forceExpand:!!r},y.code)):D.jsx("div",{style:{fontSize:"12px",color:"#999",fontStyle:"italic",textAlign:"center",padding:"10px"},children:"No matching codes found."})]}),t.size>0&&D.jsx("button",{onClick:()=>n(new Set),style:{marginTop:"10px",width:"100%",fontSize:"11px",padding:"4px",background:"#f8d7da",border:"1px solid #f5c6cb",color:"#721c24",borderRadius:"3px",cursor:"pointer"},children:"Clear Filters"})]})]})},Lc=({config:t,setConfig:n,selectedNAICS:i,setSelectedNAICS:l})=>{const r=(f,g)=>{n(y=>({...y,[f]:g}))},c=f=>{n(g=>({...g,recordType:f.recordType,filters:{...g.filters,...f.filters}})),f.naics&&f.naics.length>0?l(new Set(f.naics)):l(new Set)};return D.jsxs("div",{style:{padding:"10px",backgroundColor:"#f8f9fa",border:"1px solid #ddd",borderRadius:"4px",marginBottom:"10px",fontSize:"12px"},children:[D.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"13px",borderBottom:"1px solid #eee",paddingBottom:"4px"},children:"Export Settings"}),D.jsx(IA,{onSelect:c,currentConfig:t}),D.jsx("div",{style:{margin:"10px 0",borderTop:"1px solid #eee"}}),D.jsxs("div",{children:[D.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"Default Field Filters"}),D.jsxs("div",{style:{marginBottom:"8px"},children:[D.jsx("label",{style:{display:"block",fontSize:"11px",marginBottom:"2px"},children:"Contact(If Applicable) Number of Months Since Last Activity"}),D.jsx("input",{type:"number",value:t.filters?.contactActivityMonths!==void 0?t.filters.contactActivityMonths:12,onChange:f=>r("filters",{...t.filters,contactActivityMonths:f.target.value}),style:{width:"100%",padding:"4px",fontSize:"11px",border:"1px solid #ccc",borderRadius:"3px"}})]}),D.jsx("div",{style:{marginBottom:"8px"},children:D.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer"},children:[D.jsx("input",{type:"checkbox",checked:t.filters?.contactUniqueEmails??!0,onChange:f=>r("filters",{...t.filters,contactUniqueEmails:f.target.checked}),style:{marginRight:"6px"}}),"Contact(If Applicable) Unique Emails Only Prefer Latest Activity Date"]})}),D.jsx("div",{style:{marginBottom:"8px"},children:D.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer"},children:[D.jsx("input",{type:"checkbox",checked:t.filters?.contactActive??!0,onChange:f=>r("filters",{...t.filters,contactActive:f.target.checked}),style:{marginRight:"6px"}}),"Contact(If Applicable) Status: Active"]})}),D.jsx("div",{style:{marginBottom:"8px"},children:D.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer"},children:[D.jsx("input",{type:"checkbox",checked:t.filters?.siteActive??!0,onChange:f=>r("filters",{...t.filters,siteActive:f.target.checked}),style:{marginRight:"6px"}}),"Site(If Applicable) Status: Active"]})}),D.jsx("div",{style:{marginBottom:"8px"},children:D.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"11px",cursor:"pointer"},children:[D.jsx("input",{type:"checkbox",checked:t.filters?.customerActive??!0,onChange:f=>r("filters",{...t.filters,customerActive:f.target.checked}),style:{marginRight:"6px"}}),"Customer(If Applicable) Status: Active"]})})]}),D.jsx("div",{style:{marginTop:"15px"},children:D.jsx(FA,{selectedCodes:i,onSelectionChange:l})})]})},Xr={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","District of Columbia":"DC","Puerto Rico":"PR"},Dc=(t,n,i,l)=>{const{recordType:r,filters:c}=t,{contactActivityMonths:f=12,contactActive:g=!0,siteActive:y=!0,customerActive:v=!0}=c||{};if(!n||n.length===0)return"-- No zipcodes provided";const E=n.map(X=>`'${X.replace(/'/g,"''")}'`).join(`,
  `),A=i&&i.size>0?`
  AND (${Array.from(i).map(X=>`o.NAICS_2017_CODE__C LIKE '${X}%'`).join(" OR ")})`:"",N=y?`
  AND site.Status__c = 'Active'`:"",B=v?`
  AND cust.Status__c = 'Active'`:"",J=g?`
  AND c.Status__c = 'Active'`:"",se=f&&!isNaN(f)?`
  AND c.LastActivityDate IS NOT NULL
  AND c.LastActivityDate >= DATEADD(month, -${f}, CURRENT_DATE)`:"",{contactUniqueEmails:re=!0}=c||{},F=l?"Count":r;if(F==="Count")return`/* Count Summary */
SELECT 
    COUNT(DISTINCT site.Id) as Site_Count,
    COUNT(DISTINCT cust.Id) as Customer_Count,
    COUNT(DISTINCT c.Id) as Contact_Count
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
LEFT JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_CONTACT_OBJECT c ON c.AccountId = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${A}${N}${B}${J}${se};`;if(F==="Contact"){const X=`SELECT DISTINCT
    c.Id,
    c.FirstName,
    c.LastName,
    c.Email,
    c.Phone,
    c.Status__c,
    c.LastActivityDate,

    cust.Id              AS customer_account_id,
    cust.Name            AS account_name,
    cust.CUST_ID__C      AS account_cust_id,

    o.NAICS_2017_CODE__C AS naics_code${re?`,
    ROW_NUMBER() OVER (PARTITION BY c.Email ORDER BY c.LastActivityDate DESC) as rn`:""}
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
JOIN SFDC_DS.SFDC_CONTACT_OBJECT c
  ON c.AccountId = cust.Id
JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${A}${N}${B}${J}${se}`;return re?`/* Contacts Export (Unique Emails Only) */
WITH RankedContacts AS (
${X.split(`
`).map(V=>"    "+V).join(`
`)}
)
SELECT 
    Id,
    FirstName,
    LastName,
    Email,
    Phone,
    Status__c,
    LastActivityDate,
    customer_account_id,
    account_name,
    account_cust_id,
    naics_code
FROM RankedContacts
WHERE rn = 1
ORDER BY
    customer_account_id,
    LastName,
    FirstName;`:`/* Contacts Export */
${X}
ORDER BY
    cust.Id,
    c.LastName,
    c.FirstName;`}return F==="Customer"?`/* Customer Export */
SELECT DISTINCT
    cust.Id,
    cust.Name,
    cust.Status__c,
    cust.Total_Sales_LY__c,
    cust.LastOrderDate__c,

    site.Zip__c          AS site_zip,
    o.NAICS_2017_CODE__C AS naics_code
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${A}${N}${B}
ORDER BY
    cust.Id;`:F==="Site"?`/* Site Export */
SELECT DISTINCT
    site.Id,
    site.Name,
    site.Zip__c,
    site.Status__c,

    cust.Id              AS customer_account_id,
    o.NAICS_2017_CODE__C AS naics_code
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT site
LEFT JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT cust
  ON site.Related_Account__c = cust.Id
LEFT JOIN SFDC_DS.SFDC_ORG__C_OBJECT o
  ON cust.Org__c = o.Id
WHERE site.RECORDTYPE_NAME__C = 'Site'
  AND site.Zip__c IN (
  ${E}
  )${A}${N}${B}
ORDER BY
    site.Id;`:"-- Invalid query type."},tS=({zipCodes:t=[],zipLoading:n=!1})=>{const[i]=je.useState(!1),[l,r]=je.useState("Initializing..."),[c,f]=je.useState(()=>new Date(Date.now()-864e5).toISOString().split("T")[0]);console.log("Active Date:",c);const[g,y]=je.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""}),[v,E]=je.useState(!1),[x,A]=je.useState(new Set),[N,B]=je.useState(new Set),J=je.useRef({}),se=W=>{const{layerType:K,layer:ee}=W,k=Xl.Util.stamp(ee);let M;if(K==="circle"){const P=ee.getLatLng(),Z=ee.getRadius(),q={steps:64,units:"meters"};M={type:"circle",geometry:Sf([P.lng,P.lat],Z,q).geometry,rawLayer:ee}}else M={type:"polygon",geometry:ee.toGeoJSON().geometry,rawLayer:ee};J.current[k]=M,r(`Area added. Total areas: ${Object.keys(J.current).length}`)},re=W=>{W.layers.eachLayer(ee=>{const k=Xl.Util.stamp(ee);delete J.current[k]}),r(`Area removed. Total areas: ${Object.keys(J.current).length}`)},F=W=>{const K=new Set(x);K.has(W)?K.delete(W):K.add(W),A(K),r(`${K.size} states selected.`)},X=()=>{if(i)return;if(n){alert("Zipcode database is still loading. Please wait a moment.");return}const W=Object.keys(J.current);if(!v&&W.length===0){alert("No areas selected. Please draw a box, polygon, or circle first.");return}r("Calculating intersecting zip codes...");try{const K=new Set;if(!v)W.forEach(q=>{const te=J.current[q],ne=lt(te.geometry.coordinates),ae=kt(ne);t.forEach(R=>{R.lng>=ae[0]&&R.lng<=ae[2]&&R.lat>=ae[1]&&R.lat<=ae[3]&&rt([R.lng,R.lat],ne)&&K.add(R)})});else{if(x.size===0){alert("No states selected."),r("No states selected.");return}const q=Xr,te=new Set;x.forEach(ne=>{q[ne]?te.add(q[ne]):console.warn(`State name not found in map: "${ne}"`)}),console.log("Selected States:",Array.from(x)),console.log("Mapped Abbrevs:",Array.from(te)),t.forEach(ne=>{te.has(ne.state)&&K.add(ne)})}if(K.size===0){alert("No zip codes found in selected areas."),r("No zip codes found.");return}const ee=Array.from(K).map(q=>({ZIP:q.zip,CITY:q.city,STATE:q.state,LAT:q.lat,LNG:q.lng})),k=yc.unparse(ee),M=new Blob([k],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(M),Z=document.createElement("a");Z.href=P,Z.setAttribute("download","selected_zipcodes.csv"),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),r(`Exported ${K.size} zipcodes.`)}catch(K){console.error(K),r("Export failed.")}},V=W=>{if(i)return;if(n){alert("Zipcode database is still loading. Please wait a moment.");return}const K=Object.keys(J.current);if(!v&&K.length===0){alert("No areas selected. Please draw a box, polygon, or circle first.");return}r("Generating SQL...");try{const ee=new Set;if(!v)K.forEach(P=>{const Z=J.current[P],q=lt(Z.geometry.coordinates),te=kt(q);t.forEach(ne=>{ne.lng>=te[0]&&ne.lng<=te[2]&&ne.lat>=te[1]&&ne.lat<=te[3]&&rt([ne.lng,ne.lat],q)&&ee.add(ne.zip)})});else{if(x.size===0){alert("No states selected."),r("No states selected.");return}const P=Xr,Z=new Set;x.forEach(q=>{P[q]&&Z.add(P[q])}),t.forEach(q=>{Z.has(q.state)&&ee.add(q.zip)})}if(ee.size===0){alert("No zip codes found in selected areas."),r("No zip codes found.");return}const k=Array.from(ee),M=Dc(g,k,N,W==="COUNT");if(W==="COUNT"||W==="COPY")navigator.clipboard.writeText(M).then(()=>{alert(`${W==="COUNT"?"Count SQL":"SQL Query"} copied to clipboard!`),r("SQL Query copied.")});else{const P=new Blob([M],{type:"text/plain"}),Z=URL.createObjectURL(P),q=document.createElement("a");q.href=Z,q.setAttribute("download","smoke_targets.sql"),document.body.appendChild(q),q.click(),document.body.removeChild(q),r(`Exported SQL for ${ee.size} zip codes.`)}}catch(ee){console.error(ee),alert("Export failed: "+ee.message),r("Export failed.")}};return D.jsx(Kl,{leftPanel:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[D.jsxs("h3",{style:{margin:"0 0 12px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:[D.jsx("span",{style:{fontSize:"20px"},children:""})," Smoke / AQI"]}),D.jsxs("div",{className:"sidebar-input-group",children:[D.jsx("label",{className:"sidebar-label",style:{color:"rgba(255,255,255,0.9)"},children:"Data Date"}),D.jsx("input",{type:"date",value:c,max:new Date().toISOString().split("T")[0],onChange:W=>f(W.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",width:"100%",backgroundColor:"rgba(255,255,255,0.1)",color:"white"}})]})]}),D.jsxs("div",{className:"sidebar-content",style:{padding:"16px",display:"flex",flexDirection:"column",gap:"20px"},children:[D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"SELECTION TOOLS"}),D.jsx("button",{onClick:()=>E(!v),style:{padding:"12px",borderRadius:"6px",border:"1px solid #ced4da",backgroundColor:v?"#0d6efd":"white",color:v?"white":"#495057",cursor:"pointer",fontWeight:"600",width:"100%",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:v?" State Selection Active":"Enable State Selection"})]}),D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"EXPORT DATA"}),D.jsxs("div",{style:{marginBottom:"16px",background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[D.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"1. Export Zip Code List (CSV)"}),D.jsx("button",{className:"export-btn",onClick:X,disabled:i||n,style:{width:"100%",padding:"10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:n?"Loading DB...":i?"Processing...":"Download CSV of Zip Codes"})]}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[D.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"2. Generate SQL Query"}),D.jsx(Lc,{config:g,setConfig:y,selectedNAICS:N,setSelectedNAICS:B}),D.jsx("div",{style:{marginTop:"10px"},children:D.jsx(Cc,{onExport:V,loading:i,zipLoading:n})})]})]})]}),D.jsx("div",{className:"sidebar-footer",style:{padding:"12px",borderTop:"1px solid #eee",background:"#f8f9fa"},children:D.jsx("small",{style:{color:"#6c757d"},children:l})})]}),mapContent:D.jsxs(wc,{onCreated:se,onDeleted:re,date:c,stateMode:v,selectedStates:x,onStateClick:F,children:[D.jsx(Of,{url:"https://gibs.earthdata.nasa.gov/wms/epsg3857/best/wms.cgi",layers:"MODIS_Combined_Value_Added_AOD",format:"image/png",transparent:!0,opacity:.6,attribution:"NASA GIBS Combined Modis AOD",params:{TIME:c}},`wms-${c}`),D.jsx(OA,{date:c})]}),rightPanel:D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"sidebar-header",style:{padding:"16px",background:"linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:D.jsx("h3",{style:{margin:0,fontSize:"16px"},children:"Legend & Info"})}),D.jsxs("div",{className:"sidebar-content",style:{padding:"16px"},children:[D.jsxs("div",{style:{padding:"16px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[D.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#2c3e50",display:"flex",alignItems:"center",gap:"6px"},children:[D.jsx("span",{children:""})," How to Use"]}),D.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"13px",color:"#555",lineHeight:"1.6"},children:[D.jsxs("li",{children:["Use the ",D.jsx("strong",{children:"Shape Tools"})," (top right of map) to draw a box or polygon around smoke areas."]}),D.jsxs("li",{style:{marginTop:"8px"},children:["Toggle ",D.jsx("strong",{children:"State Selection"})," to quickly select entire states."]}),D.jsxs("li",{style:{marginTop:"8px"},children:["Use the ",D.jsx("strong",{children:"Export Data"})," section to download Zip Codes (CSV) or generate a SQL query."]})]})]}),D.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#fffcf5",borderRadius:"8px",border:"1px solid #ffd8a8",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[D.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#d9480f",display:"flex",alignItems:"center",gap:"6px"},children:[D.jsx("span",{children:""})," Sample Cadence Email"]}),D.jsxs("div",{style:{fontSize:"12px",color:"#495057",lineHeight:"1.5"},children:[D.jsxs("p",{style:{margin:"0 0 8px 0"},children:[D.jsx("strong",{children:"Subject Line:"})," Supporting Your Team During Local Air Quality Alerts"]}),D.jsxs("p",{style:{margin:"0 0 8px 0"},children:["Hi ","{{FirstName}}",","]}),D.jsx("p",{style:{margin:"0 0 8px 0"},children:"I hope you and your team are doing well and staying comfortable during the recent air quality alerts in your area. At ODP Business Solutions, were here to help you keep operations running smoothly and your employees more comfortable while theyre on-site."}),D.jsx("p",{style:{margin:"0 0 8px 0"},children:"Here are a few items many organizations in affected regions find especially helpful:"}),D.jsxs("ul",{style:{margin:"0 0 8px 0",paddingLeft:"20px"},children:[D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"Air Purifiers & Filters"}),"  HEPA and high-efficiency units for offices, conference rooms, and shared spaces."]}),D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"N95 & Disposable Masks"}),"  For employees who may need to be on-site, travel between locations, or interact with visitors."]}),D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"Cleaning & Maintenance Supplies"}),"  Filters, wipes, and surface cleaners to help support your overall workplace environment."]}),D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"Workspace Wellness Items"}),"  Hydration stations, facial tissues, and other breakroom and wellness essentials."]})]}),D.jsx("p",{style:{margin:"0 0 12px 0"},children:"If youd like, I can put together a quick list of recommended options and pricing tailored to your locations and headcount."}),D.jsxs("p",{style:{margin:0},children:["Best regards,",D.jsx("br",{}),"{{YourName}}",D.jsx("br",{}),"{{YourTitle}}",D.jsx("br",{}),D.jsx("strong",{children:"ODP Business Solutions"}),D.jsx("br",{}),"{{YourEmail}} | {{YourPhone}}"]})]}),D.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`Subject Line: Supporting Your Team During Local Air Quality Alerts

Hi {{FirstName}},

I hope you and your team are doing well and staying comfortable during the recent air quality alerts in your area. At ODP Business Solutions, were here to help you keep operations running smoothly and your employees more comfortable while theyre on-site.

Here are a few items many organizations in affected regions find especially helpful:
 Air Purifiers & Filters  HEPA and high-efficiency units for offices, conference rooms, and shared spaces.
 N95 & Disposable Masks  For employees who may need to be on-site, travel between locations, or interact with visitors.
 Cleaning & Maintenance Supplies  Filters, wipes, and surface cleaners to help support your overall workplace environment.
 Workspace Wellness Items  Hydration stations, facial tissues, and other breakroom and wellness essentials.

If youd like, I can put together a quick list of recommended options and pricing tailored to your locations and headcount.

Best regards,
{{YourName}}
{{YourTitle}}
ODP Business Solutions
{{YourEmail}} | {{YourPhone}}`),alert("Email template copied to clipboard!")},style:{marginTop:"12px",width:"100%",padding:"8px",backgroundColor:"#fff",border:"1px solid #d9480f",color:"#d9480f",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"background 0.2s"},onMouseOver:W=>W.target.style.backgroundColor="#fffefe",onMouseOut:W=>W.target.style.backgroundColor="#fff",children:" Copy Template"})]})]})]})})};function Kx(t){const n=t.properties||{},i=n.event||"Weather Alert",l=n.areaDesc||"Unknown Area",r=n.severity||"Unknown",c=n.headline||"",f=n.description||"",g=n.onset?new Date(n.onset):null,y=n.ends?new Date(n.ends):null,v=n.effective?new Date(n.effective):null,E=`${i} ${l}`,x={newsSearch:`https://www.google.com/search?q=${encodeURIComponent(E+" news")}`,currentConditions:`https://www.google.com/search?q=${encodeURIComponent(E+" current conditions today")}`,localNews:`https://www.google.com/search?q=${encodeURIComponent(E+" local news")}`,impactReports:`https://www.google.com/search?q=${encodeURIComponent(E+" impact damage reports")}`,safetyInfo:`https://www.google.com/search?q=${encodeURIComponent(i+" safety tips preparation")}`};return{summary:{event:i,area:l,severity:r,urgency:n.urgency,certainty:n.certainty,headline:c,timing:{effective:v?v.toLocaleString():"Unknown",starts:g?g.toLocaleString():"Unknown",ends:y?y.toLocaleString():"Unknown",isActive:g&&y?Date.now()>=g&&Date.now()<=y:!1},description:f,instructions:n.instruction||"No specific instructions provided",quickActions:[`Check local news: ${x.localNews}`,`Current conditions: ${x.currentConditions}`,`General news: ${x.newsSearch}`]},searchLinks:x,rawAlertId:n.id}}const zA=({onClose:t})=>D.jsx("div",{className:"modal-overlay",onClick:t,children:D.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[D.jsx("button",{className:"modal-close",onClick:t,children:""}),D.jsx("h3",{children:"How to Use the Alert Dashboard"}),D.jsx("h4",{children:"1. Severity Formatting"}),D.jsx("p",{children:"Alerts are color-coded to help you prioritize:"}),D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx("span",{className:"badge",style:{backgroundColor:"#dc3545"},children:"Red"})," ",D.jsx("strong",{children:"Severe/Extreme:"})," Immediate action required. Life-threatening conditions."]}),D.jsxs("li",{children:[D.jsx("span",{className:"badge",style:{backgroundColor:"#fd7e14"},children:"Orange"})," ",D.jsx("strong",{children:"Moderate:"})," Action recommended. Hazardous conditions."]}),D.jsxs("li",{children:[D.jsx("span",{className:"badge",style:{backgroundColor:"#ffc107"},children:"Yellow"})," ",D.jsx("strong",{children:"Minor/Unknown:"})," Be aware. Potential inconvenience."]})]}),D.jsx("h4",{children:"2. Filtering"}),D.jsx("p",{children:'Use the dropdown at the top right to filter by severity (e.g., "Severe Only").'}),D.jsx("h4",{children:"3. Research & Verification"}),D.jsx("p",{children:"Before exporting, use the buttons on each card:"}),D.jsxs("ul",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Local News:"})," Searches Google for local coverage to verify impact."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Impact:"})," Looks for damage reports."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Conds:"})," Checks current weather conditions."]})]}),D.jsx("h4",{children:"4. Exporting"}),D.jsxs("p",{children:['Select specific alerts using the checkboxes, or click "Download All" to get a CSV of the target zip codes. The ',D.jsx("strong",{children:"Copy"})," button puts the CSV directly into your clipboard for pasting into Excel/Sheets."]})]})}),gf=({alerts:t,title:n,onExport:i,onCopy:l,onAlertClick:r,onAlertToggle:c,selectedIds:f=new Set,focusedId:g})=>{const[y,v]=je.useState("All"),[E,x]=je.useState(!1),[A,N]=je.useState(new Set),B=(se,re)=>{re.stopPropagation();const F=new Set(A);F.has(se)?F.delete(se):F.add(se),N(F)};if(!t||t.length===0)return D.jsxs("div",{className:"alert-list-empty",children:[D.jsx("h3",{children:n}),D.jsx("p",{children:"No active alerts found."}),D.jsx("button",{className:"export-btn",disabled:!0,children:"Export Target List"})]});const J=t.filter(se=>{if(y==="All")return!0;const re=se.properties.severity;return y==="Severe+"?re==="Severe"||re==="Extreme":y==="Moderate+"?re==="Severe"||re==="Extreme"||re==="Moderate":!0});return D.jsxs("div",{className:"alert-list-container",children:[E&&D.jsx(zA,{onClose:()=>x(!1)}),D.jsx("div",{style:{padding:"10px 15px",background:"#f8f9fa",borderBottom:"1px solid #e9ecef"},children:D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsxs("small",{style:{color:"#666",fontStyle:"italic"},children:[D.jsx("strong",{children:"Quick Start:"}),' Select active alerts to export target zip codes. Use "Severe Only" filter to prioritize.']}),D.jsx("button",{onClick:()=>x(!0),style:{background:"none",border:"1px solid #ccc",borderRadius:"12px",padding:"2px 8px",fontSize:"10px",cursor:"pointer",color:"#0d6efd"},children:"More Info"})]})}),D.jsxs("div",{className:"alert-list-header",style:{flexDirection:"column",alignItems:"stretch",gap:"10px"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[D.jsxs("h3",{style:{margin:0},children:[n," ",D.jsx("span",{className:"badge",children:J.length})]}),D.jsxs("select",{value:y,onChange:se=>v(se.target.value),style:{padding:"4px",borderRadius:"4px",fontSize:"11px",border:"1px solid #ced4da",cursor:"pointer"},children:[D.jsx("option",{value:"All",children:"All Severity"}),D.jsx("option",{value:"Moderate+",children:"Moderate & up"}),D.jsx("option",{value:"Severe+",children:"Severe Only"})]})]}),D.jsxs("div",{style:{display:"flex",gap:"5px"},children:[D.jsx("button",{className:"export-btn",onClick:()=>i&&i(J),style:{flex:1},children:f.size>0?`Download (${f.size})`:"Download All"}),l&&D.jsx("button",{className:"export-btn",onClick:()=>l&&l(J),style:{backgroundColor:"#6c757d",color:"white"},children:"Copy"})]})]}),D.jsx("div",{className:"alert-list-scroll",children:J.map((se,re)=>{const F=se.properties,X=F.id||re,V=new Date(F.sent).toLocaleString(),W=new Date(F.expires).toLocaleString(),K=f.has(X),ee=g===X,k=A.has(X);return D.jsxs("div",{className:`alert-card ${ee?"focused":""}`,onClick:()=>r&&r(se),style:{cursor:"pointer",borderLeft:ee?"4px solid #00BFFF":"1px solid #dee2e6",backgroundColor:K?"#f0f9ff":"white",marginBottom:"10px"},children:[D.jsxs("div",{className:"alert-card-header",children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[D.jsx("input",{type:"checkbox",checked:K,onClick:M=>{M.stopPropagation(),c(X)},onChange:()=>{},style:{transform:"scale(1.2)",cursor:"pointer"}}),D.jsx("strong",{children:F.event})]}),D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[D.jsx("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",color:"white",backgroundColor:F.severity==="Severe"||F.severity==="Extreme"?"#dc3545":F.severity==="Moderate"?"#fd7e14":"#ffc107",fontWeight:"bold"},children:F.severity||"Unknown"}),D.jsx("span",{className:`status-dot ${F.status==="Actual"?"active":"test"}`})]})]}),D.jsxs("div",{className:"alert-card-body",children:[D.jsx("p",{className:"alert-area",children:F.areaDesc}),D.jsxs("div",{className:"alert-meta",children:[D.jsxs("small",{children:["Sent: ",V]}),D.jsxs("small",{children:["Expires: ",W]})]}),D.jsx("button",{className:"alert-expand-btn",onClick:M=>B(X,M),children:k?"Hide Full Description":"Show Full Description"}),k&&D.jsxs("div",{className:"alert-details-expanded",children:[D.jsx("p",{style:{whiteSpace:"pre-wrap",margin:0},children:F.description||"No description available."}),F.instruction&&D.jsxs("div",{style:{marginTop:"10px",fontStyle:"italic",borderTop:"1px solid #ddd",paddingTop:"5px"},children:[D.jsx("strong",{children:"Instruction:"})," ",F.instruction]})]}),D.jsx("div",{style:{marginTop:"10px",fontSize:"10px",color:"#666",fontStyle:"italic"},children:"Click for a pre-populated search result page:"}),D.jsx("div",{style:{marginTop:"4px",display:"flex",gap:"5px",flexWrap:"wrap"},children:(()=>{const M=Kx({properties:F});return D.jsxs(D.Fragment,{children:[D.jsx("a",{href:M.searchLinks.localNews,target:"_blank",rel:"noopener noreferrer",onClick:P=>P.stopPropagation(),className:"action-link-btn",style:{fontSize:"10px",padding:"4px 8px",background:"#e9ecef",border:"1px solid #ced4da",borderRadius:"4px",textDecoration:"none",color:"#495057"},children:" Local News"}),D.jsx("a",{href:M.searchLinks.impactReports,target:"_blank",rel:"noopener noreferrer",onClick:P=>P.stopPropagation(),className:"action-link-btn",style:{fontSize:"10px",padding:"4px 8px",background:"#e9ecef",border:"1px solid #ced4da",borderRadius:"4px",textDecoration:"none",color:"#495057"},children:" Impact"}),D.jsx("a",{href:M.searchLinks.currentConditions,target:"_blank",rel:"noopener noreferrer",onClick:P=>P.stopPropagation(),className:"action-link-btn",style:{fontSize:"10px",padding:"4px 8px",background:"#e9ecef",border:"1px solid #ced4da",borderRadius:"4px",textDecoration:"none",color:"#495057"},children:" Conds"})]})})()})]})]},X)})})]})},jA=({activeFips:t=[],activeStateNames:n=[],style:i={color:"#3388ff",weight:1,fillOpacity:.2}})=>{const[l,r]=je.useState(null);je.useEffect(()=>{(async()=>{try{const y=await fetch("/smoke-zipcode-selector/counties-10m.json");if(!y.ok)throw new Error("Failed to load county topology");const v=await y.json(),E=Nw(v,v.objects.counties);r(E)}catch(y){console.error("Error loading county data:",y)}})()},[]);const c=g=>t.includes(g.id)?{...i,fillColor:i.color||"#ff0000",fillOpacity:i.fillOpacity||.5,weight:1,opacity:1,interactive:!0}:{fillColor:"transparent",color:"rgba(0,0,0,0.1)",weight:.5,opacity:.2,fillOpacity:0,interactive:!1},f=(g,y)=>{y.bindTooltip(`${g.properties.name} County`,{direction:"top",opacity:.9})};return l?D.jsx(Tc,{data:l,style:c,onEachFeature:f}):null},Jl={async fetchAlerts(t,n){console.log(`[NWSService] Fetching for date: ${t||"LIVE"} types: ${n}`);try{let i;if(t){const g=new Date(t);g.setHours(0,0,0,0);const y=new Date(t);y.setHours(23,59,59,999),i=`https://api.weather.gov/alerts?${new URLSearchParams({start:g.toISOString(),end:y.toISOString(),event:n,limit:500}).toString()}`}else i="https://api.weather.gov/alerts/active";const l=await fetch(i,{headers:{"User-Agent":"(myweatherapp.com, contact@myweatherapp.com)",Accept:"application/geo+json"}});if(!l.ok)throw new Error(`NWS API Error: ${l.status}`);const r=await l.json();if(!r.features&&!r.title)throw new Error("Invalid API Response format");let c=r.features||[];const f=n.split(",");return c=c.filter(g=>f.includes(g.properties.event)),{type:"FeatureCollection",features:c}}catch(i){throw console.error("[NWSService] Error:",i),i}},async fetchZoneGeometry(t){if(!t)return null;try{const n=await fetch(t,{headers:{"User-Agent":"(myweatherapp.com, contact@myweatherapp.com)"}});return n.ok?(await n.json()).geometry:null}catch(n){return console.warn(`[NWSService] Failed to fetch zone: ${t}`,n),null}}},UA=({zipCodes:t=[],zipLoading:n=!1})=>{const[i,l]=je.useState(null),[r,c]=je.useState(!1),[f,g]=je.useState("Initializing Winter Mode..."),[y,v]=je.useState(""),[E,x]=je.useState(new Set),[A,N]=je.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""});je.useEffect(()=>{window._debug_alerts=i,window._debug_zipCodes=t,window._debug_turf=oA,console.log("Debug vars exposed on window")},[i,t]);const B=Ra.useCallback(async()=>{c(!0),g(y?`Searching Archive for ${y}...`:"Fetching NWS Winter Storm Warnings...");try{const te=await Jl.fetchAlerts(y,"Winter Storm Warning,Winter Weather Advisory");if(console.log(`[WinterMode] Loaded ${te.features.length} alerts.`),te.features.length>0){const ne=te.features.filter(ae=>ae.geometry!==null).length;l(te),g(y?`Found ${te.features.length} Historical Alerts for ${y} (${ne} visible).`:`Active: ${te.features.length} Winter Alerts (${ne} visible).`)}else l({type:"FeatureCollection",features:[]}),g(y?`No Winter alerts found for ${y}.`:"No active Winter Storm Warnings.")}catch(q){console.error("Failed to fetch alerts",q),g(`Error: ${q.message}`),l(null)}finally{c(!1)}},[y]);je.useEffect(()=>{B()},[B]);const[J,se]=je.useState(null),[re,F]=je.useState(new Set),X=async(q="DOWNLOAD")=>{if(!i||!i.features.length){alert("No data to export.");return}if(n){alert("Zipcode database is still loading. Please wait 5 seconds and try again.");return}const te=re.size>0?i.features.filter(ae=>re.has(ae.properties.id)):i.features;if(te.length===0){alert("No targets selected.");return}g("Checking alert geometries...");const ne=await Promise.all(te.map(async ae=>{if(ae.geometry)return ae;const R=ae.properties.affectedZones||[];if(R.length===0)return ae;console.log(`[WinterMode] Fetching geometries for ${R.length} zones...`),g(`Fetching geometries for ${R.length} affected zones...`);const j=[];for(const z of R){const ie=await Jl.fetchZoneGeometry(z);ie&&j.push(ie)}return j.length===0?ae:{...ae,_fetchedGeometries:j}}));g("Calculating affected zip codes..."),setTimeout(()=>{const ae=new Map;console.log(`[WinterMode] Exporting... ZipCodes: ${t.length}, Targets: ${ne.length}`);let R=0,j=0,z=0;if(ne.forEach(Y=>{const $=!!Y.geometry,ce=Y._fetchedGeometries||[],pe=$||ce.length>0,ge=(Y.properties.areaDesc||"").toUpperCase(),Se=[];$&&Se.push(Y.geometry),ce.length>0&&Se.push(...ce);const De=Se.map(he=>{try{return kt(he)}catch{return null}}).filter(he=>he!==null);t.forEach(he=>{let Ie=!1;if(pe)for(let Me=0;Me<De.length;Me++){const Ae=De[Me],fe=Se[Me];if(he.lng>=Ae[0]&&he.lng<=Ae[2]&&he.lat>=Ae[1]&&he.lat<=Ae[3]&&(R++,rt([he.lng,he.lat],fe))){Ie=!0,j++;break}}if(!Ie&&he.usps_zip_county_name&&he.state){const Me=he.usps_zip_county_name||he.county;if(Me){const Ae=`${Me}, ${he.state}`.toUpperCase();ge.includes(Ae)&&(Ie=!0,z++)}}Ie&&(ae.has(he.zip)||ae.set(he.zip,{zipData:he,alertData:Y.properties,alertId:Y.id}))})}),ae.size===0){g(`Debug: BBoxPass=${R}, PolyPass=${j}, TextPass=${z}, Targets=${ne.length}`),alert("No zip codes found within the selected alert areas.");return}const ie=Array.from(ae.values()).map(Y=>{const $=Y.zipData,ce=Y.alertData,ge=Kx({properties:ce}).searchLinks;return{ZIP:$.zip,CITY:$.city,COUNTY:$.usps_zip_county_name||$.county||"N/A",STATE:$.state,EVENT_TYPE:ce.event||"N/A",DETAILS:(ce.headline||ce.description||ce.areaDesc||"").substring(0,500).replace(/(\r\n|\n|\r)/gm," "),URL:Y.alertId||"N/A",NEWS_SEARCH:ge.newsSearch,LOCAL_NEWS:ge.localNews,CONDITIONS_URL:ge.currentConditions,IMPACT_URL:ge.impactReports,SAFETY_URL:ge.safetyInfo}}),Q=yc.unparse(ie);if(q==="COPY")navigator.clipboard.writeText(Q).then(()=>{alert(`Copied ${ae.size} zip codes to clipboard!`),g(`Copied ${ae.size} zip codes from ${ne.length} alerts.`)}).catch(Y=>{console.error("Copy failed",Y),alert("Failed to copy to clipboard. See console.")});else{const Y=new Blob([Q],{type:"text/csv;charset=utf-8"}),$=URL.createObjectURL(Y),ce=document.createElement("a");ce.href=$;const pe=`winter_storm_zipcodes_${new Date().toISOString().slice(0,10)}.csv`;ce.setAttribute("download",pe),ce.download=pe,document.body.appendChild(ce),ce.click(),setTimeout(()=>{document.body.removeChild(ce),URL.revokeObjectURL($)},2e3),g(`Exported ${ae.size} unique zip codes from ${ne.length} alerts.`)}},100)},V=q=>{if(!i||!i.features.length){alert("No data to export.");return}if(n){alert("Zipcode database is still loading. Please wait 5 seconds and try again.");return}const te=re.size>0?i.features.filter(ne=>re.has(ne.properties.id)):i.features;if(te.length===0){alert("No targets selected.");return}g("Generating SQL..."),setTimeout(()=>{const ne=new Set;if(te.forEach(j=>{const z=!!j.geometry,ie=(j.properties.areaDesc||"").toUpperCase();let Q=null;z&&(Q=kt(j)),t.forEach(Y=>{let $=!1;if(z&&Q&&Y.lng>=Q[0]&&Y.lng<=Q[2]&&Y.lat>=Q[1]&&Y.lat<=Q[3]&&rt([Y.lng,Y.lat],j)&&($=!0),!$&&!z&&Y.county&&Y.state){const ce=`${Y.county}, ${Y.state}`.toUpperCase();ie.includes(ce)&&($=!0)}$&&ne.add(Y.zip)})}),ne.size===0){alert("No target zip codes found."),g("Ready");return}const ae=Array.from(ne),R=Dc(A,ae,E,q==="COUNT");if(q==="COUNT"||q==="COPY")navigator.clipboard.writeText(R).then(()=>{alert(`${q==="COUNT"?"Count SQL":"SQL Query"} copied to clipboard!`),g("SQL Query copied.")});else{const j=new Blob([R],{type:"text/plain"}),z=URL.createObjectURL(j),ie=document.createElement("a");ie.href=z,ie.setAttribute("download","winter_targets.sql"),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),g(`Exported SQL for ${ne.size} zip codes.`)}},100)},W=q=>{se(q.properties.id)},K=q=>{const te=new Set(re);te.has(q)?te.delete(q):te.add(q),F(te)},ee=q=>{const te=q.properties.geocode;return te&&te.SAME?te.SAME.map(ne=>ne.slice(1)):[]},k=i?.features.find(q=>q.properties.id===J),M=k?ee(k):[],P=i?.features.filter(q=>re.has(q.properties.id)).flatMap(ee)||[],Z=i?.features.flatMap(ee)||[];return D.jsx(Kl,{leftPanel:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"sidebar-header",style:{padding:"10px",borderBottom:"1px solid #eee"},children:[D.jsx("h3",{children:"Winter Mode"}),D.jsxs("div",{style:{marginBottom:"10px"},children:[D.jsx("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px"},children:D.jsx("strong",{children:"Date Range"})}),D.jsx("input",{type:"date",value:y,onChange:q=>v(q.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}}),!y&&D.jsx("small",{style:{color:"#00cc00",fontSize:"10px"},children:" Live Data"}),y&&D.jsx("button",{onClick:()=>v(""),style:{marginTop:"5px",fontSize:"10px",cursor:"pointer",background:"none",border:"none",color:"#0066cc",textDecoration:"underline"},children:"Return to Live"})]})]}),D.jsxs("div",{className:"sidebar-content",children:[D.jsxs("div",{className:"sidebar-input-group",children:[D.jsx("label",{className:"sidebar-label",children:"Controls"}),D.jsx("button",{className:"export-btn",onClick:B,disabled:r,style:{width:"100%",marginBottom:"10px"},children:"Refresh Data"})]}),D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"EXPORT DATA"}),D.jsxs("div",{style:{marginBottom:"16px",background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[D.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"1. Export Zip Code List (CSV)"}),D.jsx("button",{className:"export-btn",onClick:()=>X("DOWNLOAD"),disabled:r||n,style:{width:"100%",padding:"10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:n?"Loading DB...":r?"Processing...":"Download CSV of Zip Codes"})]}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[D.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"2. Generate SQL Query"}),D.jsx(Lc,{config:A,setConfig:N,selectedNAICS:E,setSelectedNAICS:x}),D.jsx("div",{style:{marginTop:"10px"},children:D.jsx(Cc,{onExport:V,loading:r,zipLoading:n})})]})]}),D.jsx("div",{style:{padding:"10px",fontSize:"11px",color:"#999",borderTop:"1px solid #eee"},children:f})]})]}),mapContent:D.jsxs(wc,{children:[D.jsx(Of,{url:"https://mapservices.weather.noaa.gov/arcgis/rest/services/WWA/watch_warn_adv/MapServer/exts/WMSServer",layers:"0",format:"image/png",transparent:!0,opacity:.6,layerDefs:`{"0":"prod_type='Winter Storm Warning' OR prod_type='Winter Weather Advisory'"}`}),D.jsx(jA,{activeFips:Z,focusedFips:M,selectedFips:P,style:{color:"#00BFFF",weight:1,fillOpacity:.2}})]}),rightPanel:D.jsx(gf,{alerts:i?i.features:[],title:y?`Archive: ${y}`:"Winter Warnings",onExport:()=>X("DOWNLOAD"),onCopy:()=>X("COPY"),onAlertClick:W,onAlertToggle:K,selectedIds:re,focusedId:J})})},YA=({onClose:t})=>D.jsx("div",{className:"modal-overlay",onClick:t,style:{zIndex:2e3},children:D.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),style:{maxWidth:"900px",width:"90%"},children:[D.jsx("button",{className:"modal-close",onClick:t,children:""}),D.jsx("h3",{style:{marginBottom:"15px"},children:" State Heatwave Regulations Reference"}),D.jsx("div",{style:{overflowX:"auto"},children:D.jsxs("table",{style:{width:"100%",fontSize:"13px",borderCollapse:"collapse",textAlign:"left"},children:[D.jsx("thead",{children:D.jsxs("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[D.jsx("th",{style:{padding:"12px",borderRight:"1px solid #eee"},children:"State"}),D.jsx("th",{style:{padding:"12px",borderRight:"1px solid #eee"},children:"Applies To"}),D.jsx("th",{style:{padding:"12px",borderRight:"1px solid #eee"},children:"Temperature Triggers"}),D.jsx("th",{style:{padding:"12px"},children:"Required Employer Actions"})]})}),D.jsxs("tbody",{children:[D.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:D.jsx("strong",{children:"California"})}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"Outdoor + Indoor (separate rules)"}),D.jsxs("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:[D.jsx("strong",{children:"Outdoor:"})," 80F (shade access), 95F (high heat)",D.jsx("br",{}),D.jsx("br",{}),D.jsx("strong",{children:"Indoor:"})," 82F (control plan), 87F (high heat)"]}),D.jsx("td",{style:{padding:"12px",verticalAlign:"top"},children:"Water (1 qt/hr), shade, cool-down rest, training, written prevention plan, observation during high heat, emergency response procedures"})]}),D.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:D.jsx("strong",{children:"Washington"})}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"Outdoor"}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"80F (basic), 90F (enhanced), 100F (additional controls)"}),D.jsx("td",{style:{padding:"12px",verticalAlign:"top"},children:"Drinking water, paid cool-down rest breaks, acclimatization, supervisor monitoring at higher temps, emergency planning"})]}),D.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:D.jsx("strong",{children:"Oregon"})}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"Indoor + Outdoor"}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"80F (heat plan + water/rest), 90F (mandatory rest schedule)"}),D.jsx("td",{style:{padding:"12px",verticalAlign:"top"},children:"Heat illness prevention plan, shade/cooling area, 10-min rest every 2 hrs at 90F+, training, acclimatization protocol"})]}),D.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:D.jsx("strong",{children:"Minnesota"})}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"Indoor only"}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"8086F (controls required), 87F+ (mandatory controls)"}),D.jsx("td",{style:{padding:"12px",verticalAlign:"top"},children:"Engineering controls or administrative controls, ventilation, rest breaks, exposure monitoring"})]}),D.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:D.jsx("strong",{children:"Colorado"})}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"Agriculture only"}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"80F (basic protections), 95F (high heat protections)"}),D.jsx("td",{style:{padding:"12px",verticalAlign:"top"},children:"Drinking water, shade, rest breaks, increased monitoring at high heat, written procedures"})]}),D.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:D.jsx("strong",{children:"Maryland"})}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"Indoor + Outdoor"}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"80F (prevention plan required), 90F (high heat procedures)"}),D.jsx("td",{style:{padding:"12px",verticalAlign:"top"},children:"Heat illness prevention plan, water access, rest breaks, acclimatization, training, supervisor monitoring"})]}),D.jsxs("tr",{children:[D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:D.jsx("strong",{children:"Nevada"})}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"Indoor + Outdoor"}),D.jsx("td",{style:{padding:"12px",borderRight:"1px solid #eee",verticalAlign:"top"},children:"90F (controls required), 105F (high heat)"}),D.jsx("td",{style:{padding:"12px",verticalAlign:"top"},children:"Written job hazard analysis, water, rest breaks, cooling areas, monitoring at 105F+, emergency response procedures"})]})]})]})})]})}),GA=({zipCodes:t=[],zipLoading:n=!1})=>{const[i,l]=je.useState({type:"FeatureCollection",features:[]}),[r,c]=je.useState(!1),[f,g]=je.useState("Initializing Heat Mode..."),[y,v]=je.useState(""),[E,x]=je.useState(!1),[A,N]=je.useState(new Set),[B,J]=je.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""}),se=Ra.useCallback(async()=>{c(!0),g(y?`Searching Archive for ${y}...`:"Fetching NWS Heat Warnings...");try{const K=await Jl.fetchAlerts(y,"Excessive Heat Warning,Heat Advisory,Excessive Heat Watch");console.log(`[HeatMode] Loaded ${K.features.length} heat alerts.`),K.features.length>0?(l(K),g(y?`Found ${K.features.length} Historical Alerts for ${y}.`:`Active: ${K.features.length} Heat Alerts.`)):(l({type:"FeatureCollection",features:[]}),g(y?`No Heat alerts found for ${y}.`:"No active Heat Alerts."))}catch(W){console.error("Failed to fetch alerts",W),g(`Error: ${W.message}`),l({type:"FeatureCollection",features:[]})}finally{c(!1)}},[y]);je.useEffect(()=>{se()},[se]);const re=()=>[{category:"Cooling",skus:["Portable AC","Industrial Drum Fan","Spot Cooler"]},{category:"Safety",skus:["Electrolyte Powder","Bulk Water","Cooling Towels"]}],F=async W=>{const K=W||i.features;if(!K||K.length===0||!t||t.length===0){alert("No data to export or zip codes not loaded.");return}if(n){alert("Zipcode database is still loading. Please wait 5 seconds and try again.");return}g("Fetching standard zone geometries..."),c(!0);const ee=[],k=new Map;for(const M of K){if(!M.geometry&&M.properties.affectedZones&&M.properties.affectedZones.length>0){const P=M.properties.affectedZones[0];try{let Z=k.get(P);if(Z||(Z=await Jl.fetchZoneGeometry(P),Z&&k.set(P,Z)),Z){ee.push({...M,geometry:Z});continue}}catch(Z){console.warn(`Failed to fetch zone geometry for ${P}`,Z)}}ee.push(M)}g("Processing spatial match..."),setTimeout(()=>{const M=[],P=new Set;if(ee.forEach(ae=>{const R=!!ae.geometry,j=(ae.properties.areaDesc||"").toUpperCase(),z=ae.properties.event||"Heat Warning";let ie=null;if(R)try{ie=kt(ae)}catch(Q){console.warn("Invalid geometry for bbox",Q)}t.forEach(Q=>{let Y=!1;if(R&&ie&&Q.lng>=ie[0]&&Q.lng<=ie[2]&&Q.lat>=ie[1]&&Q.lat<=ie[3]&&rt([Q.lng,Q.lat],ae)&&(Y=!0),!Y&&Q.county&&Q.state){const $=`${Q.county}, ${Q.state}`.toUpperCase();j.includes($)&&(Y=!0)}if(Y){const $=`${Q.zip}-${z}`;P.has($)||(P.add($),M.push({zip:Q.zip,county:Q.county,state:Q.state,alert_name:z,sent:ae.properties.sent,expires:ae.properties.expires,suggested_products:re().map(ce=>ce.category).join("; ")}))}})}),M.length===0){alert("No matching targets found (checked geometry and county text)."),g("Ready"),c(!1);return}const Z={generated_at:new Date().toISOString(),event_type:"HEATWAVE",targets:M},q=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),te=URL.createObjectURL(q),ne=document.createElement("a");ne.href=te,ne.setAttribute("download","heat_targets.json"),document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),g(`Exported ${M.length} targets.`),c(!1)},100)},X=()=>{console.log("Copy not fully implemented for full spatial check yet.")},V=async W=>{if(!i||!i.features||!t||t.length===0){alert("No data to export.");return}g("Generating SQL..."),c(!0),setTimeout(()=>{const K=new Set;if(i.features.forEach(M=>{const P=!!M.geometry,Z=(M.properties.areaDesc||"").toUpperCase();let q=P?kt(M):null;t.forEach(te=>{let ne=!1;P&&q&&te.lng>=q[0]&&te.lng<=q[2]&&te.lat>=q[1]&&te.lat<=q[3]&&rt([te.lng,te.lat],M)&&(ne=!0),ne||te.county&&te.state&&Z.includes(`${te.county}, ${te.state}`.toUpperCase())&&(ne=!0),ne&&K.add(te.zip)})}),K.size===0){alert("No targets found."),g("Ready"),c(!1);return}const ee=Array.from(K),k=Dc(B,ee,A,W==="COUNT");if(W==="COPY"||W==="COUNT")navigator.clipboard.writeText(k).then(()=>{alert(`${W} SQL copied to clipboard!`),g("SQL Copied.")});else{const M=new Blob([k],{type:"text/plain"}),P=URL.createObjectURL(M),Z=document.createElement("a");Z.href=P,Z.setAttribute("download","heat_targets.sql"),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),g(`Exported SQL for ${K.size} zip codes.`)}c(!1)},100)};return D.jsxs(D.Fragment,{children:[E&&D.jsx(YA,{onClose:()=>x(!1)}),D.jsx(Kl,{leftPanel:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[D.jsxs("h3",{style:{margin:"0 0 12px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:[D.jsx("span",{style:{fontSize:"20px"},children:""})," Heat Mode"]}),D.jsxs("div",{className:"sidebar-input-group",children:[D.jsx("label",{className:"sidebar-label",style:{color:"rgba(255,255,255,0.9)"},children:"Archive Date"}),D.jsxs("div",{style:{display:"flex",gap:"5px"},children:[D.jsx("input",{type:"date",value:y,onChange:W=>v(W.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",width:"100%",backgroundColor:"rgba(255,255,255,0.1)",color:"white"}}),y&&D.jsx("button",{onClick:()=>v(""),style:{padding:"8px",borderRadius:"6px",border:"none",background:"rgba(255,255,255,0.2)",color:"white",cursor:"pointer"},title:"Return to Live Data",children:""})]})]})]}),D.jsxs("div",{className:"sidebar-content",style:{padding:"16px",display:"flex",flexDirection:"column",gap:"20px"},children:[D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"DATA CONTROLS"}),D.jsx("button",{className:"export-btn",onClick:()=>se(),disabled:r,style:{width:"100%",padding:"10px",borderRadius:"6px",background:"#fff",border:"1px solid #ddd",fontWeight:"600"},children:" Refresh Feed"})]}),D.jsxs("div",{className:"sidebar-section",style:{flex:1,display:"flex",flexDirection:"column"},children:[D.jsxs("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:["ALERTS LIST (",i.features.length,")"]}),D.jsx("div",{style:{flex:1,overflowY:"auto",minHeight:"200px",border:"1px solid #eee",borderRadius:"8px"},children:D.jsx(gf,{alerts:i.features,title:"",onExport:F,onCopy:X,loading:r})})]}),D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"EXPORT CONFIG"}),D.jsx(Lc,{config:B,setConfig:J,selectedNAICS:A,setSelectedNAICS:N}),D.jsx(Cc,{onExport:V,loading:r,zipLoading:n})]})]}),D.jsx("div",{className:"sidebar-footer",style:{padding:"12px",borderTop:"1px solid #eee",background:"#f8f9fa"},children:D.jsx("small",{style:{color:"#6c757d"},children:f})})]}),mapContent:D.jsxs(wc,{children:[D.jsx(Of,{url:"https://mapservices.weather.noaa.gov/arcgis/rest/services/WWA/watch_warn_adv/MapServer/exts/WMSServer",layers:"0,1",format:"image/png",transparent:!0,opacity:.5,layerDefs:`{"0":"prod_type IN ('Excessive Heat Warning', 'Heat Advisory')","1":"prod_type IN ('Excessive Heat Watch')"}`}),i.features.length<500&&D.jsx(Tc,{data:i,style:{color:"#ff4500",weight:1,opacity:.6,fillOpacity:.1},onEachFeature:(W,K)=>{K.bindTooltip(`${W.properties.event}: ${W.properties.areaDesc}`)}},`heat-geo-${i.features.length}`)]}),rightPanel:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"#f8f9fa",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsx("h3",{style:{margin:0,fontSize:"16px",color:"#333"},children:"Active Heat Alerts"}),D.jsxs("button",{onClick:()=>x(!0),style:{background:"#fff",border:"1px solid #ced4da",borderRadius:"6px",padding:"6px 12px",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",color:"#495057",fontWeight:"500",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[D.jsx("span",{children:""})," Heat Regulations"]})]}),D.jsx("div",{className:"sidebar-content",style:{padding:"0",display:"flex",flexDirection:"column",height:"100%"},children:D.jsx(gf,{alerts:i.features,title:"",onExport:F,onCopy:X,loading:r})})]})})]})},qA=({zipCodes:t=[],zipLoading:n=!1})=>{const[i,l]=je.useState({type:"FeatureCollection",features:[]}),[r,c]=je.useState(!1),[f,g]=je.useState("Initializing Flood Mode..."),[y,v]=je.useState(""),[E,x]=je.useState(new Set),[A,N]=je.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""}),B=Ra.useCallback(async()=>{c(!0),g(y?`Searching Archive for ${y}...`:"Fetching NWS Flood Warnings...");try{const V=await Jl.fetchAlerts(y,"Flood Warning,Flash Flood Warning,Coastal Flood Warning");console.log(`[FloodMode] Loaded ${V.features.length} flood alerts.`),V.features.length>0?(l(V),g(y?`Found ${V.features.length} Historical Alerts for ${y}.`:`Active: ${V.features.length} Flood Alerts.`)):(l({type:"FeatureCollection",features:[]}),g(y?`No Flood alerts found for ${y}.`:"No active Flood Warnings."))}catch(X){console.error("Failed to fetch alerts",X),g(`Error: ${X.message}`),l({type:"FeatureCollection",features:[]})}finally{c(!1)}},[y]);je.useEffect(()=>{B()},[B]);const J=()=>[{category:"Cleanup",skus:["Sump Pump","Wet/Dry Vac","Dehumidifier"]},{category:"Protection",skus:["Sandbags","Tarps","Generators"]}],se=async X=>{const V=X||i.features;if(!V||V.length===0||!t||t.length===0){alert("No data to export or zip codes not loaded.");return}if(n){alert("Zipcode database is still loading. Please wait 5 seconds and try again.");return}g("Fetching standard zone geometries..."),c(!0);const W=[],K=new Map;for(const ee of V){if(!ee.geometry&&ee.properties.affectedZones&&ee.properties.affectedZones.length>0){const k=ee.properties.affectedZones[0];try{let M=K.get(k);if(M||(M=await Jl.fetchZoneGeometry(k),M&&K.set(k,M)),M){W.push({...ee,geometry:M});continue}}catch(M){console.warn(`Failed to fetch zone geometry for ${k}`,M)}}W.push(ee)}g("Processing spatial match..."),setTimeout(()=>{const ee=[],k=new Set;if(W.forEach(te=>{const ne=!!te.geometry,ae=(te.properties.areaDesc||"").toUpperCase(),R=te.properties.event||"Flood Warning";let j=null;if(ne)try{j=kt(te)}catch(z){console.warn("Invalid geometry for bbox",z)}t.forEach(z=>{let ie=!1;if(ne&&j&&z.lng>=j[0]&&z.lng<=j[2]&&z.lat>=j[1]&&z.lat<=j[3]&&rt([z.lng,z.lat],te)&&(ie=!0),!ie&&z.county&&z.state){const Q=`${z.county}, ${z.state}`.toUpperCase();ae.includes(Q)&&(ie=!0)}if(ie){const Q=`${z.zip}-${R}`;k.has(Q)||(k.add(Q),ee.push({zip:z.zip,county:z.county,state:z.state,alert_name:R,sent:te.properties.sent,expires:te.properties.expires,suggested_products:J().map(Y=>Y.category).join("; ")}))}})}),ee.length===0){alert("No matching targets found (checked geometry and county text)."),g("Ready"),c(!1);return}const M={generated_at:new Date().toISOString(),event_type:"FLOOD",targets:ee},P=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),Z=URL.createObjectURL(P),q=document.createElement("a");q.href=Z,q.setAttribute("download","flood_targets.json"),document.body.appendChild(q),q.click(),document.body.removeChild(q),g(`Exported ${ee.length} targets.`),c(!1)},100)},re=()=>{console.log("Copy not fully implemented for full spatial check yet.")},F=async X=>{if(!i||!i.features||!t||t.length===0){alert("No data to export.");return}g("Generating SQL..."),c(!0),setTimeout(()=>{const V=new Set;if(i.features.forEach(ee=>{const k=!!ee.geometry,M=(ee.properties.areaDesc||"").toUpperCase();let P=k?kt(ee):null;t.forEach(Z=>{let q=!1;k&&P&&Z.lng>=P[0]&&Z.lng<=P[2]&&Z.lat>=P[1]&&Z.lat<=P[3]&&rt([Z.lng,Z.lat],ee)&&(q=!0),q||Z.county&&Z.state&&M.includes(`${Z.county}, ${Z.state}`.toUpperCase())&&(q=!0),q&&V.add(Z.zip)})}),V.size===0){alert("No targets found."),g("Ready"),c(!1);return}const W=Array.from(V),K=Dc(A,W,E,X==="COUNT");if(X==="COPY"||X==="COUNT")navigator.clipboard.writeText(K).then(()=>{alert(`${X} SQL copied to clipboard!`),g("SQL Copied.")});else{const ee=new Blob([K],{type:"text/plain"}),k=URL.createObjectURL(ee),M=document.createElement("a");M.href=k,M.setAttribute("download","flood_targets.sql"),document.body.appendChild(M),M.click(),document.body.removeChild(M),g(`Exported SQL for ${V.size} zip codes.`)}c(!1)},100)};return D.jsx(Kl,{leftPanel:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[D.jsxs("h3",{style:{margin:"0 0 12px 0",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px"},children:[D.jsx("span",{style:{fontSize:"20px"},children:""})," Flood Mode"]}),D.jsxs("div",{className:"sidebar-input-group",children:[D.jsx("label",{className:"sidebar-label",style:{color:"rgba(255,255,255,0.9)"},children:"Archive Date"}),D.jsxs("div",{style:{display:"flex",gap:"5px"},children:[D.jsx("input",{type:"date",value:y,onChange:X=>v(X.target.value),style:{padding:"8px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",width:"100%",backgroundColor:"rgba(255,255,255,0.1)",color:"white"}}),y&&D.jsx("button",{onClick:()=>v(""),style:{padding:"8px",borderRadius:"6px",border:"none",background:"rgba(255,255,255,0.2)",color:"white",cursor:"pointer"},title:"Return to Live Data",children:""})]})]})]}),D.jsxs("div",{className:"sidebar-content",style:{padding:"16px",display:"flex",flexDirection:"column",gap:"20px"},children:[D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"DATA CONTROLS"}),D.jsx("button",{className:"export-btn",onClick:()=>B(),disabled:r,style:{width:"100%",padding:"10px",borderRadius:"6px",background:"#fff",border:"1px solid #ddd",fontWeight:"600"},children:" Refresh Feed"})]}),D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"EXPORT CONFIG"}),D.jsx(Lc,{config:A,setConfig:N,selectedNAICS:E,setSelectedNAICS:x}),D.jsx(Cc,{onExport:F,loading:r,zipLoading:n})]})]}),D.jsx("div",{className:"sidebar-footer",style:{padding:"12px",borderTop:"1px solid #eee",background:"#f8f9fa"},children:D.jsx("small",{style:{color:"#6c757d"},children:f})})]}),mapContent:D.jsxs(wc,{children:[D.jsx(Of,{url:"https://mapservices.weather.noaa.gov/arcgis/rest/services/WWA/watch_warn_adv/MapServer/exts/WMSServer",layers:"0",format:"image/png",transparent:!0,opacity:.5,layerDefs:`{"0":"prod_type IN ('Flood Warning', 'Flash Flood Warning', 'Coastal Flood Warning')"}`}),i.features.length<500&&D.jsx(Tc,{data:i,style:{color:"#00BFFF",weight:1,opacity:.6,fillOpacity:.1},onEachFeature:(X,V)=>{V.bindTooltip(`${X.properties.event}: ${X.properties.areaDesc}`)}},`flood-geo-${i.features.length}`)]}),rightPanel:D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"sidebar-header",style:{padding:"16px",background:"#f8f9fa",borderBottom:"1px solid #eee"},children:D.jsx("h3",{style:{margin:0,fontSize:"16px",color:"#333"},children:"Active Flood Alerts"})}),D.jsx("div",{className:"sidebar-content",style:{padding:"0",display:"flex",flexDirection:"column",height:"100%"},children:D.jsx(gf,{alerts:i.features,title:"",onExport:se,onCopy:re,loading:r})})]})})},HA="https://api.delphi.cmu.edu/epidata/fluview/",ZA=()=>{const n=new Date().getFullYear();return`${n-1}01-${n}53`},XA=async()=>{try{const t=ZA(),n=Object.values(Xr).map(g=>g.toLowerCase()).join(","),i=`${HA}?regions=${n}&epiweeks=${t}`;console.log(`[DelphiService] Fetching Flu Data: ${i}`);const r=await(await fetch(i)).json();if(r.result!==1)return console.warn("Delphi API returned non-success result (or no data for range):",r),{processedData:{},rawData:r};const c={};r.epidata.forEach(g=>{const y=g.region.toUpperCase(),v=Object.keys(Xr).find(E=>Xr[E]===y);if(v){const E=c[v];if(!E)c[v]=g;else{const x=g.issue||0,A=E.issue||0;(x>A||x===A&&g.epiweek>E.epiweek)&&(c[v]=g)}}});const f={};return Object.keys(c).forEach(g=>{const y=c[g],v=y.wili;let E=1;v<1.5?E=1:v<2?E=2:v<2.5?E=3:v<3?E=4:v<3.5?E=5:v<4?E=6:v<5?E=7:v<6?E=8:v<8?E=9:E=10,f[g]={level:E,details:{wili:y.wili,num_providers:y.num_providers,total_patients:y.total_patients,ili_total:y.ili,epiweek:y.epiweek}}}),{processedData:f,rawData:r.epidata,sourceUrl:i}}catch(t){return console.error("Error fetching Delphi Flu Data:",t),{processedData:null,rawData:null,sourceUrl:null,error:t.message}}},JA=async()=>{try{const t="https://data.cdc.gov/api/views/7dk4-g6vg/rows.json?accessType=DOWNLOAD";console.log(`[DelphiService] Fetching COVID-19 Data: ${t}`);const i=await(await fetch(t)).json(),l=i.meta.view.columns,r=E=>l.findIndex(x=>x.fieldName&&x.fieldName.match(new RegExp(E,"i"))),c=r("week_ending_date"),f=r("state"),g=l.findIndex(E=>E.fieldName==="total_adm_all_covid_confirmed_1"||E.name.includes("per_100k"));if(c===-1||f===-1||g===-1)return console.error("Could not find required columns in CDC data",{dateIdx:c,stateIdx:f,metricIdx:g}),{processedData:{},rawData:i};const y={};i.data.forEach(E=>{const x=E[f],A=E[c],N=parseFloat(E[g]);if(!x||isNaN(N))return;const B=Object.keys(Xr).find(J=>Xr[J]===x);B&&(!y[B]||new Date(A)>new Date(y[B].date))&&(y[B]={date:A,val:N,row:E})});const v={};return Object.keys(y).forEach(E=>{const{val:x}=y[E];let A=1;x<1?A=1:x<2?A=2:x<3?A=3:x<4?A=4:x<5?A=5:x<7.5?A=6:x<10?A=7:x<15?A=8:x<20?A=9:A=10,v[E]={level:A,details:{val:x,date:y[E].date}}}),{processedData:v,rawData:i,sourceUrl:t}}catch(t){return console.error("Error fetching COVID Data:",t),{processedData:null,rawData:null,sourceUrl:null,error:t.message}}},VA=async()=>{try{const t="https://data.cdc.gov/resource/7mra-9cq9.json?pathogen=RSV&$limit=5000&$order=week_end DESC";console.log(`[DelphiService] Fetching RSV Data: ${t}`);const n=await fetch(t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();if(!i||i.length===0)return console.warn("No RSV data found"),{processedData:{},rawData:[]};const l=i[0].week_end;console.log(`[DelphiService] Latest RSV Date: ${l}`);const r=i.filter(f=>f.week_end===l),c={};return r.forEach(f=>{const g=f.geography,y=parseFloat(f.percent_visits);if(!g||isNaN(y))return;let v=1;y<.5?v=1:y<1?v=2:y<1.5?v=3:y<2?v=4:y<2.5?v=5:y<3?v=6:y<3.5?v=7:y<4?v=8:y<4.5?v=9:v=10,c[g]={level:v,details:{percent_visits:y,week_end:f.week_end,status:f.status,trend:f.recent_trend}}}),{processedData:c,rawData:i,sourceUrl:t}}catch(t){return console.error("Error fetching RSV Data:",t),{processedData:null,rawData:null,sourceUrl:null,error:t.message}}},WA=({zipCodes:t=[],zipLoading:n=!1})=>{const[i,l]=je.useState({}),[r,c]=je.useState({flu:null,covid:null,rsv:null}),[f,g]=je.useState(null),y=P=>{if(!P)return"Unknown";const Z=String(P);if(Z.length!==6)return Z;const q=parseInt(Z.substring(0,4),10),te=parseInt(Z.substring(4,6),10),ne=new Date(q,0,4),ae=new Date(ne);ae.setDate(ne.getDate()-ne.getDay());const R=new Date(ae);return R.setDate(ae.getDate()+(te-1)*7),`Week of ${R.toLocaleDateString()}`},[v,E]=je.useState(!0),[x,A]=je.useState("Initializing Respiratory Mode..."),[N,B]=je.useState(new Set),[J,se]=je.useState("all"),[re,F]=je.useState(new Set),[X,V]=je.useState({recordType:"Site",fields:{Last_Order_Date__C:!0,Total_LY_Sales__C:!0,Total_ty_Sales_to_Date__c:!0},filters:{activeStatus:!0,lastActivityMonths:"",lastOrderMonths:"",minTotalSales:""},sortBy:""});je.useEffect(()=>{(async()=>{E(!0),A("Fetching Disease Data (CDC/Delphi)...");try{const[Z,q,te,ne]=await Promise.all([XA(),JA(),VA(),fetch("https://raw.githubusercontent.com/PublicaMundi/MappingAPI/master/data/geojson/us-states.json").then(ae=>ae.json())]);l(Z.processedData||{}),c({flu:Z.sourceUrl,covid:q.sourceUrl,rsv:te.sourceUrl}),g(ne),A("Data Loaded. Select a state for details.")}catch(Z){console.error("Failed to load respiratory data",Z),A("Error loading data. See console.")}finally{E(!1)}})()},[]);const W=P=>i[P]?.level||0,K=P=>{const Z=P.properties.name,q=W(Z);let te="#ccc";q>=9?te="#d63384":q>=7?te="#fd7e14":q>=4?te="#ffc107":q>=1&&(te="#20c997");const ne=N.has(Z);return{fillColor:te,weight:ne?3:1,opacity:1,color:ne?"#333":"white",dashArray:"3",fillOpacity:.7}},ee=(P,Z)=>{const q=P.properties.name,te=W(q);Z.bindTooltip(`${q}: Level ${te}/10`,{sticky:!0}),Z.on({click:()=>{B(ne=>{const ae=new Set(ne);return ae.has(q)?ae.delete(q):ae.add(q),setTimeout(()=>A(`${ae.size} states selected.`),10),ae})}})},k=P=>{if(N.size===0){alert("Please select at least one state on the map first.");return}const Z=new Set;if(N.forEach(ne=>{Xr[ne]&&Z.add(Xr[ne])}),Z.size===0){alert("State abbreviation mapping failed.");return}const q=N.size===1?Array.from(N)[0]:`${N.size} States`,te=N.size===1?Xr[Array.from(N)[0]]:"multiple_states";A(`Exporting data for ${q}...`),setTimeout(()=>{const ne=t.filter(j=>Z.has(j.state));if(ne.length===0){alert(`No zip codes found for ${q} in database.`),A("Ready");return}const ae=ne.map(j=>j.zip),R=Dc(X,ae,re,P==="COUNT");if(P==="COPY"||P==="COUNT")navigator.clipboard.writeText(R).then(()=>{alert(`${P} SQL copied!`),A("SQL Copied.")});else{const j=new Blob([R],{type:"text/plain"}),z=URL.createObjectURL(j),ie=document.createElement("a");ie.href=z,ie.setAttribute("download",`respiratory_targets_${te}.sql`),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),A(`Exported SQL for ${q}.`)}},100)},M=()=>{if(N.size===0){alert("Please select at least one state on the map first.");return}const P=new Set;N.forEach(Z=>{Xr[Z]&&P.add(Xr[Z])}),P.size!==0&&(A("Exporting CSV..."),setTimeout(()=>{const Z=t.filter(j=>P.has(j.state));if(Z.length===0){alert("No zip codes found for selection."),A("Ready");return}const q=Z.map(j=>({ZIP:j.zip,CITY:j.city,STATE:j.state,LAT:j.lat,LNG:j.lng})),te=yc.unparse(q),ne=new Blob([te],{type:"text/csv;charset=utf-8;"}),ae=URL.createObjectURL(ne),R=document.createElement("a");R.href=ae,R.setAttribute("download","respiratory_zipcodes.csv"),document.body.appendChild(R),R.click(),document.body.removeChild(R),A(`Exported ${Z.length} zipcodes.`)},100))};return D.jsx(Kl,{leftPanel:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"sidebar-header",style:{padding:"16px",background:"#e9ecef",borderBottom:"1px solid #ddd"},children:[D.jsx("h3",{children:" Respiratory Mode"}),D.jsx("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"Combined Flu, COVID-19, and RSV tracking."})]}),D.jsxs("div",{className:"sidebar-content",style:{padding:"16px"},children:[D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("label",{className:"sidebar-label",children:"Select Tracker"}),D.jsxs("select",{value:J,onChange:P=>se(P.target.value),style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #ced4da",backgroundColor:"white",color:"#495057",fontSize:"14px",cursor:"pointer",outline:"none",boxShadow:"inset 0 1px 2px rgba(0,0,0,0.075)"},children:[D.jsx("option",{value:"all",children:" All Tracked Illnesses (Combined Risk)"}),D.jsx("option",{value:"flu",children:" Flu (Influenza)"}),D.jsx("option",{value:"covid",children:" COVID-19 (Pending replacement source)"}),D.jsx("option",{value:"rsv",children:" RSV (Pending replacement source)"})]})]}),D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("label",{className:"sidebar-label",children:"Risk Legend (1-10)"}),D.jsxs("div",{style:{display:"flex",gap:"5px",marginTop:"5px"},children:[D.jsx("div",{style:{flex:1,background:"#20c997",height:"8px",borderRadius:"4px"},title:"Low (1-3)"}),D.jsx("div",{style:{flex:1,background:"#ffc107",height:"8px",borderRadius:"4px"},title:"Moderate (4-6)"}),D.jsx("div",{style:{flex:1,background:"#fd7e14",height:"8px",borderRadius:"4px"},title:"High (7-8)"}),D.jsx("div",{style:{flex:1,background:"#d63384",height:"8px",borderRadius:"4px"},title:"Critical (9-10)"})]}),D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#666",marginTop:"2px"},children:[D.jsx("span",{children:"Low"}),D.jsx("span",{children:"Critical"})]})]}),D.jsxs("div",{className:"sidebar-section",children:[D.jsx("label",{className:"sidebar-label",style:{fontSize:"12px",fontWeight:"bold",color:"#666",marginBottom:"8px",display:"block"},children:"EXPORT DATA"}),N.size===0?D.jsx("div",{style:{padding:"10px",background:"#fff3cd",fontSize:"12px",borderRadius:"4px"},children:" Select one or more states on the map to enable export options."}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{style:{marginBottom:"10px",fontWeight:"bold",color:"#0d6efd",fontSize:"12px"},children:["Target: ",N.size===1?Array.from(N)[0]:`${N.size} States Selected`]}),D.jsxs("div",{style:{marginBottom:"16px",background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[D.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"1. Export Zip Code List (CSV)"}),D.jsx("button",{className:"export-btn",onClick:M,disabled:v||n,style:{width:"100%",padding:"10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:n?"Loading DB...":v?"Processing...":"Download CSV of Zip Codes"})]}),D.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:[D.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",color:"#555",marginBottom:"8px"},children:"2. Generate SQL Query"}),D.jsx(Lc,{config:X,setConfig:V,selectedNAICS:re,setSelectedNAICS:F}),D.jsx("div",{style:{marginTop:"10px"},children:D.jsx(Cc,{onExport:k,loading:v,zipLoading:n})})]})]})]}),D.jsx("div",{style:{padding:"10px",fontSize:"11px",color:"#999",borderTop:"1px solid #eee",marginTop:"20px"},children:x})]})]}),mapContent:D.jsx(wc,{children:f&&D.jsx(Tc,{data:f,style:K,onEachFeature:ee},`states-${Array.from(N).join(",")}-${J}`)}),rightPanel:D.jsxs("div",{style:{padding:"20px"},children:[D.jsxs("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"10px"},children:[D.jsx("h3",{children:"State Details"}),N.size===0?D.jsx("p",{style:{color:"#666"},children:"Select a state..."}):N.size===1?D.jsx("h2",{style:{margin:0,color:"#0d6efd"},children:Array.from(N)[0]}):D.jsxs("h2",{style:{margin:0,color:"#20c997"},children:[N.size," States Selected"]})]}),N.size===1&&D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[D.jsxs("div",{style:{padding:"10px",background:"#f8f9fa",borderRadius:"8px",borderLeft:"4px solid #20c997"},children:[D.jsx("strong",{style:{display:"block",marginBottom:"5px"},children:"Flu Activity"}),D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsx("span",{style:{fontSize:"24px",fontWeight:"bold"},children:i[Array.from(N)[0]]?.level||"N/A"}),D.jsx("span",{style:{fontSize:"12px",color:"#666"},children:"/ 10"})]}),i[Array.from(N)[0]]?.details&&D.jsxs("div",{style:{fontSize:"11px",color:"#666",marginTop:"5px"},children:["wILI: ",i[Array.from(N)[0]].details.wili?.toFixed(2),"%",D.jsx("br",{}),"Updated: ",y(i[Array.from(N)[0]].details.epiweek)]})]}),D.jsxs("div",{style:{marginTop:"10px",padding:"12px",backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"6px"},children:[D.jsx("h4",{style:{margin:"0 0 10px 0",fontSize:"13px",color:"#495057"},children:" Raw Data Sources"}),D.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,fontSize:"11px"},children:D.jsxs("li",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsx("a",{href:r.flu,target:"_blank",rel:"noreferrer",style:{color:"#0d6efd",textDecoration:"none"},children:" Flu (Delphi API) "}),D.jsx("span",{style:{color:"#6c757d"},children:i[Array.from(N)[0]]?.details?`Updated: ${y(i[Array.from(N)[0]].details.epiweek)}`:"No Data"})]})})]})]}),N.size>1&&D.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",fontSize:"13px",color:"#555"},children:[D.jsxs("p",{style:{margin:"0 0 10px 0"},children:["Metrics are combined across ",D.jsx("strong",{children:N.size})," selected states."]}),D.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:Array.from(N).map(P=>D.jsx("span",{style:{background:"#e9ecef",padding:"3px 8px",borderRadius:"12px",fontSize:"11px"},children:P},P))})]}),D.jsxs("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[D.jsxs("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#0d6efd",display:"flex",alignItems:"center",gap:"6px"},children:[D.jsx("span",{children:""})," Sample Cadence Email"]}),D.jsxs("div",{style:{fontSize:"12px",color:"#495057",lineHeight:"1.5"},children:[D.jsxs("p",{style:{margin:"0 0 8px 0"},children:[D.jsx("strong",{children:"Subject Line:"})," Helping Your Workplace Navigate This Flu Season"]}),D.jsxs("p",{style:{margin:"0 0 8px 0"},children:["Hi ","{{FirstName}}",","]}),D.jsx("p",{style:{margin:"0 0 8px 0"},children:"I hope you and your team are doing well. With higher flu activity being reported in your area, many of our customers are taking simple steps to support employee wellness and keep their workplaces running smoothly."}),D.jsx("p",{style:{margin:"0 0 8px 0"},children:"Here are a few ODP Business Solutions items that organizations in your region are finding especially useful:"}),D.jsxs("ul",{style:{margin:"0 0 8px 0",paddingLeft:"20px"},children:[D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"Hand Sanitizer & Dispensers"}),"  For entrances, conference rooms, and common areas to encourage frequent hand hygiene."]}),D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"Disinfecting Wipes & Sprays"}),"  For regularly touched surfaces like desks, door handles, phones, and shared equipment."]}),D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"Facial Tissues & Trash Liners"}),"  To help maintain a cleaner, more comfortable environment in offices and break areas."]}),D.jsxs("li",{style:{marginBottom:"4px"},children:[D.jsx("strong",{children:"PPE & Wellness Essentials"}),"  Masks, thermometers, and other wellness items to support your onsite team."]})]}),D.jsx("p",{style:{margin:"0 0 12px 0"},children:"If youd like, I can pull together a tailored list of recommended products and pricing based on your locations and headcount."}),D.jsxs("p",{style:{margin:0},children:["Best regards,",D.jsx("br",{}),"{{YourName}}",D.jsx("br",{}),"{{YourTitle}}",D.jsx("br",{}),D.jsx("strong",{children:"ODP Business Solutions"}),D.jsx("br",{}),"{{YourEmail}} | {{YourPhone}}"]})]}),D.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`Subject Line: Helping Your Workplace Navigate This Flu Season

Hi {{FirstName}},

I hope you and your team are doing well. With higher flu activity being reported in your area, many of our customers are taking simple steps to support employee wellness and keep their workplaces running smoothly.

Here are a few ODP Business Solutions items that organizations in your region are finding especially useful:
 Hand Sanitizer & Dispensers  For entrances, conference rooms, and common areas to encourage frequent hand hygiene.
 Disinfecting Wipes & Sprays  For regularly touched surfaces like desks, door handles, phones, and shared equipment.
 Facial Tissues & Trash Liners  To help maintain a cleaner, more comfortable environment in offices and break areas.
 PPE & Wellness Essentials  Masks, thermometers, and other wellness items to support your onsite team.

If youd like, I can pull together a tailored list of recommended products and pricing based on your locations and headcount.

Best regards,
{{YourName}}
{{YourTitle}}
ODP Business Solutions
{{YourEmail}} | {{YourPhone}}`),alert("Email template copied to clipboard!")},style:{marginTop:"12px",width:"100%",padding:"8px",backgroundColor:"#fff",border:"1px solid #0d6efd",color:"#0d6efd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"background 0.2s"},onMouseOver:P=>P.target.style.backgroundColor="#f1f7ff",onMouseOut:P=>P.target.style.backgroundColor="#fff",children:" Copy Template"})]})]})})},QA="/smoke-zipcode-selector/assets/data_diagram-FOJH2dKD.svg",nS=[{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Name",label:"Account Name",type:"String",key:!1,"description\r":"Display Name"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Zip__c",label:"Zip Code",type:"String",key:!0,"description\r":"5-digit Zip Code (Geographic Link)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"ParentId",label:"Parent ID",type:"String",key:!0,"description\r":"Parent Account ID (Join Key)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"RECORDTYPE_NAME__C",label:"Record Type",type:"String",key:!1,"description\r":"Filter Value (e.g., 'Site', 'Customer')"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Last_Order_Date__C",label:"Last Order Date",type:"Date",key:!1,"description\r":"Sales Metric (Optional Display)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Total_LY_Sales__C",label:"Total LY Sales",type:"Currency",key:!1,"description\r":"Sales Metric (Optional Display)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID (Join Target)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Status__c",label:"Status",type:"String",key:!1,"description\r":"Account Status (e.g., 'Active')"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Org__c",label:"Org ID",type:"String",key:!0,"description\r":"Organization ID (Join Key to NAICS)"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"LastActivityDate",label:"Last Activity",type:"Date",key:!1,"description\r":"Activity Metric"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"LastOrderDate__c",label:"Last Order Date",type:"Date",key:!1,"description\r":"Sales Metric"},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Total_Sales_LY__c",label:"Total LY Sales",type:"Currency",key:!1,"description\r":"Annual Sales"},{object:"Org",alias:"Org",snowflakeTable:"SFDC_DS.SFDC_ORG__C_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID (Join Target)"},{object:"Org",alias:"Org",snowflakeTable:"SFDC_DS.SFDC_ORG__C_OBJECT",apiName:"NAICS_2017_CODE__C",label:"NAICS 2017 Code",type:"String",key:!1,"description\r":"Industry Code"},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID"},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"Account__c",label:"Account ID",type:"String",key:!0,"description\r":"Foreign Key (Joins to Site/Customer)"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"Id",label:"Record ID",type:"String",key:!0,"description\r":"Unique Record ID"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"AccountId",label:"Account ID",type:"String",key:!0,"description\r":"Foreign Key (Joins to Site/Customer)"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"Status__c",label:"Status",type:"String",key:!1,"description\r":"Contact Status (e.g., 'Active', 'No Longer There')"},{object:"Contact",alias:"Contact",snowflakeTable:"SFDC_DS.SFDC_CONTACT_OBJECT",apiName:"LastActivityDate",label:"Last Activity",type:"Date",key:!1,"description\r":"Last Interaction Date"},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QUARTER_LY_IMU__C",label:"Quarter LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QUARTER_LY__C",label:"Quarter LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"RANKING__C",label:"Ranking",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_12_MONTH_SALES__C",label:"Rolling 12 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_3_MONTH_SALES__C",label:"Rolling 3 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_6_MONTH_SALES__C",label:"Rolling 6 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ROLLING_9_MONTH_SALES__C",label:"Rolling 9 Month Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SALES_AMT_FLG__C",label:"Sales Amount Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SALES_DIFF__C",label:"Sales DIFF",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SALES__C",label:"Sales",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SITE_COUNT__C",label:"SITE Count",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SOURCE_SYSTEM__C",label:"Source System",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"SYSTEMMODSTAMP",label:"Systemmodstamp",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_IMU_LY__C",label:"TECH IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_IMU_TY__C",label:"TECH IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_LAST_ORDER_AMT__C",label:"TECH LAST Order Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_LAST_ORDER_DT_TXT__C",label:"TECH LAST Order Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_LY__C",label:"TECH LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_POT__C",label:"TECH POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_TOTAL_LY__C",label:"TECH Total LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TECH_TY__C",label:"TECH TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_IMU_LY__C",label:"Textiles Amenities IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_IMU_TY__C",label:"Textiles Amenities IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_LAST_ORDER_AMT__C",label:"Textiles Amenities LAST Order Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_LAST_ORDER__C",label:"Textiles Amenities LAST Order",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_LY__C",label:"Textiles Amenities LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_POT__C",label:"Textiles Amenities POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TEXTILES_AMENITIES_TY__C",label:"Textiles Amenities TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"TOTAL_ORDER__C",label:"Total Order",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"UNIQUE_KEY__C",label:"Unique KEY",type:"String",key:!0,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKLY_ORDER_FLG__C",label:"Weekly Order Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKLY_SALES_FLG__C",label:"Weekly Sales Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKS_SINCE_1ST_ORDER__C",label:"Weeks Since First Order",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WEEKS_SINCE_LAST_ORDER__C",label:"Weeks Since LAST Order",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_IMU_LY__C",label:"Writing Drafting IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_IMU_TY__C",label:"Writing Drafting IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_LAST_ORDER_AMT__C",label:"Writing Drafting LAST Order Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_LY__C",label:"Writing Drafting LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_POT__C",label:"Writing Drafting POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_TOTAL_LY__C",label:"Writing Drafting Total LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_DRAFTING_TY__C",label:"Writing Drafting TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"WRITING_LAST_ORDER_DT_TXT__C",label:"Writing LAST Order Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YEAR_GOAL__C",label:"YEAR GOAL",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YEAR_LY_IMU__C",label:"YEAR LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YEAR_LY__C",label:"YEAR LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_LY_IMU__C",label:"YTD Sales LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_LY__C",label:"YTD Sales LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_TY_IMU__C",label:"YTD Sales TY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"YTD_SALES_TY__C",label:"YTD Sales TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ACCOUNT_TYPE__C",label:"Account TYPE",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ACCOUNT__C",label:"Account",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_CURRENT_MONTH__C",label:"ADS Current MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_CURRENT_QTR__C",label:"ADS Current QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_CURRENT_YR__C",label:"ADS Current YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_LAST_MONTH__C",label:"ADS LAST MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_LAST_QTR__C",label:"ADS LAST QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ADS_LAST_YR__C",label:"ADS LAST YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOPS_ID__C",label:"AOPS ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_CURRENT_MONTH__C",label:"AOV Current MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_CURRENT_QTR__C",label:"AOV Current QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_CURRENT_YR__C",label:"AOV Current YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_LAST_MONTH__C",label:"AOV LAST MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_LAST_QTR__C",label:"AOV LAST QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"AOV_LAST_YR__C",label:"AOV LAST YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"BATCHPROCESSED__C",label:"Batchprocessed",type:"Boolean",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CADENCE_CALL_DATE_OVERRIDE_VALUE__C",label:"Cadence CALL DATE Override VALUE",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CATEGORY_COUNT_FLG__C",label:"Category COUNT Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CATEGORY_COUNT__C",label:"Category COUNT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_IMU_LY__C",label:"CBS IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_IMU_TY__C",label:"CBS IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_LAST_ORDER_AMT__C",label:"CBS LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_LAST_ORDER_DT_TXT__C",label:"CBS LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_LY__C",label:"CBS LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_POT__C",label:"CBS POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_TOTAL_LY__C",label:"CBS TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CBS_TY__C",label:"CBS TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CDH_PARTY_ID__C",label:"CDH PARTY ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CDH_PARTY_SITE_ID__C",label:"CDH PARTY SITE ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONNECTIONRECEIVEDID",label:"Connectionreceivedid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONNECTIONSENTID",label:"Connectionsentid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_IMU_LY__C",label:"Contract Furniture IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_IMU_TY__C",label:"Contract Furniture IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_LAST_ORDER_AMT__C",label:"Contract Furniture LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_LY__C",label:"Contract Furniture LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_POT__C",label:"Contract Furniture POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CONTRACT_FURNITURE_TY__C",label:"Contract Furniture TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"COPIERSTEXT__C",label:"Copierstext",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"COPIERS__C",label:"Copiers",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_IMU_LY__C",label:"CPD IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_IMU_TY__C",label:"CPD IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_LAST_ORDER_AMT__C",label:"CPD LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_LAST_ORDER_DT_TXT__C",label:"CPD LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_LY__C",label:"CPD LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_POT__C",label:"CPD POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_TOTAL_LY__C",label:"CPD TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CPD_TY__C",label:"CPD TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CREATEDBYID",label:"Createdbyid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CREATEDDATE",label:"Createddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"CUSTOMER_CREATE_DT_TXT__C",label:"Customer Create Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNBI_FSS_SCORE__C",label:"DNBI FSS SCORE",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNBI_MATCHSCORE__C",label:"DNBI Matchscore",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNB_WCW_HERE__C",label:"DNB WCW HERE",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"DNB_WCW_TOTAL__C",label:"DNB WCW TOTAL",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"EST_SPEND_CAD__C",label:"EST SPEND CAD",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"EST_SPEND__C",label:"EST SPEND",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"EXTERNAL_ACCOUNT_ID__C",label:"External Account ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_IMU_LY__C",label:"Filing Binding IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_IMU_TY__C",label:"Filing Binding IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_LAST_ORDER_AMT__C",label:"Filing Binding LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_LY__C",label:"Filing Binding LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_POT__C",label:"Filing Binding POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_TOTAL_LY__C",label:"Filing Binding TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_BINDING_TY__C",label:"Filing Binding TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FILING_LAST_ORDER_DT_TXT__C",label:"Filing LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FIRST_ORDER_DT_TXT__C",label:"FIRST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_IMU_LY__C",label:"Furniture IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_IMU_TY__C",label:"Furniture IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_LAST_ORDER_AMT__C",label:"Furniture LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_LY__C",label:"Furniture LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_POT__C",label:"Furniture POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_TOTAL_LY__C",label:"Furniture TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURNITURE_TY__C",label:"Furniture TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"FURN_LAST_ORDER_DT_TXT__C",label:"FURN LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"GPARENT_GPID__C",label:"Gparent GPID",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ID",label:"ID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_LAST_ORDER_DT_TXT__C",label:"INK LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_IMU_LY__C",label:"INK TONER IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_IMU_TY__C",label:"INK TONER IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_LAST_ORDER_AMT__C",label:"INK TONER LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_LY__C",label:"INK TONER LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_POT__C",label:"INK TONER POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_TOTAL_LY__C",label:"INK TONER TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"INK_TONER_TY__C",label:"INK TONER TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ISDELETED",label:"Isdeleted",type:"Boolean",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_IMU_LY__C",label:"Labels FORMS IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_IMU_TY__C",label:"Labels FORMS IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_LAST_ORDER_AMT__C",label:"Labels FORMS LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_LY__C",label:"Labels FORMS LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_POT__C",label:"Labels FORMS POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_TOTAL_LY__C",label:"Labels FORMS TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_FORMS_TY__C",label:"Labels FORMS TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LABELS_LAST_ORDER_DT_TXT__C",label:"Labels LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTMODIFIEDBYID",label:"Lastmodifiedbyid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTMODIFIEDDATE",label:"Lastmodifieddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTREFERENCEDDATE",label:"Lastreferenceddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LASTVIEWEDDATE",label:"Lastvieweddate",type:"Timestamp",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_180_DAYS_SALES_AMT__C",label:"LAST 180 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_270_DAYS_SALES_AMT__C",label:"LAST 270 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_365_DAYS_SALES_AMT__C",label:"LAST 365 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_90_DAYS_SALES_AMT__C",label:"LAST 90 DAYS SALES Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LAST_ORDER_DT_TXT__C",label:"LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"LIKELY_TO_PURCHASE_FLG__C",label:"Likely TO Purchase Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MAX_ORDER_LIMIT__C",label:"MAX ORDER LIMIT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_IMU_LY__C",label:"Miscellaneous IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_IMU_TY__C",label:"Miscellaneous IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_LAST_ORDER_AMT__C",label:"Miscellaneous LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_LY__C",label:"Miscellaneous LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_POT__C",label:"Miscellaneous POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_TOTAL_LY__C",label:"Miscellaneous TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISCELLANEOUS_TY__C",label:"Miscellaneous TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MISC_LAST_ORDER_DT_TXT__C",label:"MISC LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTHLY_LY_IMU__C",label:"Monthly LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTHLY_LY__C",label:"Monthly LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTH_GOAL__C",label:"MONTH GOAL",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MONTH_SALES_FLG__C",label:"MONTH SALES Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_IMU_LY__C",label:"MPS IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_IMU_TY__C",label:"MPS IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_LAST_ORDER_AMT__C",label:"MPS LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_LAST_ORDER_DT_TXT__C",label:"MPS LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_LY__C",label:"MPS LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_POT__C",label:"MPS POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_TOTAL_LY__C",label:"MPS TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MPS_TY__C",label:"MPS TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_LY_IMU__C",label:"MTD SALES LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_LY__C",label:"MTD SALES LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_TY_IMU__C",label:"MTD SALES TY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"MTD_SALES_TY__C",label:"MTD SALES TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"NAME",label:"NAME",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"NUM_OF_CATEGORIES__C",label:"NUM OF Categories",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"NUM_OF_ORDERS_SINCE_START__C",label:"NUM OF Orders SINCE START",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_IMU_LY__C",label:"Office Essentials IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_IMU_TY__C",label:"Office Essentials IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_LAST_ORDER_AMT__C",label:"Office Essentials LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_LY__C",label:"Office Essentials LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_POT__C",label:"Office Essentials POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_TOTAL_LY__C",label:"Office Essentials TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_ESSENTIALS_TY__C",label:"Office Essentials TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OFFICE_LAST_ORDER_DT_TXT__C",label:"Office LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OMAXPROSPECTSER_BATCH_PROCESSED__C",label:"Omaxprospectser BATCH Processed",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OPPORTUNITY_AMT__C",label:"Opportunity Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_CURRENT_MONTH__C",label:"Orders Current MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_CURRENT_QTR__C",label:"Orders Current QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_CURRENT_YR__C",label:"Orders Current YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_LAST_MONTH__C",label:"Orders LAST MONTH",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_LAST_QTR__C",label:"Orders LAST QTR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_LAST_YR__C",label:"Orders LAST YR",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_SINCE_START_COUNT__C",label:"Orders SINCE START COUNT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDERS_SINCE_START_FLG__C",label:"Orders SINCE START Flag",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORDER_DT_TXT__C",label:"ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORGID__C",label:"ORGID",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_ID_ROLLUP__C",label:"ORG ID Rollup",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_NUMBER_OF_LOCATIONS__C",label:"ORG Number OF Locations",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_WCW_COUNT_DB__C",label:"ORG WCW COUNT DB",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG_WCW_COUNT_REP__C",label:"ORG WCW COUNT REP",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"ORG__C",label:"ORG",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"OWNERID",label:"Ownerid",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_IMU_LY__C",label:"PAPER IMU LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_IMU_TY__C",label:"PAPER IMU TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_LAST_ORDER_AMT__C",label:"PAPER LAST ORDER Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_LAST_ORDER_DT_TXT__C",label:"PAPER LAST ORDER Date TXT",type:"Date",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_LY__C",label:"PAPER LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_POT__C",label:"PAPER POT",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_TOTAL_LY__C",label:"PAPER TOTAL LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PAPER_TY__C",label:"PAPER TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PARENT_ORG__C",label:"Parent ORG",type:"String",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PARTNER_LY_HARDWARE_SALES__C",label:"Partner LY Hardware SALES",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PARTNER_LY_SERVICES_SALES__C",label:"Partner LY Services SALES",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"PID_NUMERIC__C",label:"PID Numeric",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"POTENTIAL_AMOUNT__C",label:"Potential Amount",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"POTENTIAL_PRINTERS__C",label:"Potential Printers",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_LY_IMU__C",label:"QTD SALES LY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_LY__C",label:"QTD SALES LY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_TY_IMU__C",label:"QTD SALES TY IMU",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QTD_SALES_TY__C",label:"QTD SALES TY",type:"Number",key:!1,"description\r":""},{object:"Sales Data",alias:"Sales",snowflakeTable:"SFDC_DS.SFDC_SALES_DATA_OBJECT",apiName:"QUARTER_GOAL__C",label:"Quarter GOAL",type:"Number",key:!1,"description\r":""},{object:"Account",alias:"Account",snowflakeTable:"SFDC_DS.SFDC_ACCOUNT_OBJECT",apiName:"Related_Account__c",label:"Related Account",type:"Lookup",key:!1,"description\r":"Lookup to Account (Customer) used by Site records to reference parent Customer"}],KA=()=>{const t=()=>{const n=yc.unparse(nS),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(i),r=document.createElement("a");r.href=l,r.setAttribute("download","data_dictionary_schema.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)};return D.jsxs("div",{style:{padding:"20px",maxWidth:"1000px",margin:"0 auto",backgroundColor:"#fff",height:"100%",overflowY:"auto"},children:[D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsx("h2",{children:"Data Dictionary & SQL Reference"}),D.jsx("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"#228be6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Export Dictionary (CSV)"})]}),D.jsx("p",{children:"Summary of objects, fields, and logic used in the SQL Export tool."}),D.jsx("div",{style:{textAlign:"center",margin:"30px 0"},children:D.jsx("img",{src:QA,alt:"Entity Relationship Diagram",style:{maxWidth:"100%",height:"auto",border:"1px solid #eee",borderRadius:"8px",padding:"10px",backgroundColor:"#fafafa"}})}),D.jsx("hr",{}),D.jsx("h3",{children:"1. Object Schema"}),D.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px",fontSize:"13px"},children:[D.jsx("thead",{children:D.jsxs("tr",{style:{background:"#f1f3f5",textAlign:"left"},children:[D.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Object / Alias"}),D.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Snowflake Table"}),D.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Field Name (API)"}),D.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Label"}),D.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Type"}),D.jsx("th",{style:{padding:"8px",border:"1px solid #dee2e6"},children:"Description"})]})}),D.jsx("tbody",{children:nS.map((n,i)=>D.jsxs("tr",{children:[D.jsxs("td",{style:{padding:"8px",border:"1px solid #dee2e6",fontWeight:n.key?"bold":"normal"},children:[n.object," ",D.jsxs("span",{style:{fontSize:"10px",color:"#666"},children:["(",n.alias,")"]})]}),D.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6",fontSize:"11px",fontFamily:"monospace"},children:n.snowflakeTable}),D.jsxs("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:[n.apiName," ",n.key&&""]}),D.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:n.label}),D.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:n.type}),D.jsx("td",{style:{padding:"8px",border:"1px solid #dee2e6"},children:n.description})]},i))})]}),D.jsx("h3",{children:"2. SQL Logic Explanation"}),D.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #eee"},children:[D.jsx("p",{children:"The query is constructed in three parts based on your selections:"}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:'Base Selection (The "Site"):'}),D.jsxs("p",{style:{fontSize:"13px",color:"#555",marginBottom:"8px"},children:["We start by selecting records from the ",D.jsx("span",{style:{fontWeight:"bold"},children:"Site"})," table where the ",D.jsx("code",{children:"Zip__c"})," matches your map selection and the ",D.jsx("code",{children:"RecordType"})," is 'Site'."]})]}),D.jsxs("li",{children:[D.jsx("strong",{children:'Enrichment & Filtering (The "Parent" & "NAICS"):'}),D.jsxs("p",{style:{fontSize:"13px",color:"#555",marginBottom:"8px"},children:["If you apply any filters (Active Status, Sales, Dates) or NAICS codes, we ",D.jsx("span",{style:{color:"#228be6",fontWeight:"bold"},children:"LEFT JOIN"})," the ",D.jsx("span",{style:{fontWeight:"bold"},children:"Parent Account"})," table. This allows us to check the parent's status or sales figures without losing the Site record."]}),D.jsxs("p",{style:{fontSize:"13px",color:"#555",marginBottom:"8px"},children:["If NAICS filters are active, we further ",D.jsx("span",{style:{color:"#8e44ad",fontWeight:"bold"},children:"LEFT JOIN"})," the ",D.jsx("span",{style:{fontWeight:"bold"},children:"Organization"})," table to match the ",D.jsx("code",{children:"NAICS___c"})," code."]})]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Final Output:"}),D.jsx("p",{style:{fontSize:"13px",color:"#555"},children:"The result is a list of Site IDs (and optional details) that meet ALL criteria: located in the drawn area AND belonging to a Parent Account that matches your business rules."})]})]})]}),D.jsxs("div",{style:{marginTop:"30px"},children:[D.jsx("h3",{children:"3. Notes & Discussion"}),D.jsxs("div",{style:{padding:"15px",backgroundColor:"#FFF3CD",borderRadius:"4px",border:"1px solid #FFEEBA",color:"#856404"},children:[D.jsx("strong",{children:"Salesforce Team Note:"}),D.jsxs("p",{style:{margin:"10px 0 0 0"},children:["Suggest adding a field to the Contact record that counts the ",D.jsx("strong",{children:"Number of Opportunities"})," a Contact has been added to in their lifetime (e.g., ",D.jsx("code",{children:"Opportunity_Count__c"}),'). This would be a valuable metric for scoring "High Value" contacts and estimating our likelihood of engagement.']})]})]})]})},$A=()=>D.jsxs("div",{style:{padding:"40px",maxWidth:"900px",margin:"0 auto",backgroundColor:"#fff",height:"100%",overflowY:"auto"},children:[D.jsxs("div",{style:{padding:"20px",backgroundColor:"#fff3cd",border:"2px solid #ffecb5",borderRadius:"8px",marginBottom:"30px",color:"#856404"},children:[D.jsxs("h2",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"10px"},children:[D.jsx("span",{style:{fontSize:"24px"},children:""}),"PROOF OF CONCEPT DISCLAIMER"]}),D.jsxs("p",{style:{fontSize:"15px",lineHeight:"1.6",fontWeight:"500"},children:["This application is a ",D.jsx("strong",{children:"Rapid Prototype"})," designed to demonstrate business value. It is ",D.jsx("strong",{children:"NOT a production-ready system"}),"."]}),D.jsxs("ul",{style:{paddingLeft:"20px",marginTop:"10px"},children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Customization Required:"})," Business logic and field definitions need to be aligned with Organization specific requirements."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Data Verification:"})," All exported lists should be verified against the CRM source of truth before mass outreach."]})]})]}),D.jsx("h1",{children:"System Overview"}),D.jsx("p",{className:"lead",children:"Business Capabilities & Data Access"}),D.jsx("hr",{}),D.jsxs("div",{style:{padding:"20px",backgroundColor:"#e7f5ff",borderLeft:"5px solid #339af0",marginBottom:"30px"},children:[D.jsx("h3",{style:{marginTop:0,color:"#1864ab"},children:" Important: Data Scope"}),D.jsx("p",{children:D.jsx("strong",{children:"This tool does NOT contain or store Account Data."})}),D.jsxs("p",{children:["It is a ",D.jsx("strong",{children:"Geospatial Filter"})," only. Its purpose is to output:"]}),D.jsxs("ul",{style:{marginTop:"10px"},children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Zip Code Lists:"})," CSV files containing only Zip Codes affected by weather/hazards."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"SQL Queries:"})," Pre-written code that you copy and run in your secure Data Warehouse (Snowflake) to retrieve actual customer PII."]})]}),D.jsx("p",{style:{fontSize:"13px",fontStyle:"italic",marginBottom:0},children:"* No customer names, emails, or revenue figures are present within this application."})]}),D.jsxs("section",{style:{marginBottom:"30px"},children:[D.jsx("h2",{children:"1. Business Capabilities"}),D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("h3",{style:{color:"#fd7e14"},children:" Wildfire & Air Quality Response"}),D.jsxs("p",{children:[D.jsx("strong",{children:"Goal:"})," Identify customers impacted by smoke plumes or active fires to offer air quality support."]})]}),D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("h3",{style:{color:"#d63384"},children:" Extreme Weather Outreach"}),D.jsxs("p",{children:[D.jsx("strong",{children:"Goal:"})," Proactive service tailored to weather events (Winter Storms, Floods, Heat Waves)."]})]})]}),D.jsxs("section",{style:{marginBottom:"40px"},children:[D.jsx("h2",{children:"2. Step-by-Step User Guide"}),D.jsxs("div",{style:{marginBottom:"30px"},children:[D.jsx("h3",{children:"How to Generate a Customer List"}),D.jsxs("div",{style:{marginLeft:"20px",borderLeft:"2px solid #dee2e6",paddingLeft:"20px"},children:[D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("h4",{children:"Step 1: Select Hazard Mode"}),D.jsx("p",{children:"Choose the relevant environmental hazard from the tabs (Smoke, Winter, Heat, Flood, Respiratory)."}),D.jsx("div",{style:{height:"150px",backgroundColor:"#f1f3f5",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #adb5bd",borderRadius:"4px",color:"#868e96"},children:"[SCREENSHOT: Tab Navigation showing modes]"})]}),D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("h4",{children:"Step 2: Define Geographic Area"}),D.jsx("p",{children:"For Smoke/Fire, use the drawing tools to circle the impact zone. For Weather, the system automatically selects Zip Codes under active NWS Warnings."}),D.jsx("div",{style:{height:"200px",backgroundColor:"#f1f3f5",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #adb5bd",borderRadius:"4px",color:"#868e96"},children:"[SCREENSHOT: Map with drawn Polygon or NWS Warning Zones]"})]}),D.jsxs("div",{style:{marginBottom:"20px"},children:[D.jsx("h4",{children:"Step 3: Export or Generate SQL"}),D.jsxs("p",{children:["Click ",D.jsx("strong",{children:'"Export Zip List"'})," for a CSV file, or use the ",D.jsx("strong",{children:'"SQL Export"'})," panel to generate a query for Snowflake."]}),D.jsx("div",{style:{height:"150px",backgroundColor:"#f1f3f5",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #adb5bd",borderRadius:"4px",color:"#868e96"},children:"[SCREENSHOT: Export Buttons & SQL Panel]"})]})]})]})]}),D.jsxs("section",{style:{marginBottom:"30px"},children:[D.jsx("h2",{children:"3. Ready-Made Snowflake SQL"}),D.jsx("p",{children:"Copy these queries to extract data directly from your Snowflake Data Warehouse."}),D.jsxs("div",{style:{marginBottom:"25px"},children:[D.jsx("strong",{children:"A. Standard Site Extraction (By Zip Code)"}),D.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Use this to get a list of Sites within a list of Zip Codes."}),D.jsx("div",{style:{position:"relative",marginTop:"5px"},children:D.jsx("textarea",{readOnly:!0,style:{width:"100%",height:"120px",padding:"10px",fontFamily:"monospace",fontSize:"12px",backgroundColor:"#212529",color:"#f8f9fa",borderRadius:"4px",border:"none"},value:`SELECT 
  s.Id, 
  s.Name, 
  s.Zip__c, 
  s.Related_Account__c 
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT s
WHERE 
  s.Zip__c IN ('YOUR_ZIP_LIST_HERE') 
  AND s.RecordType = 'Site';`})})]}),D.jsxs("div",{style:{marginBottom:"25px"},children:[D.jsx("strong",{children:"B. High-Value Customer Segmentation"}),D.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Find Active customers with high sales volume in specific areas."}),D.jsx("div",{style:{position:"relative",marginTop:"5px"},children:D.jsx("textarea",{readOnly:!0,style:{width:"100%",height:"200px",padding:"10px",fontFamily:"monospace",fontSize:"12px",backgroundColor:"#212529",color:"#f8f9fa",borderRadius:"4px",border:"none"},value:`SELECT 
  s.Id as Site_Id, 
  s.Name as Site_Name, 
  c.Id as Customer_Id,
  c.Total_Sales_LY__c
FROM SFDC_DS.SFDC_ACCOUNT_OBJECT s
JOIN SFDC_DS.SFDC_ACCOUNT_OBJECT c ON s.Related_Account__c = c.Id
WHERE 
  s.Zip__c IN ('YOUR_ZIP_LIST_HERE') 
  AND c.Status__c = 'Active'
  AND c.Total_Sales_LY__c > 50000;`})})]})]})]}),ek=()=>{const[t,n]=je.useState("architecture");return D.jsx(Kl,{leftPanel:D.jsxs("div",{style:{padding:"20px",overflowY:"auto",height:"100%"},children:[D.jsx("h3",{children:"Technical Hub"}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px"},children:[D.jsx("button",{onClick:()=>n("architecture"),style:{padding:"10px",textAlign:"left",backgroundColor:t==="architecture"?"#e7f5ff":"transparent",border:"1px solid",borderColor:t==="architecture"?"#339af0":"#dee2e6",borderRadius:"4px",cursor:"pointer",fontWeight:t==="architecture"?"bold":"normal",color:t==="architecture"?"#1971c2":"#495057"},children:" Architecture Guide"}),D.jsx("button",{onClick:()=>n("dictionary"),style:{padding:"10px",textAlign:"left",backgroundColor:t==="dictionary"?"#e7f5ff":"transparent",border:"1px solid",borderColor:t==="dictionary"?"#339af0":"#dee2e6",borderRadius:"4px",cursor:"pointer",fontWeight:t==="dictionary"?"bold":"normal",color:t==="dictionary"?"#1971c2":"#495057"},children:" Data Dictionary & SQL"}),D.jsx("button",{onClick:()=>n("docs"),style:{padding:"10px",textAlign:"left",backgroundColor:t==="docs"?"#e7f5ff":"transparent",border:"1px solid",borderColor:t==="docs"?"#339af0":"#dee2e6",borderRadius:"4px",cursor:"pointer",fontWeight:t==="docs"?"bold":"normal",color:t==="docs"?"#1971c2":"#495057"},children:" System Documentation"})]}),t==="architecture"&&D.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#fff3cd",border:"1px solid #ffeeba",borderRadius:"4px"},children:[D.jsx("strong",{children:" Critical Risk"}),D.jsx("p",{style:{fontSize:"11px",marginTop:"5px"},children:"CORS constraints in Salesforce will likely block direct client-side fetch calls initiated from LWC."})]})]}),mapContent:t==="architecture"?D.jsxs("div",{style:{padding:"40px",maxWidth:"900px",margin:"0 auto",overflowY:"auto",height:"100%",backgroundColor:"#fff"},children:[D.jsx("h1",{children:"Technical Solution: End-to-End Business Case"}),D.jsx("p",{children:D.jsx("strong",{children:"[RISK-ANNOTATED VERSION FOR SCRATCH ORG DEVELOPMENT]"})}),D.jsx("hr",{style:{margin:"20px 0"}}),D.jsx("h2",{children:"1. Executive Summary"}),D.jsxs("p",{children:['The objective is to enable Sales Operations to identify and act upon high-value "Customer" accounts based on environmental or geographic triggers affecting 50 million "Site" locations. The solution utilizes a high-performance ',D.jsx("strong",{children:"LWC Integration Service"})," to aggregate external real-time data via the JavaScript ",D.jsx("code",{children:"fetch"})," API, then triggers an asynchronous Snowflake/AWX pipeline to map those triggers to actionable CRM data."]}),D.jsxs("div",{style:{padding:"15px",background:"#f8f9fa",borderLeft:"4px solid #0d6efd",margin:"15px 0"},children:[D.jsx("strong",{children:"Technical Limitation Callout:"}),D.jsx("br",{}),"The external API orchestration approach has been validated in a browser environment hosted via GitHub Pages and functions successfully in that context. However, it has ",D.jsx("strong",{children:"not yet been deployed or tested within a Salesforce scratch org"}),". Because Salesforce enforces additional security layers (CSP Trusted Sites, Lightning Web Security, and browser-origin CORS constraints), successful execution within Salesforce cannot be assumed until validated in a scratch org environment. APIs that function in GitHub-hosted JavaScript may still fail within Salesforce due to origin restrictions or preflight behavior differences."]}),D.jsxs("div",{style:{padding:"15px",background:"#fff3cd",borderLeft:"4px solid #ffc107",margin:"15px 0"},children:[D.jsx("strong",{children:" RISK ALERT - ARCHITECTURAL VALIDITY:"}),D.jsx("br",{}),"This entire approach assumes that external public APIs will accept requests from Salesforce Lightning origins (",D.jsx("code",{children:"*.lightning.force.com"}),", ",D.jsx("code",{children:"*.my.salesforce.com"}),"). ",D.jsx("strong",{children:"You cannot control whether external APIs allow Salesforce origins in their CORS headers."})," If the target APIs (NOAA, EPA, etc.) do not explicitly whitelist Salesforce domains in their ",D.jsx("code",{children:"Access-Control-Allow-Origin"})," response headers, all client-side ",D.jsx("code",{children:"fetch"})," calls will fail with CORS errors, and the entire LWC integration layer becomes non-functional. Test this immediately in scratch org before proceeding with development."]}),D.jsx("hr",{style:{margin:"20px 0"}}),D.jsx("h2",{children:"2. Architecture: The External Trigger & Async Pipeline"}),D.jsx("h3",{children:"Phase A: The LWC Integration Service (Client-Side Orchestration)"}),D.jsxs("p",{children:["The developer will build a sophisticated ",D.jsx("strong",{children:"LWC Service Layer"})," that handles external API orchestration using the JavaScript ",D.jsx("code",{children:"fetch"})," API."]}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:"External Fetch:"})," The LWC calls external REST APIs (e.g., NOAA, EPA) directly from the client browser. This offloads the networking overhead and prevents hitting Apex callout time limits.",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - CORS DEPENDENCY:"})," Client-side ",D.jsx("code",{children:"fetch"})," from LWC is subject to browser CORS policies. The external API server must return ",D.jsx("code",{children:"Access-Control-Allow-Origin"})," headers that include your Salesforce domain. ",D.jsx("strong",{children:"This is controlled by the API provider, not you."})," Many government/public APIs may not support Salesforce origins. Test each target API immediately."]})]}),D.jsx("br",{}),D.jsxs("li",{children:[D.jsx("strong",{children:"Security (CSP):"})," The developer must whitelist the API domains in ",D.jsx("strong",{children:"Setup > Trusted URLs"})," with the ",D.jsx("code",{children:"connect-src"})," directive enabled to allow browser-level communication.",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - CSP CONFIGURATION:"})," The correct Salesforce feature is ",D.jsx("strong",{children:"Setup > CSP Trusted Sites"}),' (not "Trusted URLs"). You must add each external API domain here. However, CSP configuration alone is insufficientthe external API must also cooperate with CORS headers. Both sides of the handshake must succeed.']}),D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - LIGHTNING WEB SECURITY:"})," Salesforce enforces Lightning Web Security (LWS), which creates a secure sandbox for LWC execution. Some JavaScript patterns that work in standard browsers may behave differently or be restricted under LWS. Test all ",D.jsx("code",{children:"fetch"})," operations, JSON parsing, and async operations in the actual Lightning runtime."]})]}),D.jsx("br",{}),D.jsxs("li",{children:[D.jsx("strong",{children:"CORS Validation Requirement:"})," Because Salesforce Lightning runs under domains such as ",D.jsx("code",{children:"*.lightning.force.com"})," or ",D.jsx("code",{children:"*.my.site.com"}),", the external APIs must explicitly permit those origins within their CORS configuration. Successful execution in GitHub Pages does not guarantee compatibility with Salesforce-hosted Lightning domains.",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - FUNDAMENTAL ASSUMPTION:"})," Reiterating: ",D.jsx("strong",{children:"You cannot make external APIs allow Salesforce origins."})," If NOAA/EPA/etc. do not already support Salesforce domains in their CORS policies (and most public APIs do not), this architecture requires fallback to an Apex proxy pattern, which reintroduces governor limits you're trying to avoid."]})]}),D.jsx("br",{}),D.jsxs("li",{children:[D.jsx("strong",{children:"The Hand-off:"})," The LWC parses the JSON response into a list of affected Zip Codes and creates a ",D.jsx("strong",{children:"Search_Request__c"})," record.",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - DML OPERATIONS:"})," Creating records from LWC requires calling an Apex method (LWC cannot directly perform DML). Ensure you've built an Apex controller with proper error handling. Each DML operation consumes governor limits (150 DML statements per transaction)."]}),D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - NAMED CREDENTIALS MISUNDERSTANDING:"})," Named Credentials ",D.jsx("strong",{children:"cannot be accessed directly from client-side LWC JavaScript"}),". They only work within Apex code. If your external APIs require authentication (API keys, OAuth tokens), you ",D.jsx("strong",{children:"must"}),` use an Apex proxy to retrieve credentials from Named Credentials and make the authenticated request. This contradicts the "client-side fetch" approachif authentication is needed, you're back to server-side Apex callouts with all their governor limits.`]}),D.jsxs("div",{style:{padding:"10px",background:"#f8d7da",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - API KEY EXPOSURE:"})," If you attempt to store API keys in Custom Metadata and retrieve them via JavaScript, ",D.jsx("strong",{children:"those keys will be visible in browser DevTools and network traffic"}),". This is a critical security vulnerability. Any API requiring authentication must use the Apex proxy pattern."]})]})]}),D.jsx("h3",{children:"Phase B: External Orchestration (AWX & Snowflake)"}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Trigger:"})," A Platform Event or Trigger signals ",D.jsx("strong",{children:"AWX"})," that a new ",D.jsx("code",{children:"Search_Request__c"})," (containing the Zip list) is ready.",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - INTEGRATION MECHANISM UNDEFINED:"}),' Platform Events do not directly "signal" external systems. You need an explicit mechanism (Apex Trigger calling Webhook, or AWX Polling).']})]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Processing:"})," AWX queries ",D.jsx("strong",{children:"Snowflake"}),", which maintains a high-performance replica of the 50M Sites.",D.jsxs("div",{style:{padding:"10px",background:"#e2e3e5",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" OUT OF SCOPE FOR SCRATCH ORG TESTING:"})," Use mocked Apex responses for initial validation."]})]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Injection:"}),' AWX pushes the "Result Set" back into the Salesforce ',D.jsx("strong",{children:"Search_Result__c"})," junction object.",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - BULK API REQUIREMENTS:"})," Use Bulk API 2.0 for large result sets to avoid API limit exhaustion."]})]})]}),D.jsx("h3",{children:"Phase C: Action & Export (Salesforce)"}),D.jsxs("ol",{children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Display:"})," The LWC polls the request status and renders the ",D.jsx("strong",{children:"Search_Result__c"})," list.",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - POLLING PATTERN:"})," Ensure proper cleanup and exponential backoff."]})]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Sales Action:"})," User selects contacts and chooses an action (Sales Cadence or Campaign).",D.jsxs("div",{style:{padding:"10px",background:"#fff3cd",marginTop:"10px",fontSize:"0.9em"},children:[D.jsx("strong",{children:" RISK - GOVERNOR LIMIT CASCADE:"})," Bulk creating CampaignMembers usually hits DML limits if not batched correctly via Async Apex."]})]})]}),D.jsx("hr",{style:{margin:"20px 0"}}),D.jsx("h2",{children:"3. Comparison of Data Retrieval Methods"}),D.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},border:"1",children:[D.jsx("thead",{children:D.jsxs("tr",{style:{background:"#f8f9fa"},children:[D.jsx("th",{style:{padding:"8px"},children:"Feature"}),D.jsx("th",{style:{padding:"8px"},children:"Client-Side (`fetch`)"}),D.jsx("th",{style:{padding:"8px"},children:"Server-Side (Apex Callout)"})]})}),D.jsxs("tbody",{children:[D.jsxs("tr",{children:[D.jsx("td",{style:{padding:"8px"},children:D.jsx("strong",{children:"Performance"})}),D.jsx("td",{style:{padding:"8px"},children:"High (Direct from browser)"}),D.jsx("td",{style:{padding:"8px"},children:"Moderate (SFDC as middleman)"})]}),D.jsxs("tr",{children:[D.jsx("td",{style:{padding:"8px"},children:D.jsx("strong",{children:"Governor Limits"})}),D.jsx("td",{style:{padding:"8px"},children:"None on Apex (Browser resources)"}),D.jsx("td",{style:{padding:"8px"},children:"Strict (Timeout & Heap limits)"})]}),D.jsxs("tr",{children:[D.jsx("td",{style:{padding:"8px"},children:D.jsx("strong",{children:"CORS/Security"})}),D.jsxs("td",{style:{padding:"8px",background:"#f8d7da"},children:[D.jsx("strong",{children:"Major Risk:"})," Requires External API Whitelisting"]}),D.jsx("td",{style:{padding:"8px"},children:"Managed via Named Credentials (More Compatible)"})]})]})]}),D.jsxs("div",{style:{padding:"15px",background:"#fff3cd",borderLeft:"4px solid #ffc107",margin:"15px 0"},children:[D.jsx("strong",{children:" RISK - SECURITY MISCONCEPTION:"}),D.jsx("br",{}),"Client-side approaches ",D.jsx("strong",{children:"expose all API URLs and request patterns"})," in browser DevTools. Server-side approaches keep integration details opaque to end users."]}),D.jsx("hr",{style:{margin:"20px 0"}}),D.jsx("h2",{children:"CRITICAL RISKS SUMMARY"}),D.jsxs("div",{style:{padding:"15px",background:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",marginBottom:"10px"},children:[D.jsx("h4",{style:{margin:"0 0 10px 0",color:"#721c24"},children:" BLOCKER RISKS (Will prevent functionality)"}),D.jsxs("ul",{style:{margin:0,paddingLeft:"20px"},children:[D.jsxs("li",{children:[D.jsx("strong",{children:"CORS Non-Cooperation:"})," External APIs may reject Salesforce origins entirely."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Named Credentials Misuse:"})," Cannot access from client-side LWC; requires Apex proxy."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Missing Integration:"})," Platform Events don't auto-trigger AWX; need explicit callout mechanism."]})]})]}),D.jsxs("div",{style:{padding:"15px",background:"#fff3cd",border:"1px solid #ffeeba",borderRadius:"4px"},children:[D.jsx("h4",{style:{margin:"0 0 10px 0",color:"#856404"},children:" HIGH RISKS (Will require significant rework)"}),D.jsxs("ul",{style:{margin:0,paddingLeft:"20px"},children:[D.jsx("li",{children:"Lightning Web Security Restrictions."}),D.jsx("li",{children:"Governor Limits on Apex Callouts (if fallback needed)."}),D.jsx("li",{children:"API Authentication Requirements negate client-side approach."}),D.jsx("li",{children:"Campaign Member Bulk Operations require complex Async Apex."})]})]})]}):t==="dictionary"?D.jsx(KA,{}):D.jsx($A,{}),rightPanel:D.jsxs("div",{style:{padding:"20px"},children:[D.jsx("h3",{children:"Notes"}),D.jsx("p",{children:"Use this document to guide scratch org validation planning."})]})})};console.log("!!! APP.JSX MODULE LOADED !!!");const tk=()=>{console.log("%c ODP Sales Utility v1.4.4 - 2026-02-20 (Heat Mode Modal)","background: #222; color: #bada55; font-size: 14px; padding: 4px; border-radius: 4px;");const[n,i]=je.useState("smoke"),[l,r]=je.useState([]),[c,f]=je.useState(!0);je.useEffect(()=>{yc.parse("/smoke-zipcode-selector/zipcodes.csv",{download:!0,header:!0,skipEmptyLines:!0,complete:y=>{const v=[];y.data.forEach(E=>{const x=parseFloat(E.LATITUDE),A=parseFloat(E.LONGITUDE);!isNaN(x)&&!isNaN(A)&&v.push({zip:E.STD_ZIP5,lat:x,lng:A,city:E.USPS_ZIP_PREF_CITY_1221,state:E.USPS_ZIP_PREF_STATE_1221,county:E.USPS_ZIP_COUNTY_NAME})}),r(v),f(!1),console.log(`[App] Loaded ${v.length} zipcodes globally.`)},error:y=>{console.error("CSV Parse Error",y),f(!1)}})},[]);const g=()=>{switch(n){case"smoke":return D.jsx(tS,{zipCodes:l,zipLoading:c});case"winter":return D.jsx(UA,{zipCodes:l,zipLoading:c});case"heat":return D.jsx(GA,{zipCodes:l,zipLoading:c});case"flood":return D.jsx(qA,{zipCodes:l,zipLoading:c});case"flu":return D.jsx(WA,{zipCodes:l,zipLoading:c});case"technical":return D.jsx(ek,{});default:return D.jsx(tS,{zipCodes:l,zipLoading:c})}};return D.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",overflow:"hidden"},children:[D.jsx(CE,{activeTab:n,onTabChange:i}),D.jsx("div",{style:{flex:1,position:"relative",display:"flex",flexDirection:"column",minHeight:0},children:g()})]})};console.log("!!! MAIN.JSX EXECUTING !!!");TE.createRoot(document.getElementById("root")).render(D.jsx(je.StrictMode,{children:D.jsx(tk,{})}));
